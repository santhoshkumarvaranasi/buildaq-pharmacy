var OK=Object.create;var kf=Object.defineProperty,FK=Object.defineProperties,LK=Object.getOwnPropertyDescriptor,BK=Object.getOwnPropertyDescriptors,VK=Object.getOwnPropertyNames,f0=Object.getOwnPropertySymbols,UK=Object.getPrototypeOf,uE=Object.prototype.hasOwnProperty,Z3=Object.prototype.propertyIsEnumerable;var Y3=(i,t,e)=>t in i?kf(i,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):i[t]=e,ye=(i,t)=>{for(var e in t||={})uE.call(t,e)&&Y3(i,e,t[e]);if(f0)for(var e of f0(t))Z3.call(t,e)&&Y3(i,e,t[e]);return i},mi=(i,t)=>FK(i,BK(t));var zK=(i,t)=>{var e={};for(var n in i)uE.call(i,n)&&t.indexOf(n)<0&&(e[n]=i[n]);if(i!=null&&f0)for(var n of f0(i))t.indexOf(n)<0&&Z3.call(i,n)&&(e[n]=i[n]);return e};var I=(i,t)=>()=>(i&&(t=i(i=0)),t);var rs=(i,t)=>()=>(t||i((t={exports:{}}).exports,t),t.exports),Mi=(i,t)=>{for(var e in t)kf(i,e,{get:t[e],enumerable:!0})},K3=(i,t,e,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let r of VK(t))!uE.call(i,r)&&r!==e&&kf(i,r,{get:()=>t[r],enumerable:!(n=LK(t,r))||n.enumerable});return i};var hE=(i,t,e)=>(e=i!=null?OK(UK(i)):{},K3(t||!i||!i.__esModule?kf(e,"default",{value:i,enumerable:!0}):e,i)),Q3=i=>K3(kf({},"__esModule",{value:!0}),i);var te=(i,t,e)=>new Promise((n,r)=>{var o=c=>{try{a(e.next(c))}catch(l){r(l)}},s=c=>{try{a(e.throw(c))}catch(l){r(l)}},a=c=>c.done?n(c.value):Promise.resolve(c.value).then(o,s);a((e=e.apply(i,t)).next())});function jo(i){throw new Error(`'${i}' not yet implemented or not found in the registry. This kernel may not be supported by the tfjs backend you have chosen`)}var Nx,sp,ik=I(()=>{"use strict";Nx=class{constructor(t,e){this.backend=t,this.dataMover=e,this.data=new WeakMap,this.dataIdsCount=0}get(t){return this.data.has(t)||this.dataMover.moveData(this.backend,t),this.data.get(t)}set(t,e){this.dataIdsCount++,this.data.set(t,e)}has(t){return this.data.has(t)}delete(t){return this.dataIdsCount--,this.data.delete(t)}numDataIds(){return this.dataIdsCount}},sp=class{refCount(t){return jo("refCount")}incRef(t){return jo("incRef")}timerAvailable(){return!0}time(t){return jo("time")}read(t){return jo("read")}readSync(t){return jo("readSync")}readToGPU(t,e){return jo("readToGPU")}numDataIds(){return jo("numDataIds")}disposeData(t,e){return jo("disposeData")}write(t,e,n){return jo("write")}move(t,e,n,r,o){return jo("move")}createTensorFromGPUData(t,e,n){return jo("createTensorFromGPUData")}memory(){return jo("memory")}floatPrecision(){return jo("floatPrecision")}epsilon(){return this.floatPrecision()===32?1e-7:1e-4}dispose(){return jo("dispose")}}});function cj(i){let t=i.length,e=0;for(;t>0;)e=Math.random()*t|0,t--,Ox(i,t,e)}function tde(i,t){if(i.length!==t.length)throw new Error(`Array sizes must match to be shuffled together First array length was ${i.length}Second array length was ${t.length}`);let e=i.length,n=0;for(;e>0;)n=Math.random()*e|0,e--,Ox(i,e,n),Ox(t,e,n)}function ap(i,t,e){return Math.max(i,Math.min(t,e))}function ide(i){return i%2===0?i:i+1}function Ox(i,t,e){let n=i[t];i[t]=i[e],i[e]=n}function nde(i){let t=0;for(let e=0;e<i.length;e++)t+=i[e];return t}function rde(i,t){let e=Math.random();return t*e+(1-e)*i}function ode(i,t){let e=0;for(let n=0;n<i.length;n++){let r=Number(i[n])-Number(t[n]);e+=r*r}return e}function k(i,t){if(!i)throw new Error(typeof t=="string"?t:t())}function ln(i,t,e=""){k(to(i,t),()=>e+` Shapes ${i} and ${t} must match`)}function hs(i){k(i!=null,()=>"The input to the tensor constructor must be a non-null value.")}function oi(i){if(i.length===0)return 1;let t=i[0];for(let e=1;e<i.length;e++)t*=i[e];return t}function sde(i){return i.length===0}function nk(i,t){if(i===t)return!0;if(i==null||t==null||i.length!==t.length)return!1;for(let e=0;e<i.length;e++)if(i[e]!==null&&t[e]!==null&&i[e]!==t[e])return!1;return!0}function to(i,t){if(i===t)return!0;if(i==null||t==null||i.length!==t.length)return!1;for(let e=0;e<i.length;e++)if(i[e]!==t[e])return!1;return!0}function Kc(i){return i%1===0}function ade(i){if(Math.tanh!=null)return Math.tanh(i);if(i===1/0)return 1;if(i===-1/0)return-1;{let t=Math.exp(2*i);return(t-1)/(t+1)}}function cde(i){let t=Math.ceil(Math.sqrt(i));return[t,Math.ceil(i/t)]}function lde(i){let t=new Uint32Array(i);for(let e=0;e<i;++e)t[e]=e;return cj(t),t}function zu(i,t){return t<=i.length?i:i+" ".repeat(t-i.length)}function dde(i,t=r=>0,e,n){return new Promise((r,o)=>{let s=0,a=()=>{if(i()){r();return}s++;let c=t(s);if(e!=null&&s>=e){o();return}n!=null?n(a,c):setTimeout(a,c)};a()})}function ude(i,t){let e=1,n=-1;for(let o=0;o<i.length;++o)if(i[o]>=0)e*=i[o];else if(i[o]===-1){if(n!==-1)throw Error(`Shapes can only have 1 implicit size. Found -1 at dim ${n} and dim ${o}`);n=o}else if(i[o]<0)throw Error(`Shapes can not be < 0. Found ${i[o]} at dim ${o}`);if(n===-1){if(t>0&&t!==e)throw Error(`Size(${t}) must match the product of shape ${i}`);return i}if(e===0)throw Error(`Cannot infer the missing size in [${i}] when there are 0 elements`);if(t%e!==0)throw Error(`The implicit shape can't be a fractional number. Got ${t} / ${e}`);let r=i.slice();return r[n]=t/e,r}function cd(i,t){let e=t.length;return i=i==null?t.map((n,r)=>r):[].concat(i),k(i.every(n=>n>=-e&&n<e),()=>`All values in axis param must be in range [-${e}, ${e}) but got axis ${i}`),k(i.every(n=>Kc(n)),()=>`All values in axis param must be integers but got axis ${i}`),i.map(n=>n<0?e+n:n)}function rk(i,t){let e=[],n=[],r=t!=null&&Array.isArray(t)&&t.length===0,o=t==null||r?null:cd(t,i).sort(),s=0;for(let a=0;a<i.length;++a){if(o!=null){if(o[s]===a&&i[a]!==1)throw new Error(`Can't squeeze axis ${a} since its dim '${i[a]}' is not 1`);(o[s]==null||o[s]>a)&&i[a]===1&&(e.push(i[a]),n.push(a)),o[s]<=a&&s++}i[a]!==1&&(e.push(i[a]),n.push(a))}return{newShape:e,keptDims:n}}function ok(i,t){return Fx(i,t)}function Fx(i,t){let e=null;if(i==null||i==="float32")e=new Float32Array(t);else if(i==="int32")e=new Int32Array(t);else if(i==="bool")e=new Uint8Array(t);else if(i==="string")e=new Array(t);else throw new Error(`Unknown data type ${i}`);return e}function sk(i,t){for(let e=0;e<i.length;e++){let n=i[e];if(isNaN(n)||!isFinite(n))throw Error(`A tensor of type ${t} being uploaded contains ${n}.`)}}function ak(i){return i==="bool"||i==="complex64"||i==="float32"||i==="int32"||i==="string"}function hde(i,t){return!(t==="complex64"||t==="float32"&&i!=="complex64"||t==="int32"&&i!=="float32"&&i!=="complex64"||t==="bool"&&i==="bool")}function cp(i){if(i==="float32"||i==="int32")return 4;if(i==="complex64")return 8;if(i==="bool")return 1;throw new Error(`Unknown dtype ${i}`)}function ck(i){if(i==null)return 0;let t=0;return i.forEach(e=>t+=e.length),t}function sa(i){return typeof i=="string"||i instanceof String}function lj(i){return typeof i=="boolean"}function dj(i){return typeof i=="number"}function ld(i){return Array.isArray(i)?ld(i[0]):i instanceof Float32Array?"float32":i instanceof Int32Array||i instanceof Uint8Array||i instanceof Uint8ClampedArray?"int32":dj(i)?"float32":sa(i)?"string":lj(i)?"bool":"float32"}function Ka(i){return!!(i&&i.constructor&&i.call&&i.apply)}function lp(i,t){for(let e=t;e<i;++e)if(i%e===0)return e;return i}function Qa(i){let t=i.length;if(t<2)return[];let e=new Array(t-1);e[t-2]=i[t-1];for(let n=t-3;n>=0;--n)e[n]=e[n+1]*i[n+1];return e}function uj(i,t,e,n=!1){let r=new Array;if(t.length===1){let o=t[0]*(n?2:1);for(let s=0;s<o;s++)r[s]=e[i+s]}else{let o=t[0],s=t.slice(1),a=s.reduce((c,l)=>c*l)*(n?2:1);for(let c=0;c<o;c++)r[c]=uj(i+c*a,s,e,n)}return r}function Uu(i,t,e=!1){if(i.length===0)return t[0];let n=i.reduce((r,o)=>r*o)*(e?2:1);if(n===0)return[];if(n!==t.length)throw new Error(`[${i}] does not match the input size ${t.length}${e?" for a complex tensor":""}.`);return uj(0,i,t,e)}function mde(i,t){if(Array.isArray(i))return i;if(t==="float32")return i instanceof Float32Array?i:new Float32Array(i);if(t==="int32")return i instanceof Int32Array?i:new Int32Array(i);if(t==="bool"||t==="string")return Uint8Array.from(new Int32Array(i));throw new Error(`Unknown dtype ${t}`)}function i_(i,t){let e=dp(i,t);for(let n=0;n<e.length;n++)e[n]=1;return e}function dp(i,t){if(t==null||t==="float32"||t==="complex64")return new Float32Array(i);if(t==="int32")return new Int32Array(i);if(t==="bool")return new Uint8Array(i);throw new Error(`Unknown data type ${t}`)}function pde(i,t){let e=i.reduce((n,r)=>n*r,1);if(t==null||t==="float32")return Uu(i,new Float32Array(e));if(t==="int32")return Uu(i,new Int32Array(e));if(t==="bool")return Uu(i,new Uint8Array(e));throw new Error(`Unknown data type ${t}`)}function fn(i){i.forEach(t=>{k(Number.isInteger(t)&&t>=0,()=>`Tensor must have a shape comprised of positive integers but got shape [${i}].`)})}function fde(i,t,e){if(t===0)return 0;if(t===1)return i[0];let n=i[i.length-1];for(let r=0;r<i.length-1;++r)n+=e[r]*i[r];return n}function gde(i,t,e){if(t===0)return[];if(t===1)return[i];let n=new Array(t);for(let r=0;r<n.length-1;++r)n[r]=Math.floor(i/e[r]),i-=n[r]*e[r];return n[n.length-1]=i,n}function Hu(i){return i&&i.then&&typeof i.then=="function"}var ar=I(()=>{"use strict";});function bde(i){let t={};return i.replace(/[?&]([^=?&]+)(?:=([^&]*))?/g,(e,...n)=>(vde(t,n[0],n[1]),n.join("="))),t}function vde(i,t,e){i[decodeURIComponent(t)]=decodeURIComponent(e||"")}function yde(i,t){let e=t.toLowerCase();return e==="true"||e==="false"?e==="true":`${+e}`===e?+e:t}function ot(){return Lx}function mj(i){Lx=i}var hj,up,Lx,yr=I(()=>{"use strict";ar();hj="tfjsflags",up=class{constructor(t){this.global=t,this.flags={},this.flagRegistry={},this.urlFlags={},this.getQueryParams=bde,this.populateURLFlags()}setPlatform(t,e){this.platform!=null&&(ot().getBool("IS_TEST")||ot().getBool("PROD")||console.warn(`Platform ${this.platformName} has already been set. Overwriting the platform with ${t}.`)),this.platformName=t,this.platform=e}registerFlag(t,e,n){if(this.flagRegistry[t]={evaluationFn:e,setHook:n},this.urlFlags[t]!=null){let r=this.urlFlags[t];ot().getBool("IS_TEST")||ot().getBool("PROD")||console.warn(`Setting feature override from URL ${t}: ${r}.`),this.set(t,r)}}getAsync(t){return te(this,null,function*(){return t in this.flags?this.flags[t]:(this.flags[t]=yield this.evaluateFlag(t),this.flags[t])})}get(t){if(t in this.flags)return this.flags[t];let e=this.evaluateFlag(t);if(Hu(e))throw new Error(`Flag ${t} cannot be synchronously evaluated. Please use getAsync() instead.`);return this.flags[t]=e,this.flags[t]}getNumber(t){return this.get(t)}getBool(t){return this.get(t)}getString(t){return this.get(t)}getFlags(){return this.flags}get features(){return this.flags}set(t,e){if(this.flagRegistry[t]==null)throw new Error(`Cannot set flag ${t} as it has not been registered.`);this.flags[t]=e,this.flagRegistry[t].setHook!=null&&this.flagRegistry[t].setHook(e)}evaluateFlag(t){if(this.flagRegistry[t]==null)throw new Error(`Cannot evaluate flag '${t}': no evaluation function found.`);return this.flagRegistry[t].evaluationFn()}setFlags(t){this.flags=Object.assign({},t)}reset(){this.flags={},this.urlFlags={},this.populateURLFlags()}populateURLFlags(){if(typeof this.global>"u"||typeof this.global.location>"u"||typeof this.global.location.search>"u")return;let t=this.getQueryParams(this.global.location.search);hj in t&&t[hj].split(",").forEach(n=>{let[r,o]=n.split(":");this.urlFlags[r]=yde(r,o)})}};Lx=null});function dk(){if(lk==null){let i;if(typeof window<"u")i=window;else if(typeof global<"u")i=global;else if(typeof process<"u")i=process;else if(typeof self<"u")i=self;else throw new Error("Could not find a global object");lk=i}return lk}function xde(){let i=dk();return i._tfGlobals==null&&(i._tfGlobals=new Map),i._tfGlobals}function n_(i,t){let e=xde();if(e.has(i))return e.get(i);{let n=t();return e.set(i,n),e.get(i)}}var lk,Bx=I(()=>{"use strict";});var uk,hk,mk,r_,pk,fk,gk,_k,bk,vk,yk,xk,wk,Mk,Ck,wde,Sk,Mde,Ek,Tk,Ik,Dk,Cde,kk,o_,Ak,Pk,Rk,Nk,Ok,Fk,Lk,Bk,Vk,Sde,Uk,zk,Hk,jk,$k,Gk,Wk,qk,Xk,Yk,Zk,Kk,Qk,Ede,Tde,Vx,Jk,eA,tA,Ide,iA,nA,rA,oA,sA,aA,cA,lA,dA,uA,hA,mA,pA,fA,gA,s_,_A,bA,vA,yA,xA,wA,MA,CA,SA,EA,TA,IA,DA,kA,Dde,kde,Ade,AA,Pde,Rde,PA,RA,NA,Nde,OA,Ode,FA,LA,BA,VA,UA,zA,HA,jA,$A,GA,WA,qA,XA,YA,ZA,KA,QA,Fde,JA,eP,tP,iP,nP,rP,oP,sP,aP,cP,lP,dP,Lde,uP,Bde,hP,mP,pP,fP,gP,_P,bP,vP,yP,xP,wP,MP,CP,SP,EP,TP,IP,DP,kP,AP,PP,RP,NP,OP,FP,LP,Vde,BP,VP,UP,zP,HP,jP,$P,GP,a_,WP,qP,c_,XP,YP,ZP,Ude,KP,QP,Ux,JP,zx,Hx,jx,ee=I(()=>{"use strict";uk="Abs",hk="Acos",mk="Acosh",r_="Add",pk="AddN",fk="All",gk="Any",_k="ArgMax",bk="ArgMin",vk="Asin",yk="Asinh",xk="Atan",wk="Atanh",Mk="Atan2",Ck="AvgPool",wde="AvgPoolGrad",Sk="AvgPool3D",Mde="AvgPool3DGrad",Ek="BatchMatMul",Tk="BatchToSpaceND",Ik="Bincount",Dk="BitwiseAnd",Cde="BroadcastTo",kk="BroadcastArgs",o_="Cast",Ak="Ceil",Pk="ClipByValue",Rk="Complex",Nk="ComplexAbs",Ok="Concat",Fk="Conv2D",Lk="Conv2DBackpropFilter",Bk="Conv2DBackpropInput",Vk="Conv3D",Sde="Conv3DBackpropFilterV2",Uk="Conv3DBackpropInputV2",zk="Cos",Hk="Cosh",jk="Cumprod",$k="Cumsum",Gk="CropAndResize",Wk="DenseBincount",qk="DepthToSpace",Xk="DepthwiseConv2dNative",Yk="DepthwiseConv2dNativeBackpropFilter",Zk="DepthwiseConv2dNativeBackpropInput",Kk="Diag",Qk="Dilation2D",Ede="Dilation2DBackpropInput",Tde="Dilation2DBackpropFilter",Vx="Draw",Jk="RealDiv",eA="Einsum",tA="Elu",Ide="EluGrad",iA="Erf",nA="Equal",rA="Exp",oA="ExpandDims",sA="Expm1",aA="FFT",cA="Fill",lA="FlipLeftRight",dA="Floor",uA="FloorDiv",hA="FusedBatchNorm",mA="GatherV2",pA="GatherNd",fA="Greater",gA="GreaterEqual",s_="Identity",_A="IFFT",bA="Imag",vA="IsFinite",yA="IsInf",xA="IsNan",wA="LeakyRelu",MA="Less",CA="LessEqual",SA="LinSpace",EA="Log",TA="Log1p",IA="LogicalAnd",DA="LogicalNot",kA="LogicalOr",Dde="LogicalXor",kde="LogSoftmax",Ade="LowerBound",AA="LRN",Pde="LRNGrad",Rde="MatrixBandPart",PA="Max",RA="Maximum",NA="MaxPool",Nde="MaxPoolGrad",OA="MaxPool3D",Ode="MaxPool3DGrad",FA="MaxPoolWithArgmax",LA="Mean",BA="Min",VA="Minimum",UA="MirrorPad",zA="Mod",HA="Multinomial",jA="Multiply",$A="Neg",GA="NotEqual",WA="NonMaxSuppressionV3",qA="NonMaxSuppressionV4",XA="NonMaxSuppressionV5",YA="OnesLike",ZA="OneHot",KA="Pack",QA="PadV2",Fde="Pool",JA="Pow",eP="Prelu",tP="Prod",iP="RaggedGather",nP="RaggedRange",rP="RaggedTensorToTensor",oP="Range",sP="Real",aP="Reciprocal",cP="Relu",lP="Reshape",dP="ResizeNearestNeighbor",Lde="ResizeNearestNeighborGrad",uP="ResizeBilinear",Bde="ResizeBilinearGrad",hP="Relu6",mP="Reverse",pP="Round",fP="Rsqrt",gP="ScatterNd",_P="TensorScatterUpdate",bP="SearchSorted",vP="Select",yP="Selu",xP="Slice",wP="Sin",MP="Sinh",CP="Sign",SP="Sigmoid",EP="Softplus",TP="Sqrt",IP="Sum",DP="SpaceToBatchND",kP="SplitV",AP="Softmax",PP="SparseFillEmptyRows",RP="SparseReshape",NP="SparseSegmentMean",OP="SparseSegmentSum",FP="SparseToDense",LP="SquaredDifference",Vde="Square",BP="StaticRegexReplace",VP="StridedSlice",UP="StringNGrams",zP="StringSplit",HP="StringToHashBucketFast",jP="Sub",$P="Tan",GP="Tanh",a_="Tile",WP="TopK",qP="Transform",c_="Transpose",XP="Unique",YP="Unpack",ZP="UnsortedSegmentSum",Ude="UpperBound",KP="ZerosLike",QP="Step",Ux="FromPixels",JP="RotateWithOffset",zx="_FusedMatMul",Hx="FusedConv2D",jx="FusedDepthwiseConv2D"});function Ja(...i){ot().getBool("IS_TEST")||ot().getBool("PROD")||console.warn(...i)}function zde(...i){ot().getBool("IS_TEST")||ot().getBool("PROD")||console.log(...i)}var $x=I(()=>{"use strict";yr();});function ju(i,t){let e=eR(i,t);return hp.get(e)}function Gx(i){return l_.get(i)}function d_(i){let t=hp.entries(),e=[];for(;;){let{done:n,value:r}=t.next();if(n)break;let[o,s]=r,[a]=o.split("_");a===i&&e.push(s)}return e}function fj(i){let{kernelName:t,backendName:e}=i,n=eR(t,e);hp.has(n)&&Ja(`The kernel '${t}' for backend '${e}' is already registered`),hp.set(n,i)}function Hde(i){let{kernelName:t}=i;l_.has(t)&&ot().getBool("DEBUG")&&Ja(`Overriding the gradient for '${t}'`),l_.set(t,i)}function jde(i,t){let e=eR(i,t);if(!hp.has(e))throw new Error(`The kernel '${i}' for backend '${t}' is not registered`);hp.delete(e)}function $de(i){if(!l_.has(i))throw new Error(`The gradient '${i}' for backend is not registered`);l_.delete(i)}function Gde(i,t){d_(i).forEach(n=>{let r=Object.assign({},n,{backendName:t});fj(r)})}function eR(i,t){return`${t}_${i}`}var hp,l_,Wx=I(()=>{"use strict";yr();Bx();$x();hp=n_("kernelRegistry",()=>new Map),l_=n_("gradRegistry",()=>new Map)});function qx(i){return i instanceof Float32Array||i instanceof Int32Array||i instanceof Uint8Array||i instanceof Uint8ClampedArray}var tR=I(()=>{"use strict";});var Ej=rs((nBe,Sj)=>{"use strict";Sj.exports=En;var Fs=null;try{Fs=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch{}function En(i,t,e){this.low=i|0,this.high=t|0,this.unsigned=!!e}En.prototype.__isLong__;Object.defineProperty(En.prototype,"__isLong__",{value:!0});function Go(i){return(i&&i.__isLong__)===!0}En.isLong=Go;var gj={},_j={};function Gu(i,t){var e,n,r;return t?(i>>>=0,(r=0<=i&&i<256)&&(n=_j[i],n)?n:(e=Tn(i,(i|0)<0?-1:0,!0),r&&(_j[i]=e),e)):(i|=0,(r=-128<=i&&i<128)&&(n=gj[i],n)?n:(e=Tn(i,i<0?-1:0,!1),r&&(gj[i]=e),e))}En.fromInt=Gu;function Ls(i,t){if(isNaN(i))return t?$u:Bs;if(t){if(i<0)return $u;if(i>=xj)return Cj}else{if(i<=-vj)return $o;if(i+1>=vj)return Mj}return i<0?Ls(-i,t).neg():Tn(i%pp|0,i/pp|0,t)}En.fromNumber=Ls;function Tn(i,t,e){return new En(i,t,e)}En.fromBits=Tn;var Xx=Math.pow;function nR(i,t,e){if(i.length===0)throw Error("empty string");if(i==="NaN"||i==="Infinity"||i==="+Infinity"||i==="-Infinity")return Bs;if(typeof t=="number"?(e=t,t=!1):t=!!t,e=e||10,e<2||36<e)throw RangeError("radix");var n;if((n=i.indexOf("-"))>0)throw Error("interior hyphen");if(n===0)return nR(i.substring(1),t,e).neg();for(var r=Ls(Xx(e,8)),o=Bs,s=0;s<i.length;s+=8){var a=Math.min(8,i.length-s),c=parseInt(i.substring(s,s+a),e);if(a<8){var l=Ls(Xx(e,a));o=o.mul(l).add(Ls(c))}else o=o.mul(r),o=o.add(Ls(c))}return o.unsigned=t,o}En.fromString=nR;function aa(i,t){return typeof i=="number"?Ls(i,t):typeof i=="string"?nR(i,t):Tn(i.low,i.high,typeof t=="boolean"?t:i.unsigned)}En.fromValue=aa;var bj=65536,Wde=1<<24,pp=bj*bj,xj=pp*pp,vj=xj/2,yj=Gu(Wde),Bs=Gu(0);En.ZERO=Bs;var $u=Gu(0,!0);En.UZERO=$u;var mp=Gu(1);En.ONE=mp;var wj=Gu(1,!0);En.UONE=wj;var iR=Gu(-1);En.NEG_ONE=iR;var Mj=Tn(-1,2147483647,!1);En.MAX_VALUE=Mj;var Cj=Tn(-1,-1,!0);En.MAX_UNSIGNED_VALUE=Cj;var $o=Tn(0,-2147483648,!1);En.MIN_VALUE=$o;var Ge=En.prototype;Ge.toInt=function(){return this.unsigned?this.low>>>0:this.low};Ge.toNumber=function(){return this.unsigned?(this.high>>>0)*pp+(this.low>>>0):this.high*pp+(this.low>>>0)};Ge.toString=function(t){if(t=t||10,t<2||36<t)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative())if(this.eq($o)){var e=Ls(t),n=this.div(e),r=n.mul(e).sub(this);return n.toString(t)+r.toInt().toString(t)}else return"-"+this.neg().toString(t);for(var o=Ls(Xx(t,6),this.unsigned),s=this,a="";;){var c=s.div(o),l=s.sub(c.mul(o)).toInt()>>>0,d=l.toString(t);if(s=c,s.isZero())return d+a;for(;d.length<6;)d="0"+d;a=""+d+a}};Ge.getHighBits=function(){return this.high};Ge.getHighBitsUnsigned=function(){return this.high>>>0};Ge.getLowBits=function(){return this.low};Ge.getLowBitsUnsigned=function(){return this.low>>>0};Ge.getNumBitsAbs=function(){if(this.isNegative())return this.eq($o)?64:this.neg().getNumBitsAbs();for(var t=this.high!=0?this.high:this.low,e=31;e>0&&!(t&1<<e);e--);return this.high!=0?e+33:e+1};Ge.isZero=function(){return this.high===0&&this.low===0};Ge.eqz=Ge.isZero;Ge.isNegative=function(){return!this.unsigned&&this.high<0};Ge.isPositive=function(){return this.unsigned||this.high>=0};Ge.isOdd=function(){return(this.low&1)===1};Ge.isEven=function(){return(this.low&1)===0};Ge.equals=function(t){return Go(t)||(t=aa(t)),this.unsigned!==t.unsigned&&this.high>>>31===1&&t.high>>>31===1?!1:this.high===t.high&&this.low===t.low};Ge.eq=Ge.equals;Ge.notEquals=function(t){return!this.eq(t)};Ge.neq=Ge.notEquals;Ge.ne=Ge.notEquals;Ge.lessThan=function(t){return this.comp(t)<0};Ge.lt=Ge.lessThan;Ge.lessThanOrEqual=function(t){return this.comp(t)<=0};Ge.lte=Ge.lessThanOrEqual;Ge.le=Ge.lessThanOrEqual;Ge.greaterThan=function(t){return this.comp(t)>0};Ge.gt=Ge.greaterThan;Ge.greaterThanOrEqual=function(t){return this.comp(t)>=0};Ge.gte=Ge.greaterThanOrEqual;Ge.ge=Ge.greaterThanOrEqual;Ge.compare=function(t){if(Go(t)||(t=aa(t)),this.eq(t))return 0;var e=this.isNegative(),n=t.isNegative();return e&&!n?-1:!e&&n?1:this.unsigned?t.high>>>0>this.high>>>0||t.high===this.high&&t.low>>>0>this.low>>>0?-1:1:this.sub(t).isNegative()?-1:1};Ge.comp=Ge.compare;Ge.negate=function(){return!this.unsigned&&this.eq($o)?$o:this.not().add(mp)};Ge.neg=Ge.negate;Ge.add=function(t){Go(t)||(t=aa(t));var e=this.high>>>16,n=this.high&65535,r=this.low>>>16,o=this.low&65535,s=t.high>>>16,a=t.high&65535,c=t.low>>>16,l=t.low&65535,d=0,u=0,h=0,m=0;return m+=o+l,h+=m>>>16,m&=65535,h+=r+c,u+=h>>>16,h&=65535,u+=n+a,d+=u>>>16,u&=65535,d+=e+s,d&=65535,Tn(h<<16|m,d<<16|u,this.unsigned)};Ge.subtract=function(t){return Go(t)||(t=aa(t)),this.add(t.neg())};Ge.sub=Ge.subtract;Ge.multiply=function(t){if(this.isZero())return Bs;if(Go(t)||(t=aa(t)),Fs){var e=Fs.mul(this.low,this.high,t.low,t.high);return Tn(e,Fs.get_high(),this.unsigned)}if(t.isZero())return Bs;if(this.eq($o))return t.isOdd()?$o:Bs;if(t.eq($o))return this.isOdd()?$o:Bs;if(this.isNegative())return t.isNegative()?this.neg().mul(t.neg()):this.neg().mul(t).neg();if(t.isNegative())return this.mul(t.neg()).neg();if(this.lt(yj)&&t.lt(yj))return Ls(this.toNumber()*t.toNumber(),this.unsigned);var n=this.high>>>16,r=this.high&65535,o=this.low>>>16,s=this.low&65535,a=t.high>>>16,c=t.high&65535,l=t.low>>>16,d=t.low&65535,u=0,h=0,m=0,p=0;return p+=s*d,m+=p>>>16,p&=65535,m+=o*d,h+=m>>>16,m&=65535,m+=s*l,h+=m>>>16,m&=65535,h+=r*d,u+=h>>>16,h&=65535,h+=o*l,u+=h>>>16,h&=65535,h+=s*c,u+=h>>>16,h&=65535,u+=n*d+r*l+o*c+s*a,u&=65535,Tn(m<<16|p,u<<16|h,this.unsigned)};Ge.mul=Ge.multiply;Ge.divide=function(t){if(Go(t)||(t=aa(t)),t.isZero())throw Error("division by zero");if(Fs){if(!this.unsigned&&this.high===-2147483648&&t.low===-1&&t.high===-1)return this;var e=(this.unsigned?Fs.div_u:Fs.div_s)(this.low,this.high,t.low,t.high);return Tn(e,Fs.get_high(),this.unsigned)}if(this.isZero())return this.unsigned?$u:Bs;var n,r,o;if(this.unsigned){if(t.unsigned||(t=t.toUnsigned()),t.gt(this))return $u;if(t.gt(this.shru(1)))return wj;o=$u}else{if(this.eq($o)){if(t.eq(mp)||t.eq(iR))return $o;if(t.eq($o))return mp;var s=this.shr(1);return n=s.div(t).shl(1),n.eq(Bs)?t.isNegative()?mp:iR:(r=this.sub(t.mul(n)),o=n.add(r.div(t)),o)}else if(t.eq($o))return this.unsigned?$u:Bs;if(this.isNegative())return t.isNegative()?this.neg().div(t.neg()):this.neg().div(t).neg();if(t.isNegative())return this.div(t.neg()).neg();o=Bs}for(r=this;r.gte(t);){n=Math.max(1,Math.floor(r.toNumber()/t.toNumber()));for(var a=Math.ceil(Math.log(n)/Math.LN2),c=a<=48?1:Xx(2,a-48),l=Ls(n),d=l.mul(t);d.isNegative()||d.gt(r);)n-=c,l=Ls(n,this.unsigned),d=l.mul(t);l.isZero()&&(l=mp),o=o.add(l),r=r.sub(d)}return o};Ge.div=Ge.divide;Ge.modulo=function(t){if(Go(t)||(t=aa(t)),Fs){var e=(this.unsigned?Fs.rem_u:Fs.rem_s)(this.low,this.high,t.low,t.high);return Tn(e,Fs.get_high(),this.unsigned)}return this.sub(this.div(t).mul(t))};Ge.mod=Ge.modulo;Ge.rem=Ge.modulo;Ge.not=function(){return Tn(~this.low,~this.high,this.unsigned)};Ge.and=function(t){return Go(t)||(t=aa(t)),Tn(this.low&t.low,this.high&t.high,this.unsigned)};Ge.or=function(t){return Go(t)||(t=aa(t)),Tn(this.low|t.low,this.high|t.high,this.unsigned)};Ge.xor=function(t){return Go(t)||(t=aa(t)),Tn(this.low^t.low,this.high^t.high,this.unsigned)};Ge.shiftLeft=function(t){return Go(t)&&(t=t.toInt()),(t&=63)===0?this:t<32?Tn(this.low<<t,this.high<<t|this.low>>>32-t,this.unsigned):Tn(0,this.low<<t-32,this.unsigned)};Ge.shl=Ge.shiftLeft;Ge.shiftRight=function(t){return Go(t)&&(t=t.toInt()),(t&=63)===0?this:t<32?Tn(this.low>>>t|this.high<<32-t,this.high>>t,this.unsigned):Tn(this.high>>t-32,this.high>=0?0:-1,this.unsigned)};Ge.shr=Ge.shiftRight;Ge.shiftRightUnsigned=function(t){if(Go(t)&&(t=t.toInt()),t&=63,t===0)return this;var e=this.high;if(t<32){var n=this.low;return Tn(n>>>t|e<<32-t,e>>>t,this.unsigned)}else return t===32?Tn(e,0,this.unsigned):Tn(e>>>t-32,0,this.unsigned)};Ge.shru=Ge.shiftRightUnsigned;Ge.shr_u=Ge.shiftRightUnsigned;Ge.toSigned=function(){return this.unsigned?Tn(this.low,this.high,!1):this};Ge.toUnsigned=function(){return this.unsigned?this:Tn(this.low,this.high,!0)};Ge.toBytes=function(t){return t?this.toBytesLE():this.toBytesBE()};Ge.toBytesLE=function(){var t=this.high,e=this.low;return[e&255,e>>>8&255,e>>>16&255,e>>>24,t&255,t>>>8&255,t>>>16&255,t>>>24]};Ge.toBytesBE=function(){var t=this.high,e=this.low;return[t>>>24,t>>>16&255,t>>>8&255,t&255,e>>>24,e>>>16&255,e>>>8&255,e&255]};En.fromBytes=function(t,e,n){return n?En.fromBytesLE(t,e):En.fromBytesBE(t,e)};En.fromBytesLE=function(t,e){return new En(t[0]|t[1]<<8|t[2]<<16|t[3]<<24,t[4]|t[5]<<8|t[6]<<16|t[7]<<24,e)};En.fromBytesBE=function(t,e){return new En(t[4]<<24|t[5]<<16|t[6]<<8|t[7],t[0]<<24|t[1]<<16|t[2]<<8|t[3],e)}});function u_(i){return qu.fromString(i,!0,16)}function rR(i){return i.xor(i.shru(47))}function Dj(i,t,e){let n=i.slice(t,t+e);return qu.fromBytes(Array.from(n),!0,!0)}function gn(i,t){return Dj(i,t,8)}function Tj(i,t){return Dj(i,t,4)}function xr(i,t){return t===0?i:i.shru(t).or(i.shl(64-t))}function dd(i,t,e=u_("9ddfea08eb382d69")){let n=i.xor(t).mul(e);n=n.xor(n.shru(47));let r=t.xor(n).mul(e);return r=r.xor(r.shru(47)),r=r.mul(e),r}function qde(i,t,e,n,r,o){r=r.add(i),o=xr(o.add(r).add(n),21);let s=r;return r=r.add(t),r=r.add(e),o=o.add(xr(r,44)),[r.add(n),o.add(s)]}function Yx(i,t,e,n){return qde(gn(i,t),gn(i,t+8),gn(i,t+16),gn(i,t+24),e,n)}function Xde(i,t=i.length){if(t>=8){let e=io.add(t*2),n=gn(i,0).add(io),r=gn(i,t-8),o=xr(r,37).mul(e).add(n),s=xr(n,25).add(r).mul(e);return dd(o,s,e)}if(t>=4){let e=io.add(t*2),n=Tj(i,0);return dd(n.shl(3).add(t),Tj(i,t-4),e)}if(t>0){let e=i[0],n=i[t>>1],r=i[t-1],o=e+(n<<8),s=t+(r<<2);return rR(io.mul(o).xor(Ij.mul(s))).mul(io)}return io}function Yde(i,t=i.length){let e=io.add(t*2),n=gn(i,0).mul(Wu),r=gn(i,8),o=gn(i,t-8).mul(e),s=gn(i,t-16).mul(io);return dd(xr(n.add(r),43).add(xr(o,30)).add(s),n.add(xr(r.add(io),18)).add(o),e)}function Zde(i,t=i.length){let e=io.add(t*2),n=gn(i,0).mul(io),r=gn(i,8),o=gn(i,t-8).mul(e),s=gn(i,t-16).mul(io),a=xr(n.add(r),43).add(xr(o,30)).add(s),c=dd(a,n.add(xr(r.add(io),18)).add(o),e),l=gn(i,16).mul(e),d=gn(i,24),u=a.add(gn(i,t-32)).mul(e),h=c.add(gn(i,t-24)).mul(e);return dd(xr(l.add(d),43).add(xr(u,30)).add(h),l.add(xr(d.add(n),18)).add(u),e)}function Kde(i,t=i.length){let e=qu.fromNumber(81,!0);if(t<=32)return t<=16?Xde(i,t):Yde(i,t);if(t<=64)return Zde(i,t);let n=e,r=e.mul(Wu).add(113),o=rR(r.mul(io).add(113)).mul(io),s=[qu.UZERO,qu.UZERO],a=[qu.UZERO,qu.UZERO];n=n.mul(io).add(gn(i,0));let c=0,l=(t-1>>6)*64,d=l+(t-1&63)-63;do n=xr(n.add(r).add(s[0]).add(gn(i,c+8)),37).mul(Wu),r=xr(r.add(s[1]).add(gn(i,c+48)),42).mul(Wu),n=n.xor(a[1]),r=r.add(s[0]).add(gn(i,c+40)),o=xr(o.add(a[0]),33).mul(Wu),s=Yx(i,c,s[1].mul(Wu),n.add(a[0])),a=Yx(i,c+32,o.add(a[1]),r.add(gn(i,c+16))),[o,n]=[n,o],c+=64;while(c!==l);let u=Wu.add(o.and(255).shl(1));return c=d,a[0]=a[0].add(t-1&63),s[0]=s[0].add(a[0]),a[0]=a[0].add(s[0]),n=xr(n.add(r).add(s[0]).add(gn(i,c+8)),37).mul(u),r=xr(r.add(s[1]).add(gn(i,c+48)),42).mul(u),n=n.xor(a[1].mul(9)),r=r.add(s[0].mul(9).add(gn(i,c+40))),o=xr(o.add(a[0]),33).mul(u),s=Yx(i,c,s[1].mul(u),n.add(a[0])),a=Yx(i,c+32,o.add(a[1]),r.add(gn(i,c+16))),[o,n]=[n,o],dd(dd(s[0],a[0],u).add(rR(r).mul(Ij)).add(o),dd(s[1],a[1],u).add(n),u)}var oR,qu,Ij,Wu,io,kj=I(()=>{"use strict";oR=hE(Ej());qu=oR.default||oR;Ij=u_("c3a5c85c97cb3127"),Wu=u_("b492b66fbe98f273"),io=u_("9ae16a3b2f90404f")});var ke={};Mi(ke,{arraysEqual:()=>to,arraysEqualWithNull:()=>nk,assert:()=>k,assertNonNegativeIntegerDimensions:()=>fn,assertNonNull:()=>hs,assertShapesMatch:()=>ln,bytesFromStringArray:()=>ck,bytesPerElement:()=>cp,checkConversionForErrors:()=>sk,clamp:()=>ap,computeStrides:()=>Qa,convertBackendValuesAndArrayBuffer:()=>mde,createScalarValue:()=>Qde,createShuffledIndices:()=>lde,decodeString:()=>gp,distSquared:()=>ode,encodeString:()=>ud,fetch:()=>eue,fingerPrint64:()=>Kde,flatten:()=>ca,getArrayFromDType:()=>Fx,getTypedArrayFromDType:()=>ok,hasEncodingLoss:()=>hde,hexToLong:()=>u_,indexToLoc:()=>gde,inferDtype:()=>ld,inferFromImplicitShape:()=>ude,isBoolean:()=>lj,isFunction:()=>Ka,isInt:()=>Kc,isNumber:()=>dj,isPromise:()=>Hu,isScalarShape:()=>sde,isString:()=>sa,isTypedArray:()=>On,isValidDtype:()=>ak,locToIndex:()=>fde,makeOnesTypedArray:()=>i_,makeZerosNestedTypedArray:()=>pde,makeZerosTypedArray:()=>dp,nearestDivisor:()=>lp,nearestLargerEven:()=>ide,now:()=>Xu,parseAxisParam:()=>cd,randUniform:()=>rde,repeatedTry:()=>dde,rightPad:()=>zu,shuffle:()=>cj,shuffleCombo:()=>tde,sizeFromShape:()=>oi,sizeToSquarishShape:()=>cde,squeezeShape:()=>rk,sum:()=>nde,swap:()=>Ox,tanh:()=>ade,toNestedArray:()=>Uu,toTypedArray:()=>fp});function Qde(i,t){return t==="string"?ud(i):fp([i],t)}function Jde(i,t){return i instanceof Float32Array&&t==="float32"||i instanceof Int32Array&&t==="int32"||i instanceof Uint8Array&&t==="bool"}function fp(i,t){if(t==="string")throw new Error("Cannot convert a string[] to a TypedArray");if(Array.isArray(i)&&(i=ca(i)),ot().getBool("DEBUG")&&sk(i,t),Jde(i,t))return i;if(t==null||t==="float32"||t==="complex64")return new Float32Array(i);if(t==="int32")return new Int32Array(i);if(t==="bool"){let e=new Uint8Array(i.length);for(let n=0;n<e.length;++n)Math.round(i[n])!==0&&(e[n]=1);return e}else throw new Error(`Unknown data type ${t}`)}function Xu(){return ot().platform.now()}function eue(i,t){return ot().platform.fetch(i,t)}function ud(i,t="utf-8"){return t=t||"utf-8",ot().platform.encode(i,t)}function gp(i,t="utf-8"){return t=t||"utf-8",ot().platform.decode(i,t)}function On(i){return ot().platform.isTypedArray!=null?ot().platform.isTypedArray(i):qx(i)}function ca(i,t=[],e=!1){if(t==null&&(t=[]),typeof i=="boolean"||typeof i=="number"||typeof i=="string"||Hu(i)||i==null||On(i)&&e)t.push(i);else if(Array.isArray(i)||On(i))for(let n=0;n<i.length;++n)ca(i[n],t,e);else{let n=-1;for(let r of Object.keys(i))/^([1-9]+[0-9]*|0)$/.test(r)&&(n=Math.max(n,Number(r)));for(let r=0;r<=n;r++)ca(i[r],t,e)}return t}var pe=I(()=>{"use strict";yr();tR();ar();ar();kj();});function tue(i,t,e){if(t!=="float32")return!1;for(let n=0;n<i.length;n++){let r=i[n];if(isNaN(r)||!isFinite(r))return console.warn(`Found ${r} in the result of '${e}'`),!0}return!1}var Zx,sR,Aj=I(()=>{"use strict";yr();pe();Zx=class{constructor(t,e){this.backendTimer=t,this.logger=e,e==null&&(this.logger=new sR)}profileKernel(t,e,n){let r,o=()=>{r=n()},s,a=Xu();if(this.backendTimer.timerAvailable())s=this.backendTimer.time(o);else{o();for(let l of r)l.dataSync();s=Promise.resolve({kernelMs:Xu()-a})}if(ot().getBool("CHECK_COMPUTATION_FOR_ERRORS"))for(let l=0;l<r.length;l++){let d=r[l];d.data().then(u=>{tue(u,d.dtype,t)})}return{kernelName:t,outputs:r,inputs:e,timeMs:s.then(l=>l.kernelMs),extraInfo:s.then(l=>l.getExtraProfileInfo!=null?l.getExtraProfileInfo():"")}}logKernelProfile(t){let{kernelName:e,outputs:n,timeMs:r,inputs:o,extraInfo:s}=t;n.forEach(a=>{Promise.all([a.data(),r,s]).then(c=>{this.logger.logKernelProfile(e,a,c[0],c[1],o,c[2])})})}};sR=class{logKernelProfile(t,e,n,r,o,s){let a=typeof r=="number"?zu(`${r}ms`,9):r.error,c=zu(t,25),l=e.rank,d=e.size,u=zu(e.shape.toString(),14),h="";for(let m in o){let p=o[m];if(p!=null){let _=p.shape||e.shape,f=_.length;h+=`${m}: ${f}D ${f>0?_:""} `}}console.log(`%c${c}	%c${a}	%c${l}D ${u}	%c${d}	%c${h}	%c${s}`,"font-weight:bold","color:red","color:blue","color: orange","color: green","color: steelblue")}}});function Pj(i,t,e){let n={},r={};for(let c=0;c<t.length;c++)n[t[c].id]=!0;for(let c=0;c<i.length;c++){let l=i[c],d=l.inputs;for(let u in d){let h=d[u],m=!1;for(let p=0;p<t.length;p++)if(n[h.id]){l.outputs.forEach(_=>n[_.id]=!0),m=!0,r[l.id]=!0;break}if(m)break}}let o={};o[e.id]=!0;let s={};for(let c=i.length-1;c>=0;c--){let l=i[c],d=l.inputs;for(let u=0;u<l.outputs.length;u++)if(o[l.outputs[u].id]){for(let h in d)o[d[h].id]=!0,s[l.id]=!0;break}}let a=[];for(let c=0;c<i.length;c++){let l=i[c];if(r[l.id]&&s[l.id]){let d={};for(let h in l.inputs){let m=l.inputs[h];n[m.id]&&(d[h]=m)}let u=Object.assign({},l);u.inputs=d,u.outputs=l.outputs,a.push(u)}}return a}function Rj(i,t,e,n){for(let r=t.length-1;r>=0;r--){let o=t[r],s=[];if(o.outputs.forEach(c=>{let l=i[c.id];l!=null?s.push(l):s.push(null)}),o.gradient==null)throw new Error(`Cannot compute gradient: gradient function not found for ${o.kernelName}.`);let a=o.gradient(s);for(let c in o.inputs){if(!(c in a))throw new Error(`Cannot backprop through input ${c}. Available gradients found: ${Object.keys(a)}.`);let l=e(()=>a[c]());if(l.dtype!=="float32")throw new Error(`Error in gradient for op ${o.kernelName}. The gradient of input ${c} must have 'float32' dtype, but has '${l.dtype}'`);let d=o.inputs[c];if(!to(l.shape,d.shape))throw new Error(`Error in gradient for op ${o.kernelName}. The gradient of input '${c}' has shape '${l.shape}', which does not match the shape of the input '${d.shape}'`);if(i[d.id]==null)i[d.id]=l;else{let u=i[d.id];i[d.id]=n(u,l),u.dispose()}}}}var Nj=I(()=>{"use strict";pe();});function Fj(i,t,e,n){let r=Qa(t),o=iue(i,t,e,r),s=t.length,a=Kx(i,t,e,r,o),c=["Tensor"];return n&&(c.push(`  dtype: ${e}`),c.push(`  rank: ${s}`),c.push(`  shape: [${t}]`),c.push("  values:")),c.push(a.map(l=>"    "+l).join(`
`)),c.join(`
`)}function iue(i,t,e,n){let r=oi(t),o=n[n.length-1],s=new Array(o).fill(0),a=t.length,c=e==="complex64"?p_(i):i;if(a>1)for(let l=0;l<r/o;l++){let d=l*o;for(let u=0;u<o;u++)s[u]=Math.max(s[u],m_(c[d+u],0,e).length)}return s}function m_(i,t,e){let n;return Array.isArray(i)?n=`${parseFloat(i[0].toFixed(aR))} + ${parseFloat(i[1].toFixed(aR))}j`:sa(i)?n=`'${i}'`:e==="bool"?n=Lj(i):n=parseFloat(i.toFixed(aR)).toString(),zu(n,t)}function Lj(i){return i===0?"false":"true"}function Kx(i,t,e,n,r,o=!0){let s=e==="complex64"?2:1,a=t[0],c=t.length;if(c===0){if(e==="complex64"){let _=p_(i);return[m_(_[0],0,e)]}return e==="bool"?[Lj(i[0])]:[i[0].toString()]}if(c===1){if(a>Oj){let f=h_*s,g=Array.from(i.slice(0,f)),C=Array.from(i.slice((a-h_)*s,a*s));return e==="complex64"&&(g=p_(g),C=p_(C)),["["+g.map((M,S)=>m_(M,r[S],e)).join(", ")+", ..., "+C.map((M,S)=>m_(M,r[a-h_+S],e)).join(", ")+"]"]}return["["+(e==="complex64"?p_(i):Array.from(i)).map((f,g)=>m_(f,r[g],e)).join(", ")+"]"]}let l=t.slice(1),d=n.slice(1),u=n[0]*s,h=[];if(a>Oj){for(let _=0;_<h_;_++){let f=_*u,g=f+u;h.push(...Kx(i.slice(f,g),l,e,d,r,!1))}h.push("...");for(let _=a-h_;_<a;_++){let f=_*u,g=f+u;h.push(...Kx(i.slice(f,g),l,e,d,r,_===a-1))}}else for(let _=0;_<a;_++){let f=_*u,g=f+u;h.push(...Kx(i.slice(f,g),l,e,d,r,_===a-1))}let m=c===2?",":"";h[0]="["+(a>0?h[0]+m:"");for(let _=1;_<h.length-1;_++)h[_]=" "+h[_]+m;let p=`,
`;for(let _=2;_<c;_++)p+=`
`;return h[h.length-1]=" "+h[h.length-1]+"]"+(o?"":p),h}function p_(i){let t=[];for(let e=0;e<i.length;e+=2)t.push([i[e],i[e+1]]);return t}var Oj,h_,aR,Bj=I(()=>{"use strict";pe();Oj=20,h_=3,aR=7});function Vj(i){la=i}function Uj(i){_p=i}function zj(i){nue=i}function cR(){return n_("Tensor",()=>Oi)}var Qc,la,_p,nue,Oi,ec,ms=I(()=>{"use strict";Bx();Bj();pe();pe();Qc=class{constructor(t,e,n){if(this.dtype=e,this.shape=t.slice(),this.size=oi(t),n!=null){let r=n.length;k(r===this.size,()=>`Length of values '${r}' does not match the size inferred by the shape '${this.size}'.`)}if(e==="complex64")throw new Error("complex64 dtype TensorBuffers are not supported. Please create a TensorBuffer for the real and imaginary parts separately and call tf.complex(real, imag).");this.values=n||Fx(e,this.size),this.strides=Qa(t)}set(t,...e){e.length===0&&(e=[0]),k(e.length===this.rank,()=>`The number of provided coordinates (${e.length}) must match the rank (${this.rank})`);let n=this.locToIndex(e);this.values[n]=t}get(...t){t.length===0&&(t=[0]);let e=0;for(let r of t){if(r<0||r>=this.shape[e]){let o=`Requested out of range element at ${t}.   Buffer shape=${this.shape}`;throw new Error(o)}e++}let n=t[t.length-1];for(let r=0;r<t.length-1;++r)n+=this.strides[r]*t[r];return this.values[n]}locToIndex(t){if(this.rank===0)return 0;if(this.rank===1)return t[0];let e=t[t.length-1];for(let n=0;n<t.length-1;++n)e+=this.strides[n]*t[n];return e}indexToLoc(t){if(this.rank===0)return[];if(this.rank===1)return[t];let e=new Array(this.shape.length);for(let n=0;n<e.length-1;++n)e[n]=Math.floor(t/this.strides[n]),t-=e[n]*this.strides[n];return e[e.length-1]=t,e}get rank(){return this.shape.length}toTensor(){return la().makeTensor(this.values,this.shape,this.dtype)}},la=null,_p=null,nue=null;Oi=class{constructor(t,e,n,r){this.kept=!1,this.isDisposedInternal=!1,this.shape=t.slice(),this.dtype=e||"float32",this.size=oi(t),this.strides=Qa(t),this.dataId=n,this.id=r,this.rankType=this.rank<5?this.rank.toString():"higher"}get rank(){return this.shape.length}buffer(){return te(this,null,function*(){let t=yield this.data();return _p.buffer(this.shape,this.dtype,t)})}bufferSync(){return _p.buffer(this.shape,this.dtype,this.dataSync())}array(){return te(this,null,function*(){let t=yield this.data();return Uu(this.shape,t,this.dtype==="complex64")})}arraySync(){return Uu(this.shape,this.dataSync(),this.dtype==="complex64")}data(){return te(this,null,function*(){this.throwIfDisposed();let t=la().read(this.dataId);if(this.dtype==="string"){let e=yield t;try{return e.map(n=>gp(n))}catch{throw new Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().")}}return t})}dataToGPU(t){return this.throwIfDisposed(),la().readToGPU(this.dataId,t)}dataSync(){this.throwIfDisposed();let t=la().readSync(this.dataId);if(this.dtype==="string")try{return t.map(e=>gp(e))}catch{throw new Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().")}return t}bytes(){return te(this,null,function*(){this.throwIfDisposed();let t=yield la().read(this.dataId);return this.dtype==="string"?t:new Uint8Array(t.buffer)})}dispose(){this.isDisposed||(this.kerasMask&&this.kerasMask.dispose(),la().disposeTensor(this),this.isDisposedInternal=!0)}get isDisposed(){return this.isDisposedInternal}throwIfDisposed(){if(this.isDisposed)throw new Error("Tensor is disposed.")}print(t=!1){return _p.print(this,t)}clone(){return this.throwIfDisposed(),_p.clone(this)}toString(t=!1){let e=this.dataSync();return Fj(e,this.shape,this.dtype,t)}cast(t){return this.throwIfDisposed(),_p.cast(this,t)}variable(t=!0,e,n){return this.throwIfDisposed(),la().makeVariable(this,t,e,n)}};Object.defineProperty(Oi,Symbol.hasInstance,{value:i=>!!i&&i.data!=null&&i.dataSync!=null&&i.throwIfDisposed!=null});cR();ec=class extends Oi{constructor(t,e,n,r){super(t.shape,t.dtype,t.dataId,r),this.trainable=e,this.name=n}assign(t){if(t.dtype!==this.dtype)throw new Error(`dtype of the new value (${t.dtype}) and previous value (${this.dtype}) must match`);if(!to(t.shape,this.shape))throw new Error(`shape of the new value (${t.shape}) and previous value (${this.shape}) must match`);la().disposeTensor(this),this.dataId=t.dataId,la().incRef(this,null)}dispose(){la().disposeVariable(this),this.isDisposedInternal=!0}};Object.defineProperty(ec,Symbol.hasInstance,{value:i=>i instanceof Oi&&i.assign!=null&&i.assign instanceof Function})});function Yu(i,t){if(i==="string"||t==="string"){if(i==="string"&&t==="string")return"string";throw new Error(`Can not upcast ${i} with ${t}`)}return rue[i][t]}function Wj(i){return Yu(i,"int32")}function Qx(i){return i!=null&&typeof i=="object"&&"texture"in i&&i.texture instanceof WebGLTexture}function Jx(i){return typeof GPUBuffer<"u"&&i!=null&&typeof i=="object"&&"buffer"in i&&i.buffer instanceof GPUBuffer}var lR,Hj,jj,$j,Gj,rue,bp=I(()=>{"use strict";lR=function(i){return i.R0="R0",i.R1="R1",i.R2="R2",i.R3="R3",i.R4="R4",i.R5="R5",i.R6="R6",i}(lR||{}),Hj=function(i){return i.float32="float32",i.int32="int32",i.bool="int32",i.complex64="complex64",i}(Hj||{}),jj=function(i){return i.float32="float32",i.int32="int32",i.bool="bool",i.complex64="complex64",i}(jj||{}),$j=function(i){return i.float32="float32",i.int32="float32",i.bool="float32",i.complex64="complex64",i}($j||{}),Gj=function(i){return i.float32="complex64",i.int32="complex64",i.bool="complex64",i.complex64="complex64",i}(Gj||{}),rue={float32:$j,int32:Hj,bool:jj,complex64:Gj}});var uR={};Mi(uR,{assertTypesMatch:()=>dR,getTensorsInContainer:()=>f_,isTensorInList:()=>oue,makeTypesMatch:()=>Zt});function Zt(i,t){if(i.dtype===t.dtype)return[i,t];let e=Yu(i.dtype,t.dtype);return[i.cast(e),t.cast(e)]}function dR(i,t){k(i.dtype===t.dtype,()=>`The dtypes of the first(${i.dtype}) and second(${t.dtype}) input must match`)}function oue(i,t){return t.some(e=>e.id===i.id)}function f_(i){let t=[];return qj(i,t,new Set),t}function qj(i,t,e){if(i==null)return;if(i instanceof Oi){t.push(i);return}if(!sue(i))return;let n=i;for(let r in n){let o=n[r];e.has(o)||(e.add(o),qj(o,t,e))}}function sue(i){return Array.isArray(i)||typeof i=="object"}var _n=I(()=>{"use strict";ms();bp();pe();});function hR(i){return i.kernelName!=null}function cue(i){let t=i_(oi(i),"float32");return T.makeTensor(t,i,"float32")}function mR(){let i=dk();if(i._tfengine==null){let t=new up(i);i._tfengine=new aue(t)}return mj(i._tfengine.ENV),Vj(()=>i._tfengine),i._tfengine}function lue(i,t){let e={a:i,b:t};return T.runKernel(r_,e)}var ew,aue,T,X=I(()=>{"use strict";ik();yr();Bx();ee();Wx();$x();Aj();Nj();ms();_n();pe();pe();ew=class{constructor(){this.registeredVariables={},this.nextTapeNodeId=0,this.numBytes=0,this.numTensors=0,this.numStringTensors=0,this.numDataBuffers=0,this.gradientDepth=0,this.kernelDepth=0,this.scopeStack=[],this.numDataMovesStack=[],this.nextScopeId=0,this.tensorInfo=new WeakMap,this.profiling=!1,this.activeProfile={newBytes:0,newTensors:0,peakBytes:0,kernels:[],result:null,get kernelNames(){return Array.from(new Set(this.kernels.map(t=>t.name)))}}}dispose(){for(let t in this.registeredVariables)this.registeredVariables[t].dispose()}},aue=(()=>{class i{constructor(e){this.ENV=e,this.registry={},this.registryFactory={},this.pendingBackendInitId=0,this.state=new ew}ready(){return te(this,null,function*(){if(this.pendingBackendInit!=null)return this.pendingBackendInit.then(()=>{});if(this.backendInstance!=null)return;let e=this.getSortedBackends();for(let n=0;n<e.length;n++){let r=e[n];if(yield this.initializeBackend(r).success){yield this.setBackend(r);return}}throw new Error("Could not initialize any backends, all backend initializations failed.")})}get backend(){if(this.pendingBackendInit!=null)throw new Error(`Backend '${this.backendName}' has not yet been initialized. Make sure to await tf.ready() or await tf.setBackend() before calling other methods`);if(this.backendInstance==null){let{name:e,asyncInit:n}=this.initializeBackendsAndReturnBest();if(n)throw new Error(`The highest priority backend '${e}' has not yet been initialized. Make sure to await tf.ready() or await tf.setBackend() before calling other methods`);this.setBackend(e)}return this.backendInstance}backendNames(){return Object.keys(this.registryFactory)}findBackend(e){if(!(e in this.registry))if(e in this.registryFactory){let{asyncInit:n}=this.initializeBackend(e);if(n)return null}else return null;return this.registry[e]}findBackendFactory(e){return e in this.registryFactory?this.registryFactory[e].factory:null}registerBackend(e,n,r=1){return e in this.registryFactory?(Ja(`${e} backend was already registered. Reusing existing backend factory.`),!1):(this.registryFactory[e]={factory:n,priority:r},!0)}setBackend(e){return te(this,null,function*(){if(this.registryFactory[e]==null)throw new Error(`Backend name '${e}' not found in registry`);if(this.backendName=e,this.registry[e]==null){this.backendInstance=null;let{success:n,asyncInit:r}=this.initializeBackend(e);if(!(r?yield n:n))return!1}return this.backendInstance=this.registry[e],this.setupRegisteredKernels(),this.profiler=new Zx(this.backendInstance),!0})}setupRegisteredKernels(){d_(this.backendName).forEach(n=>{n.setupFunc!=null&&n.setupFunc(this.backendInstance)})}disposeRegisteredKernels(e){d_(e).forEach(r=>{r.disposeFunc!=null&&r.disposeFunc(this.registry[e])})}initializeBackend(e){let n=this.registryFactory[e];if(n==null)throw new Error(`Cannot initialize backend ${e}, no registration found.`);try{let r=n.factory();if(r&&!(r instanceof sp)&&typeof r.then=="function"){let o=++this.pendingBackendInitId,s=r.then(a=>o<this.pendingBackendInitId?!1:(this.registry[e]=a,this.pendingBackendInit=null,!0)).catch(a=>(o<this.pendingBackendInitId||(this.pendingBackendInit=null,Ja(`Initialization of backend ${e} failed`),Ja(a.stack||a.message)),!1));return this.pendingBackendInit=s,{success:s,asyncInit:!0}}else return this.registry[e]=r,{success:!0,asyncInit:!1}}catch(r){return Ja(`Initialization of backend ${e} failed`),Ja(r.stack||r.message),{success:!1,asyncInit:!1}}}removeBackend(e){if(!(e in this.registryFactory))throw new Error(`${e} backend not found in registry`);this.backendName===e&&this.pendingBackendInit!=null&&this.pendingBackendInitId++,e in this.registry&&(this.disposeRegisteredKernels(e),this.registry[e].dispose(),delete this.registry[e]),delete this.registryFactory[e],this.backendName===e&&(this.pendingBackendInit=null,this.backendName=null,this.backendInstance=null)}getSortedBackends(){if(Object.keys(this.registryFactory).length===0)throw new Error("No backend found in registry.");return Object.keys(this.registryFactory).sort((e,n)=>this.registryFactory[n].priority-this.registryFactory[e].priority)}initializeBackendsAndReturnBest(){let e=this.getSortedBackends();for(let n=0;n<e.length;n++){let r=e[n],{success:o,asyncInit:s}=this.initializeBackend(r);if(s||o)return{name:r,asyncInit:s}}throw new Error("Could not initialize any backends, all backend initializations failed.")}moveData(e,n){let r=this.state.tensorInfo.get(n),o=r.backend,s=this.readSync(n),a=o.refCount(n);o.disposeData(n,!0),r.backend=e,e.move(n,s,r.shape,r.dtype,a),this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack[this.state.numDataMovesStack.length-1]++}tidy(e,n){let r=null;if(n==null){if(typeof e!="function")throw new Error("Please provide a function to tidy()");n=e}else{if(typeof e!="string"&&!(e instanceof String))throw new Error("When calling with two arguments, the first argument to tidy() must be a string");if(typeof n!="function")throw new Error("When calling with two arguments, the 2nd argument to tidy() must be a function");r=e}let o;return this.scopedRun(()=>this.startScope(r),()=>this.endScope(o),()=>(o=n(),o instanceof Promise&&console.error("Cannot return a Promise inside of tidy."),o))}scopedRun(e,n,r){e();try{let o=r();return n(),o}catch(o){throw n(),o}}nextTensorId(){return i.nextTensorId++}nextVariableId(){return i.nextVariableId++}clone(e){let n=T.runKernel(s_,{x:e}),r={x:e},o=a=>({x:()=>{let c="float32",l={x:a},d={dtype:c};return T.runKernel(o_,l,d)}}),s=[];return this.addTapeNode(this.state.activeScope.name,r,[n],o,s,{}),n}runKernel(e,n,r){if(this.backendName==null&&this.backend,!(ju(e,this.backendName)!=null))throw new Error(`Kernel '${e}' not registered for backend '${this.backendName}'`);return this.runKernelFunc({kernelName:e,inputs:n,attrs:r})}shouldCheckForMemLeaks(){return this.ENV.getBool("IS_TEST")}checkKernelForMemLeak(e,n,r){let o=this.backend.numDataIds(),s=0;r.forEach(l=>{s+=l.dtype==="complex64"?3:1});let a=this.state.numDataMovesStack[this.state.numDataMovesStack.length-1],c=o-n-s-a;if(c>0)throw new Error(`Backend '${this.backendName}' has an internal memory leak (${c} data ids) after running '${e}'`)}runKernelFunc(e){let n,r=[],o=this.isTapeOn(),s=this.state.numBytes,a=this.state.numTensors;this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack.push(0);let c;this.backendName==null&&this.backend;let l,d=hR(e)?e.kernelName:this.state.activeScope!=null?this.state.activeScope.name:"";if(hR(e)){let{kernelName:_,inputs:f,attrs:g}=e;this.backendName==null&&this.backend;let C=ju(_,this.backendName);k(C!=null,()=>`Cannot find registered kernel '${_}' for backend '${this.backendName}'`),c=()=>{let M=this.backend.numDataIds();l=C.kernelFunc({inputs:f,attrs:g,backend:this.backend});let S=Array.isArray(l)?l:[l];this.shouldCheckForMemLeaks()&&this.checkKernelForMemLeak(_,M,S);let R=S.map(N=>N.rank!=null?N:this.makeTensorFromTensorInfo(N));if(o){let N=this.getTensorsForGradient(_,f,R);r=this.saveTensorsForBackwardMode(N)}return R}}else{let{forwardFunc:_}=e,f=g=>{o&&(r=g.map(C=>this.keep(this.clone(C))))};c=()=>{let g=this.backend.numDataIds();l=this.tidy(()=>_(this.backend,f));let C=Array.isArray(l)?l:[l];return this.shouldCheckForMemLeaks()&&this.checkKernelForMemLeak(d,g,C),C}}let{inputs:u,attrs:h}=e,m=hR(e)?null:e.backwardsFunc,p;return this.scopedRun(()=>this.state.kernelDepth++,()=>this.state.kernelDepth--,()=>{!this.ENV.getBool("DEBUG")&&!this.state.profiling?n=c():(p=this.profiler.profileKernel(d,u,()=>c()),this.ENV.getBool("DEBUG")&&this.profiler.logKernelProfile(p),n=p.outputs)}),o&&this.addTapeNode(d,u,n,m,r,h),this.state.profiling&&this.state.activeProfile.kernels.push({name:d,bytesAdded:this.state.numBytes-s,totalBytesSnapshot:this.state.numBytes,tensorsAdded:this.state.numTensors-a,totalTensorsSnapshot:this.state.numTensors,inputShapes:Object.keys(u).map(_=>u[_]!=null?u[_].shape:null),outputShapes:n.map(_=>_.shape),kernelTimeMs:p.timeMs,extraInfo:p.extraInfo}),Array.isArray(l)?n:n[0]}saveTensorsForBackwardMode(e){return e.map(r=>this.keep(this.clone(r)))}getTensorsForGradient(e,n,r){let o=Gx(e);if(o!=null){let s=o.inputsToSave||[],a=o.outputsToSave||[],c;o.saveAllInputs?(k(Array.isArray(n),()=>"saveAllInputs is true, expected inputs to be an array."),c=Object.keys(n).map(d=>n[d])):c=s.map(d=>n[d]);let l=r.filter((d,u)=>a[u]);return c.concat(l)}return[]}makeTensor(e,n,r,o){if(e==null)throw new Error("Values passed to engine.makeTensor() are null");r=r||"float32",o=o||this.backend;let s=e;r==="string"&&sa(e[0])&&(s=e.map(l=>ud(l)));let a=o.write(s,n,r),c=new Oi(n,r,a,this.nextTensorId());if(this.trackTensor(c,o),r==="string"){let l=this.state.tensorInfo.get(a),d=ck(s);this.state.numBytes+=d-l.bytes,l.bytes=d}return c}makeTensorFromDataId(e,n,r,o){r=r||"float32";let s={dataId:e,shape:n,dtype:r};return this.makeTensorFromTensorInfo(s,o)}makeTensorFromTensorInfo(e,n){let{dataId:r,shape:o,dtype:s}=e,a=new Oi(o,s,r,this.nextTensorId());return this.trackTensor(a,n),a}makeVariable(e,n=!0,r,o){r=r||this.nextVariableId().toString(),o!=null&&o!==e.dtype&&(e=e.cast(o));let s=new ec(e,n,r,this.nextTensorId());if(this.state.registeredVariables[s.name]!=null)throw new Error(`Variable with name ${s.name} was already registered`);return this.state.registeredVariables[s.name]=s,this.incRef(s,this.backend),s}trackTensor(e,n){this.state.numTensors++,e.dtype==="string"&&this.state.numStringTensors++;let r=0;e.dtype!=="complex64"&&e.dtype!=="string"&&(r=e.size*cp(e.dtype)),this.state.numBytes+=r,this.state.tensorInfo.has(e.dataId)||(this.state.numDataBuffers++,this.state.tensorInfo.set(e.dataId,{backend:n||this.backend,dtype:e.dtype,shape:e.shape,bytes:r})),e instanceof ec||this.track(e)}incRef(e,n){this.trackTensor(e,n),this.backend.incRef(e.dataId)}removeDataId(e,n){this.state.tensorInfo.has(e)&&this.state.tensorInfo.get(e).backend===n&&(this.state.tensorInfo.delete(e),this.state.numDataBuffers--)}disposeTensor(e){if(!this.state.tensorInfo.has(e.dataId))return;let n=this.state.tensorInfo.get(e.dataId);if(this.state.numTensors--,e.dtype==="string"&&(this.state.numStringTensors--,this.state.numBytes-=n.bytes),e.dtype!=="complex64"&&e.dtype!=="string"){let r=e.size*cp(e.dtype);this.state.numBytes-=r}n.backend.disposeData(e.dataId)&&this.removeDataId(e.dataId,n.backend)}disposeVariables(){for(let e in this.state.registeredVariables){let n=this.state.registeredVariables[e];this.disposeVariable(n)}}disposeVariable(e){this.disposeTensor(e),this.state.registeredVariables[e.name]!=null&&delete this.state.registeredVariables[e.name]}memory(){let e=this.backend.memory();return e.numTensors=this.state.numTensors,e.numDataBuffers=this.state.numDataBuffers,e.numBytes=this.state.numBytes,this.state.numStringTensors>0&&(e.unreliable=!0,e.reasons==null&&(e.reasons=[]),e.reasons.push("Memory usage by string tensors is approximate (2 bytes per character)")),e}profile(e){return te(this,null,function*(){this.state.profiling=!0;let n=this.state.numBytes,r=this.state.numTensors;this.state.activeProfile.kernels=[],this.state.activeProfile.result=yield e(),this.state.profiling=!1,this.state.activeProfile.peakBytes=Math.max(...this.state.activeProfile.kernels.map(o=>o.totalBytesSnapshot)),this.state.activeProfile.newBytes=this.state.numBytes-n,this.state.activeProfile.newTensors=this.state.numTensors-r;for(let o of this.state.activeProfile.kernels)o.kernelTimeMs=yield o.kernelTimeMs,o.extraInfo=yield o.extraInfo;return this.state.activeProfile})}isTapeOn(){return this.state.gradientDepth>0&&this.state.kernelDepth===0}addTapeNode(e,n,r,o,s,a){let c={id:this.state.nextTapeNodeId++,kernelName:e,inputs:n,outputs:r,saved:s},l=Gx(e);l!=null&&(o=l.gradFunc),o!=null&&(c.gradient=d=>(d=d.map((u,h)=>{if(u==null){let m=r[h],p=dp(m.size,m.dtype);return this.makeTensor(p,m.shape,m.dtype)}return u}),o(d.length>1?d:d[0],s,a))),this.state.activeTape.push(c)}keep(e){return e.kept=!0,e}startTape(){this.state.gradientDepth===0&&(this.state.activeTape=[]),this.state.gradientDepth++}endTape(){this.state.gradientDepth--}startScope(e){let n={track:[],name:"unnamed scope",id:this.state.nextScopeId++};e&&(n.name=e),this.state.scopeStack.push(n),this.state.activeScope=n}endScope(e){let n=f_(e),r=new Set(n.map(s=>s.id));for(let s=0;s<this.state.activeScope.track.length;s++){let a=this.state.activeScope.track[s];!a.kept&&!r.has(a.id)&&a.dispose()}let o=this.state.scopeStack.pop();this.state.activeScope=this.state.scopeStack.length===0?null:this.state.scopeStack[this.state.scopeStack.length-1],n.forEach(s=>{!s.kept&&s.scopeId===o.id&&this.track(s)})}gradients(e,n,r,o=!1){if(k(n.length>0,()=>"gradients() received an empty list of xs."),r!=null&&r.dtype!=="float32")throw new Error(`dy must have 'float32' dtype, but has '${r.dtype}'`);let s=this.scopedRun(()=>this.startTape(),()=>this.endTape(),()=>this.tidy("forward",e));k(s instanceof Oi,()=>"The result y returned by f() must be a tensor.");let a=Pj(this.state.activeTape,n,s);if(!o&&a.length===0&&n.length>0)throw new Error("Cannot compute gradient of y=f(x) with respect to x. Make sure that the f you passed encloses all operations that lead from x to y.");return this.tidy("backward",()=>{let c={};c[s.id]=r??cue(s.shape),Rj(c,a,d=>this.tidy(d),lue);let l=n.map(d=>c[d.id]);return this.state.gradientDepth===0&&(this.state.activeTape.forEach(d=>{for(let u of d.saved)u.dispose()}),this.state.activeTape=null),{value:s,grads:l}})}customGrad(e){return k(Ka(e),()=>"The f passed in customGrad(f) must be a function."),(...n)=>{k(n.every(c=>c instanceof Oi),()=>"The args passed in customGrad(f)(x1, x2,...) must all be tensors");let r,o={};n.forEach((c,l)=>{o[l]=c});let s=(c,l)=>(r=e(...n,l),k(r.value instanceof Oi,()=>"The function f passed in customGrad(f) must return an object where `obj.value` is a tensor"),k(Ka(r.gradFunc),()=>"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function."),r.value),a=(c,l)=>{let d=r.gradFunc(c,l),u=Array.isArray(d)?d:[d];k(u.length===n.length,()=>"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns the same number of tensors as inputs passed to f(...)."),k(u.every(m=>m instanceof Oi),()=>"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns a list of only tensors.");let h={};return u.forEach((m,p)=>{h[p]=()=>m}),h};return this.runKernelFunc({forwardFunc:s,backwardsFunc:a,inputs:o})}}readSync(e){return this.state.tensorInfo.get(e).backend.readSync(e)}read(e){return this.state.tensorInfo.get(e).backend.read(e)}readToGPU(e,n){return this.state.tensorInfo.get(e).backend.readToGPU(e,n)}time(e){return te(this,null,function*(){let n=Xu(),r=yield this.backend.time(e);return r.wallMs=Xu()-n,r})}track(e){return this.state.activeScope!=null&&(e.scopeId=this.state.activeScope.id,this.state.activeScope.track.push(e)),e}get registeredVariables(){return this.state.registeredVariables}reset(){this.pendingBackendInitId++,this.state.dispose(),this.ENV.reset(),this.state=new ew;for(let e in this.registry)this.disposeRegisteredKernels(e),this.registry[e].dispose(),delete this.registry[e];this.backendName=null,this.backendInstance=null,this.pendingBackendInit=null}}return i.nextTensorId=0,i.nextVariableId=0,i})();T=mR()});var tw={};Mi(tw,{isBrowser:()=>fR,isMobile:()=>hue,mockIsMobile:()=>uue});function due(){return typeof navigator<"u"&&navigator!=null}function uue(i){pR=i}function hue(i){if(pR!==void 0)return pR;if(i||due()){if(i||(i=navigator),i.product==="ReactNative")return!0;let t=i.userAgent||i.vendor||(typeof window<"u"?window.opera:"");if(!t){let e=i;return e.userAgentData&&e.userAgentData.mobile}return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t.substr(0,4))}return!1}function fR(){return typeof window<"u"&&window.document!=null||typeof WorkerGlobalScope<"u"}var pR,gR=I(()=>{"use strict";});var Io,vp=I(()=>{"use strict";X();gR();yr();Io=ot();Io.registerFlag("DEBUG",()=>!1,i=>{i&&console.warn("Debugging mode is ON. The output of every math call will be downloaded to CPU and checked for NaNs. This significantly impacts performance.")});Io.registerFlag("IS_BROWSER",()=>fR());Io.registerFlag("IS_NODE",()=>typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u");Io.registerFlag("IS_CHROME",()=>typeof navigator<"u"&&navigator!=null&&navigator.userAgent!=null&&/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor));Io.registerFlag("IS_SAFARI",()=>typeof navigator<"u"&&navigator!=null&&navigator.userAgent!=null&&/Safari/.test(navigator.userAgent)&&/Apple/.test(navigator.vendor));Io.registerFlag("PROD",()=>!1);Io.registerFlag("TENSORLIKE_CHECK_SHAPE_CONSISTENCY",()=>Io.getBool("DEBUG"));Io.registerFlag("DEPRECATION_WARNINGS_ENABLED",()=>!0);Io.registerFlag("IS_TEST",()=>!1);Io.registerFlag("CHECK_COMPUTATION_FOR_ERRORS",()=>Io.getBool("DEBUG"));Io.registerFlag("WRAP_TO_IMAGEBITMAP",()=>!1);Io.registerFlag("CANVAS2D_WILL_READ_FREQUENTLY_FOR_GPU",()=>!1);Io.registerFlag("USE_SETTIMEOUTCUSTOM",()=>!1)});function Pr(i,t){let e=i;if(On(i))return t==="string"?[]:[i.length];if(Qx(i)){let r=i.channels||"RGBA";return[i.height,i.width*r.length]}else if(Jx(i))return[i.buffer.size/(t==null?4:cp(t))];if(!Array.isArray(i))return[];let n=[];for(;Array.isArray(e)||On(e)&&t!=="string";)n.push(e.length),e=e[0];return Array.isArray(i)&&ot().getBool("TENSORLIKE_CHECK_SHAPE_CONSISTENCY")&&Yj(i,n,[]),n}function Yj(i,t,e){if(e=e||[],!Array.isArray(i)&&!On(i)){k(t.length===0,()=>`Element arr[${e.join("][")}] is a primitive, but should be an array/TypedArray of ${t[0]} elements`);return}k(t.length>0,()=>`Element arr[${e.join("][")}] should be a primitive, but is an array of ${i.length} elements`),k(i.length===t[0],()=>`Element arr[${e.join("][")}] should have ${t[0]} elements, but has ${i.length} elements`);let n=t.slice(1);for(let r=0;r<i.length;++r)Yj(i[r],n,e.concat(r))}function Xj(i,t,e,n){if(i!=="string_or_numeric"){if(i==null)throw new Error("Expected dtype cannot be null.");if(i!=="numeric"&&i!==t||i==="numeric"&&t==="string")throw new Error(`Argument '${e}' passed to '${n}' must be ${i} tensor, but got ${t} tensor`)}}function v(i,t,e,n="numeric"){if(i instanceof cR())return Xj(n,i.dtype,t,e),i;let r=ld(i);if(r!=="string"&&["bool","int32","float32"].indexOf(n)>=0&&(r=n),Xj(n,r,t,e),i==null||!On(i)&&!Array.isArray(i)&&typeof i!="number"&&typeof i!="boolean"&&typeof i!="string"){let c=i==null?"null":i.constructor.name;throw new Error(`Argument '${t}' passed to '${e}' must be a Tensor or TensorLike, but got '${c}'`)}let o=Pr(i,r);!On(i)&&!Array.isArray(i)&&(i=[i]);let a=r!=="string"?fp(i,r):ca(i,[],!0);return T.makeTensor(a,o,r)}function Jc(i,t,e,n="numeric"){if(!Array.isArray(i))throw new Error(`Argument ${t} passed to ${e} must be a \`Tensor[]\` or \`TensorLike[]\``);return i.map((o,s)=>v(o,`${t}[${s}]`,e,n))}var $=I(()=>{"use strict";X();yr();ms();bp();pe();ar();});function w(i){let t=Object.keys(i);if(t.length!==1)throw new Error(`Please provide an object with a single key (operation name) mapping to a function. Got an object with ${t.length} keys.`);let e=t[0],n=i[e];e.endsWith("_")&&(e=e.substring(0,e.length-1)),e=e+iw;let r=(...o)=>{T.startScope(e);try{let s=n(...o);return Hu(s)&&console.error("Cannot return a Promise inside of tidy."),T.endScope(s),s}catch(s){throw T.endScope(null),s}};return Object.defineProperty(r,"name",{value:e,configurable:!0}),r}var iw,H=I(()=>{"use strict";X();pe();iw="__op"});function mue(i,t){let e=v(i,"real","complex"),n=v(t,"imag","complex");ln(e.shape,n.shape,`real and imag shapes, ${e.shape} and ${n.shape}, must match in call to tf.complex().`);let r={real:e,imag:n};return T.runKernel(Rk,r)}var no,hd=I(()=>{"use strict";X();ee();$();pe();H();no=w({complex_:mue})});function ro(i,t,e,n){if(n==null)n=ld(i);else if(n==="complex64")throw new Error("Cannot construct a complex64 tensor directly. Please use tf.complex(real, imag).");if(Jx(i)||Qx(i)){if(n!=="float32"&&n!=="int32")throw new Error(`Creating tensor from GPU data only supports 'float32'|'int32' dtype, while the dtype is ${n}.`);return T.backend.createTensorFromGPUData(i,t||e,n)}if(!On(i)&&!Array.isArray(i)&&typeof i!="number"&&typeof i!="boolean"&&typeof i!="string")throw new Error("values passed to tensor(values) must be a number/boolean/string or an array of numbers/booleans/strings, or a TypedArray");if(t!=null){fn(t);let r=oi(t),o=oi(e);k(r===o,()=>`Based on the provided shape, [${t}], the tensor should have ${r} values but has ${o}`);for(let s=0;s<e.length;++s){let a=e[s],c=s===e.length-1?a!==oi(t.slice(s)):!0;k(e[s]===t[s]||!c,()=>`Error creating a new Tensor. Inferred shape (${e}) does not match the provided shape (${t}). `)}}return!On(i)&&!Array.isArray(i)&&(i=[i]),t=t||e,i=n!=="string"?fp(i,n):ca(i,[],!0),T.makeTensor(i,t,n)}var el=I(()=>{"use strict";X();bp();pe();});function Hr(i,t,e){let n=Pr(i,e);return ro(i,t,n,e)}var g_=I(()=>{"use strict";$();el();});var tl,_R=I(()=>{"use strict";tl={float32:4,float16:2,int32:4,uint16:2,uint8:1,bool:1,complex64:8}});function pue(i,t){let e=0,n=i.length;for(;e<=n;){let r=Math.floor((n-e)/2)+e,o=t(i[r]);if(o===0)return r;o<0?n=r:e=r+1}return-1}var Rr,md=I(()=>{"use strict";pe();Rr=class i{static join(t){return new i(t).slice()}constructor(t){if(this.shards=[],this.previousShardIndex=0,t==null||(t instanceof Array||(t=[t]),t=t.map(n=>On(n)?n.buffer:n),t.length===0))return;this.bufferUniformSize=t[0].byteLength;let e=0;for(let n=0;n<t.length;n++){let r=t[n];n!==t.length-1&&r.byteLength!==this.bufferUniformSize&&(this.bufferUniformSize=void 0);let o=e+r.byteLength;this.shards.push({buffer:r,start:e,end:o}),e=o}this.shards.length===0&&(this.byteLength=0),this.byteLength=this.shards[this.shards.length-1].end}slice(t=0,e=this.byteLength){if(this.shards.length===0)return new ArrayBuffer(0);if(t=isNaN(Number(t))?0:t,e=isNaN(Number(e))?0:e,t=Math.max(0,t),e=Math.min(this.byteLength,e),e<=t)return new ArrayBuffer(0);let n=this.findShardForByte(t);if(n===-1)throw new Error(`Could not find start shard for byte ${t}`);let r=e-t,o=new ArrayBuffer(r),s=new Uint8Array(o),a=0;for(let c=n;c<this.shards.length;c++){let l=this.shards[c],u=t+a-l.start,h=a,p=Math.min(e,l.end)-l.start,_=new Uint8Array(l.buffer,u,p-u);if(s.set(_,h),a+=_.length,e<l.end)break}return o}findShardForByte(t){if(this.shards.length===0||t<0||t>=this.byteLength)return-1;if(this.bufferUniformSize!=null)return this.previousShardIndex=Math.floor(t/this.bufferUniformSize),this.previousShardIndex;function e(r){return t<r.start?-1:t>=r.end?1:0}if(e(this.shards[this.previousShardIndex])===0)return this.previousShardIndex;let n=pue(this.shards,e);return n===-1?-1:(this.previousShardIndex=n,this.previousShardIndex)}}});function fue(){ot().set("PROD",!0)}function gue(){ot().set("DEBUG",!0)}function _ue(){ot().set("DEPRECATION_WARNINGS_ENABLED",!1),console.warn("TensorFlow.js deprecation warnings have been disabled.")}function Zj(i){ot().getBool("DEPRECATION_WARNINGS_ENABLED")&&console.warn(i+" You can disable deprecation warnings with tf.disableDeprecationWarnings().")}function bue(){T.disposeVariables()}function vue(){return T}function yue(){return T.memory()}function xue(i){return T.profile(i)}function Qt(i,t){return T.tidy(i,t)}function Dn(i){f_(i).forEach(e=>e.dispose())}function oo(i){return T.keep(i)}function wue(i){return T.time(i)}function Mue(i){return T.setBackend(i)}function Cue(){return T.ready()}function bR(){return T.backendName}function Sue(i){T.removeBackend(i)}function Eue(i){return T.findBackend(i)}function Tue(i){return T.findBackendFactory(i)}function Iue(i,t,e=1){return T.registerBackend(i,t,e)}function vR(){return T.backend}function Due(i,t){ot().setPlatform(i,t)}var Wo=I(()=>{"use strict";X();yr();ms();_n();zj(Zj)});function Jj(i,t){return te(this,null,function*(){let e=[],n=[],r=Array.isArray(i)?i.map(s=>s.name):Object.keys(i);for(let s=0;s<r.length;++s){let a=r[s],c=Array.isArray(i)?i[s].tensor:i[a];if(c.dtype!=="float32"&&c.dtype!=="int32"&&c.dtype!=="bool"&&c.dtype!=="string"&&c.dtype!=="complex64")throw new Error(`Unsupported dtype in weight '${a}': ${c.dtype}`);let l={name:a,shape:c.shape,dtype:c.dtype};if(c.dtype==="string"){let d=new Promise(u=>te(this,null,function*(){let h=yield c.bytes(),m=h.reduce((f,g)=>f+g.length,0)+pd*h.length,p=new Uint8Array(m),_=0;for(let f=0;f<h.length;f++){let g=h[f],C=new Uint8Array(new Uint32Array([g.length]).buffer);p.set(C,_),_+=pd,p.set(g,_),_+=g.length}u(p)}));n.push(d)}else n.push(c.data());t!=null&&(l.group=t),e.push(l)}let o=yield Promise.all(n);return{data:Pue(o),specs:e}})}function nw(i,t){let e=new Rr(i),n={},r=0;for(let o of t){let s=kue(o,(a,c)=>e.slice(r+a,r+c));n[o.name]=e8(o,e.slice(r,r+s)),r+=s}return n}function kue(i,t){let e=oi(i.shape),n;if("quantization"in i){let r=i.quantization;n=tl[r.dtype]}else if(i.dtype==="string"){let r=0;for(let o=0;o<e;o++)r+=pd+new Uint32Array(t(r,r+pd))[0];return r}else n=tl[i.dtype];return e*n}function Aue(i,t){return te(this,null,function*(){let e=oi(i.shape),n;if("quantization"in i){let r=i.quantization;n=tl[r.dtype]}else if(i.dtype==="string"){let r=0;for(let o=0;o<e;o++)r+=pd+new Uint32Array(yield t(r,r+pd))[0];return r}else n=tl[i.dtype];return e*n})}function e8(i,t){let e=i.name,n=i.dtype,r=i.shape,o=oi(r),s,a=0;if("quantization"in i){let c=i.quantization;if(c.dtype==="uint8"||c.dtype==="uint16"){if(!("min"in c&&"scale"in c))throw new Error(`Weight ${i.name} with quantization ${c.dtype} doesn't have corresponding metadata min and scale.`)}else if(c.dtype==="float16"){if(n!=="float32")throw new Error(`Weight ${i.name} is quantized with ${c.dtype} which only supports weights of type float32 not ${n}.`)}else throw new Error(`Weight ${i.name} has unknown quantization dtype ${c.dtype}. Supported quantization dtypes are: 'uint8', 'uint16', and 'float16'.`);let l=tl[c.dtype],d=c.dtype==="uint8"?new Uint8Array(t):new Uint16Array(t);if(n==="float32")if(c.dtype==="uint8"||c.dtype==="uint16"){s=new Float32Array(d.length);for(let u=0;u<d.length;u++){let h=d[u];s[u]=h*c.scale+c.min}}else if(c.dtype==="float16")s=Fue()(d);else throw new Error(`Unsupported quantization type ${c.dtype} for weight type float32.`);else if(n==="int32"){if(c.dtype!=="uint8"&&c.dtype!=="uint16")throw new Error(`Unsupported quantization type ${c.dtype} for weight type int32.`);s=new Int32Array(d.length);for(let u=0;u<d.length;u++){let h=d[u];s[u]=Math.round(h*c.scale+c.min)}}else throw new Error(`Unsupported dtype in weight '${e}': ${n}`);a+=o*l}else if(n==="string"){let c=oi(i.shape);s=[];for(let l=0;l<c;l++){let d=new Uint32Array(t.slice(a,a+pd))[0];a+=pd;let u=new Uint8Array(t.slice(a,a+d));s.push(u),a+=d}}else{let c=tl[n];if(n==="float32")s=new Float32Array(t);else if(n==="int32")s=new Int32Array(t);else if(n==="bool")s=new Uint8Array(t);else if(n==="complex64"){s=new Float32Array(t);let l=new Float32Array(s.length/2),d=new Float32Array(s.length/2);for(let p=0;p<l.length;p++)l[p]=s[p*2],d[p]=s[p*2+1];let u=Hr(l,r,"float32"),h=Hr(d,r,"float32"),m=no(u,h);return u.dispose(),h.dispose(),m}else throw new Error(`Unsupported dtype in weight '${e}': ${n}`);a+=o*c}return Hr(s,r,n)}function Kj(i,t,e){return te(this,null,function*(){let n=new Uint8Array(t);for(;n.byteLength<e;){let{done:r,value:o}=yield i.read();if(r&&o==null){let a=e-n.byteLength;throw new Error(`Reader is done but ${a} bytes are still expected`)}let s=new Uint8Array(n.length+o.byteLength);s.set(n,0),s.set(new Uint8Array(o),n.length),n=s}return n.buffer})}function rw(i,t){return te(this,null,function*(){let e={},n=i.getReader(),r=new ArrayBuffer(0);for(let o of t){let s=yield Aue(o,(l,d)=>te(this,null,function*(){return r=yield Kj(n,r,d),r.slice(l,d)}));r=yield Kj(n,r,s);let a=r.slice(0,s);r=r.slice(s);let c=e8(o,a);if(e[o.name]=c,bR()==="webgpu"){let l=vR();"uploadToGPU"in l&&oi(c.shape)>=ot().get("WEBGPU_CPU_HANDOFF_SIZE_THRESHOLD")&&l.uploadToGPU(c.dataId)}}return e})}function Pue(i){if(i===null)throw new Error(`Invalid input value: ${JSON.stringify(i)}`);let t=0,e=[];i.forEach(o=>{if(t+=o.byteLength,e.push(o.byteLength===o.buffer.byteLength?o:new o.constructor(o)),!(o instanceof Float32Array||o instanceof Int32Array||o instanceof Uint8Array))throw new Error(`Unsupported TypedArray subtype: ${o.constructor.name}`)});let n=new Uint8Array(t),r=0;return e.forEach(o=>{n.set(new Uint8Array(o.buffer),r),r+=o.byteLength}),n.buffer}function Qj(i){return yR?Buffer.byteLength(i,"utf8"):new Blob([i]).size}function t8(i){if(yR)return Buffer.from(i).toString("base64");let t=new Uint8Array(i),e="";for(let n=0,r=t.length;n<r;n++)e+=String.fromCharCode(t[n]);return btoa(e)}function i8(i){if(yR){let n=Buffer.from(i,"base64");return n.buffer.slice(n.byteOffset,n.byteOffset+n.byteLength)}let t=atob(i),e=new Uint8Array(t.length);for(let n=0;n<t.length;++n)e.set([t.charCodeAt(n)],n);return e.buffer}function n8(i){return Rr.join(i)}function xR(i){let t="/";for(i=i.trim();i.endsWith(t);)i=i.slice(0,i.length-1);let e=i.split(t);return e[e.length-1]}function ow(i,t){let e={modelTopology:i.modelTopology,format:i.format,generatedBy:i.generatedBy,convertedBy:i.convertedBy,weightsManifest:t};return i.signature!=null&&(e.signature=i.signature),i.userDefinedMetadata!=null&&(e.userDefinedMetadata=i.userDefinedMetadata),i.modelInitializer!=null&&(e.modelInitializer=i.modelInitializer),i.initializerSignature!=null&&(e.initializerSignature=i.initializerSignature),i.trainingConfig!=null&&(e.trainingConfig=i.trainingConfig),e}function wR(i,t,e){let n={modelTopology:i.modelTopology,format:i.format,generatedBy:i.generatedBy,convertedBy:i.convertedBy};if(i.trainingConfig!=null&&(n.trainingConfig=i.trainingConfig),i.weightsManifest!=null){if(!t)throw new Error("modelJSON has weightsManifest but weightSpecs is null");if(!e)throw new Error("modelJSON has weightsManifest but weightData is null");n.weightSpecs=t,n.weightData=e}return i.signature!=null&&(n.signature=i.signature),i.userDefinedMetadata!=null&&(n.userDefinedMetadata=i.userDefinedMetadata),i.modelInitializer!=null&&(n.modelInitializer=i.modelInitializer),i.initializerSignature!=null&&(n.initializerSignature=i.initializerSignature),n}function yp(i,t){return te(this,null,function*(){let e,n;return i.weightsManifest!=null&&([e,n]=yield t(i.weightsManifest)),wR(i,e,n)})}function tc(i){if(i.modelTopology instanceof ArrayBuffer)throw new Error("Expected JSON model topology, received ArrayBuffer.");return{dateSaved:new Date,modelTopologyType:"JSON",modelTopologyBytes:i.modelTopology==null?0:Qj(JSON.stringify(i.modelTopology)),weightSpecsBytes:i.weightSpecs==null?0:Qj(JSON.stringify(i.weightSpecs)),weightDataBytes:i.weightData==null?0:new Rr(i.weightData).byteLength}}function __(i){let t=[];for(let e of i)t.push(...e.weights);return t}function Rue(){let i=e=>{let n=e<<13,r=0;for(;!(n&8388608);)r-=8388608,n<<=1;return n&=-8388609,r+=947912704,n|r},t=new Uint32Array(2048);t[0]=0;for(let e=1;e<1024;e++)t[e]=i(e);for(let e=1024;e<2048;e++)t[e]=939524096+(e-1024<<13);return t}function Nue(){let i=new Uint32Array(64);i[0]=0,i[31]=1199570944,i[32]=2147483648,i[63]=3347054592;for(let t=1;t<31;t++)i[t]=t<<23;for(let t=33;t<63;t++)i[t]=2147483648+(t-32<<23);return i}function Oue(){let i=new Uint32Array(64);for(let t=0;t<64;t++)i[t]=1024;return i[0]=i[32]=0,i}function Fue(){let i=Rue(),t=Nue(),e=Oue();return n=>{let r=new ArrayBuffer(4*n.length),o=new Uint32Array(r);for(let s=0;s<n.length;s++){let a=n[s],c=i[e[a>>10]+(a&1023)]+t[a>>10];o[s]=c}return new Float32Array(r)}}var pd,yR,fd=I(()=>{"use strict";hd();g_();pe();_R();md();Wo();yr();Wo();pd=4;yR=typeof Buffer<"u"&&(typeof Blob>"u"||typeof atob>"u"||typeof btoa>"u")});var cr,r8,o8,s8,a8,Zu=I(()=>{"use strict";cr=class i{constructor(){this.saveRouters=[],this.loadRouters=[]}static getInstance(){return i.instance==null&&(i.instance=new i),i.instance}static registerSaveRouter(t){i.getInstance().saveRouters.push(t)}static registerLoadRouter(t){i.getInstance().loadRouters.push(t)}static getSaveHandlers(t){return i.getHandlers(t,"save")}static getLoadHandlers(t,e){return i.getHandlers(t,"load",e)}static getHandlers(t,e,n){let r=[];return(e==="load"?i.getInstance().loadRouters:i.getInstance().saveRouters).forEach(s=>{let a=s(t,n);a!==null&&r.push(a)}),r}},r8=i=>cr.registerSaveRouter(i),o8=i=>cr.registerLoadRouter(i),s8=i=>cr.getSaveHandlers(i),a8=(i,t)=>cr.getLoadHandlers(i,t)});function c8(){if(!ot().getBool("IS_BROWSER"))throw new Error("Failed to obtain IndexedDB factory because the current environmentis not a web browser.");let i=typeof window>"u"?self:window,t=i.indexedDB||i.mozIndexedDB||i.webkitIndexedDB||i.msIndexedDB||i.shimIndexedDB;if(t==null)throw new Error("The current browser does not appear to support IndexedDB.");return t}function SR(i){let t=i.result;t.createObjectStore(Ku,{keyPath:"modelPath"}),t.createObjectStore(gd,{keyPath:"modelPath"})}function Lue(i){return new Qu(i)}function Bue(i){return i.startsWith(Qu.URL_SCHEME)?i.slice(Qu.URL_SCHEME.length):i}var MR,CR,Ku,gd,Qu,l8,sw,ER=I(()=>{"use strict";vp();yr();fd();Zu();md();MR="tensorflowjs",CR=1,Ku="models_store",gd="model_info_store";Qu=(()=>{class i{constructor(e){if(this.indexedDB=c8(),e==null||!e)throw new Error("For IndexedDB, modelPath must not be null, undefined or empty.");this.modelPath=e}save(e){return te(this,null,function*(){if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");return this.databaseAction(this.modelPath,e)})}load(){return te(this,null,function*(){return this.databaseAction(this.modelPath)})}databaseAction(e,n){return new Promise((r,o)=>{let s=this.indexedDB.open(MR,CR);s.onupgradeneeded=()=>SR(s),s.onsuccess=()=>{let a=s.result;if(n==null){let c=a.transaction(Ku,"readonly"),d=c.objectStore(Ku).get(this.modelPath);d.onsuccess=()=>{if(d.result==null)return a.close(),o(new Error(`Cannot find model with path '${this.modelPath}' in IndexedDB.`));r(d.result.modelArtifacts)},d.onerror=u=>(a.close(),o(d.error)),c.oncomplete=()=>a.close()}else{n.weightData=Rr.join(n.weightData);let c=tc(n),l=a.transaction(gd,"readwrite"),d=l.objectStore(gd),u;try{u=d.put({modelPath:this.modelPath,modelArtifactsInfo:c})}catch(m){return o(m)}let h;u.onsuccess=()=>{h=a.transaction(Ku,"readwrite");let m=h.objectStore(Ku),p;try{p=m.put({modelPath:this.modelPath,modelArtifacts:n,modelArtifactsInfo:c})}catch(_){return o(_)}p.onsuccess=()=>r({modelArtifactsInfo:c}),p.onerror=_=>{d=l.objectStore(gd);let f=d.delete(this.modelPath);f.onsuccess=()=>(a.close(),o(p.error)),f.onerror=g=>(a.close(),o(p.error))}},u.onerror=m=>(a.close(),o(u.error)),l.oncomplete=()=>{h==null?a.close():h.oncomplete=()=>a.close()}}},s.onerror=a=>o(s.error)})}}return i.URL_SCHEME="indexeddb://",i})(),l8=i=>ot().getBool("IS_BROWSER")&&!Array.isArray(i)&&i.startsWith(Qu.URL_SCHEME)?Lue(i.slice(Qu.URL_SCHEME.length)):null;cr.registerSaveRouter(l8);cr.registerLoadRouter(l8);sw=class{constructor(){this.indexedDB=c8()}listModels(){return te(this,null,function*(){return new Promise((t,e)=>{let n=this.indexedDB.open(MR,CR);n.onupgradeneeded=()=>SR(n),n.onsuccess=()=>{let r=n.result,o=r.transaction(gd,"readonly"),a=o.objectStore(gd).getAll();a.onsuccess=()=>{let c={};for(let l of a.result)c[l.modelPath]=l.modelArtifactsInfo;t(c)},a.onerror=c=>(r.close(),e(a.error)),o.oncomplete=()=>r.close()},n.onerror=r=>e(n.error)})})}removeModel(t){return te(this,null,function*(){return t=Bue(t),new Promise((e,n)=>{let r=this.indexedDB.open(MR,CR);r.onupgradeneeded=()=>SR(r),r.onsuccess=()=>{let o=r.result,s=o.transaction(gd,"readwrite"),a=s.objectStore(gd),c=a.get(t),l;c.onsuccess=()=>{if(c.result==null)return o.close(),n(new Error(`Cannot find model with path '${t}' in IndexedDB.`));{let d=a.delete(t),u=()=>{l=o.transaction(Ku,"readwrite");let m=l.objectStore(Ku).delete(t);m.onsuccess=()=>e(c.result.modelArtifactsInfo),m.onerror=p=>n(c.error)};d.onsuccess=u,d.onerror=h=>(u(),o.close(),n(c.error))}},c.onerror=d=>(o.close(),n(c.error)),s.oncomplete=()=>{l==null?o.close():l.oncomplete=()=>o.close()}},r.onerror=o=>n(r.error)})})}}});function u8(i){return{info:[xp,i,d8].join(il),topology:[xp,i,Vue].join(il),weightSpecs:[xp,i,Uue].join(il),weightData:[xp,i,zue].join(il),modelMetadata:[xp,i,Hue].join(il)}}function h8(i){for(let t of Object.values(i))window.localStorage.removeItem(t)}function jue(i){let t=i.split(il);if(t.length<3)throw new Error(`Invalid key format: ${i}`);return t.slice(1,t.length-1).join(il)}function $ue(i){return i.startsWith(Ju.URL_SCHEME)?i.slice(Ju.URL_SCHEME.length):i}function Gue(i){return new Ju(i)}var il,xp,d8,Vue,Uue,zue,Hue,Ju,m8,aw,TR=I(()=>{"use strict";vp();yr();pe();fd();md();Zu();il="/",xp="tensorflowjs_models",d8="info",Vue="model_topology",Uue="weight_specs",zue="weight_data",Hue="model_metadata";Ju=(()=>{class i{constructor(e){if(!ot().getBool("IS_BROWSER")||typeof window>"u"||typeof window.localStorage>"u")throw new Error("The current environment does not support local storage.");if(this.LS=window.localStorage,e==null||!e)throw new Error("For local storage, modelPath must not be null, undefined or empty.");this.modelPath=e,this.keys=u8(this.modelPath)}save(e){return te(this,null,function*(){if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");{let n=JSON.stringify(e.modelTopology),r=JSON.stringify(e.weightSpecs),o=tc(e),s=Rr.join(e.weightData);try{this.LS.setItem(this.keys.info,JSON.stringify(o)),this.LS.setItem(this.keys.topology,n),this.LS.setItem(this.keys.weightSpecs,r),this.LS.setItem(this.keys.weightData,t8(s));let a={format:e.format,generatedBy:e.generatedBy,convertedBy:e.convertedBy,signature:e.signature!=null?e.signature:void 0,userDefinedMetadata:e.userDefinedMetadata!=null?e.userDefinedMetadata:void 0,modelInitializer:e.modelInitializer!=null?e.modelInitializer:void 0,initializerSignature:e.initializerSignature!=null?e.initializerSignature:void 0,trainingConfig:e.trainingConfig!=null?e.trainingConfig:void 0};return this.LS.setItem(this.keys.modelMetadata,JSON.stringify(a)),{modelArtifactsInfo:o}}catch{throw h8(this.keys),new Error(`Failed to save model '${this.modelPath}' to local storage: size quota being exceeded is a possible cause of this failure: modelTopologyBytes=${o.modelTopologyBytes}, weightSpecsBytes=${o.weightSpecsBytes}, weightDataBytes=${o.weightDataBytes}.`)}}})}load(){return te(this,null,function*(){let e=JSON.parse(this.LS.getItem(this.keys.info));if(e==null)throw new Error(`In local storage, there is no model with name '${this.modelPath}'`);if(e.modelTopologyType!=="JSON")throw new Error("BrowserLocalStorage does not support loading non-JSON model topology yet.");let n={},r=JSON.parse(this.LS.getItem(this.keys.topology));if(r==null)throw new Error(`In local storage, the topology of model '${this.modelPath}' is missing.`);n.modelTopology=r;let o=JSON.parse(this.LS.getItem(this.keys.weightSpecs));if(o==null)throw new Error(`In local storage, the weight specs of model '${this.modelPath}' are missing.`);n.weightSpecs=o;let s=this.LS.getItem(this.keys.modelMetadata);if(s!=null){let c=JSON.parse(s);n.format=c.format,n.generatedBy=c.generatedBy,n.convertedBy=c.convertedBy,c.signature!=null&&(n.signature=c.signature),c.userDefinedMetadata!=null&&(n.userDefinedMetadata=c.userDefinedMetadata),c.modelInitializer!=null&&(n.modelInitializer=c.modelInitializer),c.initializerSignature!=null&&(n.initializerSignature=c.initializerSignature),c.trainingConfig!=null&&(n.trainingConfig=c.trainingConfig)}let a=this.LS.getItem(this.keys.weightData);if(a==null)throw new Error(`In local storage, the binary weight values of model '${this.modelPath}' are missing.`);return n.weightData=i8(a),n})}}return i.URL_SCHEME="localstorage://",i})(),m8=i=>ot().getBool("IS_BROWSER")&&!Array.isArray(i)&&i.startsWith(Ju.URL_SCHEME)?Gue(i.slice(Ju.URL_SCHEME.length)):null;cr.registerSaveRouter(m8);cr.registerLoadRouter(m8);aw=class{constructor(){k(ot().getBool("IS_BROWSER"),()=>"Current environment is not a web browser"),k(typeof window>"u"||typeof window.localStorage<"u",()=>"Current browser does not appear to support localStorage"),this.LS=window.localStorage}listModels(){return te(this,null,function*(){let t={},e=xp+il,n=il+d8;for(let r=0;r<this.LS.length;++r){let o=this.LS.key(r);if(o.startsWith(e)&&o.endsWith(n)){let s=jue(o);t[s]=JSON.parse(this.LS.getItem(o))}}return t})}removeModel(t){return te(this,null,function*(){t=$ue(t);let e=u8(t);if(this.LS.getItem(e.info)==null)throw new Error(`Cannot find model at path '${t}'`);let n=JSON.parse(this.LS.getItem(e.info));return h8(e),n})}}});function cw(i){if(i.indexOf(wp)===-1)throw new Error(`The url string provided does not contain a scheme. Supported schemes are: ${da.getSchemes().join(",")}`);return{scheme:i.split(wp)[0],path:i.split(wp)[1]}}function p8(i,t,e=!1){return te(this,null,function*(){k(i!==t,()=>`Old path and new path are the same: '${i}'`);let n=cr.getLoadHandlers(i);k(n.length>0,()=>`Copying failed because no load handler is found for source URL ${i}.`),k(n.length<2,()=>`Copying failed because more than one (${n.length}) load handlers for source URL ${i}.`);let r=n[0],o=cr.getSaveHandlers(t);k(o.length>0,()=>`Copying failed because no save handler is found for destination URL ${t}.`),k(o.length<2,()=>`Copying failed because more than one (${n.length}) save handlers for destination URL ${t}.`);let s=o[0],a=cw(i).scheme,c=cw(i).path,l=a===cw(i).scheme,d=yield r.load();e&&l&&(yield da.getManager(a).removeModel(c));let u=yield s.save(d);return e&&!l&&(yield da.getManager(a).removeModel(c)),u.modelArtifactsInfo})}function f8(){return te(this,null,function*(){let i=da.getSchemes(),t={};for(let e of i){let n=yield da.getManager(e).listModels();for(let r in n){let o=e+wp+r;t[o]=n[r]}}return t})}function g8(i){return te(this,null,function*(){let t=cw(i);return da.getManager(t.scheme).removeModel(t.path)})}function _8(i,t){return te(this,null,function*(){return p8(i,t,!1)})}function b8(i,t){return te(this,null,function*(){return p8(i,t,!0)})}var wp,da,IR=I(()=>{"use strict";pe();Zu();wp="://",da=class i{constructor(){this.managers={}}static getInstance(){return i.instance==null&&(i.instance=new i),i.instance}static registerManager(t,e){k(t!=null,()=>"scheme must not be undefined or null."),t.endsWith(wp)&&(t=t.slice(0,t.indexOf(wp))),k(t.length>0,()=>"scheme must not be an empty string.");let n=i.getInstance();k(n.managers[t]==null,()=>`A model store manager is already registered for scheme '${t}'.`),n.managers[t]=e}static getManager(t){let e=i.getInstance().managers[t];if(e==null)throw new Error(`Cannot find model manager for scheme '${t}'`);return e}static getSchemes(){return Object.keys(i.getInstance().managers)}}});var DR,v8=I(()=>{"use strict";vp();yr();ER();TR();IR();tR();DR=class{constructor(){this.messageName="setTimeoutCustom",this.functionRefs=[],this.handledMessageCount=0,this.hasEventListener=!1}fetch(t,e){return fetch(t,e)}now(){return performance.now()}encode(t,e){if(e!=="utf-8"&&e!=="utf8")throw new Error(`Browser's encoder only supports utf-8, but got ${e}`);return this.textEncoder==null&&(this.textEncoder=new TextEncoder),this.textEncoder.encode(t)}decode(t,e){return new TextDecoder(e).decode(t)}setTimeoutCustom(t,e){if(typeof window>"u"||!ot().getBool("USE_SETTIMEOUTCUSTOM")){setTimeout(t,e);return}this.functionRefs.push(t),setTimeout(()=>{window.postMessage({name:this.messageName,index:this.functionRefs.length-1},"*")},e),this.hasEventListener||(this.hasEventListener=!0,window.addEventListener("message",n=>{if(n.source===window&&n.data.name===this.messageName){n.stopPropagation();let r=this.functionRefs[n.data.index];r(),this.handledMessageCount++,this.handledMessageCount===this.functionRefs.length&&(this.functionRefs=[],this.handledMessageCount=0)}},!0))}isTypedArray(t){return qx(t)}};if(ot().get("IS_BROWSER")){ot().setPlatform("browser",new DR);try{da.registerManager(Ju.URL_SCHEME,new aw)}catch{}try{da.registerManager(Qu.URL_SCHEME,new sw)}catch{}}});var x8=rs((Mp,y8)=>{"use strict";var Wue=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},eh=Wue();y8.exports=Mp=eh.fetch;eh.fetch&&(Mp.default=eh.fetch.bind(eh));Mp.Headers=eh.Headers;Mp.Request=eh.Request;Mp.Response=eh.Response});var w8=rs(()=>{"use strict"});var que,kR,AR,M8=I(()=>{"use strict";yr();que={importFetch:()=>x8()},AR=class{constructor(){this.util=w8(),this.textEncoder=new this.util.TextEncoder}fetch(t,e){return ot().global.fetch!=null?ot().global.fetch(t,e):(kR==null&&(kR=que.importFetch()),kR(t,e))}now(){let t=process.hrtime();return t[0]*1e3+t[1]/1e6}encode(t,e){if(e!=="utf-8"&&e!=="utf8")throw new Error(`Node built-in encoder only supports utf-8, but got ${e}`);return this.textEncoder.encode(t)}decode(t,e){return t.length===0?"":new this.util.TextDecoder(e).decode(t)}isTypedArray(t){return this.util.types.isFloat32Array(t)||this.util.types.isInt32Array(t)||this.util.types.isUint8Array(t)||this.util.types.isUint8ClampedArray(t)}};ot().get("IS_NODE")&&!ot().get("IS_BROWSER")&&ot().setPlatform("node",new AR)});function Nr(i,t="float32",e){return t=t||"float32",fn(i),new Qc(i,t,e)}var nl=I(()=>{"use strict";ms();pe();});function Xue(i,t){let e=v(i,"x","cast");if(!ak(t))throw new Error(`Failed to cast to unknown dtype ${t}`);if(t==="string"&&e.dtype!=="string"||t!=="string"&&e.dtype==="string")throw new Error("Only strings can be casted to strings");let n={x:e},r={dtype:t};return T.runKernel(o_,n,r)}var si,Or=I(()=>{"use strict";X();ee();$();pe();H();si=w({cast_:Xue})});function Yue(i){let e={x:v(i,"x","clone","string_or_numeric")};return T.runKernel(s_,e)}var Do,Cp=I(()=>{"use strict";X();ee();$();H();Do=w({clone_:Yue})});function b_(i,t=!1){console.log(i.toString(t))}var PR=I(()=>{"use strict";});var Zue,C8=I(()=>{"use strict";X();vp();v8();M8();nl();Or();Cp();PR();ms();mR();Zue={buffer:Nr,cast:si,clone:Do,print:b_};Uj(Zue)});function Kue(i,t){let e=v(i,"a","add"),n=v(t,"b","add");[e,n]=Zt(e,n);let r={a:e,b:n};return T.runKernel(r_,r)}var st,tr=I(()=>{"use strict";X();ee();_n();$();H();st=w({add_:Kue})});function Que(i,t){let e=v(i,"a","floorDiv"),n=v(t,"b","floorDiv");[e,n]=Zt(e,n);let r={a:e,b:n};return T.runKernel(uA,r)}var v_,RR=I(()=>{"use strict";X();ee();_n();$();H();v_=w({floorDiv_:Que})});function Jue(i,t){let e=v(i,"a","div"),n=v(t,"b","div");if([e,n]=Zt(e,n),e.dtype==="int32"&&n.dtype==="int32")return v_(e,n);let r={a:e,b:n},o={};return T.runKernel(Jk,r,o)}var fi,ko=I(()=>{"use strict";X();ee();_n();$();RR();H();fi=w({div_:Jue})});function ehe(i,t){let e=v(i,"a","mul"),n=v(t,"b","mul");[e,n]=Zt(e,n);let r={a:e,b:n};return T.runKernel(jA,r)}var Ie,bn=I(()=>{"use strict";X();ee();_n();$();H();Ie=w({mul_:ehe})});function the(i){let t=v(i,"x","abs");if(t.dtype==="complex64"){let e={x:t};return T.runKernel(Nk,e)}else{let e={x:t};return T.runKernel(uk,e)}}var lr,th=I(()=>{"use strict";X();ee();$();H();lr=w({abs_:the})});function ihe(i){let e={x:v(i,"x","acos")};return T.runKernel(hk,e)}var NR,S8=I(()=>{"use strict";X();ee();$();H();NR=w({acos_:ihe})});function nhe(i){let e={x:v(i,"x","acosh")};return T.runKernel(mk,e)}var OR,E8=I(()=>{"use strict";X();ee();$();H();OR=w({acosh_:nhe})});function rhe(i){k(Array.isArray(i),()=>"The argument passed to tf.addN() must be a list of tensors"),k(i.length>=1,()=>`Must pass at least one tensor to tf.addN(), but got ${i.length}`);let t=i.map((r,o)=>v(r,`tensors${o}`,"addN")),e=t[0];t.forEach(r=>{if(r.dtype!==e.dtype)throw new Error("All tensors passed to tf.addN() must have the same dtype")}),t.forEach(r=>{if(!to(r.shape,e.shape))throw new Error("All tensors passed to tf.addN() must have the same shape")});let n=t;return T.runKernel(pk,n)}var FR,T8=I(()=>{"use strict";X();ee();$();pe();H();FR=w({addN_:rhe})});function ohe(i,t=null,e=!1){let r={x:v(i,"x","all","bool")},o={axis:t,keepDims:e};return T.runKernel(fk,r,o)}var LR,I8=I(()=>{"use strict";X();ee();$();H();LR=w({all_:ohe})});function she(i,t=null,e=!1){let r={x:v(i,"x","any","bool")},o={axis:t,keepDims:e};return T.runKernel(gk,r,o)}var BR,D8=I(()=>{"use strict";X();ee();$();H();BR=w({any_:she})});function ahe(i,t=0){let n={x:v(i,"x","argMax")},r={axis:t};return T.runKernel(_k,n,r)}var VR,k8=I(()=>{"use strict";X();ee();$();H();VR=w({argMax_:ahe})});function che(i,t=0){let n={x:v(i,"x","argMin")},r={axis:t};return T.runKernel(bk,n,r)}var UR,A8=I(()=>{"use strict";X();ee();$();H();UR=w({argMin_:che})});function lhe(i){let e={x:v(i,"x","asin")};return T.runKernel(vk,e)}var zR,P8=I(()=>{"use strict";X();ee();$();H();zR=w({asin_:lhe})});function dhe(i){let e={x:v(i,"x","asinh")};return T.runKernel(yk,e)}var HR,R8=I(()=>{"use strict";X();ee();$();H();HR=w({asinh_:dhe})});function uhe(i){let e={x:v(i,"x","atan")};return T.runKernel(xk,e)}var jR,N8=I(()=>{"use strict";X();ee();$();H();jR=w({atan_:uhe})});function hhe(i,t){let e=v(i,"a","atan2"),n=v(t,"b","atan2");[e,n]=Zt(e,n);let r={a:e,b:n};return T.runKernel(Mk,r)}var $R,O8=I(()=>{"use strict";X();ee();_n();$();H();$R=w({atan2_:hhe})});function mhe(i){let e={x:v(i,"x","atanh")};return T.runKernel(wk,e)}var GR,F8=I(()=>{"use strict";X();ee();$();H();GR=w({atanh_:mhe})});function phe(i,t,e,n,r="NHWC",o){let s=i[3],a=[...t,s],c=B8(r);return nh(i,a,e,o,n,null,null,c)}function qR(i,t,e,n,r,o,s="channelsLast"){let[a,c]=y_(t),l;if(s==="channelsLast")l=[a,c,i[3],i[3]];else if(s==="channelsFirst")l=[a,c,i[1],i[1]];else throw new Error(`Unknown dataFormat ${s}`);return nh(i,l,e,n,r,o,!1,s)}function fhe(i,t,e,n,r,o,s="NDHWC"){let[a,c,l]=WR(t),d,u;if(s==="NDHWC")u="channelsLast",d=[a,c,l,i[4],i[4]];else if(s==="NCDHW")u="channelsFirst",d=[a,c,l,i[1],i[1]];else throw new Error(`Unknown dataFormat ${s}`);return L8(i,d,e,n,r,!1,u,o)}function nh(i,t,e,n,r,o,s=!1,a="channelsLast"){let[c,l,d,u]=[-1,-1,-1,-1];if(a==="channelsLast")[c,l,d,u]=i;else if(a==="channelsFirst")[c,u,l,d]=i;else throw new Error(`Unknown dataFormat ${a}`);let[h,m,,p]=t,[_,f]=y_(e),[g,C]=y_(n),M=Sp(h,g),S=Sp(m,C),{padInfo:R,outHeight:N,outWidth:L}=bhe(r,l,d,_,f,M,S,o,a),z=s?p*u:p,E;return a==="channelsFirst"?E=[c,z,N,L]:a==="channelsLast"&&(E=[c,N,L,z]),{batchSize:c,dataFormat:a,inHeight:l,inWidth:d,inChannels:u,outHeight:N,outWidth:L,outChannels:z,padInfo:R,strideHeight:_,strideWidth:f,filterHeight:h,filterWidth:m,effectiveFilterHeight:M,effectiveFilterWidth:S,dilationHeight:g,dilationWidth:C,inShape:i,outShape:E,filterShape:t}}function L8(i,t,e,n,r,o=!1,s="channelsLast",a){let[c,l,d,u,h]=[-1,-1,-1,-1,-1];if(s==="channelsLast")[c,l,d,u,h]=i;else if(s==="channelsFirst")[c,h,l,d,u]=i;else throw new Error(`Unknown dataFormat ${s}`);let[m,p,_,,f]=t,[g,C,M]=WR(e),[S,R,N]=WR(n),L=Sp(m,S),z=Sp(p,R),E=Sp(_,N),{padInfo:A,outDepth:U,outHeight:W,outWidth:Z}=vhe(r,l,d,u,g,C,M,L,z,E,a),se=o?f*h:f,ie;return s==="channelsFirst"?ie=[c,se,U,W,Z]:s==="channelsLast"&&(ie=[c,U,W,Z,se]),{batchSize:c,dataFormat:s,inDepth:l,inHeight:d,inWidth:u,inChannels:h,outDepth:U,outHeight:W,outWidth:Z,outChannels:se,padInfo:A,strideDepth:g,strideHeight:C,strideWidth:M,filterDepth:m,filterHeight:p,filterWidth:_,effectiveFilterDepth:L,effectiveFilterHeight:z,effectiveFilterWidth:E,dilationDepth:S,dilationHeight:R,dilationWidth:N,inShape:i,outShape:ie,filterShape:t}}function ghe(i,t,e,n,r){n==null&&(n=XR(i,t,e));let o=i[0],s=i[1],a=x_((o-t+2*n)/e+1,r),c=x_((s-t+2*n)/e+1,r);return[a,c]}function _he(i,t,e,n,r,o){r==null&&(r=XR(i,t[0],n[0]));let s=[0,0,0,e];for(let a=0;a<3;a++)i[a]+2*r>=t[a]&&(s[a]=x_((i[a]-t[a]+2*r)/n[a]+1,o));return s}function XR(i,t,e,n=1){let r=Sp(t,n);return Math.floor((i[0]*(e-1)-e+r)/2)}function y_(i){return typeof i=="number"?[i,i,i]:i.length===2?[i[0],i[1],1]:i}function WR(i){return typeof i=="number"?[i,i,i]:i}function Sp(i,t){return t<=1?i:i+(i-1)*(t-1)}function bhe(i,t,e,n,r,o,s,a,c){let l,d,u;if(typeof i=="number"){l={top:i,bottom:i,left:i,right:i,type:i===0?"VALID":"NUMBER"};let m=ghe([t,e],o,n,i,a);d=m[0],u=m[1]}else if(i==="same"){d=Math.ceil(t/n),u=Math.ceil(e/r);let h=Math.max(0,(d-1)*n+o-t),m=Math.max(0,(u-1)*r+s-e),p=Math.floor(h/2),_=h-p,f=Math.floor(m/2),g=m-f;l={top:p,bottom:_,left:f,right:g,type:"SAME"}}else if(i==="valid")l={top:0,bottom:0,left:0,right:0,type:"VALID"},d=Math.ceil((t-o+1)/n),u=Math.ceil((e-s+1)/r);else if(typeof i=="object"){let h=c==="channelsLast"?i[1][0]:i[2][0],m=c==="channelsLast"?i[1][1]:i[2][1],p=c==="channelsLast"?i[2][0]:i[3][0],_=c==="channelsLast"?i[2][1]:i[3][1];l={top:h,bottom:m,left:p,right:_,type:h===0&&m===0&&p===0&&_===0?"VALID":"EXPLICIT"},d=x_((t-o+h+m)/n+1,a),u=x_((e-s+p+_)/r+1,a)}else throw Error(`Unknown padding parameter: ${i}`);return{padInfo:l,outHeight:d,outWidth:u}}function vhe(i,t,e,n,r,o,s,a,c,l,d){let u,h,m,p;if(i==="valid"&&(i=0),typeof i=="number"){u={top:i,bottom:i,left:i,right:i,front:i,back:i,type:i===0?"VALID":"NUMBER"};let f=_he([t,e,n,1],[a,c,l],1,[r,o,s],i,d);h=f[0],m=f[1],p=f[2]}else if(i==="same"){h=Math.ceil(t/r),m=Math.ceil(e/o),p=Math.ceil(n/s);let _=(h-1)*r+a-t,f=(m-1)*o+c-e,g=(p-1)*s+l-n,C=Math.floor(_/2),M=_-C,S=Math.floor(f/2),R=f-S,N=Math.floor(g/2),L=g-N;u={top:S,bottom:R,left:N,right:L,front:C,back:M,type:"SAME"}}else throw Error(`Unknown padding parameter: ${i}`);return{padInfo:u,outDepth:h,outHeight:m,outWidth:p}}function x_(i,t){if(!t)return Math.trunc(i);switch(t){case"round":return Math.round(i);case"ceil":return Math.ceil(i);case"floor":return Math.floor(i);default:throw new Error(`Unknown roundingMode ${t}`)}}function ih(i){let[t,e,n]=y_(i);return t===1&&e===1&&n===1}function jr(i,t){return ih(i)||ih(t)}function ic(i){return y_(i).every(t=>t>0)}function B8(i){if(i==="NHWC")return"channelsLast";if(i==="NCHW")return"channelsFirst";throw new Error(`Unknown dataFormat ${i}`)}function Ln(i,t,e){if(e!=null){if(typeof t=="string")throw Error(`Error in ${i}: pad must be an integer when using dimRoundingMode ${e} but got pad ${t}.`);if(typeof t=="number")k(Kc(t),()=>`Error in ${i}: pad must be an integer when using dimRoundingMode ${e} but got pad ${t}.`);else if(typeof t=="object")t.forEach(n=>{n.forEach(r=>{k(Kc(r),()=>`Error in ${i}: pad must be an integer when using dimRoundingMode ${e} but got pad ${r}.`)})});else throw Error(`Error in ${i}: Unknown padding parameter: ${t}`)}}var Ao=I(()=>{"use strict";pe();});function yhe(i,t){let n={x:v(i,"x","reshape","string_or_numeric")},r={shape:t};return T.runKernel(lP,n,r)}var re,Jt=I(()=>{"use strict";X();ee();$();H();re=w({reshape_:yhe})});function xhe(i,t,e,n,r){let o=v(i,"x","avgPool","float32"),s=1;k(jr(e,s),()=>`Error in avgPool: Either strides or dilations must be 1. Got strides ${e} and dilations '${s}'`);let a=o,c=!1;o.rank===3&&(c=!0,a=re(o,[1,o.shape[0],o.shape[1],o.shape[2]])),k(a.rank===4,()=>`Error in avgPool: x must be rank 4 but got rank ${a.rank}.`),Ln("avgPool",n,r);let l={x:a},d={filterSize:t,strides:e,pad:n,dimRoundingMode:r},u=T.runKernel(Ck,l,d);return u=si(u,o.dtype),c?re(u,[u.shape[1],u.shape[2],u.shape[3]]):u}var w_,YR=I(()=>{"use strict";X();ee();$();pe();Or();Ao();H();Jt();w_=w({avgPool_:xhe})});function whe(i,t,e,n,r,o="NDHWC"){let s=v(i,"x","avgPool3d","float32"),a=s,c=!1;s.rank===4&&(c=!0,a=re(s,[1,s.shape[0],s.shape[1],s.shape[2],s.shape[3]])),k(a.rank===5,()=>`Error in avgPool3d: x must be rank 5 but got rank ${a.rank}.`),k(o==="NDHWC",()=>`Error in avgPool3d: Only NDHWC is currently supported, but got dataFormat of ${o}`),k(typeof e=="number"&&e>0||Array.isArray(e)&&e[0]>0&&e[1]>0&&e[2]>0,()=>`Error in avgPool3d: Stride must be > 0, but got '${e}'`),Ln("avgPool3d",n,r);let l={x:a},d={filterSize:t,strides:e,pad:n,dimRoundingMode:r,dataFormat:o},u=T.runKernel(Sk,l,d);return u=si(u,a.dtype),c?re(u,[u.shape[1],u.shape[2],u.shape[3],u.shape[4]]):u}var ZR,V8=I(()=>{"use strict";X();ee();$();pe();Or();Ao();H();Jt();ZR=w({avgPool3d_:whe})});function Mhe(i,t=0){k(i.length>=1,()=>"Pass at least one tensor to concat");let e=Jc(i,"tensors","concat","string_or_numeric");if(e[0].dtype==="complex64"&&e.forEach(o=>{if(o.dtype!=="complex64")throw new Error(`Cannot concatenate complex64 tensors with a tensor
          with dtype ${o.dtype}. `)}),e.length===1)return Do(e[0]);let n=e,r={axis:t};return T.runKernel(Ok,n,r)}var sn,ua=I(()=>{"use strict";X();ee();$();pe();Cp();H();sn=w({concat_:Mhe})});function Che(i,t,e=!1,n=!1){let r=v(i,"a","matMul"),o=v(t,"b","matMul");[r,o]=Zt(r,o);let s={a:r,b:o},a={transposeA:e,transposeB:n};return T.runKernel(Ek,s,a)}var yi,rl=I(()=>{"use strict";X();ee();_n();$();H();yi=w({matMul_:Che})});function She(i){let e={x:v(i,"x","sigmoid","float32")};return T.runKernel(SP,e)}var ha,M_=I(()=>{"use strict";X();ee();$();H();ha=w({sigmoid_:She})});function Ehe(i,t,e){let n=v(i,"x","slice","string_or_numeric");if(n.rank===0)throw new Error("Slicing scalar is not possible");let r={x:n},o={begin:t,size:e};return T.runKernel(xP,r,o)}var gi,Vs=I(()=>{"use strict";X();ee();$();H();gi=w({slice_:Ehe})});function The(i){let e={x:v(i,"x","tanh","float32")};return T.runKernel(GP,e)}var Ep,KR=I(()=>{"use strict";X();ee();$();H();Ep=w({tanh_:The})});function Ihe(i,t,e,n,r,o){let s=v(i,"forgetBias","basicLSTMCell"),a=v(t,"lstmKernel","basicLSTMCell"),c=v(e,"lstmBias","basicLSTMCell"),l=v(n,"data","basicLSTMCell"),d=v(r,"c","basicLSTMCell"),u=v(o,"h","basicLSTMCell"),h=sn([l,u],1),m=yi(h,a),p=st(m,c),_=p.shape[0],f=p.shape[1]/4,g=[_,f],C=gi(p,[0,0],g),M=gi(p,[0,f],g),S=gi(p,[0,f*2],g),R=gi(p,[0,f*3],g),N=st(Ie(ha(C),Ep(M)),Ie(d,ha(st(s,S)))),L=Ie(Ep(N),ha(R));return[N,L]}var QR,U8=I(()=>{"use strict";$();tr();ua();rl();bn();H();M_();Vs();KR();QR=w({basicLSTMCell_:Ihe})});function Dhe(i,t,e){let n=v(i,"x","batchToSpaceND"),r=t.reduce((a,c)=>a*c);k(n.rank>=1+t.length,()=>`input rank is ${n.rank} but should be > than blockShape.length ${t.length}`),k(e.length===t.length,()=>`crops.length is ${e.length} but should be equal to blockShape.length  ${t.length}`),k(n.shape[0]%r===0,()=>`input tensor batch is ${n.shape[0]} but is not divisible by the product of the elements of blockShape ${t.join(" * ")} === ${r}`);let o={x:n},s={blockShape:t,crops:e};return T.runKernel(Tk,o,s)}var C_,JR=I(()=>{"use strict";X();ee();$();pe();H();C_=w({batchToSpaceND_:Dhe})});function z8(i){let t;return i.rank===0||i.rank===1?t=re(i,[1,1,1,i.size]):i.rank===2?t=re(i,[1,1,i.shape[0],i.shape[1]]):i.rank===3?t=re(i,[1,i.shape[0],i.shape[1],i.shape[2]]):t=i,t}var H8=I(()=>{"use strict";Jt()});function khe(i,t,e,n,r,o){o==null&&(o=.001);let s=v(i,"x","batchNorm"),a=v(t,"mean","batchNorm"),c=v(e,"variance","batchNorm"),l;r!=null&&(l=v(r,"scale","batchNorm"));let d;n!=null&&(d=v(n,"offset","batchNorm")),k(a.rank===c.rank,()=>"Batch normalization gradient requires mean and variance to have equal ranks."),k(d==null||a.rank===d.rank,()=>"Batch normalization gradient requires mean and offset to have equal ranks."),k(l==null||a.rank===l.rank,()=>"Batch normalization gradient requires mean and scale to have equal ranks.");let h={x:z8(s),scale:l,offset:d,mean:a,variance:c},m={varianceEpsilon:o},p=T.runKernel(hA,h,m);return re(p,s.shape)}var ol,S_=I(()=>{"use strict";X();ee();$();pe();H8();H();Jt();ol=w({batchNorm_:khe})});function Ahe(i,t,e,n,r,o){let s=v(i,"x","batchNorm"),a=v(t,"mean","batchNorm"),c=v(e,"variance","batchNorm"),l;r!=null&&(l=v(r,"scale","batchNorm"));let d;return n!=null&&(d=v(n,"offset","batchNorm")),k(s.rank===2,()=>`Error in batchNorm2D: x must be rank 2 but got rank ${s.rank}.`),k(a.rank===2||a.rank===1,()=>`Error in batchNorm2D: mean must be rank 2 or rank 1 but got rank ${a.rank}.`),k(c.rank===2||c.rank===1,()=>`Error in batchNorm2D: variance must be rank 2 or rank 1 but got rank ${c.rank}.`),l!=null&&k(l.rank===2||l.rank===1,()=>`Error in batchNorm2D: scale must be rank 2 or rank 1 but got rank ${l.rank}.`),d!=null&&k(d.rank===2||d.rank===1,()=>`Error in batchNorm2D: offset must be rank 2 or rank 1 but got rank ${d.rank}.`),ol(s,a,c,d,l,o)}var eN,j8=I(()=>{"use strict";$();pe();S_();H();eN=w({batchNorm2d_:Ahe})});function Phe(i,t,e,n,r,o){let s=v(i,"x","batchNorm"),a=v(t,"mean","batchNorm"),c=v(e,"variance","batchNorm"),l;r!=null&&(l=v(r,"scale","batchNorm"));let d;return n!=null&&(d=v(n,"offset","batchNorm")),k(s.rank===3,()=>`Error in batchNorm3D: x must be rank 3 but got rank ${s.rank}.`),k(a.rank===3||a.rank===1,()=>`Error in batchNorm3D: mean must be rank 3 or rank 1 but got rank ${a.rank}.`),k(c.rank===3||c.rank===1,()=>`Error in batchNorm3D: variance must be rank 3 or rank 1 but got rank ${c.rank}.`),l!=null&&k(l.rank===3||l.rank===1,()=>`Error in batchNorm3D: scale must be rank 3 or rank 1 but got rank ${l.rank}.`),d!=null&&k(d.rank===3||d.rank===1,()=>`Error in batchNorm3D: offset must be rank 3 or rank 1 but got rank ${d.rank}.`),ol(s,a,c,d,l,o)}var tN,$8=I(()=>{"use strict";$();pe();S_();H();tN=w({batchNorm3d_:Phe})});function Rhe(i,t,e,n,r,o){let s=v(i,"x","batchNorm"),a=v(t,"mean","batchNorm"),c=v(e,"variance","batchNorm"),l;r!=null&&(l=v(r,"scale","batchNorm"));let d;return n!=null&&(d=v(n,"offset","batchNorm")),k(s.rank===4,()=>`Error in batchNorm4D: x must be rank 4 but got rank ${s.rank}.`),k(a.rank===4||a.rank===1,()=>`Error in batchNorm4D: mean must be rank 4 or rank 1 but got rank ${a.rank}.`),k(c.rank===4||c.rank===1,()=>`Error in batchNorm4D: variance must be rank 4 or rank 1 but got rank ${c.rank}.`),l!=null&&k(l.rank===4||l.rank===1,()=>`Error in batchNorm4D: scale must be rank 4 or rank 1 but got rank ${l.rank}.`),d!=null&&k(d.rank===4||d.rank===1,()=>`Error in batchNorm4D: offset must be rank 4 or rank 1 but got rank ${d.rank}.`),ol(s,a,c,d,l,o)}var iN,G8=I(()=>{"use strict";$();pe();S_();H();iN=w({batchNorm4d_:Rhe})});function Nhe(i,t,e){let n=v(i,"x","bincount"),r=v(t,"weights","bincount");k(n.dtype==="int32",()=>`Error in bincount: input dtype must be int32, but got ${n.dtype}`),k(e>=0,()=>`size must be non-negative, but got ${e}.`),k(r.size===n.size||r.size===0,()=>`Error in bincount: weights must have the same size as input or0-length, but got input shape: ${n.shape}, weights shape: ${r.shape}.`);let o={x:n,weights:r},s={size:e};return T.runKernel(Ik,o,s)}var E_,nN=I(()=>{"use strict";X();ee();$();pe();H();E_=w({bincount_:Nhe})});function Ohe(i,t){let e=v(i,"x","bitwiseAnd"),n=v(t,"y","bitwiseAnd");if(!to(e.shape,n.shape))throw new Error(`BitwiseAnd: Tensors must have the same shape. x: ${e.shape}, y: ${n.shape}`);if(e.dtype!=="int32"||n.dtype!=="int32")throw new Error(`BitwiseAnd: Only supports 'int32' values in tensor, found type of x: ${e.dtype} and type of y: ${n.dtype}`);let r={a:e,b:n};return T.runKernel(Dk,r)}var rN,W8=I(()=>{"use strict";X();ee();$();ar();H();rN=w({bitwiseAnd_:Ohe})});function Fhe(i,t){let e=v(i,"s0","broadcastArgs","int32"),n=v(t,"s1","broadcastArgs","int32");if(e.rank!==1)throw new Error(`broadcastArgs(): first input must be a vector (rank=1). Has rank ${e.rank}`);if(n.rank!==1)throw new Error(`broadcastArgs(): second input must be a vector (rank=1). Has rank ${n.rank}`);let r={s0:e,s1:n};return T.runKernel(kk,r)}var oN,q8=I(()=>{"use strict";X();ee();$();H();oN=w({broadcastArgs_:Fhe})});function Lhe(i,t){let e=v(i,"broadcastTo","x"),n=e.shape;if(fn(t),t.length<e.rank)throw new Error(`broadcastTo(): shape.length=${t.length} < input.rank=${e.rank}.`);if(t.length>e.rank){let l=e.shape.slice();for(;l.length<t.length;)l.unshift(1);e=re(e,l)}let r=e.shape,o=Array.from(t);for(let l=t.length-1;l>=0;l--)if(r[l]===t[l])o[l]=1;else if(e.shape[l]!==1)throw new Error(`broadcastTo(): [${n}] cannot be broadcast to [${t}].`);if(o.map((l,d)=>l>1?d:-1).filter(l=>l>=0).length===0)return Do(e);let a={x:e},c={reps:o};return T.runKernel(a_,a,c)}var rh,sN=I(()=>{"use strict";X();ee();$();ar();Cp();H();Jt();rh=w({broadcastTo_:Lhe})});function Bhe(i){let e={x:v(i,"x","ceil","float32")};return T.runKernel(Ak,e)}var aN,X8=I(()=>{"use strict";X();ee();$();H();aN=w({ceil_:Bhe})});function ma(i,t,e){fn(i),e=e||ld(t);let n={shape:i,value:t,dtype:e};return T.runKernel(cA,{},n)}var Tp=I(()=>{"use strict";X();ee();pe();ar();});function Vhe(i,t,e){let n=v(i,"x","clipByValue");if(k(t<=e,()=>`Error in clip: min (${t}) must be less than or equal to max (${e}).`),t===e)return ma(n.shape,t,n.dtype);let r={x:n},o={clipValueMin:t,clipValueMax:e};return T.runKernel(Pk,r,o)}var cN,Y8=I(()=>{"use strict";X();ee();$();pe();Tp();H();cN=w({clipByValue_:Vhe})});function Uhe(i){return sn(i,0)}var lN,Z8=I(()=>{"use strict";ua();H();lN=w({concat1d_:Uhe})});function zhe(i,t){return sn(i,t)}var dN,K8=I(()=>{"use strict";ua();H();dN=w({concat2d_:zhe})});function Hhe(i,t){return sn(i,t)}var uN,Q8=I(()=>{"use strict";ua();H();uN=w({concat3d_:Hhe})});function jhe(i,t){return sn(i,t)}var hN,J8=I(()=>{"use strict";ua();H();hN=w({concat4d_:jhe})});function $he(i,t,e,n,r="NHWC",o=[1,1],s){let a=v(i,"x","conv2d","float32"),c=v(t,"filter","conv2d","float32"),l=a,d=!1;a.rank===3&&(d=!0,l=re(a,[1,a.shape[0],a.shape[1],a.shape[2]])),k(l.rank===4,()=>`Error in conv2d: input must be rank 4, but got rank ${l.rank}.`),k(c.rank===4,()=>`Error in conv2d: filter must be rank 4, but got rank ${c.rank}.`),Ln("conv2d",n,s);let u=r==="NHWC"?l.shape[3]:l.shape[1];k(u===c.shape[2],()=>`Error in conv2d: depth of input (${u}) must match input depth for filter ${c.shape[2]}.`),k(jr(e,o),()=>`Error in conv2D: Either strides or dilations must be 1. Got strides ${e} and dilations '${o}'`),k(ic(o),()=>"Error in conv2D: Dilated rates should be larger than 0."),k(ic(e),()=>"Error in conv2D: Strides should be larger than 0.");let h={x:l,filter:c},m={strides:e,pad:n,dataFormat:r,dilations:o,dimRoundingMode:s},p=T.runKernel(Fk,h,m);return d?re(p,[p.shape[1],p.shape[2],p.shape[3]]):p}var sl,T_=I(()=>{"use strict";X();ee();$();pe();Ao();H();Jt();sl=w({conv2d_:$he})});function Ghe(i,t,e,n,r="NWC",o=1,s){let a=v(i,"x","conv1d"),c=v(t,"filter","conv1d"),l=a,d=!1;a.rank===2&&(d=!0,l=re(a,[1,a.shape[0],a.shape[1]])),k(l.rank===3,()=>`Error in conv1d: input must be rank 3, but got rank ${l.rank}.`),k(c.rank===3,()=>`Error in conv1d: filter must be rank 3, but got rank ${c.rank}.`),Ln("conv1d",n,s),k(l.shape[2]===c.shape[1],()=>`Error in conv1d: depth of input (${l.shape[2]}) must match input depth for filter ${c.shape[1]}.`),k(jr(e,o),()=>`Error in conv1D: Either stride or dilation must be 1. Got stride ${e} and dilation '${o}'`),k(ic(o),()=>"Error in conv1D: Dilated rates should be larger than 0."),k(ic(e),()=>"Error in conv1D: Stride should be larger than 0."),k(r==="NWC",()=>`Error in conv1d: got dataFormat of ${r} but only NWC is currently supported.`);let u=re(c,[1,c.shape[0],c.shape[1],c.shape[2]]),h=re(l,[l.shape[0],1,l.shape[1],l.shape[2]]),f=sl(h,u,[1,e],n,"NHWC",[1,o],s);return d?re(f,[f.shape[2],f.shape[3]]):re(f,[f.shape[0],f.shape[2],f.shape[3]])}var mN,e$=I(()=>{"use strict";$();pe();T_();Ao();H();Jt();mN=w({conv1d_:Ghe})});function Whe(i,t,e,n,r,o="NHWC",s){k(i.length===t.rank,()=>`Length of inShape (${i.length}) and rank of dy (${t.rank}) must match`);let a=i,c=t,l=!1;t.rank===3&&(l=!0,c=re(t,[1,t.shape[0],t.shape[1],t.shape[2]]),a=[1,i[0],i[1],i[2]]),k(a.length===4,()=>`Error in conv2dDerInput: inShape must be length 4, but got length ${a.length}.`),k(c.rank===4,()=>`Error in conv2dDerInput: dy must be rank 4, but got rank ${c.rank}`),k(e.rank===4,()=>`Error in conv2dDerInput: filter must be rank 4, but got rank ${e.rank}`);let d=o==="NHWC"?a[3]:a[1],u=o==="NHWC"?c.shape[3]:c.shape[1];k(d===e.shape[2],()=>`Error in conv2dDerInput: depth of input (${d}) must match input depth for filter ${e.shape[2]}.`),k(u===e.shape[3],()=>`Error in conv2dDerInput: depth of output (${u}) must match output depth for filter ${e.shape[3]}.`),Ln("conv2dDerInput",r,s);let h={dy:c,filter:e},m={strides:n,pad:r,dataFormat:o,dimRoundingMode:s,inputShape:a},p=T.runKernel(Bk,h,m);return l?re(p,[p.shape[1],p.shape[2],p.shape[3]]):p}var lw,pN=I(()=>{"use strict";X();ee();pe();Ao();H();Jt();lw=w({conv2DBackpropInput_:Whe})});function qhe(i,t,e,n,r,o){let s=v(i,"x","conv2dTranspose"),a=v(t,"filter","conv2dTranspose");return lw(e,s,a,n,r,"NHWC",o)}var fN,t$=I(()=>{"use strict";$();pN();H();fN=w({conv2dTranspose_:qhe})});function Xhe(i,t,e,n,r="NDHWC",o=[1,1,1]){let s=v(i,"x","conv3d"),a=v(t,"filter","conv3d"),c=s,l=!1;s.rank===4&&(l=!0,c=re(s,[1,s.shape[0],s.shape[1],s.shape[2],s.shape[3]])),k(c.rank===5,()=>`Error in conv3d: input must be rank 5, but got rank ${c.rank}.`),k(a.rank===5,()=>`Error in conv3d: filter must be rank 5, but got rank ${a.rank}.`),k(c.shape[4]===a.shape[3],()=>`Error in conv3d: depth of input (${c.shape[4]}) must match input depth for filter ${a.shape[3]}.`),k(jr(e,o),()=>`Error in conv3D: Either strides or dilations must be 1. Got strides ${e} and dilations '${o}'`),k(r==="NDHWC",()=>`Error in conv3d: got dataFormat of ${r} but only NDHWC is currently supported.`),k(ic(o),()=>"Error in conv3D: Dilated rates should be larger than 0."),k(ic(e),()=>"Error in conv3D: Strides should be larger than 0.");let d={x:c,filter:a},u={strides:e,pad:n,dataFormat:r,dilations:o},h=T.runKernel(Vk,d,u);return l?re(h,[h.shape[1],h.shape[2],h.shape[3],h.shape[4]]):h}var gN,i$=I(()=>{"use strict";X();ee();$();pe();Ao();H();Jt();gN=w({conv3d_:Xhe})});function Yhe(i,t,e,n,r){k(i.length===t.rank,()=>`Length of inShape (${i.length}) and rank of dy (${t.rank}) must match`);let o=i,s=t,a=!1;t.rank===4&&(a=!0,s=re(t,[1,t.shape[0],t.shape[1],t.shape[2],t.shape[3]]),o=[1,i[0],i[1],i[2],i[3]]);let c=o[4],l=s.shape[4];k(o.length===5,()=>`Error in conv3dDerInput: inShape must be length 5, but got length ${o.length}.`),k(s.rank===5,()=>`Error in conv3dDerInput: dy must be rank 5, but got rank ${s.rank}`),k(e.rank===5,()=>`Error in conv3dDerInput: filter must be rank 5, but got rank ${e.rank}`),k(c===e.shape[3],()=>`Error in conv3dDerInput: depth of input (${c}) must match input depth for filter ${e.shape[3]}.`),k(l===e.shape[4],()=>`Error in conv3dDerInput: depth of output (${l}) must match output depth for filter ${e.shape[4]}.`);let d={dy:s,filter:e},u={pad:r,strides:n,inputShape:o},h=T.runKernel(Uk,d,u);return a?re(h,[h.shape[1],h.shape[2],h.shape[3],h.shape[4]]):h}var n$,r$=I(()=>{"use strict";X();ee();pe();H();Jt();n$=w({conv3DBackpropInput_:Yhe})});function Zhe(i,t,e,n,r){let o=v(i,"x","conv3dTranspose"),s=v(t,"filter","conv3dTranspose");return n$(e,o,s,n,r)}var _N,o$=I(()=>{"use strict";$();r$();H();_N=w({conv3dTranspose_:Zhe})});function Khe(i){let e={x:v(i,"x","cos","float32")};return T.runKernel(zk,e)}var bN,s$=I(()=>{"use strict";X();ee();$();H();bN=w({cos_:Khe})});function Qhe(i){let e={x:v(i,"x","cosh","float32")};return T.runKernel(Hk,e)}var vN,a$=I(()=>{"use strict";X();ee();$();H();vN=w({cosh_:Qhe})});function Jhe(i,t=0,e=!1,n=!1){let o={x:v(i,"x","cumprod")},s={axis:t,exclusive:e,reverse:n};return T.runKernel(jk,o,s)}var yN,c$=I(()=>{"use strict";X();ee();$();H();yN=w({cumprod_:Jhe})});function eme(i,t=0,e=!1,n=!1){let o={x:v(i,"x","cumsum")},s={axis:t,exclusive:e,reverse:n};return T.runKernel($k,o,s)}var xN,l$=I(()=>{"use strict";X();ee();$();H();xN=w({cumsum_:eme})});function tme(i,t,e,n=!1){let r=v(i,"x","denseBincount"),o=v(t,"weights","denseBincount");k(r.dtype==="int32",()=>`Error in denseBincount: input dtype must be int32, but got ${r.dtype}`),k(r.rank<=2,()=>`Error in denseBincount: input must be at most rank 2, but got rank ${r.rank}.`),k(e>=0,()=>`size must be non-negative, but got ${e}.`),k(o.size===r.size||o.size===0,()=>`Error in denseBincount: weights must have the same shape as x or 0-length, but got x shape: ${r.shape}, weights shape: ${o.shape}.`);let s={x:r,weights:o},a={size:e,binaryOutput:n};return T.runKernel(Wk,s,a)}var wN,d$=I(()=>{"use strict";X();ee();$();pe();H();wN=w({denseBincount_:tme})});function ime(i,t,e="NHWC"){let n=v(i,"x","depthToSpace","float32"),r=e==="NHWC"?n.shape[1]:n.shape[2],o=e==="NHWC"?n.shape[2]:n.shape[3],s=e==="NHWC"?n.shape[3]:n.shape[1];k(t>1,()=>`blockSize should be > 1 for depthToSpace, but was: ${t}`),k(r*t>=0,()=>`Negative dimension size caused by overflow when multiplying
    ${r} and ${t}  for depthToSpace with input shape
    ${n.shape}`),k(o*t>=0,()=>`Negative dimension size caused by overflow when multiplying
    ${o} and ${t} for depthToSpace with input shape
        ${n.shape}`),k(s%(t*t)===0,()=>`Dimension size must be evenly divisible by ${t*t} but is ${s} for depthToSpace with input shape ${n.shape}`);let a={x:n},c={blockSize:t,dataFormat:e};return T.runKernel(qk,a,c)}var MN,u$=I(()=>{"use strict";X();ee();$();pe();H();MN=w({depthToSpace_:ime})});function nme(i,t,e,n,r="NHWC",o=[1,1],s){let a=v(i,"x","depthwiseConv2d","float32"),c=v(t,"filter","depthwiseConv2d","float32"),l=a,d=!1;a.rank===3&&(d=!0,l=re(a,[1,a.shape[0],a.shape[1],a.shape[2]])),k(l.rank===4,()=>`Error in depthwiseConv2d: input must be rank 4, but got rank ${l.rank}.`),k(c.rank===4,()=>`Error in depthwiseConv2d: filter must be rank 4, but got rank ${c.rank}.`);let u=r==="NHWC"?l.shape[3]:l.shape[1];k(u===c.shape[2],()=>`Error in depthwiseConv2d: number of input channels (${u}) must match the inChannels dimension in filter ${c.shape[2]}.`),Ln("depthwiseConv2d",n,s);let h={x:l,filter:c},m={strides:e,pad:n,dataFormat:r,dilations:o,dimRoundingMode:s},p=T.runKernel(Xk,h,m);return d?re(p,[p.shape[1],p.shape[2],p.shape[3]]):p}var oh,dw=I(()=>{"use strict";X();ee();$();pe();Ao();H();Jt();oh=w({depthwiseConv2d_:nme})});function rme(i){let e={x:v(i,"x","diag")};return T.runKernel(Kk,e)}var CN,h$=I(()=>{"use strict";X();ee();$();H();CN=w({diag_:rme})});function ome(i,t,e,n,r=[1,1],o="NHWC"){let s=v(i,"x","dilation2d"),a=v(t,"filter","dilation2d");k(s.rank===3||s.rank===4,()=>`Error in dilation2d: input must be rank 3 or 4, but got rank ${s.rank}.`),k(a.rank===3,()=>`Error in dilation2d: filter must be rank 3, but got rank ${a.rank}.`),k(o==="NHWC",()=>`Error in dilation2d: Only NHWC is currently supported, but got dataFormat of ${o}`);let c=s,l=!1;s.rank===3&&(c=re(s,[1,s.shape[0],s.shape[1],s.shape[2]]),l=!0),k(c.shape[3]===a.shape[2],()=>`Error in dilation2d:  input and filter must have the same depth: ${c.shape[3]} vs ${a.shape[2]}`);let d={x:c,filter:a},u={strides:e,pad:n,dilations:r},h=T.runKernel(Qk,d,u);return l?re(h,[h.shape[1],h.shape[2],h.shape[3]]):h}var SN,m$=I(()=>{"use strict";X();ee();$();pe();H();Jt();SN=w({dilation2d_:ome})});var sh={};Mi(sh,{assertAndGetBroadcastShape:()=>Ii,getBroadcastDims:()=>p$,getReductionAxes:()=>uw});function p$(i,t){let e=i.length,n=[];for(let r=0;r<e;r++){let o=e-1-r,s=i[o]||1;(t[t.length-1-r]||1)>1&&s===1&&n.unshift(o)}return n}function uw(i,t){let e=[];for(let n=0;n<t.length;n++){let r=i[i.length-n-1],o=t.length-n-1,s=t[o];(r==null||r===1&&s>1)&&e.unshift(o)}return e}function Ii(i,t){let e=Math.max(i.length,t.length),n=new Array(e);for(let r=0;r<e;r++){let o=i[i.length-r-1];o==null&&(o=1);let s=t[t.length-r-1];if(s==null&&(s=1),o===1)n[e-r-1]=s;else if(s===1)n[e-r-1]=o;else if(o!==s){let a=`Operands could not be broadcast together with shapes ${i} and ${t}.`;throw Error(a)}else n[e-r-1]=o}return n}var dr=I(()=>{"use strict";});function sme(i,t){let e=v(i,"a","equal","string_or_numeric"),n=v(t,"b","equal","string_or_numeric");[e,n]=Zt(e,n),Ii(e.shape,n.shape);let r={a:e,b:n};return T.runKernel(nA,r)}var I_,EN=I(()=>{"use strict";X();ee();_n();$();dr();H();I_=w({equal_:sme})});function ame(i,t,e){let n=v(t,"a","where"),r=v(e,"b","where"),o=v(i,"condition","where","bool"),s=Ii(Ii(o.shape,n.shape),r.shape),a=rh(o,s),c=rh(n,s),l=rh(r,s),d={condition:a,t:c,e:l};return T.runKernel(vP,d)}var qo,Ip=I(()=>{"use strict";X();ee();$();sN();dr();H();qo=w({where_:ame})});function cme(i){let e={x:v(i,"x","zerosLike")};return T.runKernel(KP,e)}var qn,al=I(()=>{"use strict";X();ee();$();H();qn=w({zerosLike_:cme})});function lme(i,t){let e=v(i,"a","div"),n=v(t,"b","div");[e,n]=Zt(e,n);let r=fi(e,n),o=qn(r),s=I_(n,o);return qo(s,o,r)}var TN,f$=I(()=>{"use strict";_n();$();ko();EN();H();Ip();al();TN=w({divNoNan_:lme})});function dme(i,t){let e=v(i,"t1","dot"),n=v(t,"t2","dot");k((e.rank===1||e.rank===2)&&(n.rank===1||n.rank===2),()=>`Error in dot: inputs must all be rank 1 or 2, but got ranks ${e.rank} and ${n.rank}.`);let r=e.rank===1?e.size:e.shape[1],o=n.rank===1?n.size:n.shape[0];if(k(r===o,()=>`Error in dot: inner dimensions of inputs must match, but got ${r} and ${o}.`),e.rank===1&&n.rank===1){let s=re(e,[1,-1]),a=re(n,[-1,1]),c=yi(s,a);return re(c,[])}else if(e.rank===1&&n.rank===2){let s=re(e,[1,-1]),a=re(n,[n.shape[0],n.shape[1]]),c=yi(s,a);return re(c,[c.size])}else if(e.rank===2&&n.rank===1){let s=re(n,[-1,1]),a=yi(e,s);return re(a,[a.size])}else{let s=re(n,[n.shape[0],n.shape[1]]);return yi(e,s)}}var IN,g$=I(()=>{"use strict";$();pe();rl();H();Jt();IN=w({dot_:dme})});function ume(i,...t){let e=t.map((r,o)=>v(r,`tensors${o}`,"einsum")),n={equation:i};return T.runKernel(eA,e,n)}var cl,DN=I(()=>{"use strict";X();ee();$();H();cl=w({einsum_:ume})});function hme(i){let e={x:v(i,"x","elu","float32")};return T.runKernel(tA,e)}var D_,kN=I(()=>{"use strict";X();ee();$();H();D_=w({elu_:hme})});function mme(i,t){let e=v(i,"x","ensureShape","string_or_numeric");if(!nk(e.shape,t))throw new Error(`EnsureShape: Shape of tensor ${e.shape} is not compatible with expected shape ${t}`);return i}var AN,_$=I(()=>{"use strict";$();ar();H();AN=w({ensureShape_:mme})});function pme(i){let t=v(i,"x","erf");k(t.dtype==="int32"||t.dtype==="float32",()=>"Input dtype must be `int32` or `float32`."),t.dtype==="int32"&&(t=si(t,"float32"));let e={x:t};return T.runKernel(iA,e)}var PN,b$=I(()=>{"use strict";X();ee();$();pe();Or();H();PN=w({erf_:pme})});function RN(i,t){for(let e=0;e<i.length;++e)if(i[i.length-e-1]!==t-1-e)return!1;return!0}function v$(i,t,e){let n=i.length+t.length,r=[],o=0,s=0;for(let a=0;a<n;a++)e.indexOf(a)===-1?r.push(i[o++]):r.push(t[s++]);return r}function fme(i,t){let e=[],n=i.length;for(let o=0;o<n;o++)t.indexOf(o)===-1&&e.push(i[o]);let r=t.map(o=>i[o]);return[e,r]}function ll(i,t){let e=t.map(n=>1);return v$(i,e,t)}function gme(i,t,e){k(RN(t,e),()=>`${i} supports only inner-most axes for now. Got axes ${t} and rank-${e} input.`)}function _me(i,t){if(RN(i,t))return null;let e=[];for(let n=0;n<t;++n)i.indexOf(n)===-1&&e.push(n);return i.forEach(n=>e.push(n)),e}function bme(i){return i.map((t,e)=>[e,t]).sort((t,e)=>t[1]-e[1]).map(t=>t[0])}function vme(i,t){let e=[];for(let n=t-i;n<t;++n)e.push(n);return e}var Dp=I(()=>{"use strict";pe();});function xme(i,t=null,e=!1){let r={x:v(i,"x","max")},o={reductionIndices:t,keepDims:e};return T.runKernel(PA,r,o)}var pa,k_=I(()=>{"use strict";X();ee();$();H();pa=w({max_:xme})});function wme(i,t=null,e=!1){let r={x:v(i,"x","min")},o={axis:t,keepDims:e};return T.runKernel(BA,r,o)}var kp,NN=I(()=>{"use strict";X();ee();$();H();kp=w({min_:wme})});function Mme(i,t){let e=v(i,"base","pow"),n=v(t,"exp","pow");[e,n]=Zt(e,n);let r={a:e,b:n};return T.runKernel(JA,r)}var rc,A_=I(()=>{"use strict";X();ee();_n();$();H();rc=w({pow_:Mme})});function Mt(i,t){if((On(i)&&t!=="string"||Array.isArray(i))&&t!=="complex64")throw new Error("Error creating a new Scalar: value must be a primitive (number|boolean|string)");if(t==="string"&&On(i)&&!(i instanceof Uint8Array))throw new Error("When making a scalar from encoded string, the value must be `Uint8Array`.");return ro(i,[],[],t)}var $r=I(()=>{"use strict";pe();el();});function Cme(i){let e={x:v(i,"x","sqrt","float32")};return T.runKernel(TP,e)}var so,Ap=I(()=>{"use strict";X();ee();$();H();so=w({sqrt_:Cme})});function Sme(i){let t=v(i,"x","square"),e={};return T.runKernel("Square",{x:t},e)}var ur,dl=I(()=>{"use strict";X();$();H();ur=w({square_:Sme})});function Eme(i,t=null,e=!1){let n=v(i,"x","sum");n.dtype==="bool"&&(n=si(n,"int32"));let r={x:n},o={axis:t,keepDims:e};return T.runKernel(IP,r,o)}var Di,fa=I(()=>{"use strict";X();ee();$();Or();H();Di=w({sum_:Eme})});function Tme(i,t="euclidean",e=null,n=!1){i=v(i,"x","norm");let r=y$(i,t,e),o=r.shape;if(n){let s=cd(e,i.shape);o=ll(r.shape,s)}return re(r,o)}function y$(i,t,e=null){if(i.rank===0)return lr(i);if(i.rank!==1&&e===null)return y$(re(i,[-1]),t,e);if(i.rank===1||typeof e=="number"||Array.isArray(e)&&e.length===1){if(t===1)return Di(lr(i),e);if(t===1/0)return pa(lr(i),e);if(t===-1/0)return kp(lr(i),e);if(t==="euclidean"||t===2)return so(Di(rc(lr(i),Mt(2,"int32")),e));throw new Error(`Error in norm: invalid ord value: ${t}`)}if(Array.isArray(e)&&e.length===2){if(t===1)return pa(Di(lr(i),e[0]),e[1]-1);if(t===1/0)return pa(Di(lr(i),e[1]),e[0]);if(t===-1/0)return kp(Di(lr(i),e[1]),e[0]);if(t==="fro"||t==="euclidean")return so(Di(ur(i),e));throw new Error(`Error in norm: invalid ord value: ${t}`)}throw new Error(`Error in norm: invalid axis: ${e}`)}var _d,P_=I(()=>{"use strict";$();pe();th();Dp();k_();NN();H();A_();Jt();$r();Ap();dl();fa();_d=w({norm_:Tme})});function Ime(i,t=null,e=!1){return _d(i,"euclidean",t,e)}var ON,x$=I(()=>{"use strict";P_();H();ON=w({euclideanNorm_:Ime})});function Dme(i){let e={x:v(i,"x","exp")};return T.runKernel(rA,e)}var ps,Pp=I(()=>{"use strict";X();ee();$();H();ps=w({exp_:Dme})});function kme(i,t=0){let e=v(i,"x","expandDims","string_or_numeric");k(t<=e.rank,()=>"Axis must be <= rank of the tensor");let n={input:e},r={dim:t};return T.runKernel(oA,n,r)}var Us,hw=I(()=>{"use strict";X();ee();$();pe();H();Us=w({expandDims_:kme})});function Ame(i){let e={x:v(i,"x","expm1")};return T.runKernel(sA,e)}var FN,w$=I(()=>{"use strict";X();ee();$();H();FN=w({expm1_:Ame})});function Pme(i,t){let e=v(i,"x","tile","string_or_numeric");k(e.rank===t.length,()=>`Error in transpose: rank of input ${e.rank} must match length of reps ${t}.`);let n={x:e},r={reps:t};return T.runKernel(a_,n,r)}var ul,mw=I(()=>{"use strict";X();ee();$();pe();H();ul=w({tile_:Pme})});function Rme(i,t,e,n="float32"){t==null&&(t=i);let r=Nr([i,t],n),o=i<=t?i:t;for(let a=0;a<o;++a)r.set(1,a,a);let s=re(r.toTensor(),[i,t]);if(e==null)return s;if(e.length===1)return ul(Us(s,0),[e[0],1,1]);if(e.length===2)return ul(Us(Us(s,0),0),[e[0],e[1],1,1]);if(e.length===3)return ul(Us(Us(Us(s,0),0),0),[e[0],e[1],e[2],1,1]);throw new Error(`eye() currently supports only 1D and 2D batchShapes, but received ${e.length}D.`)}var R_,LN=I(()=>{"use strict";nl();hw();H();Jt();mw();R_=w({eye_:Rme})});function Nme(i){let e={x:v(i,"x","floor","float32")};return T.runKernel(dA,e)}var N_,BN=I(()=>{"use strict";X();ee();$();H();N_=w({floor_:Nme})});function Ome(i,t,e=0,n=0){let r=v(i,"x","gather"),o=v(t,"indices","gather","int32"),s={x:r,indices:o},a={axis:e,batchDims:n};return T.runKernel(mA,s,a)}var O_,VN=I(()=>{"use strict";X();ee();$();H();O_=w({gather_:Ome})});function Fme(i,t){let e=v(i,"a","greater","string_or_numeric"),n=v(t,"b","greater","string_or_numeric");[e,n]=Zt(e,n),Ii(e.shape,n.shape);let r={a:e,b:n};return T.runKernel(fA,r)}var bd,pw=I(()=>{"use strict";X();ee();_n();$();dr();H();bd=w({greater_:Fme})});function Lme(i,t){let e=v(i,"a","greaterEqual","string_or_numeric"),n=v(t,"b","greaterEqual","string_or_numeric");[e,n]=Zt(e,n),Ii(e.shape,n.shape);let r={a:e,b:n};return T.runKernel(gA,r)}var F_,UN=I(()=>{"use strict";X();ee();_n();$();dr();H();F_=w({greaterEqual_:Lme})});function Bme(i){let e={input:v(i,"input","imag")};return T.runKernel(bA,e)}var hl,L_=I(()=>{"use strict";X();ee();$();H();hl=w({imag_:Bme})});function Vme(i){let e={x:v(i,"x","isFinite")};return T.runKernel(vA,e)}var zN,M$=I(()=>{"use strict";X();ee();$();H();zN=w({isFinite_:Vme})});function Ume(i){let e={x:v(i,"x","isInf")};return T.runKernel(yA,e)}var HN,C$=I(()=>{"use strict";X();ee();$();H();HN=w({isInf_:Ume})});function zme(i){let e={x:v(i,"x","isNaN")};return T.runKernel(xA,e)}var jN,S$=I(()=>{"use strict";X();ee();$();H();jN=w({isNaN_:zme})});function Hme(i,t=.2){let n={x:v(i,"x","leakyRelu")},r={alpha:t};return T.runKernel(wA,n,r)}var B_,$N=I(()=>{"use strict";X();ee();$();H();B_=w({leakyRelu_:Hme})});function jme(i,t){let e=v(i,"a","less","string_or_numeric"),n=v(t,"b","less","string_or_numeric");[e,n]=Zt(e,n),Ii(e.shape,n.shape);let r={a:e,b:n};return T.runKernel(MA,r)}var Rp,GN=I(()=>{"use strict";X();ee();_n();$();dr();H();Rp=w({less_:jme})});function $me(i,t){let e=v(i,"a","lessEqual","string_or_numeric"),n=v(t,"b","lessEqual","string_or_numeric");[e,n]=Zt(e,n),Ii(e.shape,n.shape);let r={a:e,b:n};return T.runKernel(CA,r)}var ah,fw=I(()=>{"use strict";X();ee();_n();$();dr();H();ah=w({lessEqual_:$me})});function WN(i,t,e){if(e<=0)throw new Error("The number of values should be positive.");let n={start:i,stop:t,num:e};return T.runKernel(SA,{},n)}var E$=I(()=>{"use strict";X();ee();});function Gme(i,t=5,e=1,n=1,r=.5){let o=v(i,"x","localResponseNormalization");k(o.rank===4||o.rank===3,()=>`Error in localResponseNormalization: x must be rank 3 or 4 but got
               rank ${o.rank}.`),k(Kc(t),()=>`Error in localResponseNormalization: depthRadius must be an integer but got depthRadius ${t}.`);let s=o,a=!1;o.rank===3&&(a=!0,s=re(o,[1,o.shape[0],o.shape[1],o.shape[2]]));let c={x:s},l={depthRadius:t,bias:e,alpha:n,beta:r},d=T.runKernel(AA,c,l);return a?re(d,[d.shape[1],d.shape[2],d.shape[3]]):d}var qN,T$=I(()=>{"use strict";X();ee();$();pe();H();Jt();qN=w({localResponseNormalization_:Gme})});function Wme(i){let e={x:v(i,"x","log","float32")};return T.runKernel(EA,e)}var oc,V_=I(()=>{"use strict";X();ee();$();H();oc=w({log_:Wme})});function qme(i){let e={x:v(i,"x","log1p")};return T.runKernel(TA,e)}var U_,XN=I(()=>{"use strict";X();ee();$();H();U_=w({log1p_:qme})});function I$(i){return k(Ka(i),()=>"The f passed in grad(f) must be a function"),(t,e)=>{let n=v(t,"x","tf.grad","string_or_numeric"),r=e!=null?v(e,"dy","tf.grad"):null;return T.tidy(()=>{let{value:o,grads:s}=T.gradients(()=>i(n),[n],r);return r!=null&&ln(o.shape,r.shape,"The shape of dy passed in grad(f)(x, dy) must match the shape returned by f(x)"),_w(s),s[0]})}}function D$(i){return k(Ka(i),()=>"The f passed in grads(f) must be a function"),(t,e)=>{k(Array.isArray(t),()=>"The args passed in grads(f)(args) must be an array of `Tensor`s or `TensorLike`s");let n=Jc(t,"args","tf.grads","string_or_numeric"),r=e!=null?v(e,"dy","tf.grads"):null;return T.tidy(()=>{let{value:o,grads:s}=T.gradients(()=>i(...n),n,r);return r!=null&&ln(o.shape,r.shape,"The shape of dy passed in grads(f)([x1,...], dy) must match the shape returned by f([x1,...])"),_w(s),s})}}function k$(i){return k(Ka(i),()=>"The f passed in valueAndGrad(f) must be a function"),(t,e)=>{k(t instanceof Oi,()=>"The x passed in valueAndGrad(f)(x) must be a tensor"),k(e==null||e instanceof Oi,()=>"The dy passed in valueAndGrad(f)(x, dy) must be a tensor");let{grads:n,value:r}=T.gradients(()=>i(t),[t],e);return _w(n),{grad:n[0],value:r}}}function A$(i){return k(Ka(i),()=>"The f passed in valueAndGrads(f) must be a function"),(t,e)=>{k(Array.isArray(t)&&t.every(r=>r instanceof Oi),()=>"The args passed in valueAndGrads(f)(args) must be array of tensors"),k(e==null||e instanceof Oi,()=>"The dy passed in valueAndGrads(f)(args, dy) must be a tensor");let n=T.gradients(()=>i(...t),t,e);return e!=null&&ln(n.value.shape,e.shape,"The shape of dy passed in valueAndGrads(f)([x1,...], dy) must match the shape returned by f([x1,...])"),_w(n.grads),n}}function gw(i,t){k(Ka(i),()=>"The f passed in variableGrads(f) must be a function"),k(t==null||Array.isArray(t)&&t.every(l=>l instanceof ec),()=>"The varList passed in variableGrads(f, varList) must be an array of variables");let e=t!=null;if(!e){t=[];for(let l in T.registeredVariables)t.push(T.registeredVariables[l])}let n=e?t.filter(l=>!l.trainable):null,r=t.length;t=t.filter(l=>l.trainable),k(t.length>0,()=>`variableGrads() expects at least one of the input variables to be trainable, but none of the ${r} variables is trainable.`);let o=!0,{value:s,grads:a}=T.gradients(i,t,null,o);k(a.some(l=>l!=null),()=>"Cannot find a connection between any variable and the result of the loss function y=f(x). Please make sure the operations that use variables are inside the function f passed to minimize()."),k(s.rank===0,()=>`The f passed in variableGrads(f) must return a scalar, but it returned a rank-${s.rank} tensor`);let c={};return t.forEach((l,d)=>{a[d]!=null&&(c[l.name]=a[d])}),n?.forEach(l=>c[l.name]=null),{value:s,grads:c}}function Gr(i){return T.customGrad(i)}function _w(i){if(i.filter(e=>e==null).length>0)throw new Error(`Cannot compute gradient of y=f(x) with respect to x. Make sure that
    the f you passed encloses all operations that lead from x to y.`)}var ml=I(()=>{"use strict";X();ms();$();pe();});function Xme(i){let e={x:v(i,"x","neg")};return T.runKernel($A,e)}var wr,pl=I(()=>{"use strict";X();ee();$();H();wr=w({neg_:Xme})});function Yme(i){let e={x:v(i,"x","softplus")};return T.runKernel(EP,e)}var z_,YN=I(()=>{"use strict";X();ee();$();H();z_=w({softplus_:Yme})});function Zme(i){let t=v(i,"x","logSigmoid");return Gr(n=>({value:wr(z_(wr(n))),gradFunc:s=>Ie(s,ha(wr(n)))}))(t)}var ZN,P$=I(()=>{"use strict";ml();$();bn();pl();H();M_();YN();ZN=w({logSigmoid_:Zme})});function Kme(i,t){let e=v(i,"a","sub"),n=v(t,"b","sub");[e,n]=Zt(e,n);let r={a:e,b:n};return T.runKernel(jP,r)}var yt,hr=I(()=>{"use strict";X();ee();_n();$();H();yt=w({sub_:Kme})});function Qme(i,t=-1){let e=v(i,"logits","logSoftmax");if(t===-1&&(t=e.rank-1),t!==e.rank-1)throw Error(`Log Softmax along a non-last dimension is not yet supported. Logits was rank ${e.rank} and axis was ${t}`);return Gr((r,o)=>{let a=pa(r,t,!0),c=yt(r,a),l=yt(si(c,"float32"),oc(Di(ps(c),t,!0)));return o([l]),{value:l,gradFunc:(u,h)=>{let[m]=h,p=!0,_=ps(m);return yt(u,Ie(Di(u,t,p),_))}}})(e)}var KN,R$=I(()=>{"use strict";ml();$();Or();Pp();V_();k_();bn();H();hr();fa();KN=w({logSoftmax_:Qme})});function Jme(i,t=null,e=!1){let n=v(i,"x","logSumExp"),r=cd(t,n.shape),o=pa(n,r,!0),s=yt(n,o),a=ps(s),c=Di(a,r),l=oc(c),d=st(re(o,l.shape),l);if(e){let u=ll(d.shape,r);return re(d,u)}return d}var H_,QN=I(()=>{"use strict";$();pe();tr();Dp();Pp();V_();k_();H();Jt();hr();fa();H_=w({logSumExp_:Jme})});function epe(i,t){let e=v(i,"a","logicalAnd","bool"),n=v(t,"b","logicalAnd","bool");Ii(e.shape,n.shape);let r={a:e,b:n};return T.runKernel(IA,r)}var vd,bw=I(()=>{"use strict";X();ee();$();dr();H();vd=w({logicalAnd_:epe})});function tpe(i){let e={x:v(i,"x","logicalNot","bool")};return T.runKernel(DA,e)}var j_,JN=I(()=>{"use strict";X();ee();$();H();j_=w({logicalNot_:tpe})});function ipe(i,t){let e=v(i,"a","logicalOr","bool"),n=v(t,"b","logicalOr","bool");Ii(e.shape,n.shape);let r={a:e,b:n};return T.runKernel(kA,r)}var $_,eO=I(()=>{"use strict";X();ee();$();dr();H();$_=w({logicalOr_:ipe})});function npe(i,t){let e=v(i,"a","logicalXor","bool"),n=v(t,"b","logicalXor","bool");return Ii(e.shape,n.shape),vd($_(i,t),j_(vd(i,t)))}var tO,N$=I(()=>{"use strict";$();dr();bw();JN();eO();H();tO=w({logicalXor_:npe})});function rpe(i,t,e="left"){let n=v(i,"sortedSequence","searchSorted"),r=v(t,"values","searchSorted"),o=n.shape[n.shape.length-1],s=r.shape[r.shape.length-1],a=re(n,[-1,o]),c=re(r,[-1,s]);if(a.rank<2)throw new Error("Sorted input argument must be at least 2-dimensional");if(a.shape[0]!==c.shape[0])throw new Error("Leading dimension of 'sortedSequence' and 'values' must match.");if(oi(c.shape)>=vw)throw new Error(`values tensor size must less than ${vw}`);if(a.shape[1]>=vw)throw new Error(`trailing dim_size must less than ${vw} for int32 output type, was ${a.shape[1]}`);let l={sortedSequence:a,values:c},d={side:e};return T.runKernel(bP,l,d)}var vw,Np,yw=I(()=>{"use strict";X();ee();$();ar();H();Jt();vw=2147483648;Np=w({searchSorted_:rpe})});function iO(i,t){return Np(i,t,"left")}var O$=I(()=>{"use strict";yw();});function ope(i,t,e,n,r){let o=v(i,"x","maxPool"),s=1,a=o,c=!1;o.rank===3&&(c=!0,a=re(o,[1,o.shape[0],o.shape[1],o.shape[2]])),k(a.rank===4,()=>`Error in maxPool: input must be rank 4 but got rank ${a.rank}.`),k(jr(e,s),()=>`Error in maxPool: Either strides or dilations must be 1. Got strides ${e} and dilations '${s}'`),Ln("maxPool",n,r);let l={x:a},d={filterSize:t,strides:e,pad:n,dimRoundingMode:r},u=T.runKernel(NA,l,d);return c?re(u,[u.shape[1],u.shape[2],u.shape[3]]):u}var G_,nO=I(()=>{"use strict";X();ee();$();pe();Ao();H();Jt();G_=w({maxPool_:ope})});function spe(i,t=[1,1,1],e,n,r,o="NDHWC"){let s=v(i,"x","maxPool3d"),a=s,c=!1;s.rank===4&&(c=!0,a=re(s,[1,s.shape[0],s.shape[1],s.shape[2],s.shape[3]])),k(a.rank===5,()=>`Error in maxPool3d: x must be rank 5 but got rank ${a.rank}.`),k(o==="NDHWC",()=>`Error in maxPool3d: Only NDHWC is currently supported, but got dataFormat of ${o}`),Ln("maxPool3d",n,r);let l={x:a},d={filterSize:t,strides:e,pad:n,dimRoundingMode:r,dataFormat:o},u=T.runKernel(OA,l,d);return c?re(u,[u.shape[1],u.shape[2],u.shape[3],u.shape[4]]):u}var rO,F$=I(()=>{"use strict";X();ee();$();pe();Ao();H();Jt();rO=w({maxPool3d_:spe})});function ape(i,t,e,n,r=!1){let s={x:v(i,"x","maxPoolWithArgmax")},a={filterSize:t,strides:e,pad:n,includeBatchInIndex:r},c=T.runKernel(FA,s,a);return{result:c[0],indexes:c[1]}}var oO,L$=I(()=>{"use strict";X();ee();$();H();oO=w({maxPoolWithArgmax_:ape})});function cpe(i,t){let e=v(i,"a","maximum"),n=v(t,"b","maximum");[e,n]=Zt(e,n),e.dtype==="bool"&&(e=si(e,"int32"),n=si(n,"int32")),Ii(e.shape,n.shape);let r={a:e,b:n};return T.runKernel(RA,r)}var W_,sO=I(()=>{"use strict";X();ee();_n();$();dr();Or();H();W_=w({maximum_:cpe})});function lpe(i,t=null,e=!1){let r={x:v(i,"x","mean")},o={axis:t,keepDims:e};return T.runKernel(LA,r,o)}var yd,xw=I(()=>{"use strict";X();ee();$();H();yd=w({mean_:lpe})});function ga(i,t="float32"){if(fn(i),t==="complex64"){let n=ga(i,"float32"),r=ga(i,"float32");return no(n,r)}let e=dp(oi(i),t);return T.makeTensor(e,i,t)}var q_=I(()=>{"use strict";X();pe();hd();});function _a(i,t="float32"){if(fn(i),t==="complex64"){let n=_a(i,"float32"),r=ga(i,"float32");return no(n,r)}let e=i_(oi(i),t);return T.makeTensor(e,i,t)}var ww=I(()=>{"use strict";X();pe();ar();hd();q_();});function aO(i,t,{indexing:e="xy"}={}){if(e!=="xy"&&e!=="ij")throw new TypeError(`${e} is not a valid third argument to meshgrid`);if(i===void 0)return[];let n=v(i,"x","meshgrid",i instanceof Oi?i.dtype:"float32");if(t===void 0)return[n];let r=v(t,"y","meshgrid",t instanceof Oi?t.dtype:"float32"),o=oi(n.shape),s=oi(r.shape);return e==="xy"?(n=re(n,[1,-1]),r=re(r,[-1,1]),[yi(_a([s,1],n.dtype),n),yi(r,_a([1,o],r.dtype))]):(n=re(n,[-1,1]),r=re(r,[1,-1]),[yi(n,_a([1,s],n.dtype)),yi(_a([o,1],r.dtype),r)])}var B$=I(()=>{"use strict";rl();ww();Jt();ms();$();ar();});function dpe(i,t){let e=v(i,"a","minimum"),n=v(t,"b","minimum");[e,n]=Zt(e,n),e.dtype==="bool"&&(e=si(e,"int32"),n=si(n,"int32")),Ii(e.shape,n.shape);let r={a:e,b:n};return T.runKernel(VA,r)}var xd,Mw=I(()=>{"use strict";X();ee();_n();$();dr();Or();H();xd=w({minimum_:dpe})});function upe(i,t,e){k(e==="reflect"||e==="symmetric",()=>`Invalid mode. Mode must be either reflect or symmetric. Got ${e}.`);let n=v(i,"x","mirrorPad");if(n.rank===0)throw new Error("mirrorPad(scalar) is not defined. Pass non-scalar to mirrorPad");k(t.length===n.rank,()=>`Padding doesn't match input. Must be ${n.rank}. Got ${t.length}.`);let r=e==="reflect"?1:0;for(let a=0;a<n.rank;a++)k(t[a].length===2,()=>"Invalid number of paddings. Must be length of 2 each."),k(t[a][0]>=0&&t[a][0]<=n.shape[a]-r&&t[a][1]>=0&&t[a][1]<=n.shape[a]-r,()=>`Padding in dimension ${a} cannot be greater than or equal to ${n.shape[a]-r} or less than 0 for input of shape ${n.shape}`);let o={paddings:t,mode:e},s={x:n};return T.runKernel(UA,s,o)}var cO,V$=I(()=>{"use strict";X();ee();$();pe();H();cO=w({mirrorPad_:upe})});function hpe(i,t){let e=v(i,"a","mod"),n=v(t,"b","mod");[e,n]=Zt(e,n);let r={a:e,b:n};return T.runKernel(zA,r)}var lO,U$=I(()=>{"use strict";X();ee();_n();$();H();lO=w({mod_:hpe})});function mpe(i,t=null,e=!1){i=v(i,"x","moments");let n=cd(t,i.shape),r=yd(i,n,e),o=r.shape;e||(o=ll(r.shape,n));let s=ur(yt(si(i,"float32"),re(r,o))),a=yd(s,n,e);return{mean:r,variance:a}}var dO,z$=I(()=>{"use strict";$();pe();Dp();Or();xw();H();Jt();dl();hr();dO=w({moments_:mpe})});function ppe(i,t,e,n){let r=v(t,"data","multiRNNCell"),o=Jc(e,"c","multiRNNCell"),s=Jc(n,"h","multiRNNCell"),a=r,c=[];for(let u=0;u<i.length;u++){let h=i[u](a,o[u],s[u]);c.push(h[0]),c.push(h[1]),a=h[1]}let l=[],d=[];for(let u=0;u<c.length;u+=2)l.push(c[u]),d.push(c[u+1]);return[l,d]}var uO,H$=I(()=>{"use strict";$();H();uO=w({multiRNNCell_:ppe})});function fpe(i,t,e,n=!1){let r=v(i,"logits","multinomial"),o=r.size,s=r.rank;if(o<2)throw new Error(`Error in multinomial: you need at least 2 outcomes, but got ${o}.`);if(s>2)throw new Error(`Rank of probabilities must be 1 or 2, but is ${s}`);e=e||Math.random();let c={logits:s===1?re(r,[1,-1]):r},l={numSamples:t,seed:e,normalized:n},d=T.runKernel(HA,c,l);return s===1?re(d,[d.size]):d}var hO,j$=I(()=>{"use strict";X();ee();$();H();Jt();hO=w({multinomial_:fpe})});function gpe(i,t){let e=v(i,"a","notEqual","string_or_numeric"),n=v(t,"b","notEqual","string_or_numeric");[e,n]=Zt(e,n),Ii(e.shape,n.shape);let r={a:e,b:n};return T.runKernel(GA,r)}var X_,mO=I(()=>{"use strict";X();ee();_n();$();dr();H();X_=w({notEqual_:gpe})});function _pe(i,t,e=1,n=0,r="int32"){if(t<2)throw new Error(`Error in oneHot: depth must be >=2, but it is ${t}`);let s={indices:v(i,"indices","oneHot","int32")},a={dtype:r,depth:t,onValue:e,offValue:n};return T.runKernel(ZA,s,a)}var Op,pO=I(()=>{"use strict";X();ee();$();H();Op=w({oneHot_:_pe})});function bpe(i){let e={x:v(i,"x","onesLike")};return T.runKernel(YA,e)}var fO,$$=I(()=>{"use strict";X();ee();$();H();fO=w({onesLike_:bpe})});function vpe(i,t){let e=v(i,"v1","outerProduct"),n=v(t,"v2","outerProduct");k(e.rank===1&&n.rank===1,()=>`Error in outerProduct: inputs must be rank 1, but got ranks ${e.rank} and ${n.rank}.`);let r=re(e,[-1,1]),o=re(n,[1,-1]);return yi(r,o)}var gO,G$=I(()=>{"use strict";$();pe();rl();H();Jt();gO=w({outerProduct_:vpe})});function ype(i,t,e=0){let n=v(i,"x","pad");if(n.rank===0)throw new Error("pad(scalar) is not defined. Pass non-scalar to pad");let r={paddings:t,constantValue:e},o={x:n};return T.runKernel(QA,o,r)}var ba,Fp=I(()=>{"use strict";X();ee();$();H();ba=w({pad_:ype})});function xpe(i,t,e=0){return k(t.length===2,()=>"Invalid number of paddings. Must be length of 2."),ba(i,[t],e)}var _O,W$=I(()=>{"use strict";pe();H();Fp();_O=w({pad1d_:xpe})});function wpe(i,t,e=0){return k(t.length===2&&t[0].length===2&&t[1].length===2,()=>"Invalid number of paddings. Must be length of 2 each."),ba(i,t,e)}var bO,q$=I(()=>{"use strict";pe();H();Fp();bO=w({pad2d_:wpe})});function Mpe(i,t,e=0){return k(t.length===3&&t[0].length===2&&t[1].length===2&&t[2].length===2,()=>"Invalid number of paddings. Must be length of 2 each."),ba(i,t,e)}var vO,X$=I(()=>{"use strict";pe();H();Fp();vO=w({pad3d_:Mpe})});function Cpe(i,t,e=0){return k(t.length===4&&t[0].length===2&&t[1].length===2&&t[2].length===2&&t[3].length===2,()=>"Invalid number of paddings. Must be length of 2 each."),ba(i,t,e)}var yO,Y$=I(()=>{"use strict";pe();H();Fp();yO=w({pad4d_:Cpe})});function Spe(i,t,e){let n=v(i,"x","spaceToBatchND");k(n.rank>=1+t.length,()=>`input rank ${n.rank} should be > than [blockShape] ${t.length}`),k(e.length===t.length,()=>`paddings.shape[0] ${e.length} must be equal to [blockShape] ${t.length}`),k(n.shape.reduce((s,a,c)=>c>0&&c<=t.length?s&&(a+e[c-1][0]+e[c-1][1])%t[c-1]===0:s,!0),()=>`input spatial dimensions ${n.shape.slice(1)} with paddings ${e.toString()} must be divisible by blockShapes ${t.toString()}`);let r={x:n},o={blockShape:t,paddings:e};return T.runKernel(DP,r,o)}var Y_,xO=I(()=>{"use strict";X();ee();$();pe();H();Y_=w({spaceToBatchND_:Spe})});function Epe(i,t,e,n,r,o,s){r==null&&(r=[1,1]),o==null&&(o=1),n===0&&(n="valid");let a=v(i,"x","maxPool"),c=a,l=!1;a.rank===3&&(l=!0,c=re(a,[1,a.shape[0],a.shape[1],a.shape[2]])),k(jr(o,r),()=>`Error in pool: Either strides or dilations must be 1. Got strides ${o} and dilations '${r}'`);let d=qR(c.shape,t,o,r,n),u=[d.dilationHeight,d.dilationWidth],h;n==="same"?h=Ipe([d.filterHeight,d.filterWidth],u):h=[[0,0],[0,0]];let m=u[0]===1&&u[1]===1,[p,_]=Tpe([d.inHeight,d.inWidth],u,h),f=m?n:"valid",g=m?c:Y_(c,u,p),M=(e==="avg"?()=>w_(g,t,o,f,s):()=>G_(g,t,o,f,s))(),S=m?M:C_(M,u,_);return l?re(S,[S.shape[1],S.shape[2],S.shape[3]]):S}function Tpe(i,t,e){let n=e.map(d=>d[0]),r=e.map(d=>d[1]),o=i.concat(n,r),s=t.map((d,u)=>(d-o[u]%d)%d),a=r.map((d,u)=>d+s[u]),c=t.map((d,u)=>[n[u],a[u]]),l=t.map((d,u)=>[0,s[u]]);return[c,l]}function Ipe(i,t){let n=i.map((s,a)=>s+(s-1)*(t[a]-1)).map(s=>s-1),r=n.map(s=>Math.floor(s/2)),o=n.map((s,a)=>s-r[a]);return n.map((s,a)=>[r[a],o[a]])}var wO,Z$=I(()=>{"use strict";$();pe();YR();JR();Ao();nO();H();Jt();xO();wO=w({pool_:Epe})});function Dpe(i,t){let e=v(i,"x","prelu"),n=v(t,"alpha","prelu"),r={x:e,alpha:n};return T.runKernel(eP,r)}var Z_,MO=I(()=>{"use strict";X();ee();$();H();Z_=w({prelu_:Dpe})});function kpe(i,t=null,e=!1){let n=v(i,"x","prod");n.dtype==="bool"&&(n=si(n,"int32"));let r={x:n},o={axis:t,keepDims:e};return T.runKernel(tP,r,o)}var CO,K$=I(()=>{"use strict";X();ee();$();Or();H();CO=w({prod_:kpe})});function Ape(i,t,e,n){let r=i.map((d,u)=>v(d,`tensors${u}`,"raggedGather","int32")),o=v(t,"paramsDenseValues","raggedGather"),s=v(e,"indices","raggedGather","int32"),a={paramsNestedSplits:r,paramsDenseValues:o,indices:s},c={outputRaggedRank:n},l=T.runKernel(iP,a,c);return{outputNestedSplits:l.slice(0,l.length-1),outputDenseValues:l[l.length-1]}}var SO,Q$=I(()=>{"use strict";X();ee();$();H();SO=w({raggedGather_:Ape})});function Ppe(i,t,e){let n=v(i,"starts","raggedRange"),r=v(t,"limits","raggedRange",n.dtype),o=v(e,"deltas","raggedRange",n.dtype),s={starts:n,limits:r,deltas:o},a=T.runKernel(nP,s);return{rtNestedSplits:a[0],rtDenseValues:a[1]}}var EO,J$=I(()=>{"use strict";X();ee();$();H();EO=w({raggedRange_:Ppe})});function Rpe(i,t,e,n,r){let o=v(i,"shape","raggedTensorToTensor","int32"),s=v(t,"values","raggedTensorToTensor"),a=v(e,"defaultValue","raggedTensorToTensor",s.dtype),c=n.map((u,h)=>v(u,`tensors${h}`,"raggedTensorToTensor","int32")),l={shape:o,values:s,defaultValue:a,rowPartitionTensors:c},d={rowPartitionTypes:r};return T.runKernel(rP,l,d)}var TO,e6=I(()=>{"use strict";X();ee();$();H();TO=w({raggedTensorToTensor_:Rpe})});function Npe(i,t,e){fn(i);let n=oi(i),r=null;if(e==null||e==="float32")r=new Float32Array(n);else if(e==="int32")r=new Int32Array(n);else if(e==="bool")r=new Uint8Array(n);else throw new Error(`Unknown data type ${e}`);for(let o=0;o<n;o++)r[o]=t();return T.makeTensor(r,i,e)}var IO,t6=I(()=>{"use strict";X();pe();ar();H();IO=w({rand_:Npe})});var n6=rs((i6,DO)=>{"use strict";(function(i,t,e){function n(a){var c=this,l=s();c.next=function(){var d=2091639*c.s0+c.c*23283064365386963e-26;return c.s0=c.s1,c.s1=c.s2,c.s2=d-(c.c=d|0)},c.c=1,c.s0=l(" "),c.s1=l(" "),c.s2=l(" "),c.s0-=l(a),c.s0<0&&(c.s0+=1),c.s1-=l(a),c.s1<0&&(c.s1+=1),c.s2-=l(a),c.s2<0&&(c.s2+=1),l=null}function r(a,c){return c.c=a.c,c.s0=a.s0,c.s1=a.s1,c.s2=a.s2,c}function o(a,c){var l=new n(a),d=c&&c.state,u=l.next;return u.int32=function(){return l.next()*4294967296|0},u.double=function(){return u()+(u()*2097152|0)*11102230246251565e-32},u.quick=u,d&&(typeof d=="object"&&r(d,l),u.state=function(){return r(l,{})}),u}function s(){var a=4022871197,c=function(l){l=String(l);for(var d=0;d<l.length;d++){a+=l.charCodeAt(d);var u=.02519603282416938*a;a=u>>>0,u-=a,u*=a,a=u>>>0,u-=a,a+=u*4294967296}return(a>>>0)*23283064365386963e-26};return c}t&&t.exports?t.exports=o:e&&e.amd?e(function(){return o}):this.alea=o})(i6,typeof DO=="object"&&DO,typeof define=="function"&&define)});var o6=rs((r6,kO)=>{"use strict";(function(i,t,e){function n(s){var a=this,c="";a.x=0,a.y=0,a.z=0,a.w=0,a.next=function(){var d=a.x^a.x<<11;return a.x=a.y,a.y=a.z,a.z=a.w,a.w^=a.w>>>19^d^d>>>8},s===(s|0)?a.x=s:c+=s;for(var l=0;l<c.length+64;l++)a.x^=c.charCodeAt(l)|0,a.next()}function r(s,a){return a.x=s.x,a.y=s.y,a.z=s.z,a.w=s.w,a}function o(s,a){var c=new n(s),l=a&&a.state,d=function(){return(c.next()>>>0)/4294967296};return d.double=function(){do var u=c.next()>>>11,h=(c.next()>>>0)/4294967296,m=(u+h)/(1<<21);while(m===0);return m},d.int32=c.next,d.quick=d,l&&(typeof l=="object"&&r(l,c),d.state=function(){return r(c,{})}),d}t&&t.exports?t.exports=o:e&&e.amd?e(function(){return o}):this.xor128=o})(r6,typeof kO=="object"&&kO,typeof define=="function"&&define)});var a6=rs((s6,AO)=>{"use strict";(function(i,t,e){function n(s){var a=this,c="";a.next=function(){var d=a.x^a.x>>>2;return a.x=a.y,a.y=a.z,a.z=a.w,a.w=a.v,(a.d=a.d+362437|0)+(a.v=a.v^a.v<<4^(d^d<<1))|0},a.x=0,a.y=0,a.z=0,a.w=0,a.v=0,s===(s|0)?a.x=s:c+=s;for(var l=0;l<c.length+64;l++)a.x^=c.charCodeAt(l)|0,l==c.length&&(a.d=a.x<<10^a.x>>>4),a.next()}function r(s,a){return a.x=s.x,a.y=s.y,a.z=s.z,a.w=s.w,a.v=s.v,a.d=s.d,a}function o(s,a){var c=new n(s),l=a&&a.state,d=function(){return(c.next()>>>0)/4294967296};return d.double=function(){do var u=c.next()>>>11,h=(c.next()>>>0)/4294967296,m=(u+h)/(1<<21);while(m===0);return m},d.int32=c.next,d.quick=d,l&&(typeof l=="object"&&r(l,c),d.state=function(){return r(c,{})}),d}t&&t.exports?t.exports=o:e&&e.amd?e(function(){return o}):this.xorwow=o})(s6,typeof AO=="object"&&AO,typeof define=="function"&&define)});var l6=rs((c6,PO)=>{"use strict";(function(i,t,e){function n(s){var a=this;a.next=function(){var l=a.x,d=a.i,u,h,m;return u=l[d],u^=u>>>7,h=u^u<<24,u=l[d+1&7],h^=u^u>>>10,u=l[d+3&7],h^=u^u>>>3,u=l[d+4&7],h^=u^u<<7,u=l[d+7&7],u=u^u<<13,h^=u^u<<9,l[d]=h,a.i=d+1&7,h};function c(l,d){var u,h,m=[];if(d===(d|0))h=m[0]=d;else for(d=""+d,u=0;u<d.length;++u)m[u&7]=m[u&7]<<15^d.charCodeAt(u)+m[u+1&7]<<13;for(;m.length<8;)m.push(0);for(u=0;u<8&&m[u]===0;++u);for(u==8?h=m[7]=-1:h=m[u],l.x=m,l.i=0,u=256;u>0;--u)l.next()}c(a,s)}function r(s,a){return a.x=s.x.slice(),a.i=s.i,a}function o(s,a){s==null&&(s=+new Date);var c=new n(s),l=a&&a.state,d=function(){return(c.next()>>>0)/4294967296};return d.double=function(){do var u=c.next()>>>11,h=(c.next()>>>0)/4294967296,m=(u+h)/(1<<21);while(m===0);return m},d.int32=c.next,d.quick=d,l&&(l.x&&r(l,c),d.state=function(){return r(c,{})}),d}t&&t.exports?t.exports=o:e&&e.amd?e(function(){return o}):this.xorshift7=o})(c6,typeof PO=="object"&&PO,typeof define=="function"&&define)});var u6=rs((d6,RO)=>{"use strict";(function(i,t,e){function n(s){var a=this;a.next=function(){var l=a.w,d=a.X,u=a.i,h,m;return a.w=l=l+1640531527|0,m=d[u+34&127],h=d[u=u+1&127],m^=m<<13,h^=h<<17,m^=m>>>15,h^=h>>>12,m=d[u]=m^h,a.i=u,m+(l^l>>>16)|0};function c(l,d){var u,h,m,p,_,f=[],g=128;for(d===(d|0)?(h=d,d=null):(d=d+"\0",h=0,g=Math.max(g,d.length)),m=0,p=-32;p<g;++p)d&&(h^=d.charCodeAt((p+32)%d.length)),p===0&&(_=h),h^=h<<10,h^=h>>>15,h^=h<<4,h^=h>>>13,p>=0&&(_=_+1640531527|0,u=f[p&127]^=h+_,m=u==0?m+1:0);for(m>=128&&(f[(d&&d.length||0)&127]=-1),m=127,p=4*128;p>0;--p)h=f[m+34&127],u=f[m=m+1&127],h^=h<<13,u^=u<<17,h^=h>>>15,u^=u>>>12,f[m]=h^u;l.w=_,l.X=f,l.i=m}c(a,s)}function r(s,a){return a.i=s.i,a.w=s.w,a.X=s.X.slice(),a}function o(s,a){s==null&&(s=+new Date);var c=new n(s),l=a&&a.state,d=function(){return(c.next()>>>0)/4294967296};return d.double=function(){do var u=c.next()>>>11,h=(c.next()>>>0)/4294967296,m=(u+h)/(1<<21);while(m===0);return m},d.int32=c.next,d.quick=d,l&&(l.X&&r(l,c),d.state=function(){return r(c,{})}),d}t&&t.exports?t.exports=o:e&&e.amd?e(function(){return o}):this.xor4096=o})(d6,typeof RO=="object"&&RO,typeof define=="function"&&define)});var m6=rs((h6,NO)=>{"use strict";(function(i,t,e){function n(s){var a=this,c="";a.next=function(){var d=a.b,u=a.c,h=a.d,m=a.a;return d=d<<25^d>>>7^u,u=u-h|0,h=h<<24^h>>>8^m,m=m-d|0,a.b=d=d<<20^d>>>12^u,a.c=u=u-h|0,a.d=h<<16^u>>>16^m,a.a=m-d|0},a.a=0,a.b=0,a.c=-1640531527,a.d=1367130551,s===Math.floor(s)?(a.a=s/4294967296|0,a.b=s|0):c+=s;for(var l=0;l<c.length+20;l++)a.b^=c.charCodeAt(l)|0,a.next()}function r(s,a){return a.a=s.a,a.b=s.b,a.c=s.c,a.d=s.d,a}function o(s,a){var c=new n(s),l=a&&a.state,d=function(){return(c.next()>>>0)/4294967296};return d.double=function(){do var u=c.next()>>>11,h=(c.next()>>>0)/4294967296,m=(u+h)/(1<<21);while(m===0);return m},d.int32=c.next,d.quick=d,l&&(typeof l=="object"&&r(l,c),d.state=function(){return r(c,{})}),d}t&&t.exports?t.exports=o:e&&e.amd?e(function(){return o}):this.tychei=o})(h6,typeof NO=="object"&&NO,typeof define=="function"&&define)});var p6=rs(()=>{"use strict"});var g6=rs((f6,Cw)=>{"use strict";(function(i,t,e){var n=256,r=6,o=52,s="random",a=e.pow(n,r),c=e.pow(2,o),l=c*2,d=n-1,u;function h(M,S,R){var N=[];S=S==!0?{entropy:!0}:S||{};var L=f(_(S.entropy?[M,C(t)]:M??g(),3),N),z=new m(N),E=function(){for(var A=z.g(r),U=a,W=0;A<c;)A=(A+W)*n,U*=n,W=z.g(1);for(;A>=l;)A/=2,U/=2,W>>>=1;return(A+W)/U};return E.int32=function(){return z.g(4)|0},E.quick=function(){return z.g(4)/4294967296},E.double=E,f(C(z.S),t),(S.pass||R||function(A,U,W,Z){return Z&&(Z.S&&p(Z,z),A.state=function(){return p(z,{})}),W?(e[s]=A,U):A})(E,L,"global"in S?S.global:this==e,S.state)}function m(M){var S,R=M.length,N=this,L=0,z=N.i=N.j=0,E=N.S=[];for(R||(M=[R++]);L<n;)E[L]=L++;for(L=0;L<n;L++)E[L]=E[z=d&z+M[L%R]+(S=E[L])],E[z]=S;(N.g=function(A){for(var U,W=0,Z=N.i,se=N.j,ie=N.S;A--;)U=ie[Z=d&Z+1],W=W*n+ie[d&(ie[Z]=ie[se=d&se+U])+(ie[se]=U)];return N.i=Z,N.j=se,W})(n)}function p(M,S){return S.i=M.i,S.j=M.j,S.S=M.S.slice(),S}function _(M,S){var R=[],N=typeof M,L;if(S&&N=="object")for(L in M)try{R.push(_(M[L],S-1))}catch{}return R.length?R:N=="string"?M:M+"\0"}function f(M,S){for(var R=M+"",N,L=0;L<R.length;)S[d&L]=d&(N^=S[d&L]*19)+R.charCodeAt(L++);return C(S)}function g(){try{var M;return u&&(M=u.randomBytes)?M=M(n):(M=new Uint8Array(n),(i.crypto||i.msCrypto).getRandomValues(M)),C(M)}catch{var S=i.navigator,R=S&&S.plugins;return[+new Date,i,R,i.screen,C(t)]}}function C(M){return String.fromCharCode.apply(0,M)}if(f(e.random(),t),typeof Cw=="object"&&Cw.exports){Cw.exports=h;try{u=p6()}catch{}}else typeof define=="function"&&define.amd?define(function(){return h}):e["seed"+s]=h})(typeof self<"u"?self:f6,[],Math)});var b6=rs(($Xe,_6)=>{"use strict";var Ope=n6(),Fpe=o6(),Lpe=a6(),Bpe=l6(),Vpe=u6(),Upe=m6(),ch=g6();ch.alea=Ope;ch.xor128=Fpe;ch.xorwow=Lpe;ch.xorshift7=Bpe;ch.xor4096=Vpe;ch.tychei=Upe;_6.exports=ch});var BO={};Mi(BO,{TEST_EPSILON_FLOAT16:()=>v6,createVideoElement:()=>Xpe,encodeStrings:()=>y6,expectArrayBuffersEqual:()=>qpe,expectArraysClose:()=>Hpe,expectArraysEqual:()=>$pe,expectNumbersClose:()=>Gpe,expectPromiseToFail:()=>jpe,expectValuesInRange:()=>Wpe,play:()=>Ype,testEpsilon:()=>FO});function Hpe(i,t,e){return e==null&&(e=FO()),OO(i,t,(n,r)=>LO(n,r,e))}function FO(){return T.backend.floatPrecision()===32?zpe:v6}function OO(i,t,e){let n=!0;if((On(i)||On(t))&&(n=!1),On(i)&&On(t)&&(n=!0),n){let s=i.constructor.name,a=t.constructor.name;if(s!==a)throw new Error(`Arrays are of different type. Actual: ${s}. Expected: ${a}`)}if(Array.isArray(i)&&Array.isArray(t)){let s=Pr(i),a=Pr(t);if(!to(s,a))throw new Error(`Arrays have different shapes. Actual: [${s}]. Expected: [${a}]`)}let r=On(i)?i:ca(i),o=On(t)?t:ca(t);if(r.length!==o.length)throw new Error(`Arrays have different lengths actual: ${r.length} vs expected: ${o.length}.
Actual:   ${r}.
Expected: ${o}.`);for(let s=0;s<o.length;++s){let a=r[s],c=o[s];if(!e(a,c))throw new Error(`Arrays differ: actual[${s}] = ${a}, expected[${s}] = ${c}.
Actual:   ${r}.
Expected: ${o}.`)}typeof expect<"u"&&expect().nothing()}function jpe(i,t){i().then(()=>t.fail(),()=>t()),typeof expect<"u"&&expect().nothing()}function $pe(i,t){let e=typeof t=="string"||typeof t=="number"||typeof t=="boolean"?[t]:t;return sa(i)||sa(i[0])||sa(t)||sa(t[0])?OO(i,e,(n,r)=>n==r):OO(i,t,(n,r)=>LO(n,r,0))}function Gpe(i,t,e){if(e==null&&(e=FO()),!LO(i,t,e))throw new Error(`Numbers differ: actual === ${i}, expected === ${t}`);typeof expect<"u"&&expect().nothing()}function LO(i,t,e){return!isFinite(i)&&!isFinite(t)?!0:!(isNaN(i)||isNaN(t)||Math.abs(i-t)>e)}function Wpe(i,t,e){for(let n=0;n<i.length;n++)if(i[n]<t||i[n]>e)throw new Error(`Value out of range:${i[n]} low: ${t}, high: ${e}`)}function qpe(i,t){let e=new Float32Array(i),n=new Float32Array(t);if(e.length!==n.length)throw new Error(`Expected ArrayBuffer to be of length ${n.length}, but it was ${e.length}`);for(let r=0;r<n.length;r++)if(e[r]!==n[r])throw new Error(`Expected ArrayBuffer value at ${r} to be ${n[r]} but got ${e[r]} instead`)}function y6(i){for(let t=0;t<i.length;t++){let e=i[t];Array.isArray(e)?y6(e):i[t]=ud(e)}return i}function Xpe(i){let t=document.createElement("video");return"playsInline"in t&&(t.playsInline=!0),t.muted=!0,t.loop=!0,t.style.position="fixed",t.style.left="0px",t.style.top="0px",t.preload="auto",t.appendChild(i),new Promise(e=>{t.addEventListener("loadeddata",n=>e(t)),t.load()})}function Ype(i){return te(this,null,function*(){yield i.play(),"requestVideoFrameCallback"in i&&(yield new Promise(t=>{i.requestVideoFrameCallback(t)}))})}var zpe,v6,x6=I(()=>{"use strict";X();$();pe();zpe=.001,v6=.1});var Tw,lh,Sw,Ew,K_=I(()=>{"use strict";Tw=hE(b6());lh=class{constructor(t,e,n,r,o){this.mean=t,this.stdDev=e,this.dtype=n,this.nextVal=NaN,this.truncated=r,this.truncated&&(this.upper=this.mean+this.stdDev*2,this.lower=this.mean-this.stdDev*2);let s=o||Math.random();this.random=Tw.alea(s.toString())}nextValue(){if(!isNaN(this.nextVal)){let r=this.nextVal;return this.nextVal=NaN,r}let t,e,n=!1;for(;!n;){let r,o,s;do r=2*this.random()-1,o=2*this.random()-1,s=r*r+o*o;while(s>=1||s===0);let a=Math.sqrt(-2*Math.log(s)/s);t=this.mean+this.stdDev*r*a,e=this.mean+this.stdDev*o*a,(!this.truncated||this.isValidTruncated(t))&&(n=!0)}return(!this.truncated||this.isValidTruncated(e))&&(this.nextVal=this.convertValue(e)),this.convertValue(t)}convertValue(t){return this.dtype==null||this.dtype==="float32"?t:Math.round(t)}isValidTruncated(t){return t<=this.upper&&t>=this.lower}},Sw=class{constructor(t,e,n,r){this.alpha=t,this.beta=1/e,this.dtype=n;let o=r||Math.random();this.randu=Tw.alea(o.toString()),this.randn=new lh(0,1,n,!1,this.randu()),t<1?this.d=t+2/3:this.d=t-1/3,this.c=1/Math.sqrt(9*this.d)}nextValue(){let t,e,n,r,o,s;for(;;){do r=this.randn.nextValue(),s=1+this.c*r;while(s<=0);if(s*=s*s,t=r*r,e=1-.331*t*t,n=.5*t+this.d*(1-s+Math.log(s)),o=this.randu(),o<e||Math.log(o)<n)break}return s=1/this.beta*this.d*s,this.alpha<1&&(s*=Math.pow(this.randu(),1/this.alpha)),this.convertValue(s)}convertValue(t){return this.dtype==="float32"?t:Math.round(t)}},Ew=class{constructor(t=0,e=1,n,r){if(this.canReturnFloat=()=>this.dtype==null||this.dtype==="float32",this.min=t,this.range=e-t,this.dtype=n,r==null&&(r=Math.random()),typeof r=="number"&&(r=r.toString()),!this.canReturnFloat()&&this.range<=1)throw new Error(`The difference between ${t} - ${e} <= 1 and dtype is not float`);this.random=Tw.alea(r)}convertValue(t){return this.canReturnFloat()?t:Math.round(t)}nextValue(){return this.convertValue(this.min+this.range*this.random())}}});function Zpe(i,t,e=1,n="float32",r){if(fn(i),e==null&&(e=1),n==null&&(n="float32"),n!=="float32"&&n!=="int32")throw new Error(`Unsupported data type ${n}`);let o=new Sw(t,e,n,r),s=Nr(i,n);for(let a=0;a<s.values.length;a++)s.values[a]=o.nextValue();return s.toTensor()}var VO,w6=I(()=>{"use strict";ar();nl();H();K_();VO=w({randomGamma_:Zpe})});function Kpe(i,t=0,e=1,n,r){if(fn(i),n!=null&&n==="bool")throw new Error(`Unsupported data type ${n}`);let o=new lh(t,e,n,!1,r),s=Nr(i,n);for(let a=0;a<s.values.length;a++)s.values[a]=o.nextValue();return s.toTensor()}var Q_,UO=I(()=>{"use strict";ar();nl();H();K_();Q_=w({randomNormal_:Kpe})});function Qpe(i,t,e){if(t!=null&&t==="bool")throw new Error(`Unsupported data type ${t}`);return Q_(i,0,1,t,e)}var zO,M6=I(()=>{"use strict";H();UO();zO=w({randomStandardNormal_:Qpe})});function Jpe(i,t=0,e=1,n="float32",r){fn(i);let o=Nr(i,n),s=new Ew(t,e,null,r);for(let a=0;a<o.values.length;a++)o.values[a]=s.nextValue();return o.toTensor()}var dh,Iw=I(()=>{"use strict";ar();nl();H();K_();dh=w({randomUniform_:Jpe})});function efe(i,t,e,n){return dh(i,t,e,"int32",n)}var HO,C6=I(()=>{"use strict";H();Iw();HO=w({randomUniformInt_:efe})});function fl(i,t,e=1,n="float32"){if(e===0)throw new Error("Cannot have a step of zero");let r={start:i,stop:t,step:e,dtype:n};return T.runKernel(oP,{},r)}var Dw=I(()=>{"use strict";X();ee();});function tfe(i){let e={input:v(i,"input","real")};return T.runKernel(sP,e)}var sc,J_=I(()=>{"use strict";X();ee();$();H();sc=w({real_:tfe})});function ife(i){let e={x:v(i,"x","reciprocal")};return T.runKernel(aP,e)}var jO,S6=I(()=>{"use strict";X();ee();$();H();jO=w({reciprocal_:ife})});function nfe(i){let e={x:v(i,"x","relu")};return T.runKernel(cP,e)}var gl,eb=I(()=>{"use strict";X();ee();$();H();gl=w({relu_:nfe})});function rfe(i){let e={x:v(i,"x","relu6")};return T.runKernel(hP,e)}var tb,$O=I(()=>{"use strict";X();ee();$();H();tb=w({relu6_:rfe})});function ofe(i,t){let n={x:v(i,"x","reverse")},r={dims:t};return T.runKernel(mP,n,r)}var Xo,uh=I(()=>{"use strict";X();ee();$();H();Xo=w({reverse_:ofe})});function sfe(i){let t=v(i,"x","reverse");return k(t.rank===1,()=>`Error in reverse1D: x must be rank 1 but got rank ${t.rank}.`),Xo(t,0)}var GO,E6=I(()=>{"use strict";$();pe();H();uh();GO=w({reverse1d_:sfe})});function afe(i,t){let e=v(i,"x","reverse");return k(e.rank===2,()=>`Error in reverse2D: x must be rank 2 but got rank ${e.rank}.`),Xo(e,t)}var WO,T6=I(()=>{"use strict";$();pe();H();uh();WO=w({reverse2d_:afe})});function cfe(i,t){let e=v(i,"x","reverse");return k(e.rank===3,()=>`Error in reverse3D: x must be rank 3 but got rank ${e.rank}.`),Xo(e,t)}var qO,I6=I(()=>{"use strict";$();pe();H();uh();qO=w({reverse3d_:cfe})});function lfe(i,t){let e=v(i,"x","reverse");return k(e.rank===4,()=>`Error in reverse4D: x must be rank 4 but got rank ${e.rank}.`),Xo(e,t)}var XO,D6=I(()=>{"use strict";$();pe();H();uh();XO=w({reverse4d_:lfe})});function dfe(i){let e={x:v(i,"x","round")};return T.runKernel(pP,e)}var ib,YO=I(()=>{"use strict";X();ee();$();H();ib=w({round_:dfe})});function ufe(i){let e={x:v(i,"x","rsqrt","float32")};return T.runKernel(fP,e)}var ZO,k6=I(()=>{"use strict";X();ee();$();H();ZO=w({rsqrt_:ufe})});function hfe(i){let e={x:v(i,"x","selu")};return T.runKernel(yP,e)}var KO,A6=I(()=>{"use strict";X();ee();$();H();KO=w({selu_:hfe})});function mfe(i,t,e,n,r,o=[1,1],s="NHWC"){let a=v(i,"x","separableConv2d"),c=v(t,"depthwiseFilter","separableConv2d"),l=v(e,"pointwiseFilter","separableConv2d"),d=a,u=!1;if(a.rank===3&&(u=!0,d=re(a,[1,a.shape[0],a.shape[1],a.shape[2]])),s==="NCHW")throw new Error("separableConv2d currently does not support dataFormat NCHW; only NHWC is supported");k(d.rank===4,()=>`Error in separableConv2d: input must be rank 4, but got rank ${d.rank}.`),k(c.rank===4,()=>`Error in separableConv2d: depthwise filter must be rank 4, but got rank ${c.rank}.`),k(l.rank===4,()=>`Error in separableConv2d: pointwise filter must be rank 4, but got rank ${c.rank}.`),k(l.shape[0]===1,()=>`Error in separableConv2d: the first dimension of pointwise filter  must be 1, but got ${l.shape[0]}.`),k(l.shape[1]===1,()=>`Error in separableConv2d: the second dimension of pointwise filter must be 1, but got ${l.shape[1]}.`);let h=c.shape[2],m=c.shape[3];k(l.shape[2]===h*m,()=>`Error in separableConv2d: the third dimension of pointwise filter must be ${h*m}, but got ${l.shape[2]}.`);let p=oh(d,c,n,r,s,o),f=sl(p,l,1,"valid",s);return u?re(f,[f.shape[1],f.shape[2],f.shape[3]]):f}var QO,P6=I(()=>{"use strict";$();pe();T_();dw();H();Jt();QO=w({separableConv2d_:mfe})});function pfe(i,t){return te(this,null,function*(){let e=v(i,"x","setdiff1d"),n=v(t,"y","setdiff1d");k(e.dtype===n.dtype,()=>`x and y should have the same dtype, but got x (${e.dtype}) and y (${n.dtype}).`),k(e.rank===1,()=>`x should be 1D tensor, but got x (${e.shape}).`),k(n.rank===1,()=>`y should be 1D tensor, but got y (${n.shape}).`);let r=yield e.data(),o=yield n.data(),s=new Set(o),a=0;for(let d=0;d<r.length;d++)s.has(r[d])||a++;let c=new Qc([a],e.dtype),l=new Qc([a],"int32");for(let d=0,u=0;d<r.length;d++)s.has(r[d])||(c.values[u]=r[d],l.values[u]=d,u++);return[c.toTensor(),l.toTensor()]})}var JO,R6=I(()=>{"use strict";ms();$();pe();JO=pfe});function ffe(i){let e={x:v(i,"x","sign")};return T.runKernel(CP,e)}var e2,N6=I(()=>{"use strict";X();ee();$();H();e2=w({sign_:ffe})});function gfe(i){let e={x:v(i,"x","sin","float32")};return T.runKernel(wP,e)}var t2,O6=I(()=>{"use strict";X();ee();$();H();t2=w({sin_:gfe})});function _fe(i){let e={x:v(i,"x","sinh")};return T.runKernel(MP,e)}var i2,F6=I(()=>{"use strict";X();ee();$();H();i2=w({sinh_:_fe})});function bfe(i,t,e){let n=v(i,"x","slice1d");return k(n.rank===1,()=>`slice1d expects a rank-1 tensor, but got a rank-${n.rank} tensor`),gi(n,[t],[e])}var n2,L6=I(()=>{"use strict";$();pe();H();Vs();n2=w({slice1d_:bfe})});function vfe(i,t,e){let n=v(i,"x","slice2d");return k(n.rank===2,()=>`slice2d expects a rank-2 tensor, but got a rank-${n.rank} tensor`),gi(n,t,e)}var r2,B6=I(()=>{"use strict";$();pe();H();Vs();r2=w({slice2d_:vfe})});function yfe(i,t,e){let n=v(i,"x","slice3d");return k(n.rank===3,()=>`slice3d expects a rank-3 tensor, but got a rank-${n.rank} tensor`),gi(n,t,e)}var o2,V6=I(()=>{"use strict";$();pe();H();Vs();o2=w({slice3d_:yfe})});function xfe(i,t,e){let n=v(i,"x","slice4d");return k(n.rank===4,()=>`slice4d expects a rank-4 tensor, but got a rank-${n.rank} tensor`),gi(n,t,e)}var s2,U6=I(()=>{"use strict";$();pe();H();Vs();s2=w({slice4d_:xfe})});function wfe(i,t=-1){let e=v(i,"logits","softmax","float32");if(t===-1&&(t=e.rank-1),t!==e.rank-1)throw Error(`Softmax along a non-last dimension is not yet supported. Logits was rank ${e.rank} and dim was ${t}`);let n={logits:e},r={dim:t};return T.runKernel(AP,n,r)}var a2,z6=I(()=>{"use strict";X();ee();$();H();a2=w({softmax_:wfe})});function Mfe(i){k(i.dtype==="complex64",()=>`The dtype for tf.spectral.fft() must be complex64 but got ${i.dtype}.`);let t={input:i};return T.runKernel(aA,t)}var hh,kw=I(()=>{"use strict";X();ee();pe();H();hh=w({fft_:Mfe})});function Cfe(i){k(i.dtype==="complex64",()=>`The dtype for tf.spectral.ifft() must be complex64 but got ${i.dtype}.`);let t={input:i};return T.runKernel(_A,t)}var wd,Aw=I(()=>{"use strict";X();ee();pe();H();wd=w({ifft_:Cfe})});function Sfe(i){let t=i.shape[i.shape.length-1],e=i.size/t,n;if(t<=2){let r=re(i,[e,t]);n=wd(r)}else{let r=[e,2*(t-1)],o=re(sc(i),[e,t]),s=re(hl(i),[e,t]),a=Xo(gi(o,[0,1],[e,t-2]),1),c=Ie(Xo(gi(s,[0,1],[e,t-2]),1),Mt(-1)),l=sn([o,a],1),d=sn([s,c],1),u=re(no(l,d),[r[0],r[1]]);n=wd(u)}if(n=sc(n),i.rank===3&&i.shape[0]!==0){let r=n,o=i.shape[0];n=re(n,[o,n.shape[0]/o,n.shape[1]]),r.dispose()}return n}var nb,c2=I(()=>{"use strict";hd();ua();L_();bn();H();J_();Jt();uh();$r();Vs();Aw();nb=w({irfft_:Sfe})});function Efe(i,t,e=0){let r={x:v(i,"x","split")},o={numOrSizeSplits:t,axis:e};return T.runKernel(kP,r,o)}var ac,rb=I(()=>{"use strict";X();ee();$();H();ac=w({split_:Efe})});function Tfe(i,t){k(i.dtype==="float32",()=>`The dtype for rfft() must be real value but got ${i.dtype}`);let e=i.shape[i.shape.length-1],n=i.size/e,r;if(t!=null&&t<e){let p=i.shape.map(f=>0),_=i.shape.map(f=>f);_[i.shape.length-1]=t,r=gi(i,p,_),e=t}else if(t!=null&&t>e){let p=i.shape.map(_=>_);p[i.shape.length-1]=t-e,r=sn([i,ga(p)],i.shape.length-1),e=t}else r=i;let o=qn(r),s=re(no(r,o),[n,e]),a=hh(s),c=Math.floor(e/2)+1,l=sc(a),d=hl(a),u=ac(l,[c,e-c],l.shape.length-1),h=ac(d,[c,e-c],d.shape.length-1),m=r.shape.slice();return m[r.shape.length-1]=c,re(no(u[0],h[0]),m)}var mh,Pw=I(()=>{"use strict";pe();hd();ua();L_();H();J_();Jt();Vs();rb();q_();al();kw();mh=w({rfft_:Tfe})});function Ife(i,t){let e=v(i,"a","squaredDifference"),n=v(t,"b","squaredDifference");[e,n]=Zt(e,n),Ii(e.shape,n.shape);let r={a:e,b:n},o={};return T.runKernel(LP,r,o)}var ob,l2=I(()=>{"use strict";X();ee();_n();$();dr();H();ob=w({squaredDifference_:Ife})});function Dfe(i,t){let e=v(i,"x","squeeze","string_or_numeric");return re(e,rk(e.shape,t).newShape)}var ph,Rw=I(()=>{"use strict";$();pe();H();Jt();ph=w({squeeze_:Dfe})});function kfe(i,t=0){let e=Jc(i,"tensors","stack","string_or_numeric");k(e.length>=1,()=>"Pass at least one tensor to tf.stack"),e.length>0&&k(t<=e[0].rank,()=>"Axis must be <= rank of the tensor");let n=e,r={axis:t};return T.runKernel(KA,n,r)}var Wr,sb=I(()=>{"use strict";X();ee();$();pe();H();Wr=w({stack_:kfe})});function Afe(i,t=0){let n={x:v(i,"x","step")},r={alpha:t};return T.runKernel(QP,n,r)}var ab,d2=I(()=>{"use strict";X();ee();$();H();ab=w({step_:Afe})});function Pfe(i,t,e,n,r=0,o=0,s=0,a=0,c=0){let d={x:v(i,"x","stridedSlice","string_or_numeric")},u={begin:t,end:e,strides:n,beginMask:r,endMask:o,ellipsisMask:s,newAxisMask:a,shrinkAxisMask:c};return T.runKernel(VP,d,u)}var u2,H6=I(()=>{"use strict";X();ee();$();H();u2=w({stridedSlice_:Pfe})});function Rfe(i){let e={x:v(i,"x","tan","float32")};return T.runKernel($P,e)}var h2,j6=I(()=>{"use strict";X();ee();$();H();h2=w({tan_:Rfe})});function mr(i,t){hs(i);let e=Pr(i,t);if(e.length!==1)throw new Error("tensor1d() requires values to be a flat/TypedArray");return ro(i,null,e,t)}var Md=I(()=>{"use strict";$();pe();el();});function _l(i,t,e){if(hs(i),t!=null&&t.length!==2)throw new Error("tensor2d() requires shape to have two numbers");let n=Pr(i,e);if(n.length!==2&&n.length!==1)throw new Error("tensor2d() requires values to be number[][] or flat/TypedArray");if(n.length===1&&t==null)throw new Error("tensor2d() requires shape to be provided when `values` are a flat/TypedArray");return ro(i,t,n,e)}var Nw=I(()=>{"use strict";$();pe();el();});function cb(i,t,e){if(hs(i),t!=null&&t.length!==3)throw new Error("tensor3d() requires shape to have three numbers");let n=Pr(i,e);if(n.length!==3&&n.length!==1)throw new Error("tensor3d() requires values to be number[][][] or flat/TypedArray");if(n.length===1&&t==null)throw new Error("tensor3d() requires shape to be provided when `values` are a flat array");return ro(i,t,n,e)}var m2=I(()=>{"use strict";$();pe();el();});function p2(i,t,e){if(hs(i),t!=null&&t.length!==4)throw new Error("tensor4d() requires shape to have four numbers");let n=Pr(i,e);if(n.length!==4&&n.length!==1)throw new Error("tensor4d() requires values to be number[][][][] or flat/TypedArray");if(n.length===1&&t==null)throw new Error("tensor4d() requires shape to be provided when `values` are a flat array");return ro(i,t,n,e)}var $6=I(()=>{"use strict";$();pe();el();});function f2(i,t,e){if(hs(i),t!=null&&t.length!==5)throw new Error("tensor5d() requires shape to have five numbers");let n=Pr(i,e);if(n.length!==5&&n.length!==1)throw new Error("tensor5d() requires values to be number[][][][][] or flat/TypedArray");if(n.length===1&&t==null)throw new Error("tensor5d() requires shape to be provided when `values` are a flat array");return ro(i,t,n,e)}var G6=I(()=>{"use strict";$();pe();el();});function g2(i,t,e){if(hs(i),t!=null&&t.length!==6)throw new Error("tensor6d() requires shape to have six numbers");let n=Pr(i,e);if(n.length!==6&&n.length!==1)throw new Error("tensor6d() requires values to be number[][][][][][] or flat/TypedArray");if(n.length===1&&t==null)throw new Error("tensor6d() requires shape to be provided when `values` are a flat array");return t=t||n,ro(i,t,n,e)}var W6=I(()=>{"use strict";$();pe();el();});var lb={};Mi(lb,{calculateShapes:()=>q6,validateInput:()=>Lp,validateUpdateShape:()=>_2});function _2(i,t,e){let n=t.rank>1?t.shape[t.rank-1]:1,r=t.rank>1?t.rank-1:1,o=`Must have updates.shape = indices.shape[:batchDim] + shape[sliceDim:], got updates.shape: ${e.shape}, indices.shape: ${t.shape}, shape: ${i}, sliceDim: ${n}, and batchDim: ${r}.`;if(e.rank<r)throw new Error(o+` update.rank < ${r}. `);if(i.length<n+(e.rank-r))throw new Error(o+` Output shape length < ${n+(e.rank-r)}`);if(e.rank!==r+i.length-n)throw new Error(o+` update.rank != ${r+i.length-n}`);for(let s=0;s<r;++s)if(e.shape[s]!==t.shape[s])throw new Error(o+` updates.shape[${s}] (${e.shape[s]}) != indices.shape[${s}] (${t.shape[s]}).`);for(let s=0;s<e.rank-r;++s)if(e.shape[s+r]!==i[s+n])throw new Error(o+` updates.shape[${s+r}] (${e.shape[s+r]}) != shape[${s+r}] (${i[s+r]})`)}function Lp(i,t,e){if(t.rank<1)throw new Error(`tf.scatterND() expects the indices to be rank 1 or higher, but the rank was ${t.rank}.`);if(i.rank<1)throw new Error(`tf.scatterND() expects the updates to be rank 1 or higher, but the rank was ${i.rank}.`);if(t.dtype!=="int32")throw new Error(`The dtype of 'indices' should be int32, but got dtype: ${t.dtype}`);if(e.length<1)throw new Error(`Output rank must be greater or equal to 1, but got shape: ${e}`);if(e.length===0){if(t.size===0)throw new Error(`Indices specified for empty output. indices shape: ${t.shape}`);if(i.size===0)throw new Error(`Updates specified for empty output. updates shape: ${i.shape}`)}_2(e,t,i)}function q6(i,t,e){let n=t.shape.length,r=n>1?t.shape[n-1]:1,o=e.length,s=1;for(let u=r;u<o;++u)s*=e[u];let a=r<1?1:r,c=oi(t.shape)/a,l=[...Qa(e.slice(0,r)),1],d=oi(e);return{sliceRank:r,numUpdates:c,sliceSize:s,strides:l,outputSize:d}}var db=I(()=>{"use strict";pe()});function Nfe(i,t,e){let n=v(i,"tensor","tensorScatterupdate"),r=v(t,"indices","tensorScatterupdate","int32"),o=v(e,"updates","tensorScatterupdate");if(Lp(o,r,n.shape),n.dtype!==o.dtype)throw new Error(`tensor and updates must have the same dtype, instead they are ${n.dtype} and ${o.dtype}.`);let s={tensor:n,indices:r,updates:o},a={};return T.runKernel(_P,s,a)}var b2,X6=I(()=>{"use strict";X();ee();$();H();db();b2=w({tensorScatterUpdate_:Nfe})});function Ofe(i,t=1,e=!0){let n=v(i,"x","topk");if(n.rank===0)throw new Error("topk() expects the input to be of rank 1 or higher");let r=n.shape[n.shape.length-1];if(t<0)throw new Error(`'k' passed to topk() must be >= 0 but got ${t}`);if(t>r)throw new Error(`'k' passed to topk() must be <= the last dimension (${r}) but got ${t}`);let o={x:n},s={k:t,sorted:e},[a,c]=T.runKernel(WP,o,s);return{values:a,indices:c}}var v2,Y6=I(()=>{"use strict";X();ee();$();H();v2=w({topk_:Ofe})});function Ffe(i,t=0,e=1,n,r){if(fn(i),n!=null&&n==="bool")throw new Error("Unsupported data type $ { dtype }");let o=new lh(t,e,n,!0,r),s=Nr(i,n);for(let a=0;a<s.values.length;a++)s.values[a]=o.nextValue();return s.toTensor()}var y2,Z6=I(()=>{"use strict";ar();nl();H();K_();y2=w({truncatedNormal_:Ffe})});function Lfe(i,t=0){let e=v(i,"x","unique","string_or_numeric");k(e.rank>0,()=>"The input tensor must be at least 1D");let n={x:e},r={axis:t},[o,s]=T.runKernel(XP,n,r);return{values:o,indices:s}}var x2,K6=I(()=>{"use strict";X();ee();$();pe();H();x2=w({unique_:Lfe})});function Bfe(i,t,e){let n=v(i,"x","unsortedSegmentSum"),r=v(t,"segmentIds","unsortedSegmentSum","int32");k(Kc(e),()=>"numSegments must be of dtype int");let o={x:n,segmentIds:r},s={numSegments:e};return T.runKernel(ZP,o,s)}var w2,Q6=I(()=>{"use strict";X();ee();$();pe();H();w2=w({unsortedSegmentSum_:Bfe})});function Vfe(i,t=0){let e=v(i,"x","unstack","string_or_numeric");k(t>=-e.shape.length&&t<e.shape.length,()=>`Axis = ${t} is not in [-${e.shape.length}, ${e.shape.length})`);let n={value:e},r={axis:t};return T.runKernel(YP,n,r)}var Yo,Ow=I(()=>{"use strict";X();ee();$();pe();H();Yo=w({unstack_:Vfe})});function M2(i,t){return Np(i,t,"right")}var J6=I(()=>{"use strict";yw();});function C2(i,t=!0,e,n){return T.makeVariable(i,t,e,n)}var eG=I(()=>{"use strict";X();});function Fw(i,t){let e=[];for(let o=0;o<t.length;o++)t[o]&&e.push(o);let n=Nr(i,"int32"),r=Nr([e.length,i.length],"int32");for(let o=0;o<e.length;o++){let s=n.indexToLoc(e[o]),a=o*i.length;r.values.set(s,a)}return r.toTensor()}var S2=I(()=>{"use strict";nl();});function Ufe(i){return te(this,null,function*(){let t=v(i,"condition","whereAsync","bool"),e=yield t.data(),n=Fw(t.shape,e);return i!==t&&t.dispose(),n})}var ub,E2=I(()=>{"use strict";S2();$();ub=Ufe});function zfe(i,t,e){return te(this,null,function*(){let n=v(i,"tensor","boolMask"),r=v(t,"mask","boolMask","bool"),o=e??0,s=r.rank,a=n.shape;k(s>0,()=>"mask cannot be scalar"),ln(a.slice(o,o+s),r.shape,"mask's shape must match the first K dimensions of tensor's shape,");let c=1;for(let _=o;_<o+s;_++)c*=a[_];let l=a.slice(0,o).concat([c],a.slice(o+s)),d=re(n,l),u=re(r,[-1]),h=yield ub(u),m=ph(h,[1]),p=O_(d,m,o);return i!==n&&n.dispose(),t!==r&&r.dispose(),m.dispose(),d.dispose(),u.dispose(),h.dispose(),p})}var tG,iG=I(()=>{"use strict";$();pe();VN();Jt();Rw();E2();tG=zfe});function Hfe(i,t,e){let n=v(i,"x","transpose");if(t==null&&(t=n.shape.map((s,a)=>a).reverse()),k(n.rank===t.length,()=>`Error in transpose: rank of input ${n.rank} must match length of perm ${t}.`),t.forEach(s=>{k(s>=0&&s<n.rank,()=>`All entries in 'perm' must be between 0 and ${n.rank-1} but got ${t}`)}),n.rank<=1)return n.clone();let r={x:n},o={perm:t};return n.dtype==="complex64"?Qt(()=>{let s=sc(n),a=hl(n);return s=T.runKernel(c_,{x:s},o),a=T.runKernel(c_,{x:a},o),e&&(a=wr(a)),no(s,a)}):T.runKernel(c_,r,o)}var fh,Lw=I(()=>{"use strict";X();Wo();ee();$();pe();hd();L_();pl();H();J_();fh=w({transpose_:Hfe})});function jfe(i,t,e,n,r=!0){let o=v(i,"v","movingAverage"),s=v(t,"x","movingAverage"),a=v(e,"decay","movingAverage");dR(o,s),k(to(o.shape,s.shape),()=>"Shape mismatch in v and x");let c=Mt(1),l=yt(c,a),d=Ie(yt(s,o),l);if(r){k(n!=null,()=>"When using zeroDebias: true, step is required.");let u=v(n,"step","movingAverage");d=fi(d,yt(c,rc(a,u)))}return st(o,d)}var nG,rG=I(()=>{"use strict";_n();$();pe();tr();ko();bn();H();A_();$r();hr();nG=w({movingAverage_:jfe})});function $fe(i,t,e){fn(e);let n=v(i,"indices","scatterND","int32"),r=v(t,"updates","scatterND");Lp(r,n,e);let o={indices:n,updates:r},s={shape:e};return T.runKernel(gP,o,s)}var oG,sG=I(()=>{"use strict";X();ee();$();ar();H();db();oG=w({scatterND_:$fe})});function aG(i,t,e,n){if(i.dtype!=="int32")throw new Error(`tf.sparseToDense() expects the indices to be int32 type, but the dtype was ${i.dtype}.`);if(i.rank>2)throw new Error(`sparseIndices should be a scalar, vector, or matrix, but got shape ${i.shape}.`);let r=i.rank>0?i.shape[0]:1,o=i.rank>1?i.shape[1]:1;if(e.length!==o)throw new Error(`outputShape has incorrect number of elements:, ${e.length}, should be: ${o}.`);let s=t.size;if(!(t.rank===0||t.rank===1&&s===r))throw new Error(`sparseValues has incorrect shape ${t.shape}, should be [] or [${r}]`);if(t.dtype!==n.dtype)throw new Error("sparseValues.dtype must match defaultValues.dtype")}var cG=I(()=>{"use strict"});function Wfe(i,t,e,n=0){fn(e);let r=v(i,"sparseIndices","sparseToDense","int32"),o=v(t,"sparseValues","sparseToDense","string_or_numeric"),s=v(n,"defaultValue","sparseToDense",o.dtype);aG(r,o,e,s);let a={sparseIndices:r,sparseValues:o,defaultValue:s},c={outputShape:e};return T.runKernel(FP,a,c)}var lG,dG=I(()=>{"use strict";X();ee();cG();$();ar();H();lG=w({sparseToDense_:Wfe})});function qfe(i,t){let e=v(t,"indices","gatherND","int32"),r={params:v(i,"x","gatherND","string_or_numeric"),indices:e};return T.runKernel(pA,r)}var uG,hG=I(()=>{"use strict";X();ee();$();H();uG=w({gatherND_:qfe})});function mG(i,t){if(t==null)return i.shape.slice();if(to(i.shape,t))return t;if(i.shape.length===t.length){let e=[];for(let n=0;n<i.shape.length;n++)t[n]==null&&i.shape[n]!=null?e.push(i.shape[n]):e.push(t[n]);return e}return t}var pG=I(()=>{"use strict";pe();});function Xfe(i,t,e,n){let r=v(i,"x","dropout");if(k(r.dtype==="float32",()=>`x has to be a floating point tensor since it's going to be scaled, but got a ${r.dtype} tensor instead.`),k(t>=0&&t<1,()=>`rate must be a float in the range [0, 1), but got ${t}.`),t===0)return i instanceof Oi?r.clone():r;let o=mG(r,e),s=1-t,a=fi(N_(st(dh(o,0,1,"float32",n),s)),s);return Ie(r,a)}var fG,gG=I(()=>{"use strict";ms();$();pe();tr();ko();pG();BN();bn();H();Iw();fG=w({dropout_:Xfe})});function Bw(i){return Math.floor(Math.pow(2,Math.ceil(Math.log(i)/Math.log(2))))}function Bp(i,t,e){let n=1-i%2,r=new Float32Array(i);for(let o=0;o<i;++o){let s=2*Math.PI*o/(i+n-1);r[o]=t-e*Math.cos(s)}return mr(r,"float32")}var hb=I(()=>{"use strict";Md();});function Yfe(i,t,e=1){return te(this,null,function*(){let n=v(i,"predictions","inTopK"),r=v(t,"targets","inTopK");k(n.rank>1,()=>`inTopK() expects the predictions to be of rank 2 or higher, but got ${n.rank}`),k(n.rank-1===r.rank,()=>`predictions rank should be 1 larger than targets rank, but got predictions rank ${n.rank} and targets rank ${r.rank}`),ln(n.shape.slice(0,n.shape.length-1),r.shape,"predictions's shape should be align with the targets' shape, except the last dimension.");let o=n.shape[n.shape.length-1];k(e>0&&e<=o,()=>`'k' passed to inTopK() must be > 0 && <= the predictions last dimension (${o}), but got ${e}`);let s=yield n.data(),a=yield r.data(),[c,l]=[s.length/o,o],d=ok("bool",c);for(let u=0;u<c;u++){let h=u*l,m=s.subarray(h,h+l),p=[];for(let _=0;_<m.length;_++)p.push({value:m[_],index:_});p.sort((_,f)=>f.value-_.value),d[u]=0;for(let _=0;_<e;_++)if(p[_].index===a[u]){d[u]=1;break}}return i!==n&&n.dispose(),t!==r&&r.dispose(),Hr(d,r.shape,"bool")})}var _G,bG=I(()=>{"use strict";$();pe();g_();_G=Yfe});function Zfe(i,t,e,n,r,o="NHWC",s){let a=i;i.rank===3&&(a=re(i,[1,i.shape[0],i.shape[1],i.shape[2]]));let c=t;c.rank===3&&(c=re(t,[1,t.shape[0],t.shape[1],t.shape[2]])),k(a.rank===4,()=>`Error in conv2dDerFilter: input must be rank 4, but got shape ${a.shape}.`),k(c.rank===4,()=>`Error in conv2dDerFilter: dy must be rank 4, but got shape ${c.shape}.`),k(e.length===4,()=>`Error in conv2dDerFilter: filterShape must be length 4, but got ${e}.`);let l=o==="NHWC"?a.shape[3]:a.shape[1],d=o==="NHWC"?c.shape[3]:c.shape[1];k(l===e[2],()=>`Error in conv2dDerFilter: depth of input ${l}) must match input depth in filter (${e[2]}.`),k(d===e[3],()=>`Error in conv2dDerFilter: depth of dy (${d}) must match output depth for filter (${e[3]}).`),Ln("conv2dDerFilter",r,s);let u={x:a,dy:c},h={strides:n,pad:r,dataFormat:o,dimRoundingMode:s,filterShape:e};return T.runKernel(Lk,u,h)}var vG,yG=I(()=>{"use strict";X();ee();pe();Ao();H();Jt();vG=w({conv2DBackpropFilter_:Zfe})});function gh(i,t,e){if(e==null||e==="linear")return i;if(e==="relu")return Ie(i,ab(t));throw new Error(`Cannot compute gradient for fused activation ${e}.`)}function _h(i,t){let e=t,n=uw(i.shape,t.shape);return n.length>0&&(e=Di(e,n)),re(e,i.shape)}function bh(i,t,e,n){if(t==="linear")return i;if(t==="relu")return gl(i);if(t==="elu")return D_(i);if(t==="relu6")return tb(i);if(t==="prelu")return Z_(i,e);if(t==="leakyrelu")return B_(i,n);if(t==="sigmoid")return ha(i);throw new Error(`Unknown fused activation ${t}.`)}var vh,Vp=I(()=>{"use strict";dr();kN();$N();bn();MO();eb();$O();Jt();M_();d2();fa();vh=(i,t)=>!(i>0)||t==="linear"});function Kfe({x:i,filter:t,strides:e,pad:n,dataFormat:r="NHWC",dilations:o=[1,1],dimRoundingMode:s,bias:a,activation:c="linear",preluActivationWeights:l,leakyreluAlpha:d}){if(c=c||"linear",vh(T.state.gradientDepth,c)===!1){k(r==="NHWC",()=>`Error in fused conv2d: got dataFormat of ${r} but only NHWC is currently supported for the case of gradient depth is 0 and the activation is not linear.`);let N=sl(i,t,e,n,r,o,s);return a!=null&&(N=st(N,a)),bh(N,c,l,d)}let u=v(i,"x","conv2d","float32"),h=v(t,"filter","conv2d","float32"),m=u,p=!1;u.rank===3&&(p=!0,m=re(u,[1,u.shape[0],u.shape[1],u.shape[2]])),k(m.rank===4,()=>`Error in fused conv2d: input must be rank 4, but got rank ${m.rank}.`),k(h.rank===4,()=>`Error in fused conv2d: filter must be rank 4, but got rank ${h.rank}.`),Ln("fused conv2d",n,s);let _=r==="NHWC"?m.shape[3]:m.shape[1];k(h.shape[2]===_,()=>`Error in conv2d: depth of input (${_}) must match input depth for filter ${h.shape[2]}.`),k(jr(e,o),()=>`Error in conv2D: Either strides or dilations must be 1. Got strides ${e} and dilations '${o}'`);let f=nh(m.shape,h.shape,e,o,n,s),g;a!=null&&(g=v(a,"bias","fused conv2d"),[g]=Zt(g,u),r==="NHWC"?Ii(f.outShape,g.shape):(k(g.shape.length<=1,()=>`Error in fused conv2d: only supports scalar or 1-D Tensor bias for NCHW format but got the bias of rank-${g.shape.length}.`),k(g.shape.length===0||g.shape[0]===f.outChannels||g.shape[0]===1,()=>`Error in fused conv2d: bias shape (${g.shape}) is not compatible with the number of output channels (${f.outChannels})`)));let C;if(l!=null){let N=l.shape;if(k(N.length<=1||N.length===3,()=>`Error in fused conv2d: only supports scalar, 1-D Tensor or 3-D Tensor PReLU activation weights but got a tensor of rank-${N.length}.`),N.length===1)k(N[0]===1||N[0]===f.outChannels,()=>`Error in fused conv2d: PReLU activation weights (${N}) is not compatible with the number of output channels (${f.outChannels}).`);else if(N.length===3)try{Ii(N,f.outShape)}catch{let z=`Error in fused conv2d: PReLU activation weights (${N}) is not compatible with the output shape of the conv2d (${f.outShape}).`;throw Error(z)}C=v(l,"prelu weights","fused conv2d")}let M=(N,L)=>{k(r==="NHWC",()=>`Error in gradient of fused conv2D: got dataFormat of ${r} but only NHWC is currently supported.`);let[z,E,A,U]=L,W=gh(N,A,c);k(ih(o),()=>`Error in gradient of fused conv2D: dilation rates greater than 1 are not yet supported in gradients. Got dilations '${o}'`);let Z=lw(E.shape,W,z,e,n),se=vG(E,W,z.shape,e,n),ie=[Z,se];if(U!=null){let de=_h(U,W);ie.push(de)}return ie},S={x:m,filter:h,bias:g,preluActivationWeights:C},R={strides:e,pad:n,dataFormat:r,dilations:o,dimRoundingMode:s,activation:c,leakyreluAlpha:d};return a==null?Gr((L,z,E)=>{let A=T.runKernel(Hx,S,R);return E([z,L,A]),p&&(A=re(A,[A.shape[1],A.shape[2],A.shape[3]])),{value:A,gradFunc:M}})(m,h):Gr((L,z,E,A)=>{let U=T.runKernel(Hx,S,R);return A([z,L,U,E]),p&&(U=re(U,[U.shape[1],U.shape[2],U.shape[3]])),{value:U,gradFunc:M}})(m,h,g)}var xG,wG=I(()=>{"use strict";X();ml();ee();_n();$();pe();tr();dr();T_();yG();pN();Ao();Vp();H();Jt();xG=w({fusedConv2d_:Kfe})});function Qfe(i,t,e,n,r,o=[1,1],s){let a=i;i.rank===3&&(a=re(i,[1,i.shape[0],i.shape[1],i.shape[2]]));let c=t;c.rank===3&&(c=re(t,[1,t.shape[0],t.shape[1],t.shape[2]]));let l={x:a,dy:c},d={strides:n,pad:r,dimRoundingMode:s,dilations:o,filterShape:e};return T.runKernel(Yk,l,d)}var MG,CG=I(()=>{"use strict";X();ee();H();Jt();MG=w({depthwiseConv2dNativeBackpropFilter_:Qfe})});function Jfe(i,t,e,n,r,o=[1,1],s){let a=t,c=!1;t.rank===3&&(c=!0,a=re(t,[1,t.shape[0],t.shape[1],t.shape[2]]));let l={dy:a,filter:e},d={strides:n,pad:r,dimRoundingMode:s,dilations:o,inputShape:i},u=T.runKernel(Zk,l,d);return c?re(u,[u.shape[1],u.shape[2],u.shape[3]]):u}var SG,EG=I(()=>{"use strict";X();ee();H();Jt();SG=w({depthwiseConv2dNativeBackpropInput_:Jfe})});function ege({x:i,filter:t,strides:e,pad:n,dataFormat:r="NHWC",dilations:o=[1,1],dimRoundingMode:s,bias:a,activation:c="linear",preluActivationWeights:l,leakyreluAlpha:d}){if(vh(T.state.gradientDepth,c)===!1){let R=oh(i,t,e,n,r,o,s);return a!=null&&(R=st(R,a)),bh(R,c,l,d)}let u=v(i,"x","depthwiseConv2d","float32"),h=v(t,"filter","depthwiseConv2d","float32"),m=u,p=!1;u.rank===3&&(p=!0,m=re(u,[1,u.shape[0],u.shape[1],u.shape[2]])),k(m.rank===4,()=>`Error in fused depthwiseConv2d: input must be rank 4, but got rank ${m.rank}.`),k(h.rank===4,()=>`Error in fused depthwiseConv2d: filter must be rank 4, but got rank ${h.rank}.`),k(m.shape[3]===h.shape[2],()=>`Error in fused depthwiseConv2d: number of input channels (${m.shape[3]}) must match the inChannels dimension in filter ${h.shape[2]}.`),o==null&&(o=[1,1]),k(jr(e,o),()=>`Error in fused depthwiseConv2d: Either strides or dilations must be 1. Got strides ${e} and dilations '${o}'`),Ln("fused depthwiseConv2d",n,s);let _=nh(m.shape,h.shape,e,o,n,s,!0),f;a!=null&&(f=v(a,"bias","fused conv2d"),[f]=Zt(f,u),Ii(_.outShape,f.shape));let g;l!=null&&(g=v(l,"prelu weights","fused depthwiseConv2d"));let C=(R,N)=>{k(ih(o),()=>`Error in gradient of fused depthwiseConv2d: dilation rates greater than 1 are not yet supported. Got dilations '${o}'`);let[L,z,E,A]=N,U=gh(R,E,c),W=SG(z.shape,U,L,e,n,o,s),Z=MG(z,U,L.shape,e,n,o,s);if(A!=null){let se=_h(f,U);return[W,Z,se]}return[W,Z]},M={x:m,filter:h,bias:f,preluActivationWeights:g},S={strides:e,pad:n,dataFormat:r,dilations:o,dimRoundingMode:s,activation:c,leakyreluAlpha:d};return a==null?Gr((N,L,z)=>{let E=T.runKernel(jx,M,S);return z([L,N,E]),p&&(E=re(E,[E.shape[1],E.shape[2],E.shape[3]])),{value:E,gradFunc:C}})(m,h):Gr((N,L,z,E)=>{let A=T.runKernel(jx,M,S);return E([L,N,A,z]),p&&(A=re(A,[A.shape[1],A.shape[2],A.shape[3]])),{value:A,gradFunc:C}})(m,h,f)}var TG,IG=I(()=>{"use strict";X();ml();ee();_n();$();pe();tr();dr();Ao();dw();CG();EG();Vp();H();Jt();TG=w({fusedDepthwiseConv2d_:ege})});function tge({a:i,b:t,transposeA:e=!1,transposeB:n=!1,bias:r,activation:o="linear",preluActivationWeights:s,leakyreluAlpha:a=.2}){if(vh(T.state.gradientDepth,o)===!1){let U=yi(i,t,e,n);return r!=null&&(U=st(U,r)),bh(U,o,s,a)}let c=v(i,"a","fused matMul"),l=v(t,"b","fused matMul");[c,l]=Zt(c,l);let d=e?c.shape[c.rank-2]:c.shape[c.rank-1],u=n?l.shape[l.rank-1]:l.shape[l.rank-2],h=e?c.shape[c.rank-1]:c.shape[c.rank-2],m=n?l.shape[l.rank-2]:l.shape[l.rank-1],p=c.shape.slice(0,-2),_=l.shape.slice(0,-2),f=oi(p),g=oi(_);k(d===u,()=>`Error in fused matMul: inner shapes (${d}) and (${u}) of Tensors with shapes ${c.shape} and ${l.shape} and transposeA=${e} and transposeB=${n} must match.`);let M=Ii(c.shape.slice(0,-2),l.shape.slice(0,-2)).concat([h,m]),S=e?re(c,[f,d,h]):re(c,[f,h,d]),R=n?re(l,[g,m,u]):re(l,[g,u,m]),N;r!=null&&(N=v(r,"bias","fused matMul"),[N]=Zt(N,c),Ii(M,N.shape));let L;s!=null&&(L=v(s,"prelu weights","fused matMul"));let z=(U,W)=>{let[Z,se,ie,de]=W,ne=gh(re(U,ie.shape),ie,o),Me,Pe;if(!e&&!n?(Me=yi(ne,se,!1,!0),Pe=yi(Z,ne,!0,!1)):!e&&n?(Me=yi(ne,se,!1,!1),Pe=yi(ne,Z,!0,!1)):e&&!n?(Me=yi(se,ne,!1,!0),Pe=yi(Z,ne,!1,!1)):(Me=yi(se,ne,!0,!0),Pe=yi(ne,Z,!0,!0)),r!=null){let ze=_h(de,ne);return[Me,Pe,ze]}else return[Me,Pe]},E={a:S,b:R,bias:N,preluActivationWeights:L},A={transposeA:e,transposeB:n,activation:o,leakyreluAlpha:a};return r==null?Gr((W,Z,se)=>{let ie=T.runKernel(zx,E,A);return se([W,Z,ie]),{value:re(ie,M),gradFunc:z}})(S,R):Gr((W,Z,se,ie)=>{let de=T.runKernel(zx,E,A);return ie([W,Z,de,se]),{value:re(de,M),gradFunc:z}})(S,R,N)}var DG,kG=I(()=>{"use strict";X();ml();ee();_n();$();pe();tr();dr();Vp();rl();H();Jt();DG=w({fusedMatMul_:tge})});var Vw={};Mi(Vw,{conv2d:()=>xG,depthwiseConv2d:()=>TG,matMul:()=>DG});var AG=I(()=>{"use strict";wG();IG();kG();});function ige(i){return Bp(i,.54,.46)}var PG,RG=I(()=>{"use strict";H();hb();PG=w({hammingWindow_:ige})});function nge(i){return Bp(i,.5,.5)}var Uw,T2=I(()=>{"use strict";H();hb();Uw=w({hannWindow_:nge})});function rge(i,t,e,n=!1,r=0){let o=0,s=[];for(;o+t<=i.size;)s.push(gi(i,o,t)),o+=e;if(n)for(;o<i.size;){let a=o+t-i.size,c=sn([gi(i,o,t-a),ma([a],r)]);s.push(c),o+=e}return s.length===0?_l([],[0,t]):re(sn(s),[s.length,t])}var zw,I2=I(()=>{"use strict";ua();Tp();H();Jt();Vs();Nw();zw=w({frame_:rge})});function oge(i,t,e,n,r=Uw){n==null&&(n=Bw(t));let o=zw(i,t,e),s=Ie(o,r(t));return mh(s,n)}var NG,OG=I(()=>{"use strict";bn();H();hb();Pw();I2();T2();NG=w({stft_:oge})});function sge(i,t,e,n,r="bilinear",o=0){let s=v(i,"image","cropAndResize"),a=v(t,"boxes","cropAndResize","float32"),c=v(e,"boxInd","cropAndResize","int32"),l=a.shape[0];k(s.rank===4,()=>`Error in cropAndResize: image must be rank 4,but got rank ${s.rank}.`),k(a.rank===2&&a.shape[1]===4,()=>`Error in cropAndResize: boxes must be have size [${l},4] but had shape ${a.shape}.`),k(c.rank===1&&c.shape[0]===l,()=>`Error in cropAndResize: boxInd must be have size [${l}] but had shape ${a.shape}.`),k(n.length===2,()=>`Error in cropAndResize: cropSize must be of length 2, but got length ${n.length}.`),k(n[0]>=1&&n[1]>=1,()=>`cropSize must be atleast [1,1], but was ${n}`),k(r==="bilinear"||r==="nearest",()=>`method must be bilinear or nearest, but was ${r}`);let d={image:s,boxes:a,boxInd:c},u={method:r,extrapolationValue:o,cropSize:n};return T.runKernel(Gk,d,u)}var FG,LG=I(()=>{"use strict";X();ee();$();pe();H();FG=w({cropAndResize_:sge})});function age(i){let t=v(i,"image","flipLeftRight","float32");k(t.rank===4,()=>`Error in flipLeftRight: image must be rank 4,but got rank ${t.rank}.`);let e={image:t};return T.runKernel(lA,e,{})}var BG,VG=I(()=>{"use strict";X();ee();$();pe();H();BG=w({flipLeftRight_:age})});function cge(i){let t=v(i,"image","grayscaleToRGB"),e=t.rank-1,n=t.shape[e];k(t.rank>=2,()=>`Error in grayscaleToRGB: images must be at least rank 2, but got rank ${t.rank}.`),k(n===1,()=>`Error in grayscaleToRGB: last dimension of a grayscale image should be size 1, but got size ${n}.`);let r=new Array(t.rank);return r.fill(1,0,e),r[e]=3,ul(t,r)}var UG,zG=I(()=>{"use strict";$();pe();H();mw();UG=w({grayscaleToRGB_:cge})});function lge(i){let t=v(i,"image","RGBToGrayscale"),e=t.rank-1,n=t.shape[e];k(t.rank>=2,()=>`Error in RGBToGrayscale: images must be at least rank 2, but got rank ${t.rank}.`),k(n===3,()=>`Error in RGBToGrayscale: last dimension of an RGB image should be size 3, but got size ${n}.`);let r=t.dtype,o=si(t,"float32"),s=mr([.2989,.587,.114]),a;switch(t.rank){case 2:a=cl("ij,j->i",o,s);break;case 3:a=cl("ijk,k->ij",o,s);break;case 4:a=cl("ijkl,l->ijk",o,s);break;case 5:a=cl("ijklm,m->ijkl",o,s);break;case 6:a=cl("ijklmn,n->ijklm",o,s);break;default:throw new Error("Not a valid tensor rank.")}return a=Us(a,-1),si(a,r)}var HG,jG=I(()=>{"use strict";$();pe();Or();DN();hw();H();Md();HG=w({rgbToGrayscale_:lge})});function dge(i,t,e=0,n=.5){let r=v(i,"image","rotateWithOffset","float32");k(r.rank===4,()=>`Error in rotateWithOffset: image must be rank 4,but got rank ${r.rank}.`);let o={image:r},s={radians:t,fillValue:e,center:n};return T.runKernel(JP,o,s)}var $G,GG=I(()=>{"use strict";X();ee();$();pe();H();$G=w({rotateWithOffset_:dge})});function zs(i,t,e,n,r,o){n==null&&(n=.5),r==null&&(r=Number.NEGATIVE_INFINITY),o==null&&(o=0);let s=i.shape[0];return e=Math.min(e,s),k(0<=n&&n<=1,()=>`iouThreshold must be in [0, 1], but was '${n}'`),k(i.rank===2,()=>`boxes must be a 2D tensor, but was of rank '${i.rank}'`),k(i.shape[1]===4,()=>`boxes must have 4 columns, but 2nd dimension was ${i.shape[1]}`),k(t.rank===1,()=>"scores must be a 1D tensor"),k(t.shape[0]===s,()=>`scores has incompatible shape with boxes. Expected ${s}, but was ${t.shape[0]}`),k(0<=o&&o<=1,()=>`softNmsSigma must be in [0, 1], but was '${o}'`),{maxOutputSize:e,iouThreshold:n,scoreThreshold:r,softNmsSigma:o}}var yh=I(()=>{"use strict";pe();});function uge(i,t,e,n=.5,r=Number.NEGATIVE_INFINITY){let o=v(i,"boxes","nonMaxSuppression","float32"),s=v(t,"scores","nonMaxSuppression","float32"),a=zs(o,s,e,n,r);e=a.maxOutputSize,n=a.iouThreshold,r=a.scoreThreshold;let c={maxOutputSize:e,iouThreshold:n,scoreThreshold:r};return T.runKernel(WA,{boxes:o,scores:s},c)}var WG,qG=I(()=>{"use strict";X();ee();$();yh();H();WG=w({nonMaxSuppression_:uge})});function XG(i,t,e){let n=hge(i,t,e),r=n<0?-(n+1):n;i.splice(r,0,t)}function hge(i,t,e){return pge(i,t,e||mge)}function mge(i,t){return i>t?1:i<t?-1:0}function pge(i,t,e){let n=0,r=i.length,o=0,s=!1;for(;n<r;){o=n+(r-n>>>1);let a=e(t,i[o]);a>0?n=o+1:(r=o,s=!a)}return s?n:-n-1}var YG=I(()=>{"use strict";});function Hw(i,t,e,n,r){return D2(i,t,e,n,r,0)}function jw(i,t,e,n,r,o){return D2(i,t,e,n,r,0,!1,o,!0)}function $w(i,t,e,n,r,o){return D2(i,t,e,n,r,o,!0)}function D2(i,t,e,n,r,o,s=!1,a=!1,c=!1){let l=[];for(let f=0;f<t.length;f++)t[f]>r&&l.push({score:t[f],boxIndex:f,suppressBeginIndex:0});l.sort(ZG);let d=o>0?-.5/o:0,u=[],h=[];for(;u.length<e&&l.length>0;){let f=l.pop(),{score:g,boxIndex:C,suppressBeginIndex:M}=f;if(g<r)break;let S=!1;for(let R=u.length-1;R>=M;--R){let N=fge(i,C,u[R]);if(N>=n){S=!0;break}if(f.score=f.score*gge(n,d,N),f.score<=r)break}f.suppressBeginIndex=u.length,S||(f.score===g?(u.push(C),h.push(f.score)):f.score>r&&XG(l,f,ZG))}let m=u.length,p=e-m;a&&p>0&&(u.push(...new Array(p).fill(0)),h.push(...new Array(p).fill(0)));let _={selectedIndices:u};return s&&(_.selectedScores=h),c&&(_.validOutputs=m),_}function fge(i,t,e){let n=i.subarray(t*4,t*4+4),r=i.subarray(e*4,e*4+4),o=Math.min(n[0],n[2]),s=Math.min(n[1],n[3]),a=Math.max(n[0],n[2]),c=Math.max(n[1],n[3]),l=Math.min(r[0],r[2]),d=Math.min(r[1],r[3]),u=Math.max(r[0],r[2]),h=Math.max(r[1],r[3]),m=(a-o)*(c-s),p=(u-l)*(h-d);if(m<=0||p<=0)return 0;let _=Math.max(o,l),f=Math.max(s,d),g=Math.min(a,u),C=Math.min(c,h),M=Math.max(g-_,0)*Math.max(C-f,0);return M/(m+p-M)}function gge(i,t,e){let n=Math.exp(t*e*e);return e<=i?n:0}function ZG(i,t){return i.score-t.score||i.score===t.score&&t.boxIndex-i.boxIndex}var mb=I(()=>{"use strict";YG();});function _ge(o,s,a){return te(this,arguments,function*(i,t,e,n=.5,r=Number.NEGATIVE_INFINITY){let c=v(i,"boxes","nonMaxSuppressionAsync"),l=v(t,"scores","nonMaxSuppressionAsync"),d=zs(c,l,e,n,r);e=d.maxOutputSize,n=d.iouThreshold,r=d.scoreThreshold;let u=yield Promise.all([c.data(),l.data()]),h=u[0],m=u[1],{selectedIndices:p}=Hw(h,m,e,n,r);return c!==i&&c.dispose(),l!==t&&l.dispose(),mr(p,"int32")})}var KG,QG=I(()=>{"use strict";mb();$();yh();Md();KG=_ge});function bge(i,t,e,n=.5,r=Number.NEGATIVE_INFINITY,o=0){let s=v(i,"boxes","nonMaxSuppression"),a=v(t,"scores","nonMaxSuppression"),c=zs(s,a,e,n,r,o);e=c.maxOutputSize,n=c.iouThreshold,r=c.scoreThreshold,o=c.softNmsSigma;let l={boxes:s,scores:a},d={maxOutputSize:e,iouThreshold:n,scoreThreshold:r,softNmsSigma:o},u=T.runKernel(XA,l,d);return{selectedIndices:u[0],selectedScores:u[1]}}var JG,eW=I(()=>{"use strict";X();ee();$();yh();H();JG=w({nonMaxSuppressionWithScore_:bge})});function vge(s,a,c){return te(this,arguments,function*(i,t,e,n=.5,r=Number.NEGATIVE_INFINITY,o=0){let l=v(i,"boxes","nonMaxSuppressionAsync"),d=v(t,"scores","nonMaxSuppressionAsync"),u=zs(l,d,e,n,r,o);e=u.maxOutputSize,n=u.iouThreshold,r=u.scoreThreshold,o=u.softNmsSigma;let h=yield Promise.all([l.data(),d.data()]),m=h[0],p=h[1],{selectedIndices:_,selectedScores:f}=$w(m,p,e,n,r,o);return l!==i&&l.dispose(),d!==t&&d.dispose(),{selectedIndices:mr(_,"int32"),selectedScores:mr(f)}})}var tW,iW=I(()=>{"use strict";mb();$();yh();Md();tW=vge});function yge(i,t,e,n=.5,r=Number.NEGATIVE_INFINITY,o=!1){let s=v(i,"boxes","nonMaxSuppression"),a=v(t,"scores","nonMaxSuppression"),c=zs(s,a,e,n,r,null),l=c.maxOutputSize,d=c.iouThreshold,u=c.scoreThreshold,h={boxes:s,scores:a},m={maxOutputSize:l,iouThreshold:d,scoreThreshold:u,padToMaxOutputSize:o},p=T.runKernel(qA,h,m);return{selectedIndices:p[0],validOutputs:p[1]}}var nW,rW=I(()=>{"use strict";X();ee();$();yh();H();nW=w({nonMaxSuppressionPadded_:yge})});function xge(s,a,c){return te(this,arguments,function*(i,t,e,n=.5,r=Number.NEGATIVE_INFINITY,o=!1){let l=v(i,"boxes","nonMaxSuppressionAsync"),d=v(t,"scores","nonMaxSuppressionAsync"),u=zs(l,d,e,n,r,null),h=u.maxOutputSize,m=u.iouThreshold,p=u.scoreThreshold,[_,f]=yield Promise.all([l.data(),d.data()]),{selectedIndices:g,validOutputs:C}=jw(_,f,h,m,p,o);return l!==i&&l.dispose(),d!==t&&d.dispose(),{selectedIndices:mr(g,"int32"),validOutputs:Mt(C,"int32")}})}var oW,sW=I(()=>{"use strict";mb();$();yh();$r();Md();oW=xge});function wge(i,t,e=!1,n=!1){let r=v(i,"images","resizeBilinear");k(r.rank===3||r.rank===4,()=>`Error in resizeBilinear: x must be rank 3 or 4, but got rank ${r.rank}.`),k(t.length===2,()=>`Error in resizeBilinear: new shape must 2D, but got shape ${t}.`),k(n===!1||e===!1,()=>"Error in resizeBilinear: If halfPixelCenters is true, alignCorners must be false.");let o=r,s=!1;r.rank===3&&(s=!0,o=re(r,[1,r.shape[0],r.shape[1],r.shape[2]]));let[]=t,a={images:o},c={alignCorners:e,halfPixelCenters:n,size:t},l=T.runKernel(uP,a,c);return s?re(l,[l.shape[1],l.shape[2],l.shape[3]]):l}var aW,cW=I(()=>{"use strict";X();ee();$();pe();H();Jt();aW=w({resizeBilinear_:wge})});function Mge(i,t,e=!1,n=!1){let r=v(i,"images","resizeNearestNeighbor");k(r.rank===3||r.rank===4,()=>`Error in resizeNearestNeighbor: x must be rank 3 or 4, but got rank ${r.rank}.`),k(t.length===2,()=>`Error in resizeNearestNeighbor: new shape must 2D, but got shape ${t}.`),k(r.dtype==="float32"||r.dtype==="int32",()=>"`images` must have `int32` or `float32` as dtype"),k(n===!1||e===!1,()=>"Error in resizeNearestNeighbor: If halfPixelCenters is true, alignCorners must be false.");let o=r,s=!1;r.rank===3&&(s=!0,o=re(r,[1,r.shape[0],r.shape[1],r.shape[2]]));let[]=t,a={images:o},c={alignCorners:e,halfPixelCenters:n,size:t},l=T.runKernel(dP,a,c);return s?re(l,[l.shape[1],l.shape[2],l.shape[3]]):l}var lW,dW=I(()=>{"use strict";X();ee();$();pe();H();Jt();lW=w({resizeNearestNeighbor_:Mge})});function Cge(i,t="binary",e=!1,n=.5){let r=v(i,"image","threshold"),o=.2989,s=.587,a=.114,c=r.shape[0]*r.shape[1],l=Ie(mr([n]),255),d,u,h,m;if(k(r.rank===3,()=>`Error in threshold: image must be rank 3,but got rank ${r.rank}.`),k(r.shape[2]===3||r.shape[2]===1,()=>`Error in threshold: image color channel must be equal to 3 or 1but got ${r.shape[2]}.`),k(r.dtype==="int32"||r.dtype==="float32",()=>`Error in dtype: image dtype must be int32 or float32,but got dtype ${r.dtype}.`),k(t==="otsu"||t==="binary",()=>`Method must be binary or otsu, but was ${t}`),r.shape[2]===3){[d,u,h]=ac(r,[1,1,1],-1);let f=Ie(d,o),g=Ie(u,s),C=Ie(h,a);m=st(st(f,g),C)}else m=i;if(t==="otsu"){let f=E_(si(ib(m),"int32"),Hr([]),256);l=Sge(f,c)}let p=e?ah(m,l):bd(m,l);return si(Ie(p,255),"int32")}function Sge(i,t){let e=mr([-1]),n=mr([0]),r=mr([0]),o,s,a,c,l,d;for(let u=0;u<i.size-1;u++){o=gi(i,0,u+1),s=gi(i,u+1),l=fi(Di(o),t),d=fi(Di(s),t);let h=Di(Ie(o,fl(0,o.size)));a=fi(h,Di(o));let m=ma(s.shape,o.size),p=st(fl(0,s.size),m),_=Ie(s,p);c=fi(Di(_),Di(s));let f=yt(a,c),g=yt(a,c),C=Ie(l,d);r=Ie(Ie(C,f),g);let M=bd(r,n);n=qo(M,r,n),e=qo(M,mr([u]),e)}return e}var uW,hW=I(()=>{"use strict";Md();H();Or();rb();nN();fw();pw();fa();tr();bn();ko();hr();YO();Ip();Tp();Vs();Dw();g_();pe();$();uW=w({threshold_:Cge})});function Ege(i,t,e="nearest",n="constant",r=0,o){let s=v(i,"image","transform","float32"),a=v(t,"transforms","transform","float32");k(s.rank===4,()=>`Error in transform: image must be rank 4,but got rank ${s.rank}.`),k(a.rank===2&&(a.shape[0]===s.shape[0]||a.shape[0]===1)&&a.shape[1]===8,()=>"Error in transform: Input transform should be batch x 8 or 1 x 8"),k(o==null||o.length===2,()=>`Error in transform: outputShape must be [height, width] or null, but got ${o}.`);let c={image:s,transforms:a},l={interpolation:e,fillMode:n,fillValue:r,outputShape:o};return T.runKernel(qP,c,l)}var mW,pW=I(()=>{"use strict";X();ee();$();pe();H();mW=w({transform_:Ege})});function Tge(i,t,e){let n=v(i,"a","bandPart");k(n.rank>=2,()=>`bandPart(): Rank must be at least 2, got ${n.rank}.`);let r=n.shape,[o,s]=n.shape.slice(-2),a,c;typeof t=="number"?(k(t%1===0,()=>`bandPart(): numLower must be an integer, got ${t}.`),k(t<=o,()=>`bandPart(): numLower (${t}) must not be greater than the number of rows (${o}).`),a=v(t<0?o:t,"numLower","bandPart")):(k(t.dtype==="int32",()=>"bandPart(): numLower's dtype must be an int32."),a=qo(Rp(t,0),o,xd(t,o))),typeof e=="number"?(k(e%1===0,()=>`bandPart(): numUpper must be an integer, got ${e}.`),k(e<=s,()=>`bandPart(): numUpper (${e}) must not be greater than the number of columns (${s}).`),c=v(e<0?s:e,"numUpper","bandPart")):(k(e.dtype==="int32",()=>"bandPart(): numUpper's dtype must be an int32."),c=qo(Rp(e,0),s,xd(e,s)));let l=re(fl(0,o,1,"int32"),[-1,1]),d=fl(0,s,1,"int32"),u=yt(l,d),h=vd(ah(u,a),F_(u,wr(c))),m=ga([o,s],n.dtype);return re(Wr(Yo(re(n,[-1,o,s])).map(p=>qo(h,p,m))),r)}var fW,gW=I(()=>{"use strict";$();pe();UN();GN();fw();bw();Mw();pl();H();Dw();Jt();sb();hr();Ow();Ip();q_();fW=w({bandPart_:Tge})});function Ige(i){let t;if(Array.isArray(i)){t=!1,k(i!=null&&i.length>0,()=>"Gram-Schmidt process: input must not be null, undefined, or empty");let r=i[0].shape[0];for(let o=1;o<i.length;++o)k(i[o].shape[0]===r,()=>`Gram-Schmidt: Non-unique lengths found in the input vectors: (${i[o].shape[0]} vs. ${r})`)}else t=!0,i=ac(i,i.shape[0],0).map(r=>ph(r,[0]));k(i.length<=i[0].shape[0],()=>`Gram-Schmidt: Number of vectors (${i.length}) exceeds number of dimensions (${i[0].shape[0]}).`);let e=[],n=i;for(let r=0;r<i.length;++r)e.push(T.tidy(()=>{let o=n[r];if(r>0)for(let s=0;s<r;++s){let a=Ie(Di(Ie(e[s],o)),e[s]);o=yt(o,a)}return fi(o,_d(o,"euclidean"))}));return t?Wr(e,0):e}var _W,bW=I(()=>{"use strict";X();pe();ko();bn();P_();H();rb();Rw();sb();hr();fa();_W=w({gramSchmidt_:Ige})});function Dge(i,t=!1){if(k(i.rank>=2,()=>`qr() requires input tensor to have a rank >= 2, but got rank ${i.rank}`),i.rank===2)return vW(i,t);{let e=i.shape.slice(0,i.shape.length-2).reduce((c,l)=>c*l),n=Yo(re(i,[e,i.shape[i.shape.length-2],i.shape[i.shape.length-1]]),0),r=[],o=[];n.forEach(c=>{let[l,d]=vW(c,t);r.push(l),o.push(d)});let s=re(Wr(r,0),i.shape),a=re(Wr(o,0),i.shape);return[s,a]}}function vW(i,t=!1){return T.tidy(()=>{k(i.shape.length===2,()=>`qr2d() requires a 2D Tensor, but got a ${i.shape.length}D Tensor.`);let e=i.shape[0],n=i.shape[1],r=R_(e),o=Do(i),s=_l([[1]],[1,1]),a=Do(s),c=e>=n?n:e;for(let l=0;l<c;++l){let d=o,u=a,h=r;[a,o,r]=T.tidy(()=>{let m=gi(o,[l,l],[e-l,1]),p=_d(m),_=gi(o,[l,l],[1,1]),f=qo(bd(_,0),_l([[-1]]),_l([[1]])),g=yt(_,Ie(f,p)),C=fi(m,g);C.shape[0]===1?a=Do(s):a=sn([s,gi(C,[1,0],[C.shape[0]-1,C.shape[1]])],0);let M=wr(fi(yi(f,g),p)),S=gi(o,[l,0],[e-l,n]),R=Ie(M,a),N=fh(a);if(l===0)o=yt(S,yi(R,yi(N,S)));else{let E=yt(S,yi(R,yi(N,S)));o=sn([gi(o,[0,0],[l,n]),E],0)}let L=fh(R),z=gi(r,[0,l],[e,r.shape[1]-l]);if(l===0)r=yt(z,yi(yi(z,a),L));else{let E=yt(z,yi(yi(z,a),L));r=sn([gi(r,[0,0],[e,l]),E],1)}return[a,o,r]}),Dn([d,u,h])}return!t&&e>n&&(r=gi(r,[0,0],[e,n]),o=gi(o,[0,0],[n,n])),[r,o]})}var yW,xW=I(()=>{"use strict";X();Wo();pe();Cp();ua();ko();LN();pw();rl();bn();pl();P_();H();Jt();Vs();sb();hr();Nw();Lw();Ow();Ip();yW=w({qr_:Dge})});var kn,va=I(()=>{"use strict";kn=function(i){return i[i.NONE=0]="NONE",i[i.MEAN=1]="MEAN",i[i.SUM=2]="SUM",i[i.SUM_BY_NONZERO_WEIGHTS=3]="SUM_BY_NONZERO_WEIGHTS",i}(kn||{})});function kge(i,t,e=kn.SUM_BY_NONZERO_WEIGHTS){let n=v(i,"losses","computeWeightedLoss"),r=null;t!=null&&(r=v(t,"weights","computeWeightedLoss"));let o=r==null?n:Ie(n,r);if(e===kn.NONE)return o;if(e===kn.SUM)return Di(o);if(e===kn.MEAN){if(r==null)return yd(o);{let s=n.size/r.size,a=fi(Di(o),Di(r));return s>1?fi(a,Mt(s)):a}}if(e===kn.SUM_BY_NONZERO_WEIGHTS){if(r==null)return fi(Di(o),Mt(n.size));{let s=Ie(r,_a(n.shape)),a=si(Di(X_(s,Mt(0))),"float32");return fi(Di(o),a)}}throw Error(`Unknown reduction: ${e}`)}var Fr,cc=I(()=>{"use strict";$();Or();ko();va();xw();bn();mO();ww();H();$r();fa();Fr=w({computeWeightedLoss_:kge})});function Age(i,t,e,n=kn.SUM_BY_NONZERO_WEIGHTS){let r=v(i,"labels","absoluteDifference"),o=v(t,"predictions","absoluteDifference"),s=null;e!=null&&(s=v(e,"weights","absoluteDifference")),ln(r.shape,o.shape,"Error in absoluteDifference: ");let a=lr(yt(r,o));return Fr(a,s,n)}var wW,MW=I(()=>{"use strict";$();pe();th();va();H();hr();cc();wW=w({absoluteDifference_:Age})});function Pge(i,t,e,n,r=kn.SUM_BY_NONZERO_WEIGHTS){let o=v(i,"labels","cosineDistance"),s=v(t,"predictions","cosineDistance"),a=null;n!=null&&(a=v(n,"weights","cosineDistance")),ln(o.shape,s.shape,"Error in cosineDistance: ");let c=Mt(1),l=yt(c,Di(Ie(o,s),e,!0));return Fr(l,a,r)}var CW,SW=I(()=>{"use strict";$();pe();va();bn();H();$r();hr();fa();cc();CW=w({cosineDistance_:Pge})});function Rge(i,t,e,n=kn.SUM_BY_NONZERO_WEIGHTS){let r=v(i,"labels","hingeLoss"),o=v(t,"predictions","hingeLoss"),s=null;e!=null&&(s=v(e,"weights","hingeLoss")),ln(r.shape,o.shape,"Error in hingeLoss: ");let a=Mt(1);r=yt(Ie(Mt(2),r),a);let c=gl(yt(a,Ie(r,o)));return Fr(c,s,n)}var EW,TW=I(()=>{"use strict";$();pe();va();bn();H();eb();$r();hr();cc();EW=w({hingeLoss_:Rge})});function Nge(i,t,e,n=1,r=kn.SUM_BY_NONZERO_WEIGHTS){let o=v(i,"labels","huberLoss"),s=v(t,"predictions","huberLoss"),a=null;e!=null&&(a=v(e,"weights","huberLoss")),ln(o.shape,s.shape,"Error in huberLoss: ");let c=Mt(n),l=lr(yt(s,o)),d=xd(l,c),u=yt(l,d),h=st(Ie(Mt(.5),ur(d)),Ie(c,u));return Fr(h,a,r)}var IW,DW=I(()=>{"use strict";$();pe();th();tr();va();Mw();bn();H();$r();dl();hr();cc();IW=w({huberLoss_:Nge})});function Oge(i,t,e,n=1e-7,r=kn.SUM_BY_NONZERO_WEIGHTS){let o=v(i,"labels","logLoss"),s=v(t,"predictions","logLoss"),a=null;e!=null&&(a=v(e,"weights","logLoss")),ln(o.shape,s.shape,"Error in logLoss: ");let c=Mt(1),l=Mt(n),d=wr(Ie(o,oc(st(s,l)))),u=Ie(yt(c,o),oc(st(yt(c,s),l))),h=yt(d,u);return Fr(h,a,r)}var kW,AW=I(()=>{"use strict";$();pe();tr();V_();va();bn();pl();H();$r();hr();cc();kW=w({logLoss_:Oge})});function Fge(i,t,e,n=kn.SUM_BY_NONZERO_WEIGHTS){let r=v(i,"labels","meanSquaredError"),o=v(t,"predictions","meanSquaredError"),s=null;e!=null&&(s=v(e,"weights","meanSquaredError")),ln(r.shape,o.shape,"Error in meanSquaredError: ");let a=ob(r,o);return Fr(a,s,n)}var PW,RW=I(()=>{"use strict";$();pe();va();H();l2();cc();PW=w({meanSquaredError_:Fge})});function Lge(i,t){let e=v(i,"labels","sigmoidCrossEntropyWithLogits"),n=v(t,"logits","sigmoidCrossEntropyWithLogits");ln(e.shape,n.shape,"Error in sigmoidCrossEntropyWithLogits: ");let r=gl(n),o=Ie(n,e),s=U_(ps(wr(lr(n))));return st(yt(r,o),s)}function Bge(i,t,e,n=0,r=kn.SUM_BY_NONZERO_WEIGHTS){let o=v(i,"multiClassLabels","sigmoidCrossEntropy"),s=v(t,"logits","sigmoidCrossEntropy"),a=null;if(e!=null&&(a=v(e,"weights","sigmoidCrossEntropy")),ln(o.shape,s.shape,"Error in sigmoidCrossEntropy: "),n>0){let l=Mt(n),d=Mt(1),u=Mt(.5);o=st(Ie(o,yt(d,l)),Ie(u,l))}let c=Lge(o,s);return Fr(c,a,r)}var NW,OW=I(()=>{"use strict";$();pe();th();tr();Pp();XN();va();bn();pl();H();eb();$r();hr();cc();NW=w({sigmoidCrossEntropy_:Bge})});function Vge(i,t,e=-1){if(e===-1&&(e=t.rank-1),e!==t.rank-1)throw Error(`Softmax cross entropy along a non-last dimension is not yet supported. Labels / logits was rank ${t.rank} and dim was ${e}`);return Gr((r,o,s)=>{let c=H_(o,[e],!0),l=yt(si(o,"float32"),c);s([r,l]);let d=wr(Ie(l,r));return{value:Di(d,[e]),gradFunc:(m,p)=>{let[_,f]=p,g=ll(m.shape,[e]);return[Ie(re(m,g),yt(si(_,"float32"),ps(f))),Ie(re(m,g),yt(ps(f),si(_,"float32")))]}}})(i,t)}function Uge(i,t,e,n=0,r=kn.SUM_BY_NONZERO_WEIGHTS){let o=v(i,"onehotLabels","softmaxCrossEntropy"),s=v(t,"logits","softmaxCrossEntropy"),a=null;if(e!=null&&(a=v(e,"weights","softmaxCrossEntropy")),ln(o.shape,s.shape,"Error in softmaxCrossEntropy: "),n>0){let l=Mt(n),d=Mt(1),u=Mt(o.shape[1]);o=st(Ie(o,yt(d,l)),fi(l,u))}let c=Vge(o,s);return Fr(c,a,r)}var FW,LW=I(()=>{"use strict";ml();$();pe();tr();Dp();Or();ko();Pp();QN();va();bn();pl();H();Jt();$r();hr();fa();cc();FW=w({softmaxCrossEntropy_:Uge})});function zge(i,t,e,n){let r=v(i,"indices","sparseFillEmptyRows","int32"),o=v(t,"values","sparseFillEmptyRows"),s=v(e,"denseShape","sparseFillEmptyRows","int32"),a=v(n,"defaultValue","sparseFillEmptyRows",o.dtype);if(r.rank!==2)throw new Error(`Indices should be Tensor2D but received shape
        ${r.shape}`);if(o.rank!==1)throw new Error(`Values should be Tensor1D but received shape ${o.shape}`);if(s.rank!==1)throw new Error(`Dense shape should be Tensor1D but received shape ${s.shape}`);if(a.rank!==0)throw new Error(`Default value should be a scalar but received shape ${a.shape}`);let c={indices:r,values:o,denseShape:s,defaultValue:a},l=T.runKernel(PP,c);return{outputIndices:l[0],outputValues:l[1],emptyRowIndicator:l[2],reverseIndexMap:l[3]}}var BW,VW=I(()=>{"use strict";X();ee();$();H();BW=w({sparseFillEmptyRows_:zge})});function Hge(i,t,e){let n=v(i,"inputIndices","sparseReshape","int32"),r=v(t,"inputShape","sparseReshape","int32"),o=v(e,"newShape","sparseReshape","int32");if(n.rank!==2)throw new Error(`Input indices should be Tensor2D but received shape
        ${n.shape}`);if(r.rank!==1)throw new Error(`Input shape should be Tensor1D but received shape ${r.shape}`);if(o.rank!==1)throw new Error(`New shape should be Tensor1D but received shape ${o.shape}`);let s={inputIndices:n,inputShape:r,newShape:o},a=T.runKernel(RP,s);return{outputIndices:a[0],outputShape:a[1]}}var UW,zW=I(()=>{"use strict";X();ee();$();H();UW=w({sparseReshape_:Hge})});function jge(i,t,e){let n=v(i,"data","sparseSegmentMean"),r=v(t,"indices","sparseSegmentMean","int32"),o=v(e,"segmentIds","sparseSegmentMean","int32");if(n.rank<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(r.rank!==1)throw new Error(`Indices should be Tensor1D but received shape
          ${r.shape}`);if(o.rank!==1)throw new Error(`Segment ids should be Tensor1D but received shape
          ${o.shape}`);let s={data:n,indices:r,segmentIds:o};return T.runKernel(NP,s)}var HW,jW=I(()=>{"use strict";X();ee();$();H();HW=w({sparseSegmentMean_:jge})});function $ge(i,t,e){let n=v(i,"data","sparseSegmentSum"),r=v(t,"indices","sparseSegmentSum","int32"),o=v(e,"segmentIds","sparseSegmentSum","int32");if(n.rank<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(r.rank!==1)throw new Error(`Indices should be Tensor1D but received shape
         ${r.shape}`);if(o.rank!==1)throw new Error(`Segment ids should be Tensor1D but received shape
         ${o.shape}`);let s={data:n,indices:r,segmentIds:o};return T.runKernel(OP,s)}var $W,GW=I(()=>{"use strict";X();ee();$();H();$W=w({sparseSegmentSum_:$ge})});function Gge(i,t,e,n,r,o,s,a){let c=v(i,"data","stringNGrams","string");if(c.dtype!=="string")throw new Error("Data must be of datatype string");if(c.shape.length!==1)throw new Error(`Data must be a vector, saw: ${c.shape}`);let l=v(t,"dataSplits","stringNGrams");if(l.dtype!=="int32")throw new Error("Data splits must be of datatype int32");let d={separator:e,nGramWidths:n,leftPad:r,rightPad:o,padWidth:s,preserveShortSequences:a},u={data:c,dataSplits:l},h=T.runKernel(UP,u,d);return{nGrams:h[0],nGramsSplits:h[1]}}var WW,qW=I(()=>{"use strict";X();ee();$();H();WW=w({stringNGrams_:Gge})});function Wge(i,t,e=!0){let n=v(i,"input","stringSplit","string"),r=v(t,"delimiter","stringSplit","string");if(n.rank!==1)throw new Error(`Input should be Tensor1D but received shape ${n.shape}`);if(r.rank!==0)throw new Error(`Delimiter should be a scalar but received shape ${r.shape}`);let o={skipEmpty:e},s={input:n,delimiter:r},a=T.runKernel(zP,s,o);return{indices:a[0],values:a[1],shape:a[2]}}var XW,YW=I(()=>{"use strict";X();ee();$();H();XW=w({stringSplit_:Wge})});function qge(i,t){let e=v(i,"input","stringToHashBucketFast","string"),n={numBuckets:t};if(t<=0)throw new Error("Number of buckets must be at least 1");let r={input:e};return T.runKernel(HP,r,n)}var ZW,KW=I(()=>{"use strict";X();ee();$();H();ZW=w({stringToHashBucketFast_:qge})});function Xge(i,t,e,n=!0){let r=v(i,"input","staticRegexReplace","string"),o={pattern:t,rewrite:e,replaceGlobal:n};return T.runKernel(BP,{x:r},o)}var QW,JW=I(()=>{"use strict";X();ee();$();H();QW=w({staticRegexReplace_:Xge})});var e9,t9,i9,n9,r9,o9,s9,pb=I(()=>{"use strict";th();S8();E8();tr();T8();I8();D8();k8();A8();P8();R8();N8();O8();F8();YR();V8();U8();JR();S_();j8();$8();G8();nN();W8();q8();sN();nl();Or();X8();Y8();Cp();hd();ua();Z8();K8();Q8();J8();e$();T_();t$();i$();o$();s$();a$();c$();l$();d$();u$();dw();h$();m$();ko();f$();g$();DN();kN();_$();EN();b$();x$();Pp();hw();w$();LN();Tp();BN();RR();VN();pw();UN();L_();M$();C$();S$();$N();GN();fw();E$();T$();V_();XN();P$();R$();QN();bw();JN();eO();N$();O$();rl();k_();nO();F$();L$();sO();xw();B$();NN();Mw();V$();U$();z$();bn();H$();j$();pl();mO();pO();ww();$$();G$();Fp();W$();q$();X$();Y$();Z$();A_();MO();PR();K$();Q$();J$();e6();t6();w6();UO();M6();Iw();C6();Dw();J_();S6();eb();$O();Jt();uh();E6();T6();I6();D6();YO();k6();$r();A6();P6();R6();M_();N6();O6();F6();Vs();L6();B6();V6();U6();z6();YN();xO();kw();Aw();c2();Pw();rb();Ap();dl();l2();Rw();sb();d2();H6();hr();fa();j6();KR();g_();Md();Nw();m2();$6();G6();W6();X6();mw();Y6();Z6();K6();Q6();Ow();J6();eG();Ip();E2();q_();al();iG();Lw();P_();rG();sG();yw();dG();hG();gG();hb();bG();H();Pw();kw();Aw();c2();AG();RG();T2();I2();OG();LG();VG();zG();jG();GG();qG();QG();eW();iW();rW();sW();cW();dW();hW();pW();gW();bW();xW();MW();cc();SW();TW();DW();AW();RW();OW();LW();VW();zW();jW();GW();qW();YW();KW();JW();e9={fft:hh,ifft:wd,rfft:mh,irfft:nb},t9={hammingWindow:PG,hannWindow:Uw,frame:zw,stft:NG},i9={flipLeftRight:BG,grayscaleToRGB:UG,resizeNearestNeighbor:lW,resizeBilinear:aW,rgbToGrayscale:HG,rotateWithOffset:$G,cropAndResize:FG,nonMaxSuppression:WG,nonMaxSuppressionAsync:KG,nonMaxSuppressionWithScore:JG,nonMaxSuppressionWithScoreAsync:tW,nonMaxSuppressionPadded:nW,nonMaxSuppressionPaddedAsync:oW,threshold:uW,transform:mW},n9={bandPart:fW,gramSchmidt:_W,qr:yW},r9={absoluteDifference:wW,computeWeightedLoss:Fr,cosineDistance:CW,hingeLoss:EW,huberLoss:IW,logLoss:kW,meanSquaredError:PW,sigmoidCrossEntropy:NW,softmaxCrossEntropy:FW},o9={sparseFillEmptyRows:BW,sparseReshape:UW,sparseSegmentMean:HW,sparseSegmentSum:$W},s9={stringNGrams:WW,stringSplit:XW,stringToHashBucketFast:ZW,staticRegexReplace:QW}});var P2={};Mi(P2,{Serializable:()=>fb,SerializationMap:()=>Gw,getRegisteredName:()=>Zge,registerClass:()=>A2});function A2(i,t,e){k(i.className!=null,()=>"Class being registered does not have the static className property defined."),k(typeof i.className=="string",()=>"className is required to be a string, but got type "+typeof i.className),k(i.className.length>0,()=>"Class being registered has an empty-string as its className, which is disallowed."),typeof t>"u"&&(t="Custom"),typeof e>"u"&&(e=i.className);let n=e,r=t+">"+n;return Gw.register(i),Yge.set(r,i),k2.set(i,r),i}function Zge(i){return k2.has(i)?k2.get(i):i.className}var Yge,k2,fb,Gw,Ww=I(()=>{"use strict";pe();Yge=new Map,k2=new Map,fb=class{getClassName(){return this.constructor.className}static fromConfig(t,e){return new t(e)}},Gw=class i{constructor(){this.classNameMap={}}static getMap(){return i.instance==null&&(i.instance=new i),i.instance}static register(t){i.getMap().classNameMap[t.className]=[t,t.fromConfig]}}});var qr,Cd=I(()=>{"use strict";Wo();ml();pb();Ww();qr=class extends fb{minimize(t,e=!1,n){let{value:r,grads:o}=this.computeGradients(t,n);if(n!=null){let s=n.map(a=>({name:a.name,tensor:o[a.name]}));this.applyGradients(s)}else this.applyGradients(o);return Dn(o),e?r:(r.dispose(),null)}get iterations(){return this.iterations_==null&&(this.iterations_=0),this.iterations_}incrementIterations(){this.iterations_=this.iterations+1}computeGradients(t,e){return gw(t,e)}dispose(){this.iterations_!=null&&Dn(this.iterations_)}saveIterations(){return te(this,null,function*(){return this.iterations_==null&&(this.iterations_=0),{name:"iter",tensor:Mt(this.iterations_,"int32")}})}getWeights(){return te(this,null,function*(){throw new Error("getWeights() is not implemented for this optimizer yet.")})}setWeights(t){return te(this,null,function*(){throw new Error(`setWeights() is not implemented for this optimizer class ${this.getClassName()}`)})}extractIterations(t){return te(this,null,function*(){return this.iterations_=(yield t[0].tensor.data())[0],t.slice(1)})}};Object.defineProperty(qr,Symbol.hasInstance,{value:i=>i.minimize!=null&&i.computeGradients!=null&&i.applyGradients!=null})});var Sd,qw=I(()=>{"use strict";X();Wo();tr();ko();bn();pb();dl();al();Cd();Sd=class extends qr{static get className(){return"Adadelta"}constructor(t,e,n=null){super(),this.learningRate=t,this.rho=e,this.epsilon=n,this.accumulatedGrads=[],this.accumulatedUpdates=[],n==null&&(this.epsilon=T.backend.epsilon())}applyGradients(t){(Array.isArray(t)?t.map(n=>n.name):Object.keys(t)).forEach((n,r)=>{let o=T.registeredVariables[n],s=!1;this.accumulatedGrads[r]==null&&(this.accumulatedGrads[r]={originalName:`${n}/accum_grad`,variable:Qt(()=>qn(o).variable(s))}),this.accumulatedUpdates[r]==null&&(this.accumulatedUpdates[r]={originalName:`${n}/accum_var`,variable:Qt(()=>qn(o).variable(s))});let a=Array.isArray(t)?t[r].tensor:t[n];if(a==null)return;let c=this.accumulatedGrads[r].variable,l=this.accumulatedUpdates[r].variable;Qt(()=>{let d=st(Ie(c,this.rho),Ie(ur(a),1-this.rho)),u=Ie(fi(so(st(l,this.epsilon)),so(st(c,this.epsilon))),a),h=st(Ie(l,this.rho),Ie(ur(u),1-this.rho));c.assign(d),l.assign(h);let m=st(Ie(u,-this.learningRate),o);o.assign(m)})}),this.incrementIterations()}dispose(){this.accumulatedUpdates!=null&&(Dn(this.accumulatedGrads.map(t=>t.variable)),Dn(this.accumulatedUpdates.map(t=>t.variable)))}getWeights(){return te(this,null,function*(){let t=[...this.accumulatedGrads,...this.accumulatedUpdates];return[yield this.saveIterations()].concat(t.map(e=>({name:e.originalName,tensor:e.variable})))})}setWeights(t){return te(this,null,function*(){t=yield this.extractIterations(t);let e=t.length/2,n=!1;this.accumulatedGrads=t.slice(0,e).map(r=>({originalName:r.name,variable:r.tensor.variable(n)})),this.accumulatedUpdates=t.slice(e,e*2).map(r=>({originalName:r.name,variable:r.tensor.variable(n)}))})}getConfig(){return{learningRate:this.learningRate,rho:this.rho,epsilon:this.epsilon}}static fromConfig(t,e){return new t(e.learningRate,e.rho,e.epsilon)}}});var Ed,Xw=I(()=>{"use strict";X();Wo();tr();ko();Tp();bn();Ap();dl();Cd();Ed=class extends qr{static get className(){return"Adagrad"}constructor(t,e=.1){super(),this.learningRate=t,this.initialAccumulatorValue=e,this.accumulatedGrads=[]}applyGradients(t){(Array.isArray(t)?t.map(n=>n.name):Object.keys(t)).forEach((n,r)=>{let o=T.registeredVariables[n];this.accumulatedGrads[r]==null&&(this.accumulatedGrads[r]={originalName:`${n}/accumulator`,variable:Qt(()=>ma(o.shape,this.initialAccumulatorValue).variable(!1))});let s=Array.isArray(t)?t[r].tensor:t[n];if(s==null)return;let a=this.accumulatedGrads[r].variable;Qt(()=>{let c=st(a,ur(s));a.assign(c);let l=st(Ie(fi(s,so(st(c,T.backend.epsilon()))),-this.learningRate),o);o.assign(l)})}),this.incrementIterations()}dispose(){this.accumulatedGrads!=null&&Dn(this.accumulatedGrads.map(t=>t.variable))}getWeights(){return te(this,null,function*(){return[yield this.saveIterations()].concat(this.accumulatedGrads.map(t=>({name:t.originalName,tensor:t.variable})))})}setWeights(t){return te(this,null,function*(){t=yield this.extractIterations(t);let e=!1;this.accumulatedGrads=t.map(n=>({originalName:n.name,variable:n.tensor.variable(e)}))})}getConfig(){return{learningRate:this.learningRate,initialAccumulatorValue:this.initialAccumulatorValue}}static fromConfig(t,e){return new t(e.learningRate,e.initialAccumulatorValue)}}});var Td,Yw=I(()=>{"use strict";X();Wo();tr();ko();bn();A_();$r();Ap();dl();hr();al();Cd();Td=class extends qr{static get className(){return"Adam"}constructor(t,e,n,r=null){super(),this.learningRate=t,this.beta1=e,this.beta2=n,this.epsilon=r,this.accumulatedFirstMoment=[],this.accumulatedSecondMoment=[],Qt(()=>{this.accBeta1=Mt(e).variable(),this.accBeta2=Mt(n).variable()}),r==null&&(this.epsilon=T.backend.epsilon())}applyGradients(t){let e=Array.isArray(t)?t.map(n=>n.name):Object.keys(t);Qt(()=>{let n=yt(1,this.accBeta1),r=yt(1,this.accBeta2);e.forEach((o,s)=>{let a=T.registeredVariables[o],c=!1;this.accumulatedFirstMoment[s]==null&&(this.accumulatedFirstMoment[s]={originalName:`${o}/m`,variable:Qt(()=>qn(a).variable(c))}),this.accumulatedSecondMoment[s]==null&&(this.accumulatedSecondMoment[s]={originalName:`${o}/v`,variable:Qt(()=>qn(a).variable(c))});let l=Array.isArray(t)?t[s].tensor:t[o];if(l==null)return;let d=this.accumulatedFirstMoment[s].variable,u=this.accumulatedSecondMoment[s].variable,h=st(Ie(d,this.beta1),Ie(l,1-this.beta1)),m=st(Ie(u,this.beta2),Ie(ur(l),1-this.beta2)),p=fi(h,n),_=fi(m,r);d.assign(h),u.assign(m);let f=st(Ie(fi(p,st(so(_),this.epsilon)),-this.learningRate),a);a.assign(f)}),this.accBeta1.assign(Ie(this.accBeta1,this.beta1)),this.accBeta2.assign(Ie(this.accBeta2,this.beta2))}),this.incrementIterations()}dispose(){this.accBeta1.dispose(),this.accBeta2.dispose(),this.accumulatedFirstMoment!=null&&Dn(this.accumulatedFirstMoment.map(t=>t.variable)),this.accumulatedSecondMoment!=null&&Dn(this.accumulatedSecondMoment.map(t=>t.variable))}getWeights(){return te(this,null,function*(){let t=[...this.accumulatedFirstMoment,...this.accumulatedSecondMoment];return[yield this.saveIterations()].concat(t.map(e=>({name:e.originalName,tensor:e.variable})))})}setWeights(t){return te(this,null,function*(){t=yield this.extractIterations(t),Qt(()=>{this.accBeta1.assign(rc(this.beta1,this.iterations_+1)),this.accBeta2.assign(rc(this.beta2,this.iterations_+1))});let e=t.length/2,n=!1;this.accumulatedFirstMoment=t.slice(0,e).map(r=>({originalName:r.name,variable:r.tensor.variable(n)})),this.accumulatedSecondMoment=t.slice(e,e*2).map(r=>({originalName:r.name,variable:r.tensor.variable(n)}))})}getConfig(){return{learningRate:this.learningRate,beta1:this.beta1,beta2:this.beta2,epsilon:this.epsilon}}static fromConfig(t,e){return new t(e.learningRate,e.beta1,e.beta2,e.epsilon)}}});var Id,Zw=I(()=>{"use strict";X();Wo();th();tr();ko();sO();bn();$r();hr();al();Cd();Id=class extends qr{static get className(){return"Adamax"}constructor(t,e,n,r=null,o=0){super(),this.learningRate=t,this.beta1=e,this.beta2=n,this.epsilon=r,this.decay=o,this.accumulatedFirstMoment=[],this.accumulatedWeightedInfNorm=[],Qt(()=>{this.iteration=Mt(0).variable(),this.accBeta1=Mt(e).variable()}),r==null&&(this.epsilon=T.backend.epsilon())}applyGradients(t){let e=Array.isArray(t)?t.map(n=>n.name):Object.keys(t);Qt(()=>{let n=yt(1,this.accBeta1),r=fi(-this.learningRate,st(Ie(this.iteration,this.decay),1));e.forEach((o,s)=>{let a=T.registeredVariables[o],c=!1;this.accumulatedFirstMoment[s]==null&&(this.accumulatedFirstMoment[s]={originalName:`${o}/m`,variable:qn(a).variable(c)}),this.accumulatedWeightedInfNorm[s]==null&&(this.accumulatedWeightedInfNorm[s]={originalName:`${o}/v`,variable:qn(a).variable(c)});let l=Array.isArray(t)?t[s].tensor:t[o];if(l==null)return;let d=this.accumulatedFirstMoment[s].variable,u=this.accumulatedWeightedInfNorm[s].variable,h=st(Ie(d,this.beta1),Ie(l,1-this.beta1)),m=Ie(u,this.beta2),p=lr(l),_=W_(m,p);d.assign(h),u.assign(_);let f=st(Ie(fi(r,n),fi(h,st(_,this.epsilon))),a);a.assign(f)}),this.iteration.assign(st(this.iteration,1)),this.accBeta1.assign(Ie(this.accBeta1,this.beta1))}),this.incrementIterations()}dispose(){this.accBeta1.dispose(),this.iteration.dispose(),this.accumulatedFirstMoment!=null&&Dn(this.accumulatedFirstMoment.map(t=>t.variable)),this.accumulatedWeightedInfNorm!=null&&Dn(this.accumulatedWeightedInfNorm.map(t=>t.variable))}getWeights(){return te(this,null,function*(){throw new Error("getWeights() is not implemented for Adamax yet.")})}setWeights(t){return te(this,null,function*(){throw new Error("setWeights() is not implemented for Adamax yet.")})}getConfig(){return{learningRate:this.learningRate,beta1:this.beta1,beta2:this.beta2,epsilon:this.epsilon,decay:this.decay}}static fromConfig(t,e){return new t(e.learningRate,e.beta1,e.beta2,e.epsilon,e.decay)}}});var lc,gb=I(()=>{"use strict";X();Wo();tr();bn();$r();Cd();lc=class extends qr{static get className(){return"SGD"}constructor(t){super(),this.learningRate=t,this.setLearningRate(t)}applyGradients(t){(Array.isArray(t)?t.map(n=>n.name):Object.keys(t)).forEach((n,r)=>{let o=Array.isArray(t)?t[r].tensor:t[n];if(o==null)return;let s=T.registeredVariables[n];Qt(()=>{let a=st(Ie(this.c,o),s);s.assign(a)})}),this.incrementIterations()}setLearningRate(t){this.learningRate=t,this.c!=null&&this.c.dispose(),this.c=oo(Mt(-t))}dispose(){this.c.dispose()}getWeights(){return te(this,null,function*(){return[yield this.saveIterations()]})}setWeights(t){return te(this,null,function*(){if(t=yield this.extractIterations(t),t.length!==0)throw new Error("SGD optimizer does not have settable weights.")})}getConfig(){return{learningRate:this.learningRate}}static fromConfig(t,e){return new t(e.learningRate)}}});var Dd,Kw=I(()=>{"use strict";X();Wo();tr();bn();$r();al();gb();Dd=class extends lc{static get className(){return"Momentum"}constructor(t,e,n=!1){super(t),this.learningRate=t,this.momentum=e,this.useNesterov=n,this.accumulations=[],this.m=Mt(this.momentum)}applyGradients(t){(Array.isArray(t)?t.map(n=>n.name):Object.keys(t)).forEach((n,r)=>{let o=T.registeredVariables[n];this.accumulations[r]==null&&(this.accumulations[r]={originalName:`${n}/momentum`,variable:Qt(()=>qn(o).variable(!1))});let s=this.accumulations[r].variable,a=Array.isArray(t)?t[r].tensor:t[n];a!=null&&Qt(()=>{let c,l=st(Ie(this.m,s),a);this.useNesterov?c=st(Ie(this.c,st(a,Ie(l,this.m))),o):c=st(Ie(this.c,l),o),s.assign(l),o.assign(c)})}),this.incrementIterations()}dispose(){this.m.dispose(),this.accumulations!=null&&Dn(this.accumulations.map(t=>t.variable))}setMomentum(t){this.momentum=t}getWeights(){return te(this,null,function*(){return[yield this.saveIterations()].concat(this.accumulations.map(t=>({name:t.originalName,tensor:t.variable})))})}setWeights(t){return te(this,null,function*(){t=yield this.extractIterations(t);let e=!1;this.accumulations=t.map(n=>({originalName:n.name,variable:n.tensor.variable(e)}))})}getConfig(){return{learningRate:this.learningRate,momentum:this.momentum,useNesterov:this.useNesterov}}static fromConfig(t,e){return new t(e.learningRate,e.momentum,e.useNesterov)}}});var kd,Qw=I(()=>{"use strict";X();Wo();tr();ko();bn();Ap();dl();hr();al();Cd();kd=class extends qr{static get className(){return"RMSProp"}constructor(t,e=.9,n=0,r=null,o=!1){if(super(),this.learningRate=t,this.decay=e,this.momentum=n,this.epsilon=r,this.accumulatedMeanSquares=[],this.accumulatedMoments=[],this.accumulatedMeanGrads=[],this.centered=o,r==null&&(this.epsilon=T.backend.epsilon()),t==null)throw new Error("learningRate for RMSPropOptimizer must be defined.")}applyGradients(t){(Array.isArray(t)?t.map(n=>n.name):Object.keys(t)).forEach((n,r)=>{let o=T.registeredVariables[n],s=!1;this.accumulatedMeanSquares[r]==null&&(this.accumulatedMeanSquares[r]={originalName:`${n}/rms`,variable:Qt(()=>qn(o).variable(s))}),this.accumulatedMoments[r]==null&&(this.accumulatedMoments[r]={originalName:`${n}/momentum`,variable:Qt(()=>qn(o).variable(s))}),this.accumulatedMeanGrads[r]==null&&this.centered&&(this.accumulatedMeanGrads[r]={originalName:`${n}/mg`,variable:Qt(()=>qn(o).variable(s))});let a=Array.isArray(t)?t[r].tensor:t[n];if(a==null)return;let c=this.accumulatedMeanSquares[r].variable,l=this.accumulatedMoments[r].variable;Qt(()=>{let d=st(Ie(c,this.decay),Ie(ur(a),1-this.decay));if(this.centered){let u=this.accumulatedMeanGrads[r].variable,h=st(Ie(u,this.decay),Ie(a,1-this.decay)),m=fi(Ie(a,this.learningRate),so(yt(d,st(ur(h),this.epsilon)))),p=st(Ie(l,this.momentum),m);c.assign(d),u.assign(h),l.assign(p);let _=yt(o,p);o.assign(_)}else{let u=st(Ie(c,this.decay),Ie(ur(a),1-this.decay)),h=st(Ie(l,this.momentum),fi(Ie(a,this.learningRate),so(st(u,this.epsilon))));c.assign(u),l.assign(h);let m=yt(o,h);o.assign(m)}})}),this.incrementIterations()}dispose(){this.accumulatedMeanSquares!=null&&Dn(this.accumulatedMeanSquares.map(t=>t.variable)),this.accumulatedMeanGrads!=null&&this.centered&&Dn(this.accumulatedMeanGrads.map(t=>t.variable)),this.accumulatedMoments!=null&&Dn(this.accumulatedMoments.map(t=>t.variable))}getWeights(){return te(this,null,function*(){let t=[...this.accumulatedMeanSquares,...this.accumulatedMoments];return this.centered&&t.push(...this.accumulatedMeanGrads),[yield this.saveIterations()].concat(t.map(e=>({name:e.originalName,tensor:e.variable})))})}setWeights(t){return te(this,null,function*(){t=yield this.extractIterations(t);let e=this.centered?t.length/3:t.length/2,n=!1;this.accumulatedMeanSquares=t.slice(0,e).map(r=>({originalName:r.name,variable:r.tensor.variable(n)})),this.accumulatedMoments=t.slice(e,e*2).map(r=>({originalName:r.name,variable:r.tensor.variable(n)})),this.centered&&(this.accumulatedMeanGrads=t.slice(e*2,e*3).map(r=>({originalName:r.name,variable:r.tensor.variable(n)})))})}getConfig(){return{learningRate:this.learningRate,decay:this.decay,momentum:this.momentum,epsilon:this.epsilon,centered:this.centered}}static fromConfig(t,e){return new t(e.learningRate,e.decay,e.momentum,e.epsilon,e.centered)}}});function a9(){for(let i of Kge)A2(i)}var Kge,c9=I(()=>{"use strict";qw();Xw();Yw();Zw();Kw();Qw();gb();Ww();Kge=[Sd,Ed,Td,Id,Dd,kd,lc]});function l9(i){return new Promise(t=>setTimeout(t)).then(i)}function i_e(i="model"){return new R2(i)}function d9(i){return new N2(i)}var Qge,Jge,e_e,R2,N2,t_e,u9=I(()=>{"use strict";vp();yr();fd();Zu();md();Qge="model",Jge=".json",e_e=".weights.bin";R2=(()=>{class i{constructor(e){if(!ot().getBool("IS_BROWSER"))throw new Error("browserDownloads() cannot proceed because the current environment is not a browser.");e.startsWith(i.URL_SCHEME)&&(e=e.slice(i.URL_SCHEME.length)),(e==null||e.length===0)&&(e=Qge),this.modelJsonFileName=e+Jge,this.weightDataFileName=e+e_e}save(e){return te(this,null,function*(){if(typeof document>"u")throw new Error("Browser downloads are not supported in this environment since `document` is not present");let n=Rr.join(e.weightData),r=window.URL.createObjectURL(new Blob([n],{type:"application/octet-stream"}));if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserDownloads.save() does not support saving model topology in binary formats yet.");{let o=[{paths:["./"+this.weightDataFileName],weights:e.weightSpecs}],s=ow(e,o),a=window.URL.createObjectURL(new Blob([JSON.stringify(s)],{type:"application/json"})),c=this.modelJsonAnchor==null?document.createElement("a"):this.modelJsonAnchor;if(c.download=this.modelJsonFileName,c.href=a,yield l9(()=>c.dispatchEvent(new MouseEvent("click"))),e.weightData!=null){let l=this.weightDataAnchor==null?document.createElement("a"):this.weightDataAnchor;l.download=this.weightDataFileName,l.href=r,yield l9(()=>l.dispatchEvent(new MouseEvent("click")))}return{modelArtifactsInfo:tc(e)}}})}}return i.URL_SCHEME="downloads://",i})(),N2=class{constructor(t){if(t==null||t.length<1)throw new Error(`When calling browserFiles, at least 1 file is required, but received ${t}`);this.jsonFile=t[0],this.weightsFiles=t.slice(1)}load(){return te(this,null,function*(){return new Promise((t,e)=>{let n=new FileReader;n.onload=r=>{let o=JSON.parse(r.target.result),s=o.modelTopology;if(s==null){e(new Error(`modelTopology field is missing from file ${this.jsonFile.name}`));return}if(o.weightsManifest==null){e(new Error(`weightManifest field is missing from file ${this.jsonFile.name}`));return}if(this.weightsFiles.length===0){t({modelTopology:s});return}let c=yp(o,l=>this.loadWeights(l));t(c)},n.onerror=r=>e(`Failed to read model topology and weights manifest JSON from file '${this.jsonFile.name}'. BrowserFiles supports loading Keras-style tf.Model artifacts only.`),n.readAsText(this.jsonFile)})})}loadWeights(t){let e=[],n=[];for(let s of t)e.push(...s.weights),n.push(...s.paths);let r=this.checkManifestAndWeightFiles(t),o=n.map(s=>this.loadWeightsFile(s,r[s]));return Promise.all(o).then(s=>[e,s])}loadWeightsFile(t,e){return new Promise((n,r)=>{let o=new FileReader;o.onload=s=>{let a=s.target.result;n(a)},o.onerror=s=>r(`Failed to weights data from file of path '${t}'.`),o.readAsArrayBuffer(e)})}checkManifestAndWeightFiles(t){let e=[],n=this.weightsFiles.map(o=>xR(o.name)),r={};for(let o of t)o.paths.forEach(s=>{let a=xR(s);if(e.indexOf(a)!==-1)throw new Error(`Duplicate file basename found in weights manifest: '${a}'`);if(e.push(a),n.indexOf(a)===-1)throw new Error(`Weight file with basename '${a}' is not provided.`);r[s]=this.weightsFiles[n.indexOf(a)]});if(e.length!==this.weightsFiles.length)throw new Error(`Mismatch in the number of files in weights manifest (${e.length}) and the number of weight files provided (${this.weightsFiles.length}).`);return r}},t_e=i=>ot().getBool("IS_BROWSER")&&!Array.isArray(i)&&i.startsWith(R2.URL_SCHEME)?i_e(i.slice(R2.URL_SCHEME.length)):null;cr.registerSaveRouter(t_e)});function O2(i,t,e,n){s(i),e=e??0,n=n??1,a(e,n);let r=0,o=c=>(c.then(l=>{let d=e+ ++r/i.length*(n-e);return t(d),l}),c);function s(c){k(c!=null&&Array.isArray(c)&&c.length>0,()=>"promises must be a none empty array")}function a(c,l){k(c>=0&&c<=1,()=>`Progress fraction must be in range [0, 1], but got startFraction ${c}`),k(l>=0&&l<=1,()=>`Progress fraction must be in range [0, 1], but got endFraction ${l}`),k(l>=c,()=>`startFraction must be no more than endFraction, but got startFraction ${c} and endFraction ${l}`)}return Promise.all(i.map(o))}var h9=I(()=>{"use strict";pe();});function F2(i,t){return te(this,null,function*(){t==null&&(t={});let e=t.fetchFunc==null?ot().platform.fetch:t.fetchFunc,n=i.map(u=>e(u,t.requestInit,{isBinary:!0})),a=(t.onProgress==null?yield Promise.all(n):yield O2(n,t.onProgress,0,.5)).map(u=>u.arrayBuffer());return t.onProgress==null?yield Promise.all(a):yield O2(a,t.onProgress,.5,1)})}function m9(i,t){var e;let n=t.fetchFunc==null?ot().platform.fetch:t.fetchFunc,r=0,o;return(e=t.onProgress)===null||e===void 0||e.call(t,0),new ReadableStream({pull:s=>te(this,null,function*(){for(var a;r<i.length;){o||(o=(yield n(i[r],t.requestInit,{isBinary:!0})).body.getReader());let{done:c,value:l}=yield o.read();if(c){r++,o=void 0,(a=t.onProgress)===null||a===void 0||a.call(t,r/i.length);continue}s.enqueue(l);return}s.close()})})}function p9(i,t="",e,n){return te(this,null,function*(){return L2(s=>F2(s,{requestInit:n}))(i,t,e)})}function L2(i){return(t,e="",n)=>te(this,null,function*(){let r=t.map(()=>!1),o={},s=n!=null?n.map(()=>!1):[],a=[];if(t.forEach((m,p)=>{let _=0;m.weights.forEach(f=>{let g="quantization"in f?f.quantization.dtype:f.dtype,C=tl[g]*oi(f.shape),M=()=>{r[p]=!0,o[p]==null&&(o[p]=[]),o[p].push({manifestEntry:f,groupOffset:_,sizeBytes:C})};n!=null?n.forEach((S,R)=>{S===f.name&&(M(),s[R]=!0)}):M(),a.push(f.name),_+=C})}),!s.every(m=>m)){let m=n.filter((p,_)=>!s[_]);throw new Error(`Could not find weights in manifest with names: ${m.join(", ")}. 
Manifest JSON has weights with names: ${a.join(", ")}.`)}let c=r.reduce((m,p,_)=>(p&&m.push(_),m),[]),l=[];c.forEach(m=>{t[m].paths.forEach(p=>{let _=e+(e.endsWith("/")?"":"/")+p;l.push(_)})});let d=yield i(l),u={},h=0;return c.forEach(m=>{let p=t[m].paths.length,_=new Rr(d.slice(h,h+p));o[m].forEach(g=>{let C=_.slice(g.groupOffset,g.groupOffset+g.sizeBytes),M=nw(C,[g.manifestEntry]);for(let S in M)u[S]=M[S]}),h+=p}),u})}var B2=I(()=>{"use strict";yr();pe();md();fd();h9();_R();});function o_e(i){let t=i.lastIndexOf("/"),e=i.lastIndexOf("?"),n=i.substring(0,t),r=e>t?i.substring(e):"";return[n+"/",r]}function Jw(i){return i.match(f9.URL_SCHEME_REGEX)!=null}function eM(i,t){return new f9(i,t)}function _9(i,t){return eM(i,t)}var n_e,r_e,f9,g9,b9=I(()=>{"use strict";yr();pe();fd();md();Zu();B2();n_e="application/octet-stream",r_e="application/json",f9=(()=>{class i{constructor(e,n){if(this.DEFAULT_METHOD="POST",n==null&&(n={}),this.weightPathPrefix=n.weightPathPrefix,this.weightUrlConverter=n.weightUrlConverter,n.fetchFunc!=null?(k(typeof n.fetchFunc=="function",()=>"Must pass a function that matches the signature of `fetch` (see https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API)"),this.fetch=n.fetchFunc):this.fetch=ot().platform.fetch,k(e!=null&&e.length>0,()=>"URL path for http must not be null, undefined or empty."),Array.isArray(e)&&k(e.length===2,()=>`URL paths for http must have a length of 2, (actual length is ${e.length}).`),this.path=e,n.requestInit!=null&&n.requestInit.body!=null)throw new Error("requestInit is expected to have no pre-existing body, but has one.");this.requestInit=n.requestInit||{},this.loadOptions=n}save(e){return te(this,null,function*(){if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserHTTPRequest.save() does not support saving model topology in binary formats yet.");let n=Object.assign({method:this.DEFAULT_METHOD},this.requestInit);n.body=new FormData;let r=[{paths:["./model.weights.bin"],weights:e.weightSpecs}],o=ow(e,r);if(n.body.append("model.json",new Blob([JSON.stringify(o)],{type:r_e}),"model.json"),e.weightData!=null){let a=Rr.join(e.weightData);n.body.append("model.weights.bin",new Blob([a],{type:n_e}),"model.weights.bin")}let s=yield this.fetch(this.path,n);if(s.ok)return{modelArtifactsInfo:tc(e),responses:[s]};throw new Error(`BrowserHTTPRequest.save() failed due to HTTP response status ${s.status}.`)})}loadModelJSON(){return te(this,null,function*(){let e=yield this.fetch(this.path,this.requestInit);if(!e.ok)throw new Error(`Request to ${this.path} failed with status code ${e.status}. Please verify this URL points to the model JSON of the model to load.`);let n;try{n=yield e.json()}catch{let a=`Failed to parse model JSON of response from ${this.path}.`;throw this.path.endsWith(".pb")?a+=" Your path contains a .pb file extension. Support for .pb models have been removed in TensorFlow.js 1.0 in favor of .json models. You can re-convert your Python TensorFlow model using the TensorFlow.js 1.0 conversion scripts or you can convert your.pb models with the 'pb2json'NPM script in the tensorflow/tfjs-converter repository.":a+=" Please make sure the server is serving valid JSON for this request.",new Error(a)}let r=n.modelTopology,o=n.weightsManifest;if(r==null&&o==null)throw new Error(`The JSON from HTTP path ${this.path} contains neither model topology or manifest for weights.`);return n})}load(){return te(this,null,function*(){if(this.loadOptions.streamWeights)return this.loadStream();let e=yield this.loadModelJSON();return yp(e,n=>this.loadWeights(n))})}loadStream(){return te(this,null,function*(){let e=yield this.loadModelJSON(),n=yield this.getWeightUrls(e.weightsManifest),r=__(e.weightsManifest),o=()=>m9(n,this.loadOptions);return Object.assign(Object.assign({},e),{weightSpecs:r,getWeightStream:o})})}getWeightUrls(e){return te(this,null,function*(){let n=Array.isArray(this.path)?this.path[1]:this.path,[r,o]=o_e(n),s=this.weightPathPrefix||r,a=[],c=[];for(let l of e)for(let d of l.paths)this.weightUrlConverter!=null?c.push(this.weightUrlConverter(d)):a.push(s+d+o);return this.weightUrlConverter&&a.push(...yield Promise.all(c)),a})}loadWeights(e){return te(this,null,function*(){let n=yield this.getWeightUrls(e),r=__(e),o=yield F2(n,this.loadOptions);return[r,o]})}}return i.URL_SCHEME_REGEX=/^https?:\/\//,i})();g9=(i,t)=>{if(typeof fetch>"u"&&(t==null||t.fetchFunc==null))return null;{let e=!0;if(Array.isArray(i)?e=i.every(n=>Jw(n)):e=Jw(i),e)return eM(i,t)}return null};cr.registerSaveRouter(g9);cr.registerLoadRouter(g9)});function v9(i,t,e,n){let r=arguments;return new V2(U2(...r))}function U2(i,t,e,n){return arguments.length===1?i.modelTopology!=null||i.weightSpecs!=null?new _b(i):(console.warn("Please call tf.io.fromMemory() with only one argument. The argument should be of type ModelArtifacts. The multi-argument signature of tf.io.fromMemory() has been deprecated and will be removed in a future release."),new _b({modelTopology:i})):(console.warn("Please call tf.io.fromMemory() with only one argument. The argument should be of type ModelArtifacts. The multi-argument signature of tf.io.fromMemory() has been deprecated and will be removed in a future release."),new _b({modelTopology:i,weightSpecs:t,weightData:e,trainingConfig:n}))}function y9(i){return new tM(i)}function x9(i){return new tM(i)}var _b,tM,V2,w9=I(()=>{"use strict";_b=class{constructor(t){this.modelArtifacts=t}load(){return this.modelArtifacts}},tM=class{constructor(t){this.saveHandler=t}save(t){return this.saveHandler(t)}},V2=class{constructor(t){t.load&&(this.load=()=>Promise.resolve(t.load())),t.save&&(this.save=e=>Promise.resolve(t.save(e)))}}});var dc={};Mi(dc,{CompositeArrayBuffer:()=>Rr,browserFiles:()=>d9,browserHTTPRequest:()=>_9,concatenateArrayBuffers:()=>n8,copyModel:()=>_8,decodeWeights:()=>nw,decodeWeightsStream:()=>rw,encodeWeights:()=>Jj,fromMemory:()=>v9,fromMemorySync:()=>U2,getLoadHandlers:()=>a8,getModelArtifactsForJSON:()=>yp,getModelArtifactsForJSONSync:()=>wR,getModelArtifactsInfoForJSON:()=>tc,getSaveHandlers:()=>s8,getWeightSpecs:()=>__,http:()=>eM,isHTTPScheme:()=>Jw,listModels:()=>f8,loadWeights:()=>p9,moveModel:()=>b8,registerLoadRouter:()=>o8,registerSaveRouter:()=>r8,removeModel:()=>g8,weightsLoaderFactory:()=>L2,withSaveHandler:()=>y9,withSaveHandlerSync:()=>x9});var M9=I(()=>{"use strict";ER();TR();u9();b9();fd();w9();Zu();B2();md();IR();});function s_e(i,t,e){let n=v(i,"labels","confusionMatrix"),r=v(t,"predictions","confusionMatrix");k(e==null||e>0&&Number.isInteger(e),()=>`If provided, numClasses must be a positive integer, but got ${e}`),k(n.rank===1,()=>`Expected the rank of labels to be 1, but got ${n.rank}`),k(r.rank===1,()=>`Expected the rank of predictions to be 1, but got ${r.rank}`),k(n.shape[0]===r.shape[0],()=>`Mismatch in the number of examples: ${n.shape[0]} vs. ${r.shape[0]}. Labels and predictions should have the same number of elements.`),k(e>0&&Number.isInteger(e),()=>`numClasses is required to be a positive integer, but got ${e}`);let o=Op(si(n,"int32"),e),s=Op(si(r,"int32"),e),a=fh(o),c=yi(a,s);return si(c,"int32")}var C9,S9=I(()=>{"use strict";$();pe();Or();rl();pO();H();Lw();C9=w({confusionMatrix_:s_e})});var z2={};Mi(z2,{confusionMatrix:()=>C9});var E9=I(()=>{"use strict";S9();});var H2={};Mi(H2,{draw:()=>p_e,fromPixels:()=>f_e,fromPixelsAsync:()=>u_e,toPixels:()=>m_e});function I9(i,t=3){if(t>4)throw new Error("Cannot construct Tensor with more than 4 channels from pixels.");if(i==null)throw new Error("pixels passed to tf.browser.fromPixels() can not be null");let e=!1,n=!1,r=!1,o=!1,s=!1,a=!1;if(i.data instanceof Uint8Array)e=!0;else if(typeof ImageData<"u"&&i instanceof ImageData)n=!0;else if(typeof HTMLVideoElement<"u"&&i instanceof HTMLVideoElement)r=!0;else if(typeof HTMLImageElement<"u"&&i instanceof HTMLImageElement)o=!0;else if(i.getContext!=null)s=!0;else if(typeof ImageBitmap<"u"&&i instanceof ImageBitmap)a=!0;else throw new Error(`pixels passed to tf.browser.fromPixels() must be either an HTMLVideoElement, HTMLImageElement, HTMLCanvasElement, ImageData in browser, or OffscreenCanvas, ImageData in webworker or {data: Uint32Array, width: number, height: number}, but was ${i.constructor.name}`);if(ju(Ux,T.backendName)!=null){let p={pixels:i},_={numChannels:t};return T.runKernel(Ux,p,_)}let[l,d]=r?[i.videoWidth,i.videoHeight]:[i.width,i.height],u;if(s)u=i.getContext("2d").getImageData(0,0,l,d).data;else if(n||e)u=i.data;else if(o||r||a){if(xh==null)if(typeof document>"u")if(typeof OffscreenCanvas<"u"&&typeof OffscreenCanvasRenderingContext2D<"u")xh=new OffscreenCanvas(1,1).getContext("2d");else throw new Error("Cannot parse input in current context. Reason: OffscreenCanvas Context2D rendering is not supported.");else xh=document.createElement("canvas").getContext("2d",{willReadFrequently:!0});xh.canvas.width=l,xh.canvas.height=d,xh.drawImage(i,0,0,l,d),u=xh.getImageData(0,0,l,d).data}let h;if(t===4)h=new Int32Array(u);else{let p=l*d;h=new Int32Array(p*t);for(let _=0;_<p;_++)for(let f=0;f<t;++f)h[_*t+f]=u[_*4+f]}return cb(h,[d,l,t],"int32")}function a_e(i){return i!=null&&i.data instanceof Uint8Array}function c_e(){return typeof window<"u"&&typeof ImageBitmap<"u"&&window.hasOwnProperty("createImageBitmap")}function l_e(i){return i!=null&&i.width!==0&&i.height!==0}function d_e(i){return c_e()&&!(i instanceof ImageBitmap)&&l_e(i)&&!a_e(i)}function u_e(i,t=3){return te(this,null,function*(){let e=null;if(ot().getBool("WRAP_TO_IMAGEBITMAP")&&d_e(i)){let n;try{n=yield createImageBitmap(i,{premultiplyAlpha:"none"})}catch{n=null}n!=null&&n.width===i.width&&n.height===i.height?e=n:e=i}else e=i;return I9(e,t)})}function D9(i){if(i.rank!==2&&i.rank!==3)throw new Error(`toPixels only supports rank 2 or 3 tensors, got rank ${i.rank}.`);let t=i.rank===2?1:i.shape[2];if(t>4||t===2)throw new Error(`toPixels only supports depth of size 1, 3 or 4 but got ${t}`);if(i.dtype!=="float32"&&i.dtype!=="int32")throw new Error(`Unsupported type for toPixels: ${i.dtype}. Please use float32 or int32 tensors.`)}function h_e(i){let t=i?.alpha||1;if(t>1||t<0)throw new Error(`Alpha value ${t} is suppoed to be in range [0 - 1].`)}function m_e(i,t){return te(this,null,function*(){let e=v(i,"img","toPixels");if(!(i instanceof Oi)){let l=e;e=si(l,"int32"),l.dispose()}D9(e);let[n,r]=e.shape.slice(0,2),o=e.rank===2?1:e.shape[2],s=yield e.data(),a=e.dtype==="float32"?255:1,c=new Uint8ClampedArray(r*n*4);for(let l=0;l<n*r;++l){let d=[0,0,0,255];for(let h=0;h<o;h++){let m=s[l*o+h];if(e.dtype==="float32"){if(m<0||m>1)throw new Error(`Tensor values for a float32 Tensor must be in the range [0 - 1] but encountered ${m}.`)}else if(e.dtype==="int32"&&(m<0||m>255))throw new Error(`Tensor values for a int32 Tensor must be in the range [0 - 255] but encountered ${m}.`);o===1?(d[0]=m*a,d[1]=m*a,d[2]=m*a):d[h]=m*a}let u=l*4;c[u+0]=Math.round(d[0]),c[u+1]=Math.round(d[1]),c[u+2]=Math.round(d[2]),c[u+3]=Math.round(d[3])}if(t!=null){T9||ju(Vx,T.backendName)!=null&&(console.warn("tf.browser.toPixels is not efficient to draw tensor on canvas. Please try tf.browser.draw instead."),T9=!0),t.width=r,t.height=n;let l=t.getContext("2d"),d=new ImageData(c,r,n);l.putImageData(d,0,0)}return e!==i&&e.dispose(),c})}function p_e(i,t,e){let n=v(i,"img","draw");if(!(i instanceof Oi)){let s=n;n=si(s,"int32"),s.dispose()}D9(n),h_e(e?.imageOptions);let r={image:n},o={canvas:t,options:e};T.runKernel(Vx,r,o)}var xh,T9,f_e,k9=I(()=>{"use strict";X();yr();ee();Wx();ms();$();Or();H();m2();T9=!1;f_e=w({fromPixels_:I9})});var j2={};Mi(j2,{prepareAndValidate:()=>A9});function A9(i,t){let e=i.shape.length,n=t.shape.length;if(e<1)throw new Error(`tf.gatherND() expects the input to be rank 1 or higher, but the rank was ${e}.`);if(n<1)throw new Error(`tf.gatherND() expects the indices to be rank 1 or higher, but the rank was ${n}.`);if(t.dtype!=="int32")throw new Error(`tf.gatherND() expects the indices to be int32 type, but the dtype was ${t.dtype}.`);if(t.shape[n-1]>e)throw new Error(`index innermost dimension length must be <= tensor rank; saw: ${t.shape[n-1]} vs. ${e}`);if(oi(i.shape)===0)throw new Error(`Requested more than 0 entries, but input is empty. Input shape: ${i.shape}.`);let r=t.shape,o=r[r.length-1],s=1;for(let u=0;u<r.length-1;++u)s*=r[u];let a=i.shape,c=r.slice();c.pop();let l=1;for(let u=o;u<e;++u)l*=a[u],c.push(a[u]);let d=[...Qa(i.shape).map(u=>u/l),1].slice(0,o);return[c,s,l,d]}var $2=I(()=>{"use strict";pe()});var bb={};Mi(bb,{assertParamsValid:()=>__e,computeFlatOffset:()=>w_e,computeOutShape:()=>v_e,getNormalizedAxes:()=>y_e,isSliceContinous:()=>x_e,maskToAxes:()=>b_e,parseSliceParams:()=>M_e,sliceInfo:()=>C_e,startForAxis:()=>V9,startIndicesWithElidedDims:()=>F9,stopForAxis:()=>U9,stopIndicesWithElidedDims:()=>L9,stridesForAxis:()=>B9,stridesWithElidedDims:()=>R9});function __e(i,t,e){let n=i.shape.length;k(n===t.length,()=>`Error in slice${n}D: Length of begin ${t} must match the rank of the array (${n}).`),k(n===e.length,()=>`Error in slice${n}D: Length of size ${e} must match the rank of the array (${n}).`);for(let r=0;r<n;++r)k(t[r]+e[r]<=i.shape[r],()=>`Error in slice${n}D: begin[${r}] + size[${r}] (${t[r]+e[r]}) would overflow input.shape[${r}] (${i.shape[r]})`)}function b_e(i){let t=[],e=0;for(;i>0;)i&1&&t.push(e),i/=2,e++;return t}function v_e(i,t,e){let n=[];for(let r=0;r<i.length;r++)n[r]=Math.ceil((t[r]-i[r])/e[r]);return n}function R9(i,t,e,n){let r=[...i];for(let o=r.length;o<n.length;o++)r.push(1);for(let o=0;o<e;o++)o===0?r[t]=1:(r.splice(t,0,1),r.pop());return r}function N9(i,t,e){return e<=i?e:e-(t-1)}function O9(i,t){let e=[];for(let n=0;n<i;n++)e.push(t+n);return e}function y_e(i,t,e,n,r,o,s,a,c){let l=i.length,d=new Array(l),u=new Array(l),h=new Array(l);if(t.length&&e>0){let m=t[0],p=e+1;d=F9(s,m,p,n,i),u=L9(a,m,p,r,i),h=R9(o,m,p,i)}else for(let m=0;m<l;m++)d[m]=V9(s,n,o,i,m,c),u[m]=U9(a,r,o,i,m,c),h[m]=B9(o,m,c);return{begin:d,end:u,strides:h}}function F9(i,t,e,n,r){let o=[...r],s=O9(e,t);for(let a=0;a<o.length;a++)if(s.indexOf(a)>-1)o[a]=0;else{let c=N9(t,e,a),l=n[c];i&1<<c&&(l=0),o[a]=l}return o}function L9(i,t,e,n,r){let o=[...r],s=O9(e,t);for(let a=0;a<o.length;a++)if(s.indexOf(a)>-1)o[a]=Number.MAX_SAFE_INTEGER;else{let c=N9(t,e,a),l=n[c];i&1<<c&&(l=Number.MAX_SAFE_INTEGER),o[a]=l}for(let a=0;a<o.length;a++){let c=r[a];o[a]<0&&(o[a]+=c),o[a]=ap(0,o[a],r[a])}return o}function B9(i,t,e){let n=i[t];return(e&1<<t||n==null)&&(n=1),n}function V9(i,t,e,n,r,o){let s=t[r],a=e[r]||1;(i&1<<r||o&1<<r||s==null)&&(a>0?s=Number.MIN_SAFE_INTEGER:s=Number.MAX_SAFE_INTEGER);let c=n[r];return s<0&&(s+=c),s=ap(0,s,c-1),s}function U9(i,t,e,n,r,o){let s=t[r],a=e[r]||1;(i&1<<r||o&1<<r||s==null)&&(a>0?s=Number.MAX_SAFE_INTEGER:s=Number.MIN_SAFE_INTEGER);let c=n[r];return s<0&&(s+=c),a>0?s=ap(0,s,c):s=ap(-1,s,c-1),s}function x_e(i,t,e){let n=e.length;for(let r=0;r<e.length;r++)if(e[r]>1){n=r;break}for(let r=n+1;r<e.length;r++)if(t[r]>0||e[r]!==i[r])return!1;return!0}function w_e(i,t){let e=i.length>0?i[i.length-1]:1;for(let n=0;n<i.length-1;n++)e+=i[n]*t[n];return e}function M_e(i,t,e){let n,r=i.shape.length;typeof t=="number"?n=[t,...new Array(r-1).fill(0)]:t.length<r?n=t.concat(new Array(r-t.length).fill(0)):n=t.slice(),n.forEach(s=>{k(s!==-1,()=>"slice() does not support negative begin indexing.")});let o;return e==null?o=new Array(r).fill(-1):typeof e=="number"?o=[e,...new Array(r-1).fill(-1)]:e.length<r?o=e.concat(new Array(r-e.length).fill(-1)):o=e,o=o.map((s,a)=>s>=0?s:(k(s===-1,()=>`Negative size values should be exactly -1 but got ${s} for the slice() size at index ${a}.`),i.shape[a]-n[a])),[n,o]}function C_e(i,t,e,n,r,o,s,a,c){let l;if(n==null?(l=new Array(t.length),l.fill(1)):l=n,s!=null&&s&s-1)throw new Error("Multiple ellipses in slice is not allowed.");let d=!1,u={dims:l.length,numAddAxisAfterEllipsis:0,begin:t.slice(),end:e.slice(),strides:l.slice(),beginMask:r,endMask:o,ellipsisMask:s,newAxisMask:a,shrinkAxisMask:c};for(let M=0;M<u.dims;M++)d&&1<<M&a&&u.numAddAxisAfterEllipsis++,1<<M&s&&(d=!0);d||(u.ellipsisMask|=1<<u.dims,u.dims++);let h={dims:i.length,beginMask:0,endMask:0,beginValid:!1,endValid:!1};S_e(u,h);let m=!0,p=!0,_=!0,f=[],g=[];for(let M=0;M<i.length;++M){if(h.strides[M]===0)throw Error(`strides[${M}] must be non-zero`);let S=!!(h.shrinkAxisMask&1<<M),R=i[M];if(R===-1){f.push(S?1:-1);continue}let N=[h.beginMask&1<<M,h.endMask&1<<M],L=[h.strides[M]>0?0:-1,h.strides[M]>0?R:R-1];if(S&&h.strides[M]<=0)throw Error("only stride 1 allowed on non-range indexing.");_=_&&h.strides[M]===1;let z=!!(h.beginMask&1<<M&&h.endMask&1<<M);if(h.beginValid&&h.endValid){if(S){let W=h.begin[M]<0?R+h.begin[M]:h.begin[M];if(h.begin[M]=W,h.end[M]=h.begin[M]+1,W<0||W>=R)throw Error(`slice index ${h.begin[M]} of dimension ${M} out of bounds.`)}else h.begin[M]=P9(h.begin[M],0,h.strides[M],R,N,L),h.end[M]=P9(h.end[M],1,h.strides[M],R,N,L);let U=h.strides[M]===1&&h.begin[M]===0&&h.end[M]===R;m=m&&U,p=p&&(M===0&&h.strides[M]===1||U)}else m=m&&h.strides[M]===1&&z,p=p&&(M===0&&h.strides[M]===1||z);let E,A=!1;if(h.beginValid&&h.endValid?(E=h.end[M]-h.begin[M],A=!0):S?(E=1,A=!0):z&&R>=0&&(h.strides[M]<0?E=-R:E=R,A=!0),A){let U;E===0||E<0!=h.strides[M]<0?U=0:U=Math.trunc(E/h.strides[M])+(E%h.strides[M]!==0?1:0),f.push(U)}else f.push(-1)}for(let M=0;M<h.finalShapeGatherIndices.length;++M){let S=h.finalShapeGatherIndices[M];S>=0?g.push(f[S]):S===G2&&g.push(1)}return{finalShapeSparse:g.filter((M,S)=>h.finalShapeGatherIndices[S]!==G2),finalShape:g,isIdentity:m,sliceDim0:p,isSimpleSlice:_,begin:h.begin,end:h.end,strides:h.strides}}function S_e(i,t){t.beginMask=0,t.endMask=0,t.shrinkAxisMask=0;let e=0;t.beginValid=i.begin!=null,t.endValid=i.end!=null,t.begin=new Array(t.dims),t.end=new Array(t.dims),t.strides=new Array(t.dims),t.finalShapeGatherIndices=[],t.finalShapeGatherIndicesSparse=[],t.inputShapeGatherIndicesSparse=new Array(t.dims);for(let n=0;n<i.dims;n++)if(1<<n&i.ellipsisMask){let r=Math.min(t.dims-(i.dims-n)+1+i.numAddAxisAfterEllipsis,t.dims);for(;e<r;e++)t.begin[e]=0,t.end[e]=0,t.strides[e]=1,t.beginMask|=1<<e,t.endMask|=1<<e,t.finalShapeGatherIndices.push(e),t.finalShapeGatherIndicesSparse.push(-1),t.inputShapeGatherIndicesSparse[e]=n}else if(1<<n&i.newAxisMask)t.finalShapeGatherIndices.push(G2),t.finalShapeGatherIndicesSparse.push(-1);else{if(e===t.begin.length)throw Error(`Index out of range using input dim ${e}; input has only ${t.dims} dims, ${t.begin.length}.`);i.begin!=null&&(t.begin[e]=i.begin[n]),i.end!=null&&(t.end[e]=i.end[n]),t.strides[e]=i.strides[n],i.beginMask&1<<n&&(t.beginMask|=1<<e),i.endMask&1<<n&&(t.endMask|=1<<e),i.shrinkAxisMask&1<<n?(t.finalShapeGatherIndices.push(g_e),t.finalShapeGatherIndicesSparse.push(-1),t.shrinkAxisMask|=1<<e):(t.finalShapeGatherIndices.push(e),t.finalShapeGatherIndicesSparse.push(n)),t.inputShapeGatherIndicesSparse[e]=n,e++}}function P9(i,t,e,n,r,o){if(r[t])return e>0?o[t]:o[t+1&1];{let s=i<0?n+i:i;return s<o[0]?o[0]:s>o[1]?o[1]:s}}var G2,g_e,W2=I(()=>{"use strict";pe();G2=-2,g_e=-1});var z9,H9=I(()=>{"use strict";z9="4.22.0"});var Up,q2=I(()=>{"use strict";qw();Xw();Yw();Zw();Kw();Qw();gb();Up=class{static sgd(t){return new lc(t)}static momentum(t,e,n=!1){return new Dd(t,e,n)}static rmsprop(t,e=.9,n=0,r=null,o=!1){return new kd(t,e,n,r,o)}static adam(t=.001,e=.9,n=.999,r=null){return new Td(t,e,n,r)}static adadelta(t=.001,e=.95,n=null){return new Sd(t,e,n)}static adamax(t=.002,e=.9,n=.999,r=null,o=0){return new Id(t,e,n,r,o)}static adagrad(t,e=.1){return new Ed(t,e)}}});var E_e,j9=I(()=>{"use strict";q2();E_e=Up});function $9(){return new Promise(i=>T_e(()=>i()))}var T_e,G9=I(()=>{"use strict";T_e=typeof requestAnimationFrame<"u"?requestAnimationFrame:typeof setImmediate<"u"?setImmediate:i=>i()});function I_e(i,t){let e=i[0].length;i.forEach((r,o)=>{k(r.length===e,()=>`Error in concat${e}D: rank of tensors[${o}] must be the same as the rank of the rest (${e})`)}),k(t>=0&&t<e,()=>`Error in concat${e}D: axis must be between 0 and ${e-1}.`);let n=i[0];i.forEach((r,o)=>{for(let s=0;s<e;s++)k(s===t||r[s]===n[s],()=>`Error in concat${e}D: Shape of tensors[${o}] (${r}) does not match the shape of the rest (${n}) along the non-concatenated axis ${o}.`)})}function D_e(i,t){let e=i[0].slice();for(let n=1;n<i.length;n++)e[t]+=i[n][t];return e}var W9=I(()=>{"use strict";pe();});var q9=I(()=>{"use strict";});function k_e(i,t,e){let n=new Array;if(e==null&&t==null)return n;if(t==null)for(;n.length<i+e.length;)n.push(-1);else n=t.slice();if(e==null)return n;if(i+e.length!==n.length)throw new Error(`rt input.shape and shape=${t} are incompatible: rt input.rank = ${i+e.length}, but shape.rank = ${n.length}`);for(let r=1;r<e.length;++r){let o=e[r],s=n[n.length-e.length+r],a=n[s];if(o>=0)if(a>=0){if(a!==o)throw new Error(`rt input.shape and shape=${t} are incompatible: rt input.shape[${r+i}] = ${o} but shape[${r+i}] = ${a}`)}else n[s]=o}return n}function A_e(i){let t={FIRST_DIM_SIZE:bl.FIRST_DIM_SIZE,VALUE_ROWIDS:bl.VALUE_ROWIDS,ROW_LENGTHS:bl.ROW_LENGTHS,ROW_SPLITS:bl.ROW_SPLITS,ROW_LIMITS:bl.ROW_LIMITS,ROW_STARTS:bl.ROW_STARTS},e=[];for(let n of i)if(n in t)e.push(t[n]);else break;return e}function P_e(i){return i.length===0?0:i[0]===bl.FIRST_DIM_SIZE?i.length-1:i.length}function R_e(i,t){if(i==null||t==null)return;let e=i.length,n=t.length;if(e>=n)throw new Error(`defaultValue.shape=${i} and ragged tensor flatValues.shape=${t}, are incompatible: defaultValue.rank = ${e} must be less than ragged tensor input flatValues.rank = ${n})`);for(let r=0;r<Math.min(e,n-1);++r){let o=i[r],s=t[r+1];if(o>=0&&s>=0&&o!==1&&o!==s)throw new Error(`defaultValue.shape=${i}, and ragged tensor input flatValues.shape=${t} are incompatible: defaultValue.shape[${r-i.length}] = ${o} but ragged tensor input.flatValues.shape[${r-i.length}] = ${s}`)}}var bl,X9=I(()=>{"use strict";bl=function(i){return i[i.FIRST_DIM_SIZE=0]="FIRST_DIM_SIZE",i[i.VALUE_ROWIDS=1]="VALUE_ROWIDS",i[i.ROW_LENGTHS=2]="ROW_LENGTHS",i[i.ROW_SPLITS=3]="ROW_SPLITS",i[i.ROW_LIMITS=4]="ROW_LIMITS",i[i.ROW_STARTS=5]="ROW_STARTS",i}(bl||{})});function N_e(i){return i<=iM?i:lp(i,Math.floor(Math.sqrt(i)))}var iM,X2=I(()=>{"use strict";pe();iM=30});function O_e(i,t,e){let n=e*(typeof i=="number"?i:i[0]),r=t*(typeof i=="number"?i:i[1]);return[n,r]}var Y9=I(()=>{"use strict";});function F_e(i,t,e,n=!0){let r=[];if(n)r=r.concat(t.slice(0)),r.push(i[0]/e),r=r.concat(i.slice(1));else{r=r.concat(i[0]);let o=t.length;for(let s=0;s<o;++s)r=r.concat([i[s+1]/t[s],t[s]]);r=r.concat(i.slice(o+1))}return r}function L_e(i,t,e=!0){let n=[];if(e){n.push(t);for(let r=t+1;r<i;++r)r<=2*t?(n.push(r),n.push(r-(t+1))):n.push(r)}else{let r=[],o=[];for(let s=1;s<i;++s)s>=t*2+1||s%2===1?o.push(s):r.push(s);n.push(...r),n.push(0),n.push(...o)}return n}function B_e(i,t,e,n=!0){let r=[];n?r.push(i[0]/e):r.push(i[0]*e);for(let o=1;o<i.length;++o)o<=t.length?n?r.push(t[o-1]*i[o]):r.push(i[o]/t[o-1]):r.push(i[o]);return r}function V_e(i,t){let e=[0];for(let n=0;n<t;++n)e.push(i[n][0]);return e}function U_e(i,t,e){let n=i.slice(0,1);for(let r=0;r<e;++r)n.push(i[r+1]-t[r][0]-t[r][1]);return n}var Z9=I(()=>{"use strict";});var z_e,H_e,K9=I(()=>{"use strict";z_e=1.7580993408473768,H_e=1.0507009873554805});var j_e,$_e,G_e,W_e,q_e,X_e,Q9=I(()=>{"use strict";j_e=.3275911,$_e=.254829592,G_e=-.284496736,W_e=1.421413741,q_e=-1.453152027,X_e=1.061405429});function Y_e(i,t){if(i.length!==t.length)throw new Error(`Cannot merge real and imag arrays of different lengths. real:${i.length}, imag: ${t.length}.`);let e=new Float32Array(i.length*2);for(let n=0;n<e.length;n+=2)e[n]=i[n/2],e[n+1]=t[n/2];return e}function Z_e(i){let t=new Float32Array(i.length/2),e=new Float32Array(i.length/2);for(let n=0;n<i.length;n+=2)t[n/2]=i[n],e[n/2]=i[n+1];return{real:t,imag:e}}function K_e(i){let t=Math.ceil(i.length/4),e=new Float32Array(t),n=new Float32Array(t);for(let r=0;r<i.length;r+=4)e[Math.floor(r/4)]=i[r],n[Math.floor(r/4)]=i[r+1];return{real:e,imag:n}}function Q_e(i){let t=Math.floor(i.length/4),e=new Float32Array(t),n=new Float32Array(t);for(let r=2;r<i.length;r+=4)e[Math.floor(r/4)]=i[r],n[Math.floor(r/4)]=i[r+1];return{real:e,imag:n}}function J_e(i,t){let e=i[t*2],n=i[t*2+1];return{real:e,imag:n}}function ebe(i,t,e,n){i[n*2]=t,i[n*2+1]=e}function tbe(i,t){let e=new Float32Array(i/2),n=new Float32Array(i/2);for(let r=0;r<Math.ceil(i/2);r++){let o=(t?2:-2)*Math.PI*(r/i);e[r]=Math.cos(o),n[r]=Math.sin(o)}return{real:e,imag:n}}function ibe(i,t,e){let n=(e?2:-2)*Math.PI*(i/t),r=Math.cos(n),o=Math.sin(n);return{real:r,imag:o}}var J9=I(()=>{"use strict";});function rbe(i,t){i=i.replace(/\s/g,"");let e=(i.length-i.replace(nbe,"").length)/Y2.length;if(e<1)throw new Error("Equations without an arrow are not supported.");if(e>1)throw new Error(`Equation must contain exactly one arrow ("${Y2}").`);let[n,r]=i.split(Y2);k(n.indexOf(t7)===-1,()=>`The ellipsis notation ("${t7}") is not supported yet.`);let o=n.split(e7),s=o.length;if(t!==s)throw new Error(`Expected ${s} input tensors, received ${t}`);if(s>2)throw new Error("Support for more than 2 input tensors is not implemented yet.");let a=[];for(let h=0;h<r.length;++h){let m=r[h];if(!o.some(p=>p.indexOf(m)!==-1))throw new Error(`Output subscripts contain the label ${m} not present in the input subscripts.`);a.indexOf(m)===-1&&a.push(m)}for(let h=0;h<n.length;++h){let m=n[h];a.indexOf(m)===-1&&m!==e7&&a.push(m)}let c=new Array(o.length);for(let h=0;h<s;++h){if(new Set(o[h].split("")).size!==o[h].length)throw new Error(`Found duplicate axes in input component ${o[h]}. Support for duplicate axes in input is not implemented yet.`);c[h]=[];for(let m=0;m<o[h].length;++m)c[h].push(a.indexOf(o[h][m]))}let l=a.length,d=r.length,u=[];for(let h=d;h<l;++h)u.push(h);return{allDims:a,summedDims:u,idDims:c}}function obe(i,t){let e=new Array(i);e.fill(-1);for(let r=0;r<t.length;++r)e[t[r]]=r;let n=[];for(let r=0;r<i;++r)e[r]===-1&&n.push(r);return e=e.filter(r=>r!==-1),{permutationIndices:e,expandDims:n}}function sbe(i,t,e){let n=new Array(i);for(let r=0;r<e.length;++r){let o=e[r].shape;for(let s=0;s<t[r].length;++s)n[t[r][s]]===void 0?n[t[r][s]]=o[s]:k(n[t[r][s]]===o[s],()=>`Expected dimension ${n[t[r][s]]} at axis ${s} of input shaped ${JSON.stringify(o)}, but got dimension ${o[s]}`)}}function abe(i,t){let e=i,n=[],r=0;i.length===0&&e.push(-1),r=i.length+1;for(let s=0;s<r;++s)n.push([]);let o=[];for(let s=0;s<e.length;++s){let a=e[s],c=lbe(t,a);for(let l of c)o.indexOf(l)===-1&&(n[s].push(l),o.push(l))}return{path:e,steps:n}}function cbe(i){return i.every((t,e)=>t===e)}function lbe(i,t){let e=[];for(let n=0;n<i.length;++n)(i[n].length===0||i[n].indexOf(t)!==-1||t===-1)&&e.push(n);return e}var Y2,nbe,e7,t7,i7=I(()=>{"use strict";ar();Y2="->",nbe=/->/g,e7=",",t7="..."});function dbe(i,t,e=0){let n=[];if(typeof t=="number")k(i.shape[e]%t===0,()=>"Number of splits must evenly divide the axis."),n=new Array(t).fill(i.shape[e]/t);else{let r=t.reduce((s,a)=>(a===-1&&(s+=1),s),0);k(r<=1,()=>"There should be only one negative value in split array.");let o=t.indexOf(-1);if(o!==-1){let s=t.reduce((a,c)=>c>0?a+c:a);t[o]=i.shape[e]-s}k(i.shape[e]===t.reduce((s,a)=>s+a),()=>"The sum of sizes must match the size of the axis dimension."),n=t}return n}var n7=I(()=>{"use strict";pe()});function ube(i){return`Received SparseTensor with denseShape[0] = 0 but
  indices.shape[0] = ${i}`}function hbe(i,t){return`indices(${i}, 0) is invalid: ${t} < 0`}function mbe(i,t,e){return`indices(${i}, 0) is invalid: ${t} >= ${e}`}var r7=I(()=>{"use strict";});function pbe(i,t){return`only one output dimension may be -1, not both ${i} and ${t}`}function fbe(i,t){return`size ${i} must be non-negative, not ${t}`}function gbe(){return"reshape cannot infer the missing input size for an empty tensor unless all specified input sizes are non-zero"}function _be(i,t){let e=oi(i),n=oi(t);return`Input to reshape is a SparseTensor with ${e}
  dense values, but the requested shape requires a multiple of ${n}. inputShape=${i} outputShape= ${t}`}function bbe(i,t){let e=oi(i),n=oi(t);return`Input to reshape is a tensor with ${e} dense values, but the requested shape has ${n}. inputShape=${i} outputShape=${t}`}var o7=I(()=>{"use strict";pe();});function vbe(){return"segment ids must be >= 0"}function ybe(){return"segment ids are not increasing"}function xbe(i,t){return`Segment id ${i} out of range [0, ${t}), possibly because segmentIds input is not sorted.`}function wbe(i,t,e){return`Bad: indices[${i}] == ${t} out of range [0, ${e})`}var s7=I(()=>{"use strict";});var Z2={};Mi(Z2,{collectGatherOpShapeInfo:()=>Sbe,computeOutShape:()=>Cbe,segOpComputeOptimalWindowSize:()=>Mbe});function Mbe(i,t){let e=!1,n;for(i<=iM?(n=i,e=!0):n=lp(i,Math.floor(Math.sqrt(i)));!e;)n>t||n===i?e=!0:n=lp(i,n+1);return n}function Cbe(i,t,e){let n=[],r=i.length;for(let o=0;o<r;o++)o!==t?n.push(i[o]):n.push(e);return n}function Sbe(i,t,e,n){let r=t.shape.length,o=i.shape.length;if(n!==0&&(n<-r||n>r))throw new Error(`Expect batchDims in the range of [-${r}, ${r}], but got ${n}`);if(n<0&&(n+=r),n>o)throw new Error(`batchDims (${n}) must be less than rank(x) (
    ${o}).`);if(e<n)throw new Error(`batchDims (${n}) must be less than or equal to axis (${e}).`);for(let u=0;u<n;++u)if(i.shape[u]!==t.shape[u])throw new Error(`x.shape[${u}]: ${i.shape[u]} should be equal to indices.shape[${u}]: ${t.shape[u]}.`);let s=i.shape[e],a=[],c=1,l=1,d=1;for(let u=0;u<n;++u)a.push(i.shape[u]),c*=i.shape[u];for(let u=n;u<e;u++)a.push(i.shape[u]),l*=i.shape[u];for(let u=n;u<r;u++)a.push(t.shape[u]);for(let u=e+1;u<o;u++)a.push(i.shape[u]),d*=i.shape[u];return{batchSize:c,sliceSize:d,outerSize:l,dimSize:s,outputShape:a}}var a7=I(()=>{"use strict";pe();X2();});var K2={};Mi(K2,{ERF_A1:()=>$_e,ERF_A2:()=>G_e,ERF_A3:()=>W_e,ERF_A4:()=>q_e,ERF_A5:()=>X_e,ERF_P:()=>j_e,PARALLELIZE_THRESHOLD:()=>iM,RowPartitionType:()=>bl,SELU_SCALE:()=>H_e,SELU_SCALEALPHA:()=>z_e,applyActivation:()=>bh,assertAndGetBroadcastShape:()=>Ii,assertAxesAreInnerMostDims:()=>gme,assertParamsConsistent:()=>I_e,assignToTypedArray:()=>ebe,axesAreInnerMostDims:()=>RN,calculateShapes:()=>q6,checkEinsumDimSizes:()=>sbe,checkPadOnDimRoundingMode:()=>Ln,combineLocations:()=>v$,combineRaggedTensorToTensorShapes:()=>k_e,complexWithEvenIndex:()=>K_e,complexWithOddIndex:()=>Q_e,computeConv2DInfo:()=>nh,computeConv3DInfo:()=>L8,computeDefaultPad:()=>XR,computeDilation2DInfo:()=>phe,computeOptimalWindowSize:()=>N_e,computeOutAndReduceShapes:()=>fme,computeOutShape:()=>D_e,computePool2DInfo:()=>qR,computePool3DInfo:()=>fhe,convertConv2DDataFormat:()=>B8,decodeEinsumEquation:()=>rbe,eitherStridesOrDilationsAreOne:()=>jr,expandShapeToKeepDim:()=>ll,exponent:()=>ibe,exponents:()=>tbe,fromStringArrayToUint8:()=>Tbe,fromUint8ToStringArray:()=>Ebe,getAxesPermutation:()=>_me,getBroadcastDims:()=>p$,getComplexWithIndex:()=>J_e,getEinsumComputePath:()=>abe,getEinsumPermutation:()=>obe,getFusedBiasGradient:()=>_h,getFusedDyActivation:()=>gh,getImageCenter:()=>O_e,getInnerMostAxes:()=>vme,getPermuted:()=>L_e,getRaggedRank:()=>P_e,getReductionAxes:()=>uw,getReshaped:()=>F_e,getReshapedPermuted:()=>B_e,getRowPartitionTypesHelper:()=>A_e,getSliceBeginCoords:()=>V_e,getSliceSize:()=>U_e,getSparseFillEmptyRowsIndicesDenseShapeMismatch:()=>ube,getSparseFillEmptyRowsNegativeIndexErrorMessage:()=>hbe,getSparseFillEmptyRowsOutOfRangeIndexErrorMessage:()=>mbe,getSparseReshapeEmptyTensorZeroOutputDimErrorMessage:()=>gbe,getSparseReshapeInputOutputMismatchErrorMessage:()=>bbe,getSparseReshapeInputOutputMultipleErrorMessage:()=>_be,getSparseReshapeMultipleNegativeOneOutputDimErrorMessage:()=>pbe,getSparseReshapeNegativeOutputDimErrorMessage:()=>fbe,getSparseSegmentReductionIndicesOutOfRangeErrorMessage:()=>wbe,getSparseSegmentReductionNegativeSegmentIdsErrorMessage:()=>vbe,getSparseSegmentReductionNonIncreasingSegmentIdsErrorMessage:()=>ybe,getSparseSegmentReductionSegmentIdOutOfRangeErrorMessage:()=>xbe,getUndoAxesPermutation:()=>bme,isIdentityPermutation:()=>cbe,log:()=>zde,mergeRealAndImagArrays:()=>Y_e,prepareAndValidate:()=>A9,prepareSplitSize:()=>dbe,segment_util:()=>Z2,shouldFuse:()=>vh,slice_util:()=>bb,splitRealAndImagArrays:()=>Z_e,stridesOrDilationsArePositive:()=>ic,tupleValuesAreOne:()=>ih,upcastType:()=>Yu,validateDefaultValueShape:()=>R_e,validateInput:()=>Lp,validateUpdateShape:()=>_2,warn:()=>Ja});function Ebe(i){try{return i.map(t=>gp(t))}catch(t){throw new Error(`Failed to decode encoded string bytes into utf-8, error: ${t}`)}}function Tbe(i){return i.map(t=>ud(t))}var c7=I(()=>{"use strict";pe();Dp();dr();W9();Ao();Vp();q9();X9();X2();W2();bp();Y9();Z9();$2();db();K9();Vp();Q9();$x();J9();i7();n7();r7();o7();s7();a7();});var Q2={};Mi(Q2,{nonMaxSuppressionV3Impl:()=>Hw,nonMaxSuppressionV4Impl:()=>jw,nonMaxSuppressionV5Impl:()=>$w,whereImpl:()=>Fw});var l7=I(()=>{"use strict";mb();S2();});var d7=I(()=>{"use strict";M9();E9();dr();k9();$2();db();W2();Ww();_n();x6();pe();H9();qw();Xw();Yw();Zw();Kw();Cd();q2();Qw();gb();ms();bp();pb();va();j9();Wo();Wx();ml();yr();G9();c7();gR();l7();ik();ee();});var J2={};Mi(J2,{Abs:()=>uk,Acos:()=>hk,Acosh:()=>mk,AdadeltaOptimizer:()=>Sd,AdagradOptimizer:()=>Ed,AdamOptimizer:()=>Td,AdamaxOptimizer:()=>Id,Add:()=>r_,AddN:()=>pk,All:()=>fk,Any:()=>gk,ArgMax:()=>_k,ArgMin:()=>bk,Asin:()=>vk,Asinh:()=>yk,Atan:()=>xk,Atan2:()=>Mk,Atanh:()=>wk,AvgPool:()=>Ck,AvgPool3D:()=>Sk,AvgPool3DGrad:()=>Mde,AvgPoolGrad:()=>wde,BatchMatMul:()=>Ek,BatchToSpaceND:()=>Tk,Bincount:()=>Ik,BitwiseAnd:()=>Dk,BroadcastArgs:()=>kk,BroadcastTo:()=>Cde,Cast:()=>o_,Ceil:()=>Ak,ClipByValue:()=>Pk,Complex:()=>Rk,ComplexAbs:()=>Nk,Concat:()=>Ok,Conv2D:()=>Fk,Conv2DBackpropFilter:()=>Lk,Conv2DBackpropInput:()=>Bk,Conv3D:()=>Vk,Conv3DBackpropFilterV2:()=>Sde,Conv3DBackpropInputV2:()=>Uk,Cos:()=>zk,Cosh:()=>Hk,CropAndResize:()=>Gk,Cumprod:()=>jk,Cumsum:()=>$k,DataStorage:()=>Nx,DenseBincount:()=>Wk,DepthToSpace:()=>qk,DepthwiseConv2dNative:()=>Xk,DepthwiseConv2dNativeBackpropFilter:()=>Yk,DepthwiseConv2dNativeBackpropInput:()=>Zk,Diag:()=>Kk,Dilation2D:()=>Qk,Dilation2DBackpropFilter:()=>Tde,Dilation2DBackpropInput:()=>Ede,Draw:()=>Vx,ENV:()=>Lx,Einsum:()=>eA,Elu:()=>tA,EluGrad:()=>Ide,Environment:()=>up,Equal:()=>nA,Erf:()=>iA,Exp:()=>rA,ExpandDims:()=>oA,Expm1:()=>sA,FFT:()=>aA,Fill:()=>cA,FlipLeftRight:()=>lA,Floor:()=>dA,FloorDiv:()=>uA,FromPixels:()=>Ux,FusedBatchNorm:()=>hA,FusedConv2D:()=>Hx,FusedDepthwiseConv2D:()=>jx,GatherNd:()=>pA,GatherV2:()=>mA,Greater:()=>fA,GreaterEqual:()=>gA,IFFT:()=>_A,Identity:()=>s_,Imag:()=>bA,IsFinite:()=>vA,IsInf:()=>yA,IsNan:()=>xA,KernelBackend:()=>sp,LRN:()=>AA,LRNGrad:()=>Pde,LeakyRelu:()=>wA,Less:()=>MA,LessEqual:()=>CA,LinSpace:()=>SA,Log:()=>EA,Log1p:()=>TA,LogSoftmax:()=>kde,LogicalAnd:()=>IA,LogicalNot:()=>DA,LogicalOr:()=>kA,LogicalXor:()=>Dde,LowerBound:()=>Ade,MatrixBandPart:()=>Rde,Max:()=>PA,MaxPool:()=>NA,MaxPool3D:()=>OA,MaxPool3DGrad:()=>Ode,MaxPoolGrad:()=>Nde,MaxPoolWithArgmax:()=>FA,Maximum:()=>RA,Mean:()=>LA,Min:()=>BA,Minimum:()=>VA,MirrorPad:()=>UA,Mod:()=>zA,MomentumOptimizer:()=>Dd,Multinomial:()=>HA,Multiply:()=>jA,Neg:()=>$A,NonMaxSuppressionV3:()=>WA,NonMaxSuppressionV4:()=>qA,NonMaxSuppressionV5:()=>XA,NotEqual:()=>GA,OP_SCOPE_SUFFIX:()=>iw,OneHot:()=>ZA,OnesLike:()=>YA,Optimizer:()=>qr,OptimizerConstructors:()=>Up,Pack:()=>KA,PadV2:()=>QA,Pool:()=>Fde,Pow:()=>JA,Prelu:()=>eP,Prod:()=>tP,RMSPropOptimizer:()=>kd,RaggedGather:()=>iP,RaggedRange:()=>nP,RaggedTensorToTensor:()=>rP,Range:()=>oP,Rank:()=>lR,Real:()=>sP,RealDiv:()=>Jk,Reciprocal:()=>aP,Reduction:()=>kn,Relu:()=>cP,Relu6:()=>hP,Reshape:()=>lP,ResizeBilinear:()=>uP,ResizeBilinearGrad:()=>Bde,ResizeNearestNeighbor:()=>dP,ResizeNearestNeighborGrad:()=>Lde,Reverse:()=>mP,RotateWithOffset:()=>JP,Round:()=>pP,Rsqrt:()=>fP,SGDOptimizer:()=>lc,ScatterNd:()=>gP,SearchSorted:()=>bP,Select:()=>vP,Selu:()=>yP,Sigmoid:()=>SP,Sign:()=>CP,Sin:()=>wP,Sinh:()=>MP,Slice:()=>xP,Softmax:()=>AP,Softplus:()=>EP,SpaceToBatchND:()=>DP,SparseFillEmptyRows:()=>PP,SparseReshape:()=>RP,SparseSegmentMean:()=>NP,SparseSegmentSum:()=>OP,SparseToDense:()=>FP,SplitV:()=>kP,Sqrt:()=>TP,Square:()=>Vde,SquaredDifference:()=>LP,StaticRegexReplace:()=>BP,Step:()=>QP,StridedSlice:()=>VP,StringNGrams:()=>UP,StringSplit:()=>zP,StringToHashBucketFast:()=>HP,Sub:()=>jP,Sum:()=>IP,Tan:()=>$P,Tanh:()=>GP,Tensor:()=>Oi,TensorBuffer:()=>Qc,TensorScatterUpdate:()=>_P,Tile:()=>a_,TopK:()=>WP,Transform:()=>qP,Transpose:()=>c_,Unique:()=>XP,Unpack:()=>YP,UnsortedSegmentSum:()=>ZP,UpperBound:()=>Ude,Variable:()=>ec,ZerosLike:()=>KP,_FusedMatMul:()=>zx,abs:()=>lr,acos:()=>NR,acosh:()=>OR,add:()=>st,addN:()=>FR,all:()=>LR,any:()=>BR,argMax:()=>VR,argMin:()=>UR,asin:()=>zR,asinh:()=>HR,atan:()=>jR,atan2:()=>$R,atanh:()=>GR,avgPool:()=>w_,avgPool3d:()=>ZR,backend:()=>vR,backend_util:()=>K2,basicLSTMCell:()=>QR,batchNorm:()=>ol,batchNorm2d:()=>eN,batchNorm3d:()=>tN,batchNorm4d:()=>iN,batchToSpaceND:()=>C_,bincount:()=>E_,bitwiseAnd:()=>rN,booleanMaskAsync:()=>tG,broadcastArgs:()=>oN,broadcastTo:()=>rh,broadcast_util:()=>sh,browser:()=>H2,buffer:()=>Nr,cast:()=>si,ceil:()=>aN,clipByValue:()=>cN,clone:()=>Do,complex:()=>no,concat:()=>sn,concat1d:()=>lN,concat2d:()=>dN,concat3d:()=>uN,concat4d:()=>hN,conv1d:()=>mN,conv2d:()=>sl,conv2dTranspose:()=>fN,conv3d:()=>gN,conv3dTranspose:()=>_N,copyRegisteredKernels:()=>Gde,cos:()=>bN,cosh:()=>vN,cosineWindow:()=>Bp,cumprod:()=>yN,cumsum:()=>xN,customGrad:()=>Gr,denseBincount:()=>wN,deprecationWarn:()=>Zj,depthToSpace:()=>MN,depthwiseConv2d:()=>oh,device_util:()=>tw,diag:()=>CN,dilation2d:()=>SN,disableDeprecationWarnings:()=>_ue,dispose:()=>Dn,disposeVariables:()=>bue,div:()=>fi,divNoNan:()=>TN,dot:()=>IN,dropout:()=>fG,einsum:()=>cl,elu:()=>D_,enableDebugMode:()=>gue,enableProdMode:()=>fue,enclosingPowerOfTwo:()=>Bw,engine:()=>vue,ensureShape:()=>AN,env:()=>ot,equal:()=>I_,erf:()=>PN,euclideanNorm:()=>ON,exp:()=>ps,expandDims:()=>Us,expm1:()=>FN,eye:()=>R_,fft:()=>hh,fill:()=>ma,findBackend:()=>Eue,findBackendFactory:()=>Tue,floor:()=>N_,floorDiv:()=>v_,fused:()=>Vw,gather:()=>O_,gatherND:()=>uG,gather_util:()=>j2,getBackend:()=>bR,getGradient:()=>Gx,getKernel:()=>ju,getKernelsForBackend:()=>d_,grad:()=>I$,grads:()=>D$,greater:()=>bd,greaterEqual:()=>F_,ifft:()=>wd,imag:()=>hl,image:()=>i9,inTopKAsync:()=>_G,io:()=>dc,irfft:()=>nb,isFinite:()=>zN,isInf:()=>HN,isNaN:()=>jN,keep:()=>oo,kernel_impls:()=>Q2,leakyRelu:()=>B_,less:()=>Rp,lessEqual:()=>ah,linalg:()=>n9,linspace:()=>WN,localResponseNormalization:()=>qN,log:()=>oc,log1p:()=>U_,logSigmoid:()=>ZN,logSoftmax:()=>KN,logSumExp:()=>H_,logicalAnd:()=>vd,logicalNot:()=>j_,logicalOr:()=>$_,logicalXor:()=>tO,losses:()=>r9,lowerBound:()=>iO,matMul:()=>yi,math:()=>z2,max:()=>pa,maxPool:()=>G_,maxPool3d:()=>rO,maxPoolWithArgmax:()=>oO,maximum:()=>W_,mean:()=>yd,memory:()=>yue,meshgrid:()=>aO,min:()=>kp,minimum:()=>xd,mirrorPad:()=>cO,mod:()=>lO,moments:()=>dO,movingAverage:()=>nG,mul:()=>Ie,multiRNNCell:()=>uO,multinomial:()=>hO,neg:()=>wr,nextFrame:()=>$9,norm:()=>_d,notEqual:()=>X_,oneHot:()=>Op,ones:()=>_a,onesLike:()=>fO,op:()=>w,outerProduct:()=>gO,pad:()=>ba,pad1d:()=>_O,pad2d:()=>bO,pad3d:()=>vO,pad4d:()=>yO,pool:()=>wO,pow:()=>rc,prelu:()=>Z_,print:()=>b_,prod:()=>CO,profile:()=>xue,raggedGather:()=>SO,raggedRange:()=>EO,raggedTensorToTensor:()=>TO,rand:()=>IO,randomGamma:()=>VO,randomNormal:()=>Q_,randomStandardNormal:()=>zO,randomUniform:()=>dh,randomUniformInt:()=>HO,range:()=>fl,ready:()=>Cue,real:()=>sc,reciprocal:()=>jO,registerBackend:()=>Iue,registerGradient:()=>Hde,registerKernel:()=>fj,relu:()=>gl,relu6:()=>tb,removeBackend:()=>Sue,reshape:()=>re,reverse:()=>Xo,reverse1d:()=>GO,reverse2d:()=>WO,reverse3d:()=>qO,reverse4d:()=>XO,rfft:()=>mh,round:()=>ib,rsqrt:()=>ZO,scalar:()=>Mt,scatterND:()=>oG,scatter_util:()=>lb,searchSorted:()=>Np,selu:()=>KO,separableConv2d:()=>QO,serialization:()=>P2,setBackend:()=>Mue,setPlatform:()=>Due,setdiff1dAsync:()=>JO,sigmoid:()=>ha,sign:()=>e2,signal:()=>t9,sin:()=>t2,sinh:()=>i2,slice:()=>gi,slice1d:()=>n2,slice2d:()=>r2,slice3d:()=>o2,slice4d:()=>s2,slice_util:()=>bb,softmax:()=>a2,softplus:()=>z_,spaceToBatchND:()=>Y_,sparse:()=>o9,sparseToDense:()=>lG,spectral:()=>e9,split:()=>ac,sqrt:()=>so,square:()=>ur,squaredDifference:()=>ob,squeeze:()=>ph,stack:()=>Wr,step:()=>ab,stridedSlice:()=>u2,string:()=>s9,sub:()=>yt,sum:()=>Di,sumOutType:()=>Wj,tan:()=>h2,tanh:()=>Ep,tensor:()=>Hr,tensor1d:()=>mr,tensor2d:()=>_l,tensor3d:()=>cb,tensor4d:()=>p2,tensor5d:()=>f2,tensor6d:()=>g2,tensorScatterUpdate:()=>b2,tensor_util:()=>uR,test_util:()=>BO,tidy:()=>Qt,tile:()=>ul,time:()=>wue,topk:()=>v2,train:()=>E_e,transpose:()=>fh,truncatedNormal:()=>y2,unique:()=>x2,unregisterGradient:()=>$de,unregisterKernel:()=>jde,unsortedSegmentSum:()=>w2,unstack:()=>Yo,upcastType:()=>Yu,upperBound:()=>M2,util:()=>ke,valueAndGrad:()=>k$,valueAndGrads:()=>A$,variable:()=>C2,variableGrads:()=>gw,version_core:()=>z9,where:()=>qo,whereAsync:()=>ub,zeros:()=>ga,zerosLike:()=>qn});var Zo=I(()=>{"use strict";C8();c9();d7();a9()});var Ibe,u7=I(()=>{"use strict";Zo();Ibe=ot();Ibe.registerFlag("KEEP_INTERMEDIATE_TENSORS",()=>!1,i=>{i&&console.warn("Keep intermediate tensors is ON. This will print the values of all intermediate tensors during model inference. Not all models support this mode. For details, check e2e/benchmarks/ model_config.js. This significantly impacts performance.")})});var Ko,h7,m7=I(()=>{"use strict";Ko=function(i){return i[i.DT_INVALID=0]="DT_INVALID",i[i.DT_FLOAT=1]="DT_FLOAT",i[i.DT_DOUBLE=2]="DT_DOUBLE",i[i.DT_INT32=3]="DT_INT32",i[i.DT_UINT8=4]="DT_UINT8",i[i.DT_INT16=5]="DT_INT16",i[i.DT_INT8=6]="DT_INT8",i[i.DT_STRING=7]="DT_STRING",i[i.DT_COMPLEX64=8]="DT_COMPLEX64",i[i.DT_INT64=9]="DT_INT64",i[i.DT_BOOL=10]="DT_BOOL",i[i.DT_QINT8=11]="DT_QINT8",i[i.DT_QUINT8=12]="DT_QUINT8",i[i.DT_QINT32=13]="DT_QINT32",i[i.DT_BFLOAT16=14]="DT_BFLOAT16",i[i.DT_QINT16=15]="DT_QINT16",i[i.DT_QUINT16=16]="DT_QUINT16",i[i.DT_UINT16=17]="DT_UINT16",i[i.DT_COMPLEX128=18]="DT_COMPLEX128",i[i.DT_HALF=19]="DT_HALF",i[i.DT_RESOURCE=20]="DT_RESOURCE",i[i.DT_VARIANT=21]="DT_VARIANT",i[i.DT_UINT32=22]="DT_UINT32",i[i.DT_UINT64=23]="DT_UINT64",i[i.DT_FLOAT_REF=101]="DT_FLOAT_REF",i[i.DT_DOUBLE_REF=102]="DT_DOUBLE_REF",i[i.DT_INT32_REF=103]="DT_INT32_REF",i[i.DT_UINT8_REF=104]="DT_UINT8_REF",i[i.DT_INT16_REF=105]="DT_INT16_REF",i[i.DT_INT8_REF=106]="DT_INT8_REF",i[i.DT_STRING_REF=107]="DT_STRING_REF",i[i.DT_COMPLEX64_REF=108]="DT_COMPLEX64_REF",i[i.DT_INT64_REF=109]="DT_INT64_REF",i[i.DT_BOOL_REF=110]="DT_BOOL_REF",i[i.DT_QINT8_REF=111]="DT_QINT8_REF",i[i.DT_QUINT8_REF=112]="DT_QUINT8_REF",i[i.DT_QINT32_REF=113]="DT_QINT32_REF",i[i.DT_BFLOAT16_REF=114]="DT_BFLOAT16_REF",i[i.DT_QINT16_REF=115]="DT_QINT16_REF",i[i.DT_QUINT16_REF=116]="DT_QUINT16_REF",i[i.DT_UINT16_REF=117]="DT_UINT16_REF",i[i.DT_COMPLEX128_REF=118]="DT_COMPLEX128_REF",i[i.DT_HALF_REF=119]="DT_HALF_REF",i[i.DT_RESOURCE_REF=120]="DT_RESOURCE_REF",i[i.DT_VARIANT_REF=121]="DT_VARIANT_REF",i[i.DT_UINT32_REF=122]="DT_UINT32_REF",i[i.DT_UINT64_REF=123]="DT_UINT64_REF",i}(Ko||{});(function(i){let t;(function(e){e[e.LEGACY=0]="LEGACY",e[e.V1=1]="V1",e[e.V2=2]="V2"})(t=i.CheckpointFormatVersion||(i.CheckpointFormatVersion={}))})(h7||(h7={}))});function p7(i,t){let e={tfOpName:i,category:"custom",inputs:[],attrs:[],customExecutor:t};eF[i]=e}function nM(i){return eF[i]}function f7(i){delete eF[i]}var eF,rM=I(()=>{"use strict";eF={}});function b(i,t,e,n,r){let o=t.inputParams[i];if(o&&o.inputIndexStart!==void 0){let a=o.inputIndexStart,c=o.inputIndexEnd===0?void 0:o.inputIndexEnd===void 0?a+1:o.inputIndexEnd,l=a<0?t.inputNames.length+a:a;if(o.type==="tensor")return Bn(t.inputNames[l],e,n,r);if(o.type==="tensors"){let h=t.inputs.slice(a,c);return t.inputNames.slice(a,c).filter((p,_)=>{var f;return((f=h[_])===null||f===void 0?void 0:f.op)!=="NoOp"}).map(p=>Bn(p,e,n,r))}let d=Bn(t.inputNames[l],e,n,r),u=d.dataSync();return o.type==="number"?u[0]:ke.toNestedArray(d.shape,u)}let s=t.attrParams[i];return s&&s.value}function Bn(i,t,e,n){let[r,o]=ao(i,e);if(n!=null){let a=n.getHashTableHandleByName(r);if(a!=null)return a}let s=e.currentContextIds.find(a=>!!t[oM(r,a)]);return s!==void 0?t[oM(r,s)][o]:void 0}function tF(i,t,e){return t[oM(i,e.currentContextId)]}function ya(i,t){let[e,n,r]=ao(i,t);return[oM(e,t&&t.currentContextId),n,r]}function oM(i,t){return t?`${i}-${t}`:i}function ao(i,t){if(i==="")return["",0,void 0];let e=t!=null&&t.parseNodeNameCache!=null;if(e){let o=t.parseNodeNameCache.get(i);if(o!=null)return o}let n=i.split(":"),r;if(n.length===1)r=[i,0,void 0];else{let o=n[0],s=n.length===3?n[1]:void 0,a=Number(n[n.length-1]);r=[o,a,s]}return e&&t.parseNodeNameCache.set(i,r),r}function vb(i,t,e){let n=b("pad",i,t,e);if(n==="explicit"){n=b("explicitPaddings",i,t,e);let r=[[0,0],[0,0],[0,0],[0,0]];for(let o=0;o<4;o++)r[o][0]=n[o*2],r[o][1]=n[o*2+1];return r}return n}function xa(i){return i.kept?i:Do(i)}var An=I(()=>{"use strict";Zo();});var iF={};Mi(iF,{json:()=>kbe});var kbe,g7=I(()=>{"use strict";kbe=[{tfOpName:"Add",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"AddV2",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"AddN",category:"arithmetic",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}]},{tfOpName:"BiasAdd",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"Sub",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"RealDiv",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Div",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"DivNoNan",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"FloorDiv",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Mul",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Maximum",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Minimum",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Pow",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"SquaredDifference",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Mod",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"FloorMod",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}]});var nF={};Mi(nF,{json:()=>Abe});var Abe,_7=I(()=>{"use strict";Abe=[{tfOpName:"Abs",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Acos",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Asin",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Atan",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Atan2",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"y",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Ceil",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ClipByValue",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"clipValueMin",type:"number"},{start:2,name:"clipValueMax",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Complex",category:"basic_math",inputs:[{start:0,name:"real",type:"tensor"},{start:1,name:"imag",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ComplexAbs",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Cos",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Cosh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Elu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Exp",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Floor",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Log",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Imag",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"Tout",name:"outputType",type:"dtype",notSupported:!0}]},{tfOpName:"Neg",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Real",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"Tout",name:"outputType",type:"dtype",notSupported:!0}]},{tfOpName:"Prelu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"alpha",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Relu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Relu6",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Selu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sigmoid",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sin",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sinh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sqrt",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Rsqrt",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Square",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Tan",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Tanh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sign",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Round",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Expm1",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Log1p",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Reciprocal",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Softplus",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Asinh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Acosh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Atanh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Erf",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LeakyRelu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"alpha",name:"alpha",type:"number",defaultValue:.2},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"IsNan",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"IsFinite",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"IsInf",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}]});var rF={};Mi(rF,{json:()=>Pbe});var Pbe,b7=I(()=>{"use strict";Pbe=[{tfOpName:"EmptyTensorList",category:"control",inputs:[{start:0,name:"elementShape",type:"shape"},{start:1,name:"maxNumElements",type:"number"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"LoopCond",category:"control",inputs:[{start:0,name:"pred",type:"tensor"}]},{tfOpName:"Switch",category:"control",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"pred",type:"tensor"}]},{tfOpName:"Merge",category:"control",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}]},{tfOpName:"Enter",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"frame_name",name:"frameName",type:"string"},{tfName:"is_constant",name:"isConstant",type:"bool"}]},{tfOpName:"Exit",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"NextIteration",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayV3",category:"control",inputs:[{start:0,name:"size",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"element_shape",name:"elementShape",type:"shape"},{tfName:"dynamic_size",name:"dynamicSize",type:"bool"},{tfName:"clear_after_read",name:"clearAfterRead",type:"bool"},{tfName:"identical_element_shapes",name:"identicalElementShapes",type:"bool"},{tfName:"tensor_array_name",name:"name",type:"string"}]},{tfOpName:"TensorArrayWriteV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"tensor",type:"tensor"},{start:3,name:"flowIn",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayReadV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"flowIn",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayGatherV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"flowIn",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"element_shape",name:"elementShape",type:"shape"}]},{tfOpName:"TensorArrayScatterV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"tensor",type:"tensor"},{start:3,name:"flowIn",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"TensorArrayConcatV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"flowIn",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"element_shape_except0",name:"elementShapeExcept0",type:"shape",notSupported:!0}]},{tfOpName:"TensorArraySplitV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"tensor",type:"tensor"},{start:2,name:"lengths",type:"number[]"},{start:3,name:"flowIn",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"TensorArraySizeV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"flowIn",type:"number"}]},{tfOpName:"TensorArrayCloseV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"}]},{tfOpName:"StatelessIf",category:"control",inputs:[{start:0,name:"cond",type:"tensor"},{start:1,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"then_branch",name:"thenBranch",type:"func"},{tfName:"else_branch",name:"elseBranch",type:"func"}]},{tfOpName:"If",category:"control",inputs:[{start:0,name:"cond",type:"tensor"},{start:1,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"then_branch",name:"thenBranch",type:"func"},{tfName:"else_branch",name:"elseBranch",type:"func"}]},{tfOpName:"StatelessWhile",category:"control",inputs:[{start:0,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"cond",name:"cond",type:"func"},{tfName:"body",name:"body",type:"func"}]},{tfOpName:"While",category:"control",inputs:[{start:0,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"cond",name:"cond",type:"func"},{tfName:"body",name:"body",type:"func"}]},{tfOpName:"TensorListScatter",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListScatterV2",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"elementShape",type:"shape"},{start:3,name:"numElements",type:"number"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListGather",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListGetItem",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListSetItem",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"tensor",type:"tensor"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListReserve",category:"control",inputs:[{start:0,name:"elementShape",type:"shape"},{start:1,name:"numElements",type:"number"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListFromTensor",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListStack",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"},{tfName:"num_elements",name:"numElements",type:"dtype"}]},{tfOpName:"TensorListSplit",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"elementShape",type:"shape"},{start:2,name:"lengths",type:"number[]"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListConcat",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"}],attrs:[{tfName:"element_shape",name:"elementShape",type:"shape"},{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListConcatV2",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"}],attrs:[{tfName:"element_shape",name:"elementShape",type:"shape"},{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListPopBack",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListPushBack",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"tensor",type:"tensor"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListLength",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"}]},{tfOpName:"TensorListResize",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"size",type:"number"}]}]});var oF={};Mi(oF,{json:()=>Rbe});var Rbe,v7=I(()=>{"use strict";Rbe=[{tfOpName:"AvgPool",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MaxPool",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[],notSupported:!0},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MaxPoolWithArgmax",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"include_batch_in_index",name:"includeBatchInIndex",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"AvgPool3D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MaxPool3D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Conv1D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"stride",name:"stride",type:"number"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NWC"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"dilation",name:"dilation",type:"number",defaultValue:1}]},{tfOpName:"Conv2D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"useCudnnOnGpu",name:"useCudnnOnGpu",type:"bool"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"_FusedConv2D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"},{start:2,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"num_args",name:"numArgs",type:"number"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"use_cudnn_on_gpu",name:"useCudnnOnGpu",type:"bool",defaultValue:!0},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]",defaultValue:[1,1,1,1]},{tfName:"fused_ops",name:"fusedOps",type:"string[]",defaultValue:[]},{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:1e-4},{tfName:"leakyrelu_alpha",name:"leakyreluAlpha",type:"number",defaultValue:.2}]},{tfOpName:"Conv2DBackpropInput",category:"convolution",inputs:[{start:2,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"},{start:0,name:"outputShape",type:"number[]"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]",notSupported:!0}]},{tfOpName:"DepthwiseConv2d",category:"convolution",inputs:[{start:0,name:"input",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"DepthwiseConv2dNative",category:"convolution",inputs:[{start:0,name:"input",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"FusedDepthwiseConv2dNative",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"},{start:2,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"num_args",name:"numArgs",type:"number"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]",defaultValue:[1,1,1,1]},{tfName:"fused_ops",name:"fusedOps",type:"string[]",defaultValue:[]},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]}]},{tfOpName:"Conv3D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"Dilation2D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"rates",name:"dilations",type:"number[]"},{tfName:"padding",name:"pad",type:"string"}]}]});var sF={};Mi(sF,{json:()=>Nbe});var Nbe,y7=I(()=>{"use strict";Nbe=[{tfOpName:"Fill",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"},{start:1,name:"value",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"LinSpace",category:"creation",inputs:[{start:0,name:"start",type:"number"},{start:1,name:"stop",type:"number"},{start:2,name:"num",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"OneHot",category:"creation",inputs:[{start:0,name:"indices",type:"tensor"},{start:1,name:"depth",type:"number"},{start:2,name:"onValue",type:"number",defaultValue:1},{start:3,name:"offValue",type:"number",defaultValue:0}],attrs:[{tfName:"axis",name:"axis",type:"number",notSupported:!0},{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"Ones",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"OnesLike",category:"creation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"}]},{tfOpName:"RandomStandardNormal",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"seed",name:"seed",type:"number",defaultValue:0},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0},{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"T",name:"T",type:"number",notSupported:!0}]},{tfOpName:"RandomUniform",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"minval",name:"minval",type:"number",defaultValue:0},{tfName:"maxval",name:"maxval",type:"number",defaultValue:1},{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"seed",name:"seed",type:"number",defaultValue:0},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0},{tfName:"T",name:"T",type:"number",notSupported:!0}]},{tfOpName:"RandomUniformInt",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"minval",name:"minval",type:"number"},{tfName:"maxval",name:"maxval",type:"number"},{tfName:"seed",name:"seed",type:"number",defaultValue:0},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0}]},{tfOpName:"Range",category:"creation",inputs:[{start:0,name:"start",type:"number"},{start:1,name:"stop",type:"number"},{start:2,name:"step",type:"number",defaultValue:0}],attrs:[{tfName:"Tidx",name:"dtype",type:"dtype"}]},{tfOpName:"TruncatedNormal",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"means",name:"mean",type:"number",defaultValue:0},{tfName:"stddev",name:"stdDev",type:"number",defaultValue:1},{tfName:"seed",name:"seed",type:"number"},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0},{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"T",name:"T",type:"number",notSupported:!0}]},{tfOpName:"Zeros",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"ZerosLike",category:"creation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"Multinomial",category:"creation",inputs:[{start:0,name:"logits",type:"tensor"},{start:1,name:"numSamples",type:"number"}],attrs:[{tfName:"seed",name:"seed",type:"number"},{tfName:"seed2",name:"seed2",type:"number"},{tfName:"T",name:"dtype",type:"dtype"},{tfName:"output_dtype",name:"output_dtype",type:"dtype"}]}]});var aF={};Mi(aF,{json:()=>Obe});var Obe,x7=I(()=>{"use strict";Obe=[{tfOpName:"NonMaxSuppressionV2",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"}]},{tfOpName:"NonMaxSuppressionV3",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"},{start:4,name:"scoreThreshold",type:"number"}]},{tfOpName:"NonMaxSuppressionV4",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"},{start:4,name:"scoreThreshold",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"T_threshold",name:"threshold",type:"dtype",notSupported:!0},{tfName:"pad_to_max_output_size",name:"padToMaxOutputSize",type:"bool"}]},{tfOpName:"NonMaxSuppressionV5",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"},{start:4,name:"scoreThreshold",type:"number"},{start:5,name:"softNmsSigma",type:"number"}]},{tfOpName:"Where",category:"dynamic",inputs:[{start:0,name:"condition",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ListDiff",category:"dynamic",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"y",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}]});var cF={};Mi(cF,{json:()=>Fbe});var Fbe,w7=I(()=>{"use strict";Fbe=[{tfOpName:"LowerBound",category:"evaluation",inputs:[{start:0,name:"sortedSequence",type:"tensor"},{start:1,name:"values",type:"tensor"}]},{tfOpName:"TopKV2",category:"evaluation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"k",type:"number"}],attrs:[{tfName:"sorted",name:"sorted",type:"bool"}]},{tfOpName:"UpperBound",category:"evaluation",inputs:[{start:0,name:"sortedSequence",type:"tensor"},{start:1,name:"values",type:"tensor"}]},{tfOpName:"Unique",category:"evaluation",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"UniqueV2",category:"evaluation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]}]});var lF={};Mi(lF,{json:()=>Lbe});var Lbe,M7=I(()=>{"use strict";Lbe=[{tfOpName:"PlaceholderWithDefault",category:"graph",inputs:[{start:0,name:"default",type:"tensor"}],attrs:[{tfName:"shape",name:"shape",type:"shape"},{tfName:"dtype",name:"dtype",type:"dtype"}]},{tfOpName:"Placeholder",category:"graph",attrs:[{tfName:"shape",name:"shape",type:"shape"},{tfName:"dtype",name:"dtype",type:"dtype"}]},{tfOpName:"Const",category:"graph"},{tfOpName:"Identity",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"IdentityN",category:"graph",inputs:[{start:0,end:0,name:"x",type:"tensors"}]},{tfOpName:"Snapshot",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"Rank",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"Size",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"Shape",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"ShapeN",category:"graph",inputs:[{start:0,end:0,name:"x",type:"tensors"}]},{tfOpName:"Print",category:"graph",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"data",type:"tensors"}],attrs:[{tfName:"message",name:"message",type:"string"},{tfName:"first_n",name:"firstN",type:"number",notSupported:!0},{tfName:"summarize",name:"summarize",type:"number",defaultValue:3}]},{tfOpName:"NoOp",category:"graph",inputs:[]},{tfOpName:"StopGradient",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"FakeQuantWithMinMaxVars",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"min",name:"min",type:"number"},{tfName:"max",name:"max",type:"number"}]}]});var dF={};Mi(dF,{json:()=>Bbe});var Bbe,C7=I(()=>{"use strict";Bbe=[{tfOpName:"HashTable",category:"hash_table",inputs:[],attrs:[{tfName:"shared_name",name:"sharedName",type:"string"},{tfName:"use_node_name_sharing",name:"useNodeNameSharing",type:"bool"},{tfName:"key_dtype",name:"keyDType",type:"dtype"},{tfName:"value_dtype",name:"valueDType",type:"dtype"}]},{tfOpName:"HashTableV2",category:"hash_table",inputs:[],attrs:[{tfName:"shared_name",name:"sharedName",type:"string"},{tfName:"use_node_name_sharing",name:"useNodeNameSharing",type:"bool"},{tfName:"key_dtype",name:"keyDType",type:"dtype"},{tfName:"value_dtype",name:"valueDType",type:"dtype"}]},{tfOpName:"LookupTableImport",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"values",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableImportV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"values",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableFind",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableFindV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableSize",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"}]},{tfOpName:"LookupTableSizeV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"}]},{tfOpName:"InitializeTable",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"values",type:"tensor"}]},{tfOpName:"InitializeTableV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"values",type:"tensor"}]}]});var uF={};Mi(uF,{json:()=>Vbe});var Vbe,S7=I(()=>{"use strict";Vbe=[{tfOpName:"ResizeBilinear",category:"image",inputs:[{start:0,name:"images",type:"tensor"},{start:1,name:"size",type:"number[]"}],attrs:[{tfName:"align_corners",name:"alignCorners",type:"bool"},{tfName:"half_pixel_centers",name:"halfPixelCenters",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ResizeNearestNeighbor",category:"image",inputs:[{start:0,name:"images",type:"tensor"},{start:1,name:"size",type:"number[]"}],attrs:[{tfName:"align_corners",name:"alignCorners",type:"bool"},{tfName:"half_pixel_centers",name:"halfPixelCenters",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"CropAndResize",category:"image",inputs:[{start:0,name:"image",type:"tensor"},{start:1,name:"boxes",type:"tensor"},{start:2,name:"boxInd",type:"tensor"},{start:3,name:"cropSize",type:"number[]"}],attrs:[{tfName:"method",name:"method",type:"string"},{tfName:"extrapolation_value",name:"extrapolationValue",type:"number"}]},{tfOpName:"ImageProjectiveTransformV3",category:"image",inputs:[{start:0,name:"images",type:"tensor"},{start:1,name:"transforms",type:"tensor"},{start:2,name:"outputShape",type:"number[]"},{start:3,name:"fillValue",type:"number"}],attrs:[{tfName:"interpolation",name:"interpolation",type:"string"},{tfName:"fill_mode",name:"fillMode",type:"string"}]}]});var hF={};Mi(hF,{json:()=>Ube});var Ube,E7=I(()=>{"use strict";Ube=[{tfOpName:"Equal",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"NotEqual",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Greater",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"GreaterEqual",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Less",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LessEqual",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalAnd",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalNot",category:"logical",inputs:[{start:0,name:"a",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalOr",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Select",category:"logical",inputs:[{start:0,name:"condition",type:"tensor"},{start:1,name:"a",type:"tensor"},{start:2,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"SelectV2",category:"logical",inputs:[{start:0,name:"condition",type:"tensor"},{start:1,name:"a",type:"tensor"},{start:2,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"BitwiseAnd",category:"logical",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"y",type:"tensor"}]}]});var mF={};Mi(mF,{json:()=>zbe});var zbe,T7=I(()=>{"use strict";zbe=[{tfOpName:"_FusedMatMul",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"},{start:2,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"num_args",name:"numArgs",type:"number"},{tfName:"fused_ops",name:"fusedOps",type:"string[]",defaultValue:[]},{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:1e-4},{tfName:"transpose_a",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"transpose_b",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"leakyrelu_alpha",name:"leakyreluAlpha",type:"number",defaultValue:.2},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MatMul",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"transpose_a",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"transpose_b",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"BatchMatMul",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"adj_x",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"adj_y",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"BatchMatMulV2",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"adj_x",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"adj_y",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Transpose",category:"matrices",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"perm",type:"number[]"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Einsum",category:"matrices",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}],attrs:[{tfName:"equation",name:"equation",type:"string"},{tfName:"N",name:"n",type:"number",defaultValue:2},{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"MatrixBandPart",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"numLower",type:"tensor"},{start:1,name:"numUpper",type:"tensor"}]}]});var pF={};Mi(pF,{json:()=>Hbe});var Hbe,I7=I(()=>{"use strict";Hbe=[{tfOpName:"EuclideanNorm",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool",defaultValue:!1}]},{tfOpName:"FusedBatchNorm",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"scale",type:"tensor"},{start:2,name:"offset",type:"tensor"},{start:3,name:"mean",type:"tensor"},{start:4,name:"variance",type:"tensor"}],attrs:[{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:.001},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"FusedBatchNormV2",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"scale",type:"tensor"},{start:2,name:"offset",type:"tensor"},{start:3,name:"mean",type:"tensor"},{start:4,name:"variance",type:"tensor"}],attrs:[{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:.001},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"FusedBatchNormV3",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"scale",type:"tensor"},{start:2,name:"offset",type:"tensor"},{start:3,name:"mean",type:"tensor"},{start:4,name:"variance",type:"tensor"}],attrs:[{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:.001},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"LRN",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"depth_radius",name:"radius",type:"number",defaultValue:5},{tfName:"bias",name:"bias",type:"number",defaultValue:1},{tfName:"alpha",name:"alpha",type:"number",defaultValue:1},{tfName:"beta",name:"beta",type:"number",defaultValue:.5}]},{tfOpName:"Softmax",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"LogSoftmax",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"}]}]});var fF={};Mi(fF,{json:()=>jbe});var jbe,D7=I(()=>{"use strict";jbe=[{tfOpName:"Bincount",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"size",type:"number"},{start:2,name:"weights",type:"tensor"}]},{tfOpName:"DenseBincount",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"size",type:"number"},{start:2,name:"weights",type:"tensor"}],attrs:[{tfName:"binary_output",name:"binaryOutput",type:"bool"}]},{tfOpName:"Max",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Mean",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Min",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Sum",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"All",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Any",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"ArgMax",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]},{tfOpName:"ArgMin",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]},{tfOpName:"Prod",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Cumprod",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}],attrs:[{tfName:"exclusive",name:"exclusive",type:"bool"},{tfName:"reverse",name:"reverse",type:"bool"}]},{tfOpName:"Cumsum",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}],attrs:[{tfName:"exclusive",name:"exclusive",type:"bool"},{tfName:"reverse",name:"reverse",type:"bool"}]}]});var gF={};Mi(gF,{json:()=>$be});var $be,k7=I(()=>{"use strict";$be=[{tfOpName:"ConcatV2",category:"slice_join",inputs:[{start:0,end:-1,name:"tensors",type:"tensors"},{start:-1,name:"axis",type:"number"}],attrs:[{tfName:"N",name:"n",type:"number",defaultValue:2}]},{tfOpName:"Concat",category:"slice_join",inputs:[{start:1,end:0,name:"tensors",type:"tensors"},{start:0,name:"axis",type:"number"}],attrs:[{tfName:"N",name:"n",type:"number",defaultValue:2}]},{tfOpName:"GatherV2",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"axis",type:"number",defaultValue:0}],attrs:[{tfName:"batch_dims",name:"batchDims",type:"number",defaultValue:0}]},{tfOpName:"Gather",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"indices",type:"tensor"}],attrs:[{tfName:"validate_indices",name:"validateIndices",type:"bool",notSupported:!0}]},{tfOpName:"Reverse",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"dims",type:"bool[]"}]},{tfOpName:"ReverseV2",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}]},{tfOpName:"Slice",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"begin",type:"number[]"},{start:2,name:"size",type:"number[]"}]},{tfOpName:"StridedSlice",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"begin",type:"number[]"},{start:2,name:"end",type:"number[]"},{start:3,name:"strides",type:"number[]"}],attrs:[{tfName:"begin_mask",name:"beginMask",type:"number",defaultValue:0},{tfName:"end_mask",name:"endMask",type:"number",defaultValue:0},{tfName:"new_axis_mask",name:"newAxisMask",type:"number",defaultValue:0},{tfName:"ellipsis_mask",name:"ellipsisMask",type:"number",defaultValue:0},{tfName:"shrink_axis_mask",name:"shrinkAxisMask",type:"number",defaultValue:0}]},{tfOpName:"Pack",category:"slice_join",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}],attrs:[{tfName:"axis",name:"axis",type:"number",defaultValue:0}]},{tfOpName:"Unpack",category:"slice_join",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"axis",name:"axis",type:"number",defaultValue:0},{tfName:"num",name:"num",type:"number",defaultValue:0,notSupported:!0}]},{tfOpName:"Tile",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"reps",type:"number[]"}]},{tfOpName:"Split",category:"slice_join",inputs:[{start:0,name:"axis",type:"number",defaultValue:0},{start:1,name:"x",type:"tensor"}],attrs:[{tfName:"num_split",name:"numOrSizeSplits",type:"number",defaultValue:1}]},{tfOpName:"SplitV",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"numOrSizeSplits",type:"number[]"},{start:2,name:"axis",type:"number",defaultValue:0}]},{tfOpName:"ScatterNd",category:"slice_join",inputs:[{start:0,name:"indices",type:"tensor"},{start:1,name:"values",type:"tensor"},{start:2,name:"shape",type:"number[]"}]},{tfOpName:"GatherNd",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"indices",type:"tensor"}]},{tfOpName:"SparseToDense",category:"slice_join",inputs:[{start:0,name:"sparseIndices",type:"tensor"},{start:1,name:"outputShape",type:"number[]"},{start:2,name:"sparseValues",type:"tensor"},{start:3,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"validate_indices",name:"validateIndices",type:"bool",defaultValue:!1,notSupported:!0}]},{tfOpName:"TensorScatterUpdate",category:"slice_join",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"values",type:"tensor"}]}]});var _F={};Mi(_F,{json:()=>Gbe});var Gbe,A7=I(()=>{"use strict";Gbe=[{tfOpName:"SparseFillEmptyRows",category:"sparse",inputs:[{start:0,name:"indices",type:"tensor"},{start:1,name:"values",type:"tensor"},{start:2,name:"denseShape",type:"tensor"},{start:3,name:"defaultValue",type:"tensor"}]},{tfOpName:"SparseReshape",category:"sparse",inputs:[{start:0,name:"inputIndices",type:"tensor"},{start:1,name:"inputShape",type:"tensor"},{start:2,name:"newShape",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"SparseSegmentMean",category:"sparse",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"segmentIds",type:"tensor"}]},{tfOpName:"SparseSegmentSum",category:"sparse",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"segmentIds",type:"tensor"}]}]});var bF={};Mi(bF,{json:()=>Wbe});var Wbe,P7=I(()=>{"use strict";Wbe=[{tfOpName:"FFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"IFFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"RFFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"fft_length",type:"number",notSupported:!0}]},{tfOpName:"IRFFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"fft_length",type:"number",notSupported:!0}]}]});var vF={};Mi(vF,{json:()=>qbe});var qbe,R7=I(()=>{"use strict";qbe=[{tfOpName:"StaticRegexReplace",category:"string",inputs:[{start:0,name:"input",type:"tensor"}],attrs:[{tfName:"pattern",name:"pattern",type:"string"},{tfName:"rewrite",name:"rewrite",type:"string"},{tfName:"replace_global",name:"replaceGlobal",type:"bool"}]},{tfOpName:"StringNGrams",category:"string",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"dataSplits",type:"tensor"}],attrs:[{tfName:"separator",name:"separator",type:"string"},{tfName:"ngram_widths",name:"nGramWidths",type:"number[]"},{tfName:"left_pad",name:"leftPad",type:"string"},{tfName:"right_pad",name:"rightPad",type:"string"},{tfName:"pad_width",name:"padWidth",type:"number"},{tfName:"preserve_short_sequences",name:"preserveShortSequences",type:"bool"}],outputs:["ngrams","ngrams_splits"]},{tfOpName:"StringSplit",category:"string",inputs:[{start:0,name:"input",type:"tensor"},{start:1,name:"delimiter",type:"tensor"}],attrs:[{tfName:"skip_empty",name:"skipEmpty",type:"bool"}],outputs:["indices","values","shape"]},{tfOpName:"StringToHashBucketFast",category:"string",inputs:[{start:0,name:"input",type:"tensor"}],attrs:[{tfName:"num_buckets",name:"numBuckets",type:"number"}]}]});var yF={};Mi(yF,{json:()=>Xbe});var Xbe,N7=I(()=>{"use strict";Xbe=[{tfOpName:"Cast",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"SrcT",name:"sdtype",type:"dtype",notSupported:!0},{tfName:"DstT",name:"dtype",type:"dtype"}]},{tfOpName:"ExpandDims",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]},{tfOpName:"MirrorPad",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"padding",type:"number[]"}],attrs:[{tfName:"mode",name:"mode",type:"string"}]},{tfOpName:"Pad",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"padding",type:"number[]"}],attrs:[{tfName:"constant_value",name:"constantValue",type:"number",defaultValue:0}]},{tfOpName:"PadV2",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"padding",type:"number[]"},{start:2,name:"constantValue",type:"number",defaultValue:0}]},{tfOpName:"Reshape",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"shape",type:"number[]"}]},{tfOpName:"EnsureShape",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"shape",type:"number[]"}]},{tfOpName:"Squeeze",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"axis",tfDeprecatedName:"squeeze_dims",name:"axis",type:"number[]"}]},{tfOpName:"SpaceToBatchND",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"blockShape",type:"number[]"},{start:2,name:"paddings",type:"number[]"}]},{tfOpName:"BatchToSpaceND",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"blockShape",type:"number[]"},{start:2,name:"crops",type:"number[]"}]},{tfOpName:"DepthToSpace",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"block_size",name:"blockSize",type:"number"},{tfName:"data_format",name:"dataFormat",type:"string"}]},{tfOpName:"BroadcastTo",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"shape",type:"number[]"}],attrs:[]},{tfOpName:"BroadcastArgs",category:"transformation",inputs:[{start:0,name:"s0",type:"tensor"},{start:1,name:"s1",type:"tensor"}],attrs:[]}]});function Ybe(i){let t=ot().global;if(typeof t.atob<"u")return t.atob(i);if(typeof Buffer<"u")return new Buffer(i,"base64").toString();throw new Error("Unable to decode base64 in this environment. Missing built-in atob() or Buffer()")}function F7(i,t){let e=Array.isArray(i)?String.fromCharCode.apply(null,i):Ybe(i);return t?e:e.toLowerCase()}function sM(i,t,e,n=!1){let r=i[t];return r!=null?F7(r.s,n):e}function aM(i,t,e){let n=i[t];return n?n.b:e}function cM(i,t,e){let n=i[t]||{},r=n.i!=null?n.i:n.f!=null?n.f:e;return typeof r=="number"?r:parseInt(r,10)}function xF(i){switch(typeof i=="string"&&(i=Ko[i]),i){case Ko.DT_FLOAT:case Ko.DT_HALF:return"float32";case Ko.DT_INT32:case Ko.DT_INT64:case Ko.DT_INT8:case Ko.DT_UINT8:return"int32";case Ko.DT_BOOL:return"bool";case Ko.DT_DOUBLE:return"float32";case Ko.DT_STRING:return"string";case Ko.DT_COMPLEX64:case Ko.DT_COMPLEX128:return"complex64";default:return null}}function O7(i,t,e){let n=i[t];return n&&n.func?n.func.name:e}function lM(i,t,e){let n=i[t];return n&&n.type?xF(n.type):e}function dM(i,t,e){let n=i[t];return n&&n.list&&n.list.type?n.list.type.map(r=>xF(r)):e}function L7(i){if(!i.unknownRank)return i.dim!=null?i.dim.map(t=>typeof t.size=="number"?t.size:parseInt(t.size,10)):[]}function uM(i,t,e){let n=i[t];return n&&n.shape?L7(n.shape):e}function hM(i,t,e){let n=i[t];return n?((n.list.f&&n.list.f.length?n.list.f:n.list.i)||[]).map(r=>typeof r=="number"?r:parseInt(r,10)):e}function mM(i,t,e,n=!1){let r=i[t];return r&&r.list&&r.list.s?r.list.s.map(o=>F7(o,n)):e}function pM(i,t,e){let n=i[t];return n&&n.list&&n.list.shape?n.list.shape.map(r=>L7(r)):e}function fM(i,t,e){let n=i[t];return n&&n.list&&n.list.b?n.list.b:e}var yb,wF=I(()=>{"use strict";Zo();m7();rM();An();g7();_7();b7();v7();y7();x7();w7();M7();C7();S7();E7();T7();I7();D7();k7();A7();P7();R7();N7();yb=class{static get Instance(){return this._instance||(this._instance=new this)}constructor(){let t=[iF,nF,rF,oF,sF,aF,cF,lF,dF,uF,hF,mF,pF,fF,gF,_F,bF,vF,yF],e=[].concat(...t.map(n=>n.json));this.opMappers=e.reduce((n,r)=>(n[r.tfOpName]=r,n),{})}transformGraph(t,e={}){let n=t.node,r=[],o=[],s=[],a=n.reduce((_,f)=>(_[f.name]=this.mapNode(f),f.op.startsWith("Placeholder")?r.push(_[f.name]):f.op==="Const"?o.push(_[f.name]):(f.input==null||f.input.length===0)&&s.push(_[f.name]),_),{}),c=[],l=[],d={},u={};e!=null&&(d=this.mapSignatureEntries(e.inputs),u=this.mapSignatureEntries(e.outputs));let h=Object.keys(a);h.forEach(_=>{let f=a[_];f.inputNames.forEach((g,C)=>{let[M,,S]=ya(g),R=a[M];if(R.outputs!=null){let N=R.outputs.indexOf(S);if(N!==-1){let L=`${M}:${N}`;f.inputNames[C]=L}}f.inputs.push(R),R.children.push(f)})}),Object.keys(u).length===0?h.forEach(_=>{let f=a[_];f.children.length===0&&l.push(f)}):Object.keys(u).forEach(_=>{let[f]=ya(_),g=a[f];g!=null&&(g.signatureKey=u[_],l.push(g))}),Object.keys(d).length>0?Object.keys(d).forEach(_=>{let[f]=ya(_),g=a[f];g&&(g.signatureKey=d[_],c.push(g))}):c=r;let m={};t.library!=null&&t.library.function!=null&&(m=t.library.function.reduce((_,f)=>(_[f.signature.name]=this.mapFunction(f),_),{}));let p={nodes:a,inputs:c,outputs:l,weights:o,placeholders:r,signature:e,functions:m};return s.length>0&&(p.initNodes=s),p}mapSignatureEntries(t){return Object.keys(t||{}).reduce((e,n)=>(e[t[n].name]=n,e),{})}mapNode(t){let e=nM(t.op)||this.opMappers[t.op]||{};t.attr==null&&(t.attr={});let n={name:t.name,op:t.op,category:e.category,inputNames:(t.input||[]).map(r=>r.startsWith("^")?r.slice(1):r),inputs:[],children:[],inputParams:{},attrParams:{},rawAttrs:t.attr,outputs:e.outputs};return e.inputs!=null&&(n.inputParams=e.inputs.reduce((r,o)=>(r[o.name]={type:o.type,inputIndexStart:o.start,inputIndexEnd:o.end},r),{})),e.attrs!=null&&(n.attrParams=e.attrs.reduce((r,o)=>{let s=o.type,a;switch(o.type){case"string":a=sM(t.attr,o.tfName,o.defaultValue),a===void 0&&o.tfDeprecatedName&&(a=sM(t.attr,o.tfDeprecatedName,o.defaultValue));break;case"string[]":a=mM(t.attr,o.tfName,o.defaultValue),a===void 0&&o.tfDeprecatedName&&(a=mM(t.attr,o.tfDeprecatedName,o.defaultValue));break;case"number":a=cM(t.attr,o.tfName,o.defaultValue||0),a===void 0&&o.tfDeprecatedName&&(a=cM(t.attr,o.tfDeprecatedName,o.defaultValue));break;case"number[]":a=hM(t.attr,o.tfName,o.defaultValue),a===void 0&&o.tfDeprecatedName&&(a=hM(t.attr,o.tfDeprecatedName,o.defaultValue));break;case"bool":a=aM(t.attr,o.tfName,o.defaultValue),a===void 0&&o.tfDeprecatedName&&(a=aM(t.attr,o.tfDeprecatedName,o.defaultValue));break;case"bool[]":a=fM(t.attr,o.tfName,o.defaultValue),a===void 0&&o.tfDeprecatedName&&(a=fM(t.attr,o.tfDeprecatedName,o.defaultValue));break;case"shape":a=uM(t.attr,o.tfName,o.defaultValue),a===void 0&&o.tfDeprecatedName&&(a=uM(t.attr,o.tfDeprecatedName,o.defaultValue));break;case"shape[]":a=pM(t.attr,o.tfName,o.defaultValue),a===void 0&&o.tfDeprecatedName&&(a=pM(t.attr,o.tfDeprecatedName,o.defaultValue));break;case"dtype":a=lM(t.attr,o.tfName,o.defaultValue),a===void 0&&o.tfDeprecatedName&&(a=lM(t.attr,o.tfDeprecatedName,o.defaultValue));break;case"dtype[]":a=dM(t.attr,o.tfName,o.defaultValue),a===void 0&&o.tfDeprecatedName&&(a=dM(t.attr,o.tfDeprecatedName,o.defaultValue));break;case"func":a=O7(t.attr,o.tfName,o.defaultValue),a===void 0&&o.tfDeprecatedName&&(a=O7(t.attr,o.tfDeprecatedName,o.defaultValue));break;case"tensor":case"tensors":break;default:throw new Error(`Unsupported param type: ${o.type} for op: ${t.op}`)}return r[o.name]={value:a,type:s},r},{})),n}mapFunction(t){let e=t.nodeDef,n=[],r=[],o={};e!=null&&(o=e.reduce((u,h)=>(u[h.name]=this.mapNode(h),h.op==="Const"&&r.push(u[h.name]),u),{}));let s=[],a=[];t.signature.inputArg.forEach(u=>{let[h]=ya(u.name),m={name:h,op:"Placeholder",inputs:[],inputNames:[],category:"graph",inputParams:{},attrParams:{dtype:{value:xF(u.type),type:"dtype"}},children:[]};m.signatureKey=u.name,s.push(m),o[h]=m}),Object.keys(o).forEach(u=>{let h=o[u];h.inputNames.forEach((m,p)=>{let[_,,f]=ya(m),g=o[_];if(g.outputs!=null){let C=g.outputs.indexOf(f);if(C!==-1){let M=`${_}:${C}`;h.inputNames[p]=M}}h.inputs.push(g),g.children.push(h)})});let l=t.ret;t.signature.outputArg.forEach(u=>{let[h,m]=ya(l[u.name]),p=o[h];p!=null&&(p.defaultOutput=m,a.push(p))});let d=this.mapArgsToSignature(t);return{nodes:o,inputs:s,outputs:a,weights:r,placeholders:n,signature:d}}mapArgsToSignature(t){return{methodName:t.signature.name,inputs:t.signature.inputArg.reduce((e,n)=>(e[n.name]=this.mapArgToTensorInfo(n),e),{}),outputs:t.signature.outputArg.reduce((e,n)=>(e[n.name]=this.mapArgToTensorInfo(n,t.ret),e),{})}}mapArgToTensorInfo(t,e){let n=t.name;return e!=null&&(n=e[n]),{name:n,dtype:t.type}}}});var gM,B7=I(()=>{"use strict";An();wF();gM=class{constructor(t,e,n){this.node=t,this.tensorMap=e,this.context=n,this.inputs=[],this.attrs={},this.inputs=t.inputNames.map(r=>this.getInput(r)),t.rawAttrs!=null&&(this.attrs=Object.keys(t.rawAttrs).reduce((r,o)=>(r[o]=this.getAttr(o),r),{}))}getInput(t){return Bn(t,this.tensorMap,this.context)}getAttr(t,e){let n=this.node.rawAttrs[t];if(n.tensor!=null)return Bn(t,this.tensorMap,this.context);if(n.i!=null||n.f!=null)return cM(this.node.rawAttrs,t,e);if(n.s!=null)return sM(this.node.rawAttrs,t,e);if(n.b!=null)return aM(this.node.rawAttrs,t,e);if(n.shape!=null)return uM(this.node.rawAttrs,t,e);if(n.type!=null)return lM(this.node.rawAttrs,t,e);if(n.list!=null){if(n.list.i!=null||n.list.f!=null)return hM(this.node.rawAttrs,t,e);if(n.list.s!=null)return mM(this.node.rawAttrs,t,e);if(n.list.shape!=null)return pM(this.node.rawAttrs,t,e);if(n.list.b!=null)return fM(this.node.rawAttrs,t,e);if(n.list.type!=null)return dM(this.node.rawAttrs,t,e)}return e}}});var Si={};Mi(Si,{OP_SCOPE_SUFFIX:()=>iw,abs:()=>lr,acos:()=>NR,acosh:()=>OR,add:()=>st,addN:()=>FR,all:()=>LR,any:()=>BR,argMax:()=>VR,argMin:()=>UR,asin:()=>zR,asinh:()=>HR,atan:()=>jR,atan2:()=>$R,atanh:()=>GR,avgPool:()=>w_,avgPool3d:()=>ZR,basicLSTMCell:()=>QR,batchNorm:()=>ol,batchNorm2d:()=>eN,batchNorm3d:()=>tN,batchNorm4d:()=>iN,batchToSpaceND:()=>C_,bincount:()=>E_,bitwiseAnd:()=>rN,booleanMaskAsync:()=>tG,broadcastArgs:()=>oN,broadcastTo:()=>rh,buffer:()=>Nr,cast:()=>si,ceil:()=>aN,clipByValue:()=>cN,clone:()=>Do,complex:()=>no,concat:()=>sn,concat1d:()=>lN,concat2d:()=>dN,concat3d:()=>uN,concat4d:()=>hN,conv1d:()=>mN,conv2d:()=>sl,conv2dTranspose:()=>fN,conv3d:()=>gN,conv3dTranspose:()=>_N,cos:()=>bN,cosh:()=>vN,cosineWindow:()=>Bp,cumprod:()=>yN,cumsum:()=>xN,denseBincount:()=>wN,depthToSpace:()=>MN,depthwiseConv2d:()=>oh,diag:()=>CN,dilation2d:()=>SN,div:()=>fi,divNoNan:()=>TN,dot:()=>IN,dropout:()=>fG,einsum:()=>cl,elu:()=>D_,enclosingPowerOfTwo:()=>Bw,ensureShape:()=>AN,equal:()=>I_,erf:()=>PN,euclideanNorm:()=>ON,exp:()=>ps,expandDims:()=>Us,expm1:()=>FN,eye:()=>R_,fft:()=>hh,fill:()=>ma,floor:()=>N_,floorDiv:()=>v_,fused:()=>Vw,gather:()=>O_,gatherND:()=>uG,greater:()=>bd,greaterEqual:()=>F_,ifft:()=>wd,imag:()=>hl,image:()=>i9,inTopKAsync:()=>_G,irfft:()=>nb,isFinite:()=>zN,isInf:()=>HN,isNaN:()=>jN,leakyRelu:()=>B_,less:()=>Rp,lessEqual:()=>ah,linalg:()=>n9,linspace:()=>WN,localResponseNormalization:()=>qN,log:()=>oc,log1p:()=>U_,logSigmoid:()=>ZN,logSoftmax:()=>KN,logSumExp:()=>H_,logicalAnd:()=>vd,logicalNot:()=>j_,logicalOr:()=>$_,logicalXor:()=>tO,losses:()=>r9,lowerBound:()=>iO,matMul:()=>yi,max:()=>pa,maxPool:()=>G_,maxPool3d:()=>rO,maxPoolWithArgmax:()=>oO,maximum:()=>W_,mean:()=>yd,meshgrid:()=>aO,min:()=>kp,minimum:()=>xd,mirrorPad:()=>cO,mod:()=>lO,moments:()=>dO,movingAverage:()=>nG,mul:()=>Ie,multiRNNCell:()=>uO,multinomial:()=>hO,neg:()=>wr,norm:()=>_d,notEqual:()=>X_,oneHot:()=>Op,ones:()=>_a,onesLike:()=>fO,op:()=>w,outerProduct:()=>gO,pad:()=>ba,pad1d:()=>_O,pad2d:()=>bO,pad3d:()=>vO,pad4d:()=>yO,pool:()=>wO,pow:()=>rc,prelu:()=>Z_,print:()=>b_,prod:()=>CO,raggedGather:()=>SO,raggedRange:()=>EO,raggedTensorToTensor:()=>TO,rand:()=>IO,randomGamma:()=>VO,randomNormal:()=>Q_,randomStandardNormal:()=>zO,randomUniform:()=>dh,randomUniformInt:()=>HO,range:()=>fl,real:()=>sc,reciprocal:()=>jO,relu:()=>gl,relu6:()=>tb,reshape:()=>re,reverse:()=>Xo,reverse1d:()=>GO,reverse2d:()=>WO,reverse3d:()=>qO,reverse4d:()=>XO,rfft:()=>mh,round:()=>ib,rsqrt:()=>ZO,scalar:()=>Mt,scatterND:()=>oG,searchSorted:()=>Np,selu:()=>KO,separableConv2d:()=>QO,setdiff1dAsync:()=>JO,sigmoid:()=>ha,sign:()=>e2,signal:()=>t9,sin:()=>t2,sinh:()=>i2,slice:()=>gi,slice1d:()=>n2,slice2d:()=>r2,slice3d:()=>o2,slice4d:()=>s2,softmax:()=>a2,softplus:()=>z_,spaceToBatchND:()=>Y_,sparse:()=>o9,sparseToDense:()=>lG,spectral:()=>e9,split:()=>ac,sqrt:()=>so,square:()=>ur,squaredDifference:()=>ob,squeeze:()=>ph,stack:()=>Wr,step:()=>ab,stridedSlice:()=>u2,string:()=>s9,sub:()=>yt,sum:()=>Di,tan:()=>h2,tanh:()=>Ep,tensor:()=>Hr,tensor1d:()=>mr,tensor2d:()=>_l,tensor3d:()=>cb,tensor4d:()=>p2,tensor5d:()=>f2,tensor6d:()=>g2,tensorScatterUpdate:()=>b2,tile:()=>ul,topk:()=>v2,transpose:()=>fh,truncatedNormal:()=>y2,unique:()=>x2,unsortedSegmentSum:()=>w2,unstack:()=>Yo,upperBound:()=>M2,variable:()=>C2,where:()=>qo,whereAsync:()=>ub,zeros:()=>ga,zerosLike:()=>qn});var pr=I(()=>{"use strict";pb();});var V7,U7=I(()=>{"use strict";pr();An();V7=(i,t,e,n=Si)=>{switch(i.op){case"BiasAdd":case"AddV2":case"Add":return[n.add(b("a",i,t,e),b("b",i,t,e))];case"AddN":return[n.addN(b("tensors",i,t,e))];case"FloorMod":case"Mod":return[n.mod(b("a",i,t,e),b("b",i,t,e))];case"Mul":return[n.mul(b("a",i,t,e),b("b",i,t,e))];case"RealDiv":case"Div":return[n.div(b("a",i,t,e),b("b",i,t,e))];case"DivNoNan":return[n.divNoNan(b("a",i,t,e),b("b",i,t,e))];case"FloorDiv":return[n.floorDiv(b("a",i,t,e),b("b",i,t,e))];case"Sub":return[n.sub(b("a",i,t,e),b("b",i,t,e))];case"Minimum":return[n.minimum(b("a",i,t,e),b("b",i,t,e))];case"Maximum":return[n.maximum(b("a",i,t,e),b("b",i,t,e))];case"Pow":return[n.pow(b("a",i,t,e),b("b",i,t,e))];case"SquaredDifference":return[n.squaredDifference(b("a",i,t,e),b("b",i,t,e))];default:throw TypeError(`Node type ${i.op} is not implemented`)}}});var z7,H7=I(()=>{"use strict";pr();An();z7=(i,t,e,n=Si)=>{switch(i.op){case"Abs":case"ComplexAbs":return[n.abs(b("x",i,t,e))];case"Acos":return[n.acos(b("x",i,t,e))];case"Acosh":return[n.acosh(b("x",i,t,e))];case"Asin":return[n.asin(b("x",i,t,e))];case"Asinh":return[n.asinh(b("x",i,t,e))];case"Atan":return[n.atan(b("x",i,t,e))];case"Atan2":return[n.atan2(b("x",i,t,e),b("y",i,t,e))];case"Atanh":return[n.atanh(b("x",i,t,e))];case"Ceil":return[n.ceil(b("x",i,t,e))];case"Complex":return[n.complex(b("real",i,t,e),b("imag",i,t,e))];case"Cos":return[n.cos(b("x",i,t,e))];case"Cosh":return[n.cosh(b("x",i,t,e))];case"Elu":return[n.elu(b("x",i,t,e))];case"Erf":return[n.erf(b("x",i,t,e))];case"Exp":return[n.exp(b("x",i,t,e))];case"Expm1":return[n.expm1(b("x",i,t,e))];case"Floor":return[n.floor(b("x",i,t,e))];case"Log":return[n.log(b("x",i,t,e))];case"Log1p":return[n.log1p(b("x",i,t,e))];case"Imag":return[n.imag(b("x",i,t,e))];case"Neg":return[n.neg(b("x",i,t,e))];case"Reciprocal":return[n.reciprocal(b("x",i,t,e))];case"Real":return[n.real(b("x",i,t,e))];case"Relu":return[n.relu(b("x",i,t,e))];case"Round":return[n.round(b("x",i,t,e))];case"Selu":return[n.selu(b("x",i,t,e))];case"Sigmoid":return[n.sigmoid(b("x",i,t,e))];case"Sin":return[n.sin(b("x",i,t,e))];case"Sign":return[n.sign(b("x",i,t,e))];case"Sinh":return[n.sinh(b("x",i,t,e))];case"Softplus":return[n.softplus(b("x",i,t,e))];case"Sqrt":return[n.sqrt(b("x",i,t,e))];case"Square":return[n.square(b("x",i,t,e))];case"Tanh":return[n.tanh(b("x",i,t,e))];case"Tan":return[n.tan(b("x",i,t,e))];case"ClipByValue":return[n.clipByValue(b("x",i,t,e),b("clipValueMin",i,t,e),b("clipValueMax",i,t,e))];case"Relu6":return[n.relu6(b("x",i,t,e))];case"Rsqrt":return[n.rsqrt(Bn(i.inputNames[0],t,e))];case"LeakyRelu":return[n.leakyRelu(b("x",i,t,e),b("alpha",i,t,e))];case"Prelu":return[n.prelu(b("x",i,t,e),b("alpha",i,t,e))];case"IsNan":return[n.isNaN(Bn(i.inputNames[0],t,e))];case"IsInf":return[n.isInf(Bn(i.inputNames[0],t,e))];case"IsFinite":return[n.isFinite(Bn(i.inputNames[0],t,e))];default:throw TypeError(`Node type ${i.op} is not implemented`)}}});function Qo(i,t,e=""){if(!(typeof i=="number"||typeof t=="number")){ke.assert(i.length===t.length,()=>e+` Shapes ${i} and ${t} must match`);for(let n=0;n<i.length;n++){let r=i[n],o=t[n];ke.assert(r<0||o<0||r===o,()=>e+` Shapes ${i} and ${t} must match`)}}}function j7(i){return!(typeof i=="number"||i.some(t=>t<0))}function zp(i,t,e){let n=_M(i,e),r=!j7(n);if(r&&t.length===0)throw new Error(`Tried to calculate elements of an empty list with non-fully-defined elementShape: ${n}`);if(r&&t.forEach(o=>{n=_M(o.shape,n)}),!j7(n))throw new Error(`Non-fully-defined elementShape: ${n}`);return n}function _M(i,t){if(typeof i=="number")return t;if(typeof t=="number")return i;if(i.length!==t.length)throw new Error(`Incompatible ranks during merge: ${i} vs. ${t}`);let e=[];for(let n=0;n<i.length;++n){let r=i[n],o=t[n];if(r>=0&&o>=0&&r!==o)throw new Error(`Incompatible shape during merge: ${i} vs. ${t}`);e[n]=r>=0?r:o}return e}var MF=I(()=>{"use strict";Zo();});var bM,$7=I(()=>{"use strict";Zo();MF();bM=class{constructor(t,e,n,r,o,s,a){this.name=t,this.dtype=e,this.maxSize=n,this.elementShape=r,this.identicalElementShapes=o,this.dynamicSize=s,this.clearAfterRead=a,this.tensors=[],this.closed_=!1,this.idTensor=Mt(0),oo(this.idTensor)}get id(){return this.idTensor.id}get closed(){return this.closed_}clearAndClose(t){this.tensors.forEach(e=>{(t==null||!t.has(e.tensor.id))&&e.tensor.dispose()}),this.tensors=[],this.closed_=!0,this.idTensor.dispose()}size(){return this.tensors.length}read(t){if(this.closed_)throw new Error(`TensorArray ${this.name} has already been closed.`);if(t<0||t>=this.size())throw new Error(`Tried to read from index ${t}, but array size is: ${this.size()}`);let e=this.tensors[t];if(e.cleared)throw new Error(`TensorArray ${this.name}: Could not read index ${t} twice because it was cleared after a previous read (perhaps try setting clear_after_read = false?).`);return this.clearAfterRead&&(e.cleared=!0),e.read=!0,e.tensor}readMany(t){return t.map(e=>this.read(e))}write(t,e){if(this.closed_)throw new Error(`TensorArray ${this.name} has already been closed.`);if(t<0||!this.dynamicSize&&t>=this.maxSize)throw new Error(`Tried to write to index ${t}, but array is not resizeable and size is: ${this.maxSize}`);let n=this.tensors[t]||{};if(e.dtype!==this.dtype)throw new Error(`TensorArray ${this.name}: Could not write to TensorArray index ${t},
          because the value dtype is ${e.dtype}, but TensorArray dtype is ${this.dtype}.`);if(this.size()===0&&(this.elementShape==null||this.elementShape.length===0)&&(this.elementShape=e.shape),Qo(this.elementShape,e.shape,`TensorArray ${this.name}: Could not write to TensorArray index ${t}.`),n.read)throw new Error(`TensorArray ${this.name}: Could not write to TensorArray index ${t}, because it has already been read.`);if(n.written)throw new Error(`TensorArray ${this.name}: Could not write to TensorArray index ${t}, because it has already been written.`);n.tensor=e,oo(e),n.written=!0,this.tensors[t]=n}writeMany(t,e){if(t.length!==e.length)throw new Error(`TensorArray ${this.name}: could not write multiple tensors,because the index size: ${t.length} is not the same as tensors size: ${e.length}.`);t.forEach((n,r)=>this.write(n,e[r]))}gather(t,e){if(e&&e!==this.dtype)throw new Error(`TensorArray dtype is ${this.dtype} but gather requested dtype ${e}`);if(t)t=t.slice(0,this.size());else{t=[];for(let r=0;r<this.size();r++)t.push(r)}if(t.length===0)return Hr([],[0].concat(this.elementShape));let n=this.readMany(t);return Qo(this.elementShape,n[0].shape,"TensorArray shape mismatch: "),Wr(n,0)}concat(t){if(t&&t!==this.dtype)throw new Error(`TensorArray dtype is ${this.dtype} but concat requested dtype ${t}`);if(this.size()===0)return Hr([],[0].concat(this.elementShape));let e=[];for(let r=0;r<this.size();r++)e.push(r);let n=this.readMany(e);return Qo(this.elementShape,n[0].shape,`TensorArray shape mismatch: tensor array shape (${this.elementShape}) vs first tensor shape (${n[0].shape})`),sn(n,0)}scatter(t,e){if(e.dtype!==this.dtype)throw new Error(`TensorArray dtype is ${this.dtype} but tensor has dtype ${e.dtype}`);if(t.length!==e.shape[0])throw new Error(`Expected len(indices) == tensor.shape[0], but saw: ${t.length} vs. ${e.shape[0]}`);let n=Math.max(...t);if(!this.dynamicSize&&n>=this.maxSize)throw new Error(`Max index must be < array size (${n}  vs. ${this.maxSize})`);this.writeMany(t,Yo(e,0))}split(t,e){if(e.dtype!==this.dtype)throw new Error(`TensorArray dtype is ${this.dtype} but tensor has dtype ${e.dtype}`);let n=0,r=t.map(c=>(n+=c,n));if(n!==e.shape[0])throw new Error(`Expected sum of lengths to be equal to
          tensor.shape[0], but sum of lengths is
        ${n}, and tensor's shape is: ${e.shape}`);if(!this.dynamicSize&&t.length!==this.maxSize)throw new Error(`TensorArray's size is not equal to the size of lengths (${this.maxSize} vs. ${t.length}), and the TensorArray is not marked as dynamically resizeable`);let o=n===0?0:e.size/n,s=[];Qt(()=>{e=re(e,[1,n,o]);for(let c=0;c<t.length;++c){let d=[0,c===0?0:r[c-1],0],u=[1,t[c],o];s[c]=re(gi(e,d,u),this.elementShape)}return s});let a=[];for(let c=0;c<t.length;c++)a[c]=c;this.writeMany(a,s)}}});function G7(i,t,e){let n=i.dtype;if(i.shape.length<1)throw new Error(`Tensor must be at least a vector, but saw shape: ${i.shape}`);if(i.dtype!==e)throw new Error(`Invalid data types; op elements ${i.dtype}, but list elements ${e}`);let r=i.shape.slice(1);Qo(r,t,"TensorList shape mismatch: ");let o=Yo(i);return new Hp(o,t,n)}function W7(i,t,e,n){return new Hp([],i,t,n)}function q7(i,t,e,n){if(t.length!==i.shape[0])throw new Error(`Expected len(indices) == tensor.shape[0], but saw: ${t.length} vs. ${i.shape[0]}`);let r=Math.max(...t);if(n!=null&&n!==-1&&r>=n)throw new Error(`Max index must be < array size (${r}  vs. ${n})`);let o=new Hp([],e,i.dtype,n),s=Yo(i,0);return t.forEach((a,c)=>{o.setItem(a,s[c])}),o}function X7(i,t,e){let n=0,r=t.map(d=>(n+=d,n));if(n!==i.shape[0])throw new Error(`Expected sum of lengths to be equal to
          tensor.shape[0], but sum of lengths is
        ${n}, and tensor's shape is: ${i.shape}`);let o=i.shape.slice(1),s=_M(o,e),a=n===0?0:i.size/n,c=Qt(()=>{let d=[];i=re(i,[1,n,a]);for(let u=0;u<t.length;++u){let m=[0,u===0?0:r[u-1],0],p=[1,t[u],a];d[u]=re(gi(i,m,p),s)}return i.dispose(),d}),l=new Hp([],e,i.dtype,t.length);for(let d=0;d<c.length;d++)l.setItem(d,c[d]);return l}var Hp,Y7=I(()=>{"use strict";Zo();MF();Hp=class i{get id(){return this.idTensor.id}constructor(t,e,n,r=-1){this.tensors=t,this.elementShape=e,this.elementDtype=n,t?.forEach(o=>{if(n!==o.dtype)throw new Error(`Invalid data types; op elements ${n}, but list elements ${o.dtype}`);Qo(e,o.shape,"TensorList shape mismatch: "),oo(o)}),this.idTensor=Mt(0),this.maxNumElements=r,oo(this.idTensor)}copy(){return new i([...this.tensors],this.elementShape,this.elementDtype)}clearAndClose(t){this.tensors.forEach(e=>{(t==null||!t.has(e.id))&&e.dispose()}),this.tensors.length=0,this.idTensor.dispose()}size(){return this.tensors.length}stack(t,e,n=-1){if(e!==this.elementDtype)throw new Error(`Invalid data types; op elements ${e}, but list elements ${this.elementDtype}`);if(n!==-1&&this.tensors.length!==n)throw new Error(`Operation expected a list with ${n} elements but got a list with ${this.tensors.length} elements.`);Qo(t,this.elementShape,"TensorList shape mismatch: ");let r=zp(this.elementShape,this.tensors,t);return Qt(()=>{let o=this.tensors.map(s=>re(s,r));return Wr(o,0)})}popBack(t,e){if(e!==this.elementDtype)throw new Error(`Invalid data types; op elements ${e}, but list elements ${this.elementDtype}`);if(this.size()===0)throw new Error("Trying to pop from an empty list.");let n=zp(this.elementShape,this.tensors,t),r=this.tensors.pop();return r.kept=!1,Qo(r.shape,t,"TensorList shape mismatch: "),re(r,n)}pushBack(t){if(t.dtype!==this.elementDtype)throw new Error(`Invalid data types; op elements ${t.dtype}, but list elements ${this.elementDtype}`);if(Qo(t.shape,this.elementShape,"TensorList shape mismatch: "),this.maxNumElements===this.size())throw new Error("Trying to push element into a full list.");oo(t),this.tensors.push(t)}resize(t){if(t<0)throw new Error(`TensorListResize expects size to be non-negative. Got: ${t}`);if(this.maxNumElements!==-1&&t>this.maxNumElements)throw new Error(`TensorListResize input size ${t} is greater maxNumElement ${this.maxNumElements}.`);let e=new i([],this.elementShape,this.elementDtype,this.maxNumElements);e.tensors.length=t;for(let n=0;n<Math.min(this.tensors.length,t);++n)e.tensors[n]=this.tensors[n];return e}getItem(t,e,n){if(n!==this.elementDtype)throw new Error(`Invalid data types; op elements ${n}, but list elements ${this.elementDtype}`);if(t<0||t>this.tensors.length)throw new Error(`Trying to access element ${t} in a list with ${this.tensors.length} elements.`);if(this.tensors[t]==null)throw new Error(`element at index ${t} is null.`);Qo(this.tensors[t].shape,e,"TensorList shape mismatch: ");let r=zp(this.elementShape,this.tensors,e);return re(this.tensors[t],r)}setItem(t,e){if(e.dtype!==this.elementDtype)throw new Error(`Invalid data types; op elements ${e.dtype}, but list elements ${this.elementDtype}`);if(t<0||this.maxNumElements!==-1&&t>=this.maxNumElements)throw new Error(`Trying to set element ${t} in a list with max ${this.maxNumElements} elements.`);Qo(this.elementShape,e.shape,"TensorList shape mismatch: "),oo(e),this.tensors[t]!=null&&(this.tensors[t].kept=!1),this.tensors[t]=e}gather(t,e,n){if(e!==this.elementDtype)throw new Error(`Invalid data types; op elements ${e}, but list elements ${this.elementDtype}`);Qo(this.elementShape,n,"TensorList shape mismatch: "),t=t.slice(0,this.size());let r=zp(this.elementShape,this.tensors,n);return t.length===0?Hr([],[0].concat(r)):Qt(()=>{let o=t.map(s=>re(this.tensors[s],r));return Wr(o,0)})}concat(t,e){if(t&&t!==this.elementDtype)throw new Error(`TensorList dtype is ${this.elementDtype} but concat requested dtype ${t}`);Qo(this.elementShape,e,"TensorList shape mismatch: ");let n=zp(this.elementShape,this.tensors,e);return this.size()===0?Hr([],[0].concat(n)):Qt(()=>{let r=this.tensors.map(o=>re(o,n));return sn(r,0)})}}});var Z7,K7=I(()=>{"use strict";Zo();$7();Y7();An();Z7=(i,t,e)=>te(void 0,null,function*(){switch(i.op){case"If":case"StatelessIf":{let n=b("thenBranch",i,t,e),r=b("elseBranch",i,t,e),o=b("cond",i,t,e),s=b("args",i,t,e);return(yield o.data())[0]?e.functionMap[n].executeFunctionAsync(s,e.tensorArrayMap,e.tensorListMap):e.functionMap[r].executeFunctionAsync(s,e.tensorArrayMap,e.tensorListMap)}case"While":case"StatelessWhile":{let n=b("body",i,t,e),r=b("cond",i,t,e),o=b("args",i,t,e),s=yield e.functionMap[r].executeFunctionAsync(o,e.tensorArrayMap,e.tensorListMap),a=o.map(d=>d.id),c=yield s[0].data();s.forEach(d=>{!d.kept&&a.indexOf(d.id)===-1&&d.dispose()});let l=o;for(;c[0];){let d=l;l=yield e.functionMap[n].executeFunctionAsync(l,e.tensorArrayMap,e.tensorListMap);let u=l.map(m=>m.id);d.forEach(m=>{!m.kept&&a.indexOf(m.id)===-1&&u.indexOf(m.id)===-1&&m.dispose()});let h=yield e.functionMap[r].executeFunctionAsync(l,e.tensorArrayMap,e.tensorListMap);c=yield h[0].data(),h.forEach(m=>{!m.kept&&a.indexOf(m.id)===-1&&u.indexOf(m.id)===-1&&m.dispose()})}return l}case"LoopCond":{let n=b("pred",i,t,e);return[xa(n)]}case"Switch":{let n=b("pred",i,t,e),r=b("data",i,t,e);return r.kept||(r=xa(r)),(yield n.data())[0]?[void 0,r]:[r,void 0]}case"Merge":{let n=i.inputNames.find(r=>Bn(r,t,e)!==void 0);if(n){let r=Bn(n,t,e);return[xa(r)]}return}case"Enter":{let n=b("frameName",i,t,e),r=b("tensor",i,t,e);return e.enterFrame(n),[xa(r)]}case"Exit":{let n=b("tensor",i,t,e);return e.exitFrame(),[xa(n)]}case"NextIteration":{let n=b("tensor",i,t,e);return e.nextIteration(),[xa(n)]}case"TensorArrayV3":{let n=b("size",i,t,e),r=b("dtype",i,t,e),o=b("elementShape",i,t,e),s=b("dynamicSize",i,t,e),a=b("clearAfterRead",i,t,e),c=b("identicalElementShapes",i,t,e),l=b("name",i,t,e),d=new bM(l,r,n,o,c,s,a);return e.addTensorArray(d),[d.idTensor,Mt(1)]}case"TensorArrayWriteV3":{let n=b("tensorArrayId",i,t,e),r=b("index",i,t,e),o=b("tensor",i,t,e),s=e.getTensorArray(n.id);return s.write(r,o),[s.idTensor]}case"TensorArrayReadV3":{let n=b("tensorArrayId",i,t,e),r=b("index",i,t,e);return[e.getTensorArray(n.id).read(r)]}case"TensorArrayGatherV3":{let n=b("tensorArrayId",i,t,e),r=b("indices",i,t,e),o=b("dtype",i,t,e);return[e.getTensorArray(n.id).gather(r,o)]}case"TensorArrayScatterV3":{let n=b("tensorArrayId",i,t,e),r=b("indices",i,t,e),o=b("tensor",i,t,e),s=e.getTensorArray(n.id);return s.scatter(r,o),[s.idTensor]}case"TensorArrayConcatV3":{let n=b("tensorArrayId",i,t,e),r=e.getTensorArray(n.id),o=b("dtype",i,t,e);return[r.concat(o)]}case"TensorArraySplitV3":{let n=b("tensorArrayId",i,t,e),r=b("tensor",i,t,e),o=b("lengths",i,t,e),s=e.getTensorArray(n.id);return s.split(o,r),[s.idTensor]}case"TensorArraySizeV3":{let n=b("tensorArrayId",i,t,e),r=e.getTensorArray(n.id);return[Mt(r.size(),"int32")]}case"TensorArrayCloseV3":{let n=b("tensorArrayId",i,t,e),r=e.getTensorArray(n.id);return r.clearAndClose(),[r.idTensor]}case"TensorListSetItem":{let n=b("tensorListId",i,t,e),r=b("index",i,t,e),o=b("tensor",i,t,e),s=e.getTensorList(n.id);return s.setItem(r,o),[s.idTensor]}case"TensorListGetItem":{let n=b("tensorListId",i,t,e),r=b("index",i,t,e),o=b("elementShape",i,t,e),s=b("elementDType",i,t,e);return[e.getTensorList(n.id).getItem(r,o,s)]}case"TensorListScatterV2":case"TensorListScatter":{let n=b("indices",i,t,e),r=b("tensor",i,t,e),o=b("elementShape",i,t,e),s=b("numElements",i,t,e),a=q7(r,n,o,s);return e.addTensorList(a),[a.idTensor]}case"TensorListReserve":case"EmptyTensorList":{let n=b("elementShape",i,t,e),r=b("elementDType",i,t,e),o;i.op==="TensorListReserve"?o="numElements":o="maxNumElements";let s=b(o,i,t,e),a=i.op==="TensorListReserve"?-1:s,c=W7(n,r,s,a);return e.addTensorList(c),[c.idTensor]}case"TensorListGather":{let n=b("tensorListId",i,t,e),r=b("indices",i,t,e),o=b("elementShape",i,t,e),s=b("elementDType",i,t,e);return[e.getTensorList(n.id).gather(r,s,o)]}case"TensorListStack":{let n=b("tensorListId",i,t,e),r=b("elementShape",i,t,e),o=b("elementDType",i,t,e),s=b("numElements",i,t,e);return[e.getTensorList(n.id).stack(r,o,s)]}case"TensorListFromTensor":{let n=b("tensor",i,t,e),r=b("elementShape",i,t,e),o=b("elementDType",i,t,e),s=G7(n,r,o);return e.addTensorList(s),[s.idTensor]}case"TensorListConcat":case"TensorListConcatV2":{let n=b("tensorListId",i,t,e),r=e.getTensorList(n.id),o=b("dtype",i,t,e),s=b("elementShape",i,t,e);return[r.concat(o,s)]}case"TensorListPushBack":{let n=b("tensorListId",i,t,e),r=b("tensor",i,t,e),o=e.getTensorList(n.id);return o.pushBack(r),[o.idTensor]}case"TensorListPopBack":{let n=b("tensorListId",i,t,e),r=b("elementShape",i,t,e),o=b("elementDType",i,t,e);return[e.getTensorList(n.id).popBack(r,o)]}case"TensorListSplit":{let n=b("tensor",i,t,e),r=b("elementShape",i,t,e),o=b("lengths",i,t,e),s=X7(n,o,r);return e.addTensorList(s),[s.idTensor]}case"TensorListLength":{let n=b("tensorListId",i,t,e),r=e.getTensorList(n.id);return[Mt(r.size(),"int32")]}case"TensorListResize":{let n=b("tensorListId",i,t,e),r=b("size",i,t,e),s=e.getTensorList(n.id).resize(r);return e.addTensorList(s),[s.idTensor]}default:throw TypeError(`Node type ${i.op} is not implemented`)}})});function Q7(i,t,e){let[n,r]=b("fusedOps",i,t,e),o=n==="biasadd",s=!o,a=r==="prelu",c=n==="fusedbatchnorm",l=b("numArgs",i,t,e);if(o){if(a&&l!==2)throw new Error("FusedConv2d and DepthwiseConv2d with BiasAdd and Prelu must have two extra arguments: bias and alpha.");if(!a&&o&&l!==1)throw new Error("FusedConv2d and DepthwiseConv2d with BiasAdd must have one extra argument: bias.")}if(c)throw new Error("FusedConv2d and DepthwiseConv2d with FusedBatchNorm is not supported");let d=b("strides",i,t,e),u=vb(i,t,e),h=b("dataFormat",i,t,e).toUpperCase(),m=b("dilations",i,t,e),[p,_]=b("args",i,t,e);s&&(_=p,p=void 0);let f=b("leakyreluAlpha",i,t,e);return{stride:d,pad:u,dataFormat:h,dilations:m,biasArg:p,preluArg:_,activationFunc:r,leakyreluAlpha:f}}var J7,eq=I(()=>{"use strict";pr();An();J7=(i,t,e,n=Si)=>{switch(i.op){case"Conv1D":{let r=b("stride",i,t,e),o=b("pad",i,t,e),s=b("dataFormat",i,t,e).toUpperCase(),a=b("dilation",i,t,e);return[n.conv1d(b("x",i,t,e),b("filter",i,t,e),r,o,s,a)]}case"Conv2D":{let r=b("strides",i,t,e),o=vb(i,t,e),s=b("dataFormat",i,t,e).toUpperCase(),a=b("dilations",i,t,e);return[n.conv2d(b("x",i,t,e),b("filter",i,t,e),[r[1],r[2]],o,s,[a[1],a[2]])]}case"_FusedConv2D":{let{stride:r,pad:o,dataFormat:s,dilations:a,biasArg:c,preluArg:l,activationFunc:d,leakyreluAlpha:u}=Q7(i,t,e);return[n.fused.conv2d({x:b("x",i,t,e),filter:b("filter",i,t,e),strides:[r[1],r[2]],pad:o,dataFormat:s,dilations:[a[1],a[2]],bias:c,activation:d,preluActivationWeights:l,leakyreluAlpha:u})]}case"FusedDepthwiseConv2dNative":{let{stride:r,pad:o,dataFormat:s,dilations:a,biasArg:c,preluArg:l,activationFunc:d,leakyreluAlpha:u}=Q7(i,t,e);return[n.fused.depthwiseConv2d({x:b("x",i,t,e),filter:b("filter",i,t,e),strides:[r[1],r[2]],pad:o,dataFormat:s,dilations:[a[1],a[2]],bias:c,activation:d,preluActivationWeights:l,leakyreluAlpha:u})]}case"Conv2DBackpropInput":case"Conv2dTranspose":{let r=b("outputShape",i,t,e),o=b("strides",i,t,e),s=vb(i,t,e);return[n.conv2dTranspose(b("x",i,t,e),b("filter",i,t,e),r,[o[1],o[2]],s)]}case"DepthwiseConv2dNative":case"DepthwiseConv2d":{let r=b("strides",i,t,e),o=vb(i,t,e),s=b("dilations",i,t,e),a=b("dataFormat",i,t,e).toUpperCase();return[n.depthwiseConv2d(b("input",i,t,e),b("filter",i,t,e),[r[1],r[2]],o,a,[s[1],s[2]])]}case"Conv3D":{let r=b("strides",i,t,e),o=b("pad",i,t,e),s=b("dataFormat",i,t,e).toUpperCase(),a=b("dilations",i,t,e);return[n.conv3d(b("x",i,t,e),b("filter",i,t,e),[r[1],r[2],r[3]],o,s,[a[1],a[2],a[3]])]}case"AvgPool":{let r=b("strides",i,t,e),o=b("pad",i,t,e),s=b("kernelSize",i,t,e);return[n.avgPool(b("x",i,t,e),[s[1],s[2]],[r[1],r[2]],o)]}case"MaxPool":{let r=b("strides",i,t,e),o=b("pad",i,t,e),s=b("kernelSize",i,t,e);return[n.maxPool(b("x",i,t,e),[s[1],s[2]],[r[1],r[2]],o)]}case"MaxPoolWithArgmax":{let r=b("strides",i,t,e),o=b("pad",i,t,e),s=b("kernelSize",i,t,e),a=b("includeBatchInIndex",i,t,e),{result:c,indexes:l}=n.maxPoolWithArgmax(b("x",i,t,e),[s[1],s[2]],[r[1],r[2]],o,a);return[c,l]}case"AvgPool3D":{let r=b("strides",i,t,e),o=b("pad",i,t,e),s=b("kernelSize",i,t,e);return[n.avgPool3d(b("x",i,t,e),[s[1],s[2],s[3]],[r[1],r[2],r[3]],o)]}case"MaxPool3D":{let r=b("strides",i,t,e),o=b("pad",i,t,e),s=b("kernelSize",i,t,e);return[n.maxPool3d(b("x",i,t,e),[s[1],s[2],s[3]],[r[1],r[2],r[3]],o)]}case"Dilation2D":{let r=b("strides",i,t,e),o=b("pad",i,t,e),s=b("dilations",i,t,e),a=r[1],c=r[2],l=s[1],d=s[2];return[n.dilation2d(b("x",i,t,e),b("filter",i,t,e),[a,c],o,[l,d],"NHWC")]}default:throw TypeError(`Node type ${i.op} is not implemented`)}}});var tq,iq=I(()=>{"use strict";pr();An();tq=(i,t,e,n=Si)=>{switch(i.op){case"Fill":{let r=b("shape",i,t,e),o=b("dtype",i,t,e),s=b("value",i,t,e);return[n.fill(r,s,o)]}case"LinSpace":{let r=b("start",i,t,e),o=b("stop",i,t,e),s=b("num",i,t,e);return[n.linspace(r,o,s)]}case"Multinomial":{let r=b("logits",i,t,e),o=b("numSamples",i,t,e),s=b("seed",i,t,e);return[n.multinomial(r,o,s)]}case"OneHot":{let r=b("indices",i,t,e),o=b("depth",i,t,e),s=b("onValue",i,t,e),a=b("offValue",i,t,e),c=b("dtype",i,t,e);return[n.oneHot(r,o,s,a,c)]}case"Ones":return[n.ones(b("shape",i,t,e),b("dtype",i,t,e))];case"OnesLike":return[n.onesLike(b("x",i,t,e))];case"RandomStandardNormal":return[n.randomStandardNormal(b("shape",i,t,e),b("dtype",i,t,e),b("seed",i,t,e))];case"RandomUniform":return[n.randomUniform(b("shape",i,t,e),b("minval",i,t,e),b("maxval",i,t,e),b("dtype",i,t,e))];case"RandomUniformInt":return[n.randomUniformInt(b("shape",i,t,e),b("minval",i,t,e),b("maxval",i,t,e),b("seed",i,t,e))];case"Range":{let r=b("start",i,t,e),o=b("stop",i,t,e),s=b("step",i,t,e);return[n.range(r,o,s,b("dtype",i,t,e))]}case"TruncatedNormal":{let r=b("shape",i,t,e),o=b("mean",i,t,e),s=b("stdDev",i,t,e),a=b("seed",i,t,e);return[n.truncatedNormal(r,o,s,b("dtype",i,t,e),a)]}case"Zeros":return[n.zeros(b("shape",i,t,e),b("dtype",i,t,e))];case"ZerosLike":return[n.zerosLike(b("x",i,t,e))];default:throw TypeError(`Node type ${i.op} is not implemented`)}}});function CF(i,t,e){let n=b("boxes",i,t,e),r=b("scores",i,t,e),o=b("maxOutputSize",i,t,e),s=b("iouThreshold",i,t,e),a=b("scoreThreshold",i,t,e),c=b("softNmsSigma",i,t,e);return{boxes:n,scores:r,maxOutputSize:o,iouThreshold:s,scoreThreshold:a,softNmsSigma:c}}var nq,rq=I(()=>{"use strict";pr();An();nq=(o,s,a,c,...l)=>te(void 0,[o,s,a,c,...l],function*(i,t,e,n,r=Si){switch(i.op){case"NonMaxSuppressionV5":{let{boxes:d,scores:u,maxOutputSize:h,iouThreshold:m,scoreThreshold:p,softNmsSigma:_}=CF(i,t,e),f=yield r.image.nonMaxSuppressionWithScoreAsync(d,u,h,m,p,_);return[f.selectedIndices,f.selectedScores]}case"NonMaxSuppressionV4":{let{boxes:d,scores:u,maxOutputSize:h,iouThreshold:m,scoreThreshold:p}=CF(i,t,e),_=b("padToMaxOutputSize",i,t,e),f=yield r.image.nonMaxSuppressionPaddedAsync(d,u,h,m,p,_);return[f.selectedIndices,f.validOutputs]}case"NonMaxSuppressionV3":case"NonMaxSuppressionV2":{let{boxes:d,scores:u,maxOutputSize:h,iouThreshold:m,scoreThreshold:p}=CF(i,t,e);return[yield r.image.nonMaxSuppressionAsync(d,u,h,m,p)]}case"Where":{let d=r.cast(b("condition",i,t,e),"bool"),u=[yield r.whereAsync(d)];return d.dispose(),u}case"ListDiff":return r.setdiff1dAsync(b("x",i,t,e),b("y",i,t,e));default:throw TypeError(`Node type ${i.op} is not implemented`)}})});var oq,sq=I(()=>{"use strict";pr();An();oq=(i,t,e,n=Si)=>{switch(i.op){case"LowerBound":{let r=b("sortedSequence",i,t,e),o=b("values",i,t,e);return[n.lowerBound(r,o)]}case"TopKV2":{let r=b("x",i,t,e),o=b("k",i,t,e),s=b("sorted",i,t,e),a=n.topk(r,o,s);return[a.values,a.indices]}case"UpperBound":{let r=b("sortedSequence",i,t,e),o=b("values",i,t,e);return[n.upperBound(r,o)]}case"Unique":{let r=b("x",i,t,e),o=n.unique(r);return[o.values,o.indices]}case"UniqueV2":{let r=b("x",i,t,e),o=b("axis",i,t,e),s=n.unique(r,o);return[s.values,s.indices]}default:throw TypeError(`Node type ${i.op} is not implemented`)}}});var aq,cq=I(()=>{"use strict";pr();An();aq=(i,t,e,n=Si)=>{switch(i.op){case"Const":return t[i.name];case"PlaceholderWithDefault":let r=b("default",i,t,e);return[Bn(i.name,t,e)||r];case"Placeholder":return[Bn(i.name,t,e)];case"Identity":case"StopGradient":case"FakeQuantWithMinMaxVars":{let d=b("x",i,t,e);return[xa(d)]}case"IdentityN":return b("x",i,t,e).map(d=>xa(d));case"Snapshot":let o=b("x",i,t,e);return[xa(o)];case"Shape":return[n.tensor1d(b("x",i,t,e).shape,"int32")];case"ShapeN":return b("x",i,t,e).map(d=>n.tensor1d(d.shape));case"Size":return[n.scalar(b("x",i,t,e).size,"int32")];case"Rank":return[n.scalar(b("x",i,t,e).rank,"int32")];case"NoOp":return[n.scalar(1)];case"Print":let s=b("x",i,t,e),a=b("data",i,t,e),c=b("message",i,t,e),l=b("summarize",i,t,e);console.warn("The graph has a tf.print() operation,usually used for debugging, which slows down performance."),console.log(c);for(let d=0;d<a.length;d++)console.log(Array.prototype.slice.call(a[d].dataSync()).slice(0,l));return[s];default:throw TypeError(`Node type ${i.op} is not implemented`)}}});var vM,lq=I(()=>{"use strict";Zo();pr();vM=class{get id(){return this.handle.id}constructor(t,e){this.keyDType=t,this.valueDType=e,this.handle=Mt(0),this.tensorMap=new Map,oo(this.handle)}clearAndClose(){this.tensorMap.forEach(t=>t.dispose()),this.tensorMap.clear(),this.handle.dispose()}size(){return this.tensorMap.size}tensorSize(){return Mt(this.size(),"int32")}import(t,e){return te(this,null,function*(){this.checkKeyAndValueTensor(t,e);let n=yield t.data();return this.tensorMap.forEach(r=>r.dispose()),this.tensorMap.clear(),Qt(()=>{let r=Yo(e),o=n.length,s=r.length;ke.assert(o===s,()=>`The number of elements doesn't match, keys has ${o} elements, the values has ${s} elements.`);for(let a=0;a<o;a++){let c=n[a],l=r[a];oo(l),this.tensorMap.set(c,l)}return this.handle})})}find(t,e){return te(this,null,function*(){this.checkKeyAndValueTensor(t,e);let n=yield t.data();return Qt(()=>{let r=[];for(let o=0;o<n.length;o++){let s=n[o],a=this.findWithDefault(s,e);r.push(a)}return Wr(r)})})}findWithDefault(t,e){let n=this.tensorMap.get(t);return n??e}checkKeyAndValueTensor(t,e){if(t.dtype!==this.keyDType)throw new Error(`Expect key dtype ${this.keyDType}, but got ${t.dtype}`);if(e.dtype!==this.valueDType)throw new Error(`Expect value dtype ${this.valueDType}, but got ${e.dtype}`)}}});var dq,uq=I(()=>{"use strict";lq();An();dq=(i,t,e,n)=>te(void 0,null,function*(){switch(i.op){case"HashTable":case"HashTableV2":{let r=n.getHashTableHandleByName(i.name);if(r!=null)return[r];{let o=b("keyDType",i,t,e),s=b("valueDType",i,t,e),a=new vM(o,s);return n.addHashTable(i.name,a),[a.handle]}}case"InitializeTable":case"InitializeTableV2":case"LookupTableImport":case"LookupTableImportV2":{let r=b("tableHandle",i,t,e,n),o=b("keys",i,t,e),s=b("values",i,t,e);return[yield n.getHashTableById(r.id).import(o,s)]}case"LookupTableFind":case"LookupTableFindV2":{let r=b("tableHandle",i,t,e,n),o=b("keys",i,t,e),s=b("defaultValue",i,t,e);return[yield n.getHashTableById(r.id).find(o,s)]}case"LookupTableSize":case"LookupTableSizeV2":{let r=b("tableHandle",i,t,e,n);return[n.getHashTableById(r.id).tensorSize()]}default:throw TypeError(`Node type ${i.op} is not implemented`)}})});var hq,mq=I(()=>{"use strict";pr();An();hq=(i,t,e,n=Si)=>{switch(i.op){case"ResizeBilinear":{let r=b("images",i,t,e),o=b("size",i,t,e),s=b("alignCorners",i,t,e),a=b("halfPixelCenters",i,t,e);return[n.image.resizeBilinear(r,[o[0],o[1]],s,a)]}case"ResizeNearestNeighbor":{let r=b("images",i,t,e),o=b("size",i,t,e),s=b("alignCorners",i,t,e),a=b("halfPixelCenters",i,t,e);return[n.image.resizeNearestNeighbor(r,[o[0],o[1]],s,a)]}case"CropAndResize":{let r=b("image",i,t,e),o=b("boxes",i,t,e),s=b("boxInd",i,t,e),a=b("cropSize",i,t,e),c=b("method",i,t,e),l=b("extrapolationValue",i,t,e);return[n.image.cropAndResize(r,o,s,a,c,l)]}case"ImageProjectiveTransformV3":{let r=b("images",i,t,e),o=b("transforms",i,t,e),s=b("outputShape",i,t,e),a=b("fillValue",i,t,e),c=b("interpolation",i,t,e),l=b("fillMode",i,t,e);return[n.image.transform(r,o,c.toLowerCase(),l.toLowerCase(),a,s)]}default:throw TypeError(`Node type ${i.op} is not implemented`)}}});var pq,fq=I(()=>{"use strict";pr();An();pq=(i,t,e,n=Si)=>{switch(i.op){case"Equal":return[n.equal(b("a",i,t,e),b("b",i,t,e))];case"NotEqual":return[n.notEqual(b("a",i,t,e),b("b",i,t,e))];case"Greater":return[n.greater(b("a",i,t,e),b("b",i,t,e))];case"GreaterEqual":return[n.greaterEqual(b("a",i,t,e),b("b",i,t,e))];case"Less":return[n.less(b("a",i,t,e),b("b",i,t,e))];case"LessEqual":return[n.lessEqual(b("a",i,t,e),b("b",i,t,e))];case"LogicalAnd":return[n.logicalAnd(b("a",i,t,e),b("b",i,t,e))];case"LogicalNot":return[n.logicalNot(b("a",i,t,e))];case"LogicalOr":return[n.logicalOr(b("a",i,t,e),b("b",i,t,e))];case"Select":case"SelectV2":return[n.where(b("condition",i,t,e),b("a",i,t,e),b("b",i,t,e))];case"BitwiseAnd":return[n.bitwiseAnd(b("a",i,t,e),b("b",i,t,e))];default:throw TypeError(`Node type ${i.op} is not implemented`)}}});var gq,_q=I(()=>{"use strict";pr();An();gq=(i,t,e,n=Si)=>{switch(i.op){case"BatchMatMul":case"BatchMatMulV2":case"MatMul":return[n.matMul(b("a",i,t,e),b("b",i,t,e),b("transposeA",i,t,e),b("transposeB",i,t,e))];case"Einsum":return[n.einsum(b("equation",i,t,e),...b("tensors",i,t,e))];case"Transpose":return[n.transpose(b("x",i,t,e),b("perm",i,t,e))];case"_FusedMatMul":let[r,o]=b("fusedOps",i,t,e),s=r==="biasadd",a=o==="prelu",c=b("numArgs",i,t,e),l=b("leakyreluAlpha",i,t,e);if(s){if(a&&c!==2)throw new Error("Fused MatMul with BiasAdd and Prelu must have two extra arguments: bias and alpha.");if(!a&&c!==1)throw new Error("Fused MatMul with BiasAdd must have one extra argument: bias.")}let[d,u]=b("args",i,t,e);return[n.fused.matMul({a:b("a",i,t,e),b:b("b",i,t,e),transposeA:b("transposeA",i,t,e),transposeB:b("transposeB",i,t,e),bias:d,activation:o,preluActivationWeights:u,leakyreluAlpha:l})];case"MatrixBandPart":return[n.linalg.bandPart(b("a",i,t,e),b("numLower",i,t,e),b("numUpper",i,t,e))];default:throw TypeError(`Node type ${i.op} is not implemented`)}}});var bq,vq=I(()=>{"use strict";pr();An();bq=(i,t,e,n=Si)=>{switch(i.op){case"EuclideanNorm":return[n.euclideanNorm(b("x",i,t,e),b("axis",i,t,e),b("keepDims",i,t,e))];case"FusedBatchNorm":case"FusedBatchNormV2":return[n.batchNorm(b("x",i,t,e),b("mean",i,t,e),b("variance",i,t,e),b("offset",i,t,e),b("scale",i,t,e),b("epsilon",i,t,e))];case"FusedBatchNormV3":return[n.batchNorm(b("x",i,t,e),b("mean",i,t,e),b("variance",i,t,e),b("offset",i,t,e),b("scale",i,t,e),b("epsilon",i,t,e))];case"LRN":return[n.localResponseNormalization(b("x",i,t,e),b("radius",i,t,e),b("bias",i,t,e),b("alpha",i,t,e),b("beta",i,t,e))];case"Softmax":return[n.softmax(b("x",i,t,e))];case"LogSoftmax":return[n.logSoftmax(b("x",i,t,e))];default:throw TypeError(`Node type ${i.op} is not implemented`)}}});var yq,xq=I(()=>{"use strict";pr();An();yq=(i,t,e,n=Si)=>{switch(i.op){case"RaggedGather":{let{outputNestedSplits:r,outputDenseValues:o}=n.raggedGather(b("paramsNestedSplits",i,t,e),b("paramsDenseValues",i,t,e),b("indices",i,t,e),b("outputRaggedRank",i,t,e));return r.concat(o)}case"RaggedRange":{let{rtNestedSplits:r,rtDenseValues:o}=n.raggedRange(b("starts",i,t,e),b("limits",i,t,e),b("splits",i,t,e));return[r,o]}case"RaggedTensorToTensor":return[n.raggedTensorToTensor(b("shape",i,t,e),b("values",i,t,e),b("defaultValue",i,t,e),b("rowPartitionTensors",i,t,e),b("rowPartitionTypes",i,t,e))];default:throw TypeError(`Node type ${i.op} is not implemented`)}}});var wq,Mq=I(()=>{"use strict";pr();An();wq=(i,t,e,n=Si)=>{switch(i.op){case"Max":{let a=b("axis",i,t,e),c=b("keepDims",i,t,e);return[n.max(b("x",i,t,e),a,c)]}case"Mean":{let a=b("axis",i,t,e),c=b("keepDims",i,t,e);return[n.mean(b("x",i,t,e),a,c)]}case"Min":{let a=b("axis",i,t,e),c=b("keepDims",i,t,e);return[n.min(b("x",i,t,e),a,c)]}case"Sum":{let a=b("axis",i,t,e),c=b("keepDims",i,t,e);return[n.sum(b("x",i,t,e),a,c)]}case"All":{let a=b("axis",i,t,e),c=b("keepDims",i,t,e);return[n.all(b("x",i,t,e),a,c)]}case"Any":{let a=b("axis",i,t,e),c=b("keepDims",i,t,e);return[n.any(b("x",i,t,e),a,c)]}case"ArgMax":{let a=b("axis",i,t,e);return[n.argMax(b("x",i,t,e),a)]}case"ArgMin":{let a=b("axis",i,t,e);return[n.argMin(b("x",i,t,e),a)]}case"Prod":{let a=b("axis",i,t,e),c=b("keepDims",i,t,e);return[n.prod(b("x",i,t,e),a,c)]}case"Cumprod":{let a=b("axis",i,t,e),c=b("exclusive",i,t,e),l=b("reverse",i,t,e);return[n.cumprod(b("x",i,t,e),a,c,l)]}case"Cumsum":{let a=b("axis",i,t,e),c=b("exclusive",i,t,e),l=b("reverse",i,t,e);return[n.cumsum(b("x",i,t,e),a,c,l)]}case"Bincount":let r=b("x",i,t,e),o=b("weights",i,t,e),s=b("size",i,t,e);return[n.bincount(r,o,s)];case"DenseBincount":{let a=b("x",i,t,e),c=b("weights",i,t,e),l=b("size",i,t,e),d=b("binaryOutput",i,t,e);return[n.denseBincount(a,c,l,d)]}default:throw TypeError(`Node type ${i.op} is not implemented`)}}});var Cq,Sq=I(()=>{"use strict";Zo();pr();An();Cq=(i,t,e,n=Si)=>{switch(i.op){case"ConcatV2":case"Concat":{let r=b("n",i,t,e),o=b("axis",i,t,e),s=b("tensors",i,t,e);return s=s.slice(0,r),[n.concat(s,o)]}case"Gather":{let r=b("x",i,t,e),o=b("indices",i,t,e);return[n.gather(r,n.cast(o,"int32"),0)]}case"GatherV2":{let r=b("axis",i,t,e),o=b("batchDims",i,t,e),s=b("x",i,t,e),a=b("indices",i,t,e);return[n.gather(s,n.cast(a,"int32"),r,o)]}case"Reverse":{let r=b("dims",i,t,e),o=[];for(let a=0;a<r.length;a++)r[a]&&o.push(a);let s=b("x",i,t,e);return[n.reverse(s,o)]}case"ReverseV2":{let r=b("axis",i,t,e),o=b("x",i,t,e);return[n.reverse(o,r)]}case"Slice":{let r=b("begin",i,t,e),o=b("size",i,t,e);return[n.slice(b("x",i,t,e),r,o)]}case"StridedSlice":{let r=b("begin",i,t,e),o=b("end",i,t,e),s=b("strides",i,t,e),a=b("beginMask",i,t,e),c=b("endMask",i,t,e),l=b("ellipsisMask",i,t,e),d=b("newAxisMask",i,t,e),u=b("shrinkAxisMask",i,t,e),h=b("x",i,t,e);return[n.stridedSlice(h,r,o,s,a,c,l,d,u)]}case"Pack":return Qt(()=>{let r=b("axis",i,t,e),o=b("tensors",i,t,e),s=o[0].shape,a=n.squeeze(o[0]).shape,c=o.map(l=>{let d=ke.arraysEqual(l.shape,s);if(!d&&!ke.arraysEqual(n.squeeze(l).shape,a))throw new Error("the input tensors shape does not match");return d?l:n.reshape(l,s)});return[n.stack(c,r)]});case"Unpack":{let r=b("axis",i,t,e),o=b("tensor",i,t,e);return n.unstack(o,r)}case"Tile":{let r=b("reps",i,t,e);return[n.tile(b("x",i,t,e),r)]}case"Split":case"SplitV":{let r=b("axis",i,t,e),o=b("numOrSizeSplits",i,t,e),s=b("x",i,t,e);return n.split(s,o,r)}case"ScatterNd":{let r=b("indices",i,t,e),o=b("values",i,t,e),s=b("shape",i,t,e);return[n.scatterND(r,o,s)]}case"GatherNd":{let r=b("x",i,t,e),o=b("indices",i,t,e);return[n.gatherND(r,o)]}case"SparseToDense":{let r=b("sparseIndices",i,t,e),o=b("outputShape",i,t,e),s=b("sparseValues",i,t,e),a=b("defaultValue",i,t,e);return[n.sparseToDense(r,s,o,s.dtype===a.dtype?a:n.cast(a,s.dtype))]}case"TensorScatterUpdate":{let r=b("indices",i,t,e),o=b("values",i,t,e),s=b("tensor",i,t,e);return[n.tensorScatterUpdate(s,r,o)]}default:throw TypeError(`Node type ${i.op} is not implemented`)}}});var Eq,Tq=I(()=>{"use strict";pr();An();Eq=(i,t,e,n=Si)=>{switch(i.op){case"SparseFillEmptyRows":{let{outputIndices:r,outputValues:o,emptyRowIndicator:s,reverseIndexMap:a}=n.sparse.sparseFillEmptyRows(b("indices",i,t,e),b("values",i,t,e),b("denseShape",i,t,e),b("defaultValue",i,t,e));return[r,o,s,a]}case"SparseReshape":{let{outputIndices:r,outputShape:o}=n.sparse.sparseReshape(b("inputIndices",i,t,e),b("inputShape",i,t,e),b("newShape",i,t,e));return[r,o]}case"SparseSegmentMean":return[n.sparse.sparseSegmentMean(b("data",i,t,e),b("indices",i,t,e),b("segmentIds",i,t,e))];case"SparseSegmentSum":return[n.sparse.sparseSegmentSum(b("data",i,t,e),b("indices",i,t,e),b("segmentIds",i,t,e))];default:throw TypeError(`Node type ${i.op} is not implemented`)}}});var Iq,Dq=I(()=>{"use strict";pr();An();Iq=(i,t,e,n=Si)=>{switch(i.op){case"FFT":return[n.fft(b("x",i,t,e))];case"IFFT":return[n.ifft(b("x",i,t,e))];case"RFFT":return[n.rfft(b("x",i,t,e))];case"IRFFT":return[n.irfft(b("x",i,t,e))];default:throw TypeError(`Node type ${i.op} is not implemented`)}}});var kq,Aq=I(()=>{"use strict";pr();An();kq=(i,t,e,n=Si)=>{switch(i.op){case"StaticRegexReplace":return[n.string.staticRegexReplace(b("input",i,t,e),b("pattern",i,t,e),b("rewrite",i,t,e),b("replaceGlobal",i,t,e))];case"StringNGrams":{let{nGrams:r,nGramsSplits:o}=n.string.stringNGrams(b("data",i,t,e),b("dataSplits",i,t,e),b("separator",i,t,e),b("nGramWidths",i,t,e),b("leftPad",i,t,e),b("rightPad",i,t,e),b("padWidth",i,t,e),b("preserveShortSequences",i,t,e));return[r,o]}case"StringSplit":{let{indices:r,values:o,shape:s}=n.string.stringSplit(b("input",i,t,e),b("delimiter",i,t,e),b("skipEmpty",i,t,e));return[r,o,s]}case"StringToHashBucketFast":return[n.string.stringToHashBucketFast(b("input",i,t,e),b("numBuckets",i,t,e))];default:throw TypeError(`Node type ${i.op} is not implemented`)}}});var Pq,Rq=I(()=>{"use strict";pr();An();Pq=(i,t,e,n=Si)=>{switch(i.op){case"Cast":return[n.cast(b("x",i,t,e),b("dtype",i,t,e))];case"ExpandDims":{let r=b("axis",i,t,e);return[n.expandDims(b("x",i,t,e),r)]}case"Squeeze":{let r=b("axis",i,t,e);return[n.squeeze(b("x",i,t,e),r)]}case"Reshape":return[n.reshape(b("x",i,t,e),b("shape",i,t,e))];case"EnsureShape":return[n.ensureShape(b("x",i,t,e),b("shape",i,t,e))];case"MirrorPad":return[n.mirrorPad(b("x",i,t,e),b("padding",i,t,e),b("mode",i,t,e))];case"PadV2":case"Pad":return[n.pad(b("x",i,t,e),b("padding",i,t,e),b("constantValue",i,t,e))];case"SpaceToBatchND":{let r=b("blockShape",i,t,e),o=b("paddings",i,t,e);return[n.spaceToBatchND(b("x",i,t,e),r,o)]}case"BatchToSpaceND":{let r=b("blockShape",i,t,e),o=b("crops",i,t,e);return[n.batchToSpaceND(b("x",i,t,e),r,o)]}case"DepthToSpace":{let r=b("blockSize",i,t,e),o=b("dataFormat",i,t,e).toUpperCase();return[n.depthToSpace(b("x",i,t,e),r,o)]}case"BroadcastTo":return[n.broadcastTo(b("x",i,t,e),b("shape",i,t,e))];case"BroadcastArgs":return[n.broadcastArgs(b("s0",i,t,e),b("s1",i,t,e))];default:throw TypeError(`Node type ${i.op} is not implemented`)}}});function SF(i,t,e,n,r=Qt){let o=((s,a,c)=>{switch(s.category){case"arithmetic":return r(()=>V7(s,a,c));case"basic_math":return r(()=>z7(s,a,c));case"control":return Z7(s,a,c);case"convolution":return r(()=>J7(s,a,c));case"creation":return r(()=>tq(s,a,c));case"dynamic":return nq(s,a,c);case"evaluation":return r(()=>oq(s,a,c));case"image":return r(()=>hq(s,a,c));case"graph":return r(()=>aq(s,a,c));case"logical":return r(()=>pq(s,a,c));case"matrices":return r(()=>gq(s,a,c));case"normalization":return r(()=>bq(s,a,c));case"ragged":return r(()=>yq(s,a,c));case"reduction":return r(()=>wq(s,a,c));case"slice_join":return r(()=>Cq(s,a,c));case"sparse":return r(()=>Eq(s,a,c));case"spectral":return r(()=>Iq(s,a,c));case"string":return r(()=>kq(s,a,c));case"transformation":return r(()=>Pq(s,a,c));case"hash_table":return dq(s,a,c,n);case"custom":let l=nM(s.op);if(l&&l.customExecutor)return l.customExecutor(new gM(s,a,c));throw TypeError(`Custom op ${s.op} is not registered.`);default:throw TypeError(`Unknown op '${s.op}'. File an issue at https://github.com/tensorflow/tfjs/issues so we can add it, or register a custom execution with tf.registerOp()`)}})(i,t,e);return ke.isPromise(o)?o.then(s=>[].concat(s)):[].concat(o)}var Nq=I(()=>{"use strict";Zo();B7();rM();U7();H7();K7();eq();iq();rq();sq();cq();uq();mq();fq();_q();vq();xq();Mq();Sq();Tq();Dq();Aq();Rq();});var xb,Oq=I(()=>{"use strict";xb=class{constructor(t={},e={},n={},r={},o){this.weightMap=t,this.tensorArrayMap=e,this.tensorListMap=n,this.functionMap=r,this.parseNodeNameCache=o,this.rootContext={id:0,frameName:"",iterationId:0},this.contexts=[this.rootContext],this.lastId=0,this.generateCurrentContextIds()}newFrame(t,e){return{id:t,frameName:e,iterationId:0}}set currentContext(t){this.contexts!==t&&(this.contexts=t,this.generateCurrentContextIds())}get currentContext(){return this.contexts}get currentContextId(){return this._currentContextIds[0]}get currentContextIds(){return this._currentContextIds}generateCurrentContextIds(){let t=[];for(let e=0;e<this.contexts.length-1;e++){let n=this.contexts.slice(0,this.contexts.length-e);t.push(this.contextIdforContexts(n))}t.push(""),this._currentContextIds=t}contextIdforContexts(t){return t?t.map(e=>e.id===0&&e.iterationId===0?"":`${e.frameName}-${e.iterationId}`).join("/"):""}enterFrame(t){this.contexts&&(this.lastId++,this.contexts=this.contexts.slice(),this.contexts.push(this.newFrame(this.lastId,t)),this._currentContextIds.unshift(this.contextIdforContexts(this.contexts)))}exitFrame(){if(this.contexts&&this.contexts.length>1)this.contexts=this.contexts.slice(),this.contexts.splice(-1),this.currentContextIds.shift();else throw new Error("Cannot exit frame, the context is empty")}nextIteration(){if(this.contexts&&this.contexts.length>0){this.contexts=this.contexts.slice(),this.lastId++;let t=Object.assign({},this.contexts[this.contexts.length-1]);t.iterationId+=1,t.id=this.lastId,this.contexts.splice(-1,1,t),this._currentContextIds.splice(0,1,this.contextIdforContexts(this.contexts))}else throw new Error("Cannot increase frame iteration, the context is empty")}getWeight(t){return this.weightMap[t]}addTensorArray(t){this.tensorArrayMap[t.id]=t}getTensorArray(t){return this.tensorArrayMap[t]}addTensorList(t){this.tensorListMap[t.id]=t}getTensorList(t){return this.tensorListMap[t]}dispose(t){for(let e in this.tensorArrayMap)this.tensorArrayMap[e].clearAndClose(t);for(let e in this.tensorListMap)this.tensorListMap[e].clearAndClose(t)}}});function EF(i,t,e,n){let r=new Set,o=[],s=null,a=null,c=new Set,l=new Set(Object.keys(i).map(h=>ao(h)[0]));n=n||[];let d=new Set(n.map(h=>ao(h.name)[0])),u=[...t];for(;u.length>0;){let h=u.pop();if((Ad(h)||x0e(h)||w0e(h))&&s==null&&(s=h,a=s.children.map(m=>m.name).filter(m=>r.has(m))),r.add(h.name),e[h.name]==null&&!l.has(h.name)&&!d.has(h.name)){if(h.inputs.length===0){o.push(h.name);continue}h.inputs.forEach(m=>{c.has(m.name)||(c.add(m.name),u.push(m))})}}return{inputs:i,outputs:t,usedNodes:r,missingInputs:o,dynamicNode:s,syncInputs:a}}function Fq(i,t){let{usedNodes:e,inputs:n}=t,r=Object.keys(n).map(f=>ao(f)[0]).map(f=>i.nodes[f]),o=i.initNodes||[],s=f=>e.has(typeof f=="string"?f:f.name);function a(f){return[...new Map(f.map(g=>[g.name,g])).values()]}let c=a([...r,...i.weights,...o]).filter(s),l=a([...c,...Object.values(i.nodes)]).filter(s),d=new Map(l.map(f=>[f.name,f])),u={};for(let f of l){u[f.name]=u[f.name]||0;for(let g of f.children)s(g)||(u[g.name]=Number.POSITIVE_INFINITY),u[g.name]=(u[g.name]||0)+1}let h=Object.entries(u).filter(([,f])=>f===0).map(([f])=>f),m=[...h];for(;h.length>0;){let f=h.pop(),g=d.get(f);for(let C of g.children.filter(s))--u[C.name]===0&&(m.push(C.name),h.push(C.name))}let p=m.map(f=>d.get(f)),_=g0e(p,c);return _0e(_,c),_}function g0e(i,t){let e=new Map(i.map(s=>[s.name,s])),n=t.map(s=>s.name),r=new Set(n);for(;n.length>0;){let s=n.pop(),a=e.get(s);for(let c of a.children)!e.has(c.name)||r.has(c.name)||(r.add(c.name),n.push(c.name))}return i.filter(s=>r.has(s.name))}function _0e(i,t){let e=new Map(i.map((a,c)=>[a.name,c])),n=new Set(t.map(a=>a.name)),r=a=>n.has(typeof a=="string"?a:a.name),o=new Set(i.map(a=>a.name)),s=a=>o.has(typeof a=="string"?a:a.name);for(let a of i){for(let c of a.children.filter(s)){if(!e.has(c.name))throw new jp(`Child ${c.name} of node ${a.name} is unreachable.`);if(e.get(a.name)>e.get(c.name))throw new jp(`Node ${a.name} is scheduled to run after its child ${c.name}.`)}if(!r(a))for(let c of a.inputs){if(!e.has(c.name))throw new jp(`Input ${c.name} of node ${a.name} is unreachable.`);if(e.get(c.name)>e.get(a.name))throw new jp(`Node ${a.name} is scheduled to run before its input ${c.name}.`)}}}function Lq(i){let t=new Map(i.map((a,c)=>[a.name,c])),e=Number.MAX_SAFE_INTEGER,n=i.map((a,c)=>Ad(a)?e:c),r=a=>{let c=n[t.get(a.name)];return c??-1},o=i.map((a,c)=>a.children.map(r).reduce((l,d)=>Math.max(l,d),n[c])),s=new Map;for(let a=0;a<i.length;++a){let c=o[a];if(c===e)continue;let l=i[a],d=i[c];s.has(d.name)||s.set(d.name,[]),s.get(d.name).push(l)}return s}function Ad(i){return b0e.has(i.op)}function x0e(i){return v0e.has(i.op)}function w0e(i){return y0e.has(i.op)}var jp,b0e,v0e,y0e,Bq=I(()=>{"use strict";An();jp=class extends Error{constructor(t){super(`NodesExecutionOrderError: ${t}`)}};b0e=new Set(["Switch","Merge","Enter","Exit","NextIteration","StatelessIf","StatelessWhile","if","While"]),v0e=new Set(["NonMaxSuppressionV2","NonMaxSuppressionV3","NonMaxSuppressionV5","Where"]),y0e=new Set(["HashTable","HashTableV2","LookupTableImport","LookupTableImportV2","LookupTableFind","LookupTableFindV2","LookupTableSize","LookupTableSizeV2"])});var wb,Vq=I(()=>{"use strict";Zo();An();Nq();Oq();Bq();wb=class i{get weightIds(){return this.parent?this.parent.weightIds:this._weightIds}get functionExecutorMap(){return this.parent?this.parent.functionExecutorMap:this._functionExecutorMap}get weightMap(){return this.parent?this.parent.weightMap:this._weightMap}set weightMap(t){let e=Object.keys(t).map(n=>t[n].map(r=>r.id));this._weightIds=[].concat(...e),this._weightMap=t}set resourceManager(t){this._resourceManager=t}get inputs(){return this._inputs.map(t=>({name:t.name,shape:t.attrParams.shape?t.attrParams.shape.value:void 0,dtype:t.attrParams.dtype?t.attrParams.dtype.value:void 0}))}get outputs(){return this._outputs.map(t=>({name:t.name,shape:t.attrParams.shape?t.attrParams.shape.value:void 0,dtype:t.attrParams.dtype?t.attrParams.dtype.value:void 0}))}get inputNodes(){return this._inputs.map(t=>t.signatureKey||t.name)}get outputNodes(){return this._outputs.map(t=>{let e=t.signatureKey||t.name;return t.defaultOutput?`${e}:${t.defaultOutput}`:e})}get functions(){return Object.keys(this._functions).reduce((t,e)=>(t[e]=this._functions[e].signature,t),{})}constructor(t,e){this.graph=t,this.parent=e,this.compiledMap=new Map,this.parseNodeNameCache=new Map,this._weightMap={},this.SEPARATOR=",",this._functions={},this._functionExecutorMap={},this.keepIntermediateTensors=!1,this._outputs=t.outputs,this._inputs=t.inputs,this._initNodes=t.initNodes,this._signature=t.signature,this._functions=t.functions,t.functions!=null&&Object.keys(t.functions).forEach(n=>{this._functionExecutorMap[n]=new i(t.functions[n],this)})}getCompilationKey(t,e){let n=t.map(o=>o.name).sort(),r=e.map(o=>o.name).sort();return n.join(this.SEPARATOR)+"--"+r.join(this.SEPARATOR)}compile(t,e){let n=EF(t,e,this.weightMap,this._initNodes),{missingInputs:r,dynamicNode:o,syncInputs:s}=n;if(o!=null)throw new Error(`This execution contains the node '${o.name}', which has the dynamic op '${o.op}'. Please use model.executeAsync() instead. Alternatively, to avoid the dynamic ops, specify the inputs [${s}]`);if(r.length>0){let l=e.map(u=>u.name),d=Object.keys(t);throw new Error(`Cannot compute the outputs [${l}] from the provided inputs [${d}]. Missing the following inputs: [${r}]`)}let a=Fq(this.graph,n),c=Lq(a);return{orderedNodes:a,nodeLiveUntilMap:c}}cloneAndKeepTensor(t){if(t==null)return null;let e=t.clone();return oo(e),e}cloneTensorList(t){return t?t.map(n=>this.cloneAndKeepTensor(n)):null}cloneTensorMap(t){return Object.fromEntries(Object.entries(t).map(([e,n])=>[e,this.cloneTensorList(n)]))}execute(t,e){this.disposeIntermediateTensors(),t=this.mapInputs(t);let n=Object.keys(t).sort();this.checkInputs(t),this.checkInputShapeAndType(t),e=this.mapOutputs(e),this.checkOutputs(e);let r=n.map(h=>this.graph.nodes[ao(h)[0]]),o=e.map(h=>ao(h)[0]),s=new Set(o),a=o.map(h=>this.graph.nodes[h]);a.length===0&&(a=this._outputs);let c=this.getCompilationKey(r,a),l=this.compiledMap.get(c);l==null&&(l=this.compile(t,a),this.compiledMap.set(c,l));try{this.keepIntermediateTensors=ot().getBool("KEEP_INTERMEDIATE_TENSORS")}catch(h){this.keepIntermediateTensors=!1,console.warn(h.message)}let d={},u={};return Qt(()=>{let h=new xb(this.weightMap,d,u,this.functionExecutorMap,this.parseNodeNameCache),m=Object.assign({},this.weightMap);this.keepIntermediateTensors&&(this.clonedTensorsMap=this.cloneTensorMap(this.weightMap)),Object.keys(t).forEach(g=>{let[C,M]=ao(g,h),S=[];S[M]=t[g],m[C]=S,this.keepIntermediateTensors&&(this.clonedTensorsMap[C]=this.cloneTensorList(S))});let p=this.getFrozenTensorIds(m),{orderedNodes:_,nodeLiveUntilMap:f}=l;for(let g of _){if(m[g.name])continue;let C=SF(g,m,h,this._resourceManager);if(ke.isPromise(C))throw new Error(`The execution of the op '${g.op}' returned a promise. Please use model.executeAsync() instead.`);m[g.name]=C,this.keepIntermediateTensors&&(this.clonedTensorsMap[g.name]=this.cloneTensorList(C)),this.checkTensorForDisposalWithNodeLiveUntilInfo(g,m,h,p,s,f.get(g.name))}return this.parent==null&&h.dispose(p),e.map(g=>Bn(g,m,h))})}getFrozenTensorIds(t){let e=[].concat.apply([],Object.keys(t).map(n=>t[n]).map(n=>n.map(r=>r.id)));return new Set(e)}checkTensorForDisposal(t,e,n,r,o,s,a){if(!(Ad(e)||s.has(t))){for(let c of n[t])c!=null&&(a[c.id]=(a[c.id]||0)+e.children.length);for(let c of e.inputs){if(Ad(c))continue;let l=tF(c.name,n,r);if(l!=null)for(let d of l){if(!d||d.kept||o.has(d.id))continue;let u=a[d.id];u===1?(d.dispose(),delete a[d.id]):u!=null&&a[d.id]--}}}}checkTensorForDisposalWithNodeLiveUntilInfo(t,e,n,r,o,s){function a(c){return Ad(c)||o.has(c.name)}if(!(Ad(t)||s==null))for(let c of s){if(a(c))continue;let l=tF(c.name,e,n);for(let d of l)!d||d.kept||r.has(d.id)||d.dispose()}}executeAsync(t,e){return te(this,null,function*(){return this._executeAsync(t,e)})}disposeIntermediateTensors(){this.clonedTensorsMap&&(Object.values(this.clonedTensorsMap).forEach(t=>{for(let e of t)e&&!e.isDisposed&&e.dispose()}),this.clonedTensorsMap=null)}getIntermediateTensors(){return this.clonedTensorsMap}_executeAsync(s,a){return te(this,arguments,function*(t,e,n=!1,r={},o={}){this.disposeIntermediateTensors(),n||(t=this.mapInputs(t),this.checkInputs(t),this.checkInputShapeAndType(t),e=this.mapOutputs(e),this.checkOutputs(e));try{this.keepIntermediateTensors=ot().getBool("KEEP_INTERMEDIATE_TENSORS")}catch(p){this.keepIntermediateTensors=!1,console.warn(p.message)}let c=new xb(this.weightMap,r,o,this.functionExecutorMap,this.parseNodeNameCache);this.keepIntermediateTensors&&(this.clonedTensorsMap=this.cloneTensorMap(this.weightMap));let l=yield this.executeWithControlFlow(t,c,e,n),d=e.map(p=>Bn(p,l,c)),u=d.map(p=>p.id),h=Object.keys(t).map(p=>t[p].id),m=new Set([...u,...h,...this.weightIds]);return Object.values(l).forEach(p=>{p.forEach(_=>{_&&!_.isDisposed&&!m.has(_.id)&&_.dispose()})}),this.parent==null&&c.dispose(m),d})}executeFunctionAsync(t,e,n){return te(this,null,function*(){let r=t.reduce((o,s,a)=>(o[this.inputs[a].name]=s,o),{});return this._executeAsync(r,this.outputNodes,!0,e,n)})}executeWithControlFlow(t,e,n,r){return te(this,null,function*(){let o=Object.keys(t),s=o.map(S=>this.graph.nodes[ao(S)[0]]),a=n.map(S=>ao(S)[0]),c=new Set(a),l=a.map(S=>this.graph.nodes[S]);l.length===0&&(l=this._outputs);let{usedNodes:d,missingInputs:u,dynamicNode:h,syncInputs:m}=EF(t,l,this.weightMap,this._initNodes),p=[...s,...this.graph.weights,...this._initNodes||[]].map(S=>({node:S,contexts:e.currentContext})),_=Object.assign({},this.weightMap);Object.keys(t).forEach(S=>{let[R,N]=ao(S),L=[];L[N]=t[S],_[R]=L});let f={},g=this.getFrozenTensorIds(_),C={};for(;p.length>0;){let S=this.processStack(s,p,e,_,C,g,c,f,d);yield Promise.all(S)}h==null&&!r&&console.warn("This model execution did not contain any nodes with control flow or dynamic output shapes. You can use model.execute() instead.");let M=l.filter(S=>!Ad(S)&&!Bn(S.name,_,e)).map(S=>S.name);if(M.length>0){let S="";throw h!=null&&(S=`Alternatively, to avoid the dynamic ops, use model.execute() and specify the inputs [${m}]`),new Error(`Cannot compute the outputs [${M}] from the provided inputs [${o}]. Consider providing the following inputs: [${u}]. ${S}`)}return _})}processStack(t,e,n,r,o,s,a,c,l){let d=[];for(;e.length>0;){let u=e.pop();n.currentContext=u.contexts;let h="";if(u.node.op==="Enter"&&b("isConstant",u.node,r,n)&&([h]=ya(u.node.name,n)),r[u.node.name]==null){let m=SF(u.node,r,n,this._resourceManager);h||([h]=ya(u.node.name,n));let p=n.currentContext;ke.isPromise(m)?d.push(m.then(_=>(r[h]=_,this.keepIntermediateTensors&&(this.clonedTensorsMap[h]=this.cloneTensorList(_)),n.currentContext=p,this.checkTensorForDisposal(h,u.node,r,n,s,a,c),this.processChildNodes(u.node,e,n,r,o,l),_))):(r[h]=m,this.keepIntermediateTensors&&(this.clonedTensorsMap[h]=this.cloneTensorList(m)),this.checkTensorForDisposal(h,u.node,r,n,s,a,c),this.processChildNodes(u.node,e,n,r,o,l))}else this.processChildNodes(u.node,e,n,r,o,l)}return d}processChildNodes(t,e,n,r,o,s){t.children.forEach(a=>{let[c]=ya(a.name,n);o[c]||!s.has(a.name)||(a.op==="Merge"?a.inputNames.some(l=>!!Bn(l,r,n))&&(o[c]=!0,e.push({contexts:n.currentContext,node:a})):a.inputNames.every(l=>!!Bn(l,r,n))&&(o[c]=!0,e.push({contexts:n.currentContext,node:a})))})}dispose(){Object.keys(this.weightMap).forEach(t=>this.weightMap[t].forEach(e=>e.dispose()))}checkInputShapeAndType(t){Object.keys(t).forEach(e=>{let n=t[e],[r]=ao(e),o=this.graph.nodes[r];if(o.attrParams.shape&&o.attrParams.shape.value){let s=o.attrParams.shape.value,a=s.length===n.shape.length&&n.shape.every((c,l)=>s[l]===-1||s[l]===c);ke.assert(a,()=>`The shape of dict['${o.name}'] provided in model.execute(dict) must be [${s}], but was [${n.shape}]`)}o.attrParams.dtype&&o.attrParams.dtype.value&&ke.assert(n.dtype===o.attrParams.dtype.value,()=>`The dtype of dict['${o.name}'] provided in model.execute(dict) must be ${o.attrParams.dtype.value}, but was ${n.dtype}`)})}mapInputs(t){var e,n;let r={};for(let o in t){let s=(n=(e=this._signature)===null||e===void 0?void 0:e.inputs)===null||n===void 0?void 0:n[o];s!=null?r[s.name]=t[o]:r[o]=t[o]}return r}checkInputs(t){let e=Object.keys(t).filter(n=>{let[r]=ao(n);return this.graph.nodes[r]==null});if(e.length>0)throw new Error(`The dict provided in model.execute(dict) has keys: [${e}] that are not part of graph`)}mapOutputs(t){return t.map(e=>{var n,r;let o=(r=(n=this._signature)===null||n===void 0?void 0:n.outputs)===null||r===void 0?void 0:r[e];return o!=null?o.name:e},{})}checkOutputs(t){t.forEach(e=>{let[n]=ao(e);if(!this.graph.nodes[n])throw new Error(`The output '${e}' is not found in the graph`)})}}});var yM,Uq=I(()=>{"use strict";yM=class{constructor(t={},e={}){this.hashTableNameToHandle=t,this.hashTableMap=e}addHashTable(t,e){this.hashTableNameToHandle[t]=e.handle,this.hashTableMap[e.id]=e}getHashTableHandleByName(t){return this.hashTableNameToHandle[t]}getHashTableById(t){return this.hashTableMap[t]}dispose(){for(let t in this.hashTableMap)this.hashTableMap[t].clearAndClose(),delete this.hashTableMap[t];for(let t in this.hashTableNameToHandle)this.hashTableNameToHandle[t].dispose(),delete this.hashTableNameToHandle[t]}}});function zq(n){return te(this,arguments,function*(i,t={},e=dc){if(i==null)throw new Error("modelUrl in loadGraphModel() cannot be null. Please provide a url or an IOHandler that loads the model");t==null&&(t={}),t.fromTFHub&&typeof i=="string"&&(i=S0e(i));let r=new $p(i,t,e);return yield r.load(),r})}function Hq(i){if(i==null)throw new Error("modelUrl in loadGraphModelSync() cannot be null. Please provide model artifacts or an IOHandler that loads the model");let t;if(i instanceof Array){let[n,r]=i;if(!n)throw new Error("modelJSON must be the first element of the array");if(!r||!(r instanceof ArrayBuffer))throw new Error("An ArrayBuffer of weights must be the second element of the array");if(!("modelTopology"in n))throw new Error("Model JSON is missing 'modelTopology'");if(!("weightsManifest"in n))throw new Error("Model JSON is missing 'weightsManifest'");let o=dc.getWeightSpecs(n.weightsManifest),s=dc.getModelArtifactsForJSONSync(n,o,r);t=dc.fromMemorySync(s)}else if("load"in i)t=i;else if("modelTopology"in i&&"weightSpecs"in i&&"weightData"in i)t=dc.fromMemorySync(i);else throw new Error("Unknown model format");let e=new $p(t);return e.load(),e}function S0e(i){return i.endsWith("/")||(i=i+"/"),`${i}${C0e}${M0e}`}var M0e,C0e,$p,jq=I(()=>{"use strict";Zo();wF();Vq();Uq();fd();M0e="?tfjs-format=file",C0e="model.json",$p=class{get modelVersion(){return this.version}get inputNodes(){return this.executor.inputNodes}get outputNodes(){return this.executor.outputNodes}get inputs(){return this.executor.inputs}get outputs(){return this.executor.outputs}get weights(){return this.executor.weightMap}get metadata(){return this.artifacts.userDefinedMetadata}get modelSignature(){return this.signature}get modelStructuredOutputKeys(){return this.structuredOutputKeys}constructor(t,e={},n=dc){this.modelUrl=t,this.loadOptions=e,this.version="n/a",this.io=n,e==null&&(this.loadOptions={}),this.resourceManager=new yM}findIOHandler(){let t=this.modelUrl;if(t.load!=null)this.handler=t;else if(this.loadOptions.requestInit!=null)this.handler=this.io.browserHTTPRequest(t,this.loadOptions);else{let e=this.io.getLoadHandlers(t,this.loadOptions);if(e.length===0)e.push(this.io.browserHTTPRequest(t,this.loadOptions));else if(e.length>1)throw new Error(`Found more than one (${e.length}) load handlers for URL '${[t]}'`);this.handler=e[0]}}load(){if(this.findIOHandler(),this.handler.load==null)throw new Error("Cannot proceed with model loading because the IOHandler provided does not have the `load` method implemented.");let t=this.handler.load();return ke.isPromise(t)?t.then(e=>e.getWeightStream==null?this.loadSync(e):this.loadStreaming(e)):this.loadSync(t)}loadSync(t){let e=this.io.decodeWeights(t.weightData,t.weightSpecs);return this.loadWithWeightMap(t,e)}loadStreaming(t){return te(this,null,function*(){if(t.getWeightStream==null)throw new Error("Model artifacts missing streamWeights function");let e=yield rw(t.getWeightStream(),t.weightSpecs);return this.loadWithWeightMap(t,e)})}loadWithWeightMap(t,e){this.artifacts=t;let n=this.artifacts.modelTopology,r=this.artifacts.signature;if(this.artifacts.userDefinedMetadata!=null){let o=this.artifacts.userDefinedMetadata;o.signature!=null&&(r=o.signature),o.structuredOutputKeys!=null&&(this.structuredOutputKeys=o.structuredOutputKeys)}if(this.signature=r,this.version=`${n.versions.producer}.${n.versions.minConsumer}`,this.executor=new wb(yb.Instance.transformGraph(n,this.signature)),this.executor.weightMap=this.convertTensorMapToTensorsMap(e),this.executor.resourceManager=this.resourceManager,t.modelInitializer!=null&&t.modelInitializer.node!=null){let o=yb.Instance.transformGraph(t.modelInitializer);this.initializer=new wb(o),this.initializer.weightMap=this.executor.weightMap,this.initializer.resourceManager=this.resourceManager,this.initializerSignature=t.initializerSignature}return!0}save(t,e){return te(this,null,function*(){if(typeof t=="string"){let n=this.io.getSaveHandlers(t);if(n.length===0)throw new Error(`Cannot find any save handlers for URL '${t}'`);if(n.length>1)throw new Error(`Found more than one (${n.length}) save handlers for URL '${t}'`);t=n[0]}if(t.save==null)throw new Error("GraphModel.save() cannot proceed because the IOHandler provided does not have the `save` attribute defined.");return t.save(this.artifacts)})}addStructuredOutputNames(t){if(this.structuredOutputKeys){let e=t instanceof Oi?[t]:t,n={};return e.forEach((r,o)=>n[this.structuredOutputKeys[o]]=r),n}return t}predict(t,e){let n=this.execute(t,this.outputNodes);return this.addStructuredOutputNames(n)}predictAsync(t,e){return te(this,null,function*(){let n=yield this.executeAsync(t,this.outputNodes);return this.addStructuredOutputNames(n)})}normalizeInputs(t){var e;if(!(t instanceof Oi)&&!Array.isArray(t)){let o=(e=this.signature)===null||e===void 0?void 0:e.inputs;if(o!=null)for(let s in o){let a=o[s];a.resourceId!=null&&(t[s]=this.resourceIdToCapturedInput[a.resourceId])}return t}t=Array.isArray(t)?t:[t];let n=Object.keys(this.resourceIdToCapturedInput).length;if(t.length+n!==this.inputNodes.length)throw new Error(`Input tensor count mismatch, the graph model has ${this.inputNodes.length-n} non-resource placeholders, while there are ${t.length} input tensors provided.`);let r=0;return this.inputNodes.reduce((o,s)=>{var a,c,l;let d=(l=(c=(a=this.signature)===null||a===void 0?void 0:a.inputs)===null||c===void 0?void 0:c[s])===null||l===void 0?void 0:l.resourceId;return d!=null?o[s]=this.resourceIdToCapturedInput[d]:o[s]=t[r++],o},{})}normalizeOutputs(t){return t=t||this.outputNodes,Array.isArray(t)?t:[t]}executeInitializerGraph(){return this.initializer==null?[]:this.initializerSignature==null?this.initializer.execute({},[]):this.initializer.execute({},Object.keys(this.initializerSignature.outputs))}executeInitializerGraphAsync(){return te(this,null,function*(){return this.initializer==null?[]:this.initializerSignature==null?this.initializer.executeAsync({},[]):this.initializer.executeAsync({},Object.keys(this.initializerSignature.outputs))})}setResourceIdToCapturedInput(t){if(this.resourceIdToCapturedInput={},this.initializerSignature){let e=this.initializerSignature.outputs,n=Object.keys(e);for(let r=0;r<n.length;r++){let o=n[r],s=e[o];this.resourceIdToCapturedInput[s.resourceId]=t[r]}}}execute(t,e){this.resourceIdToCapturedInput==null&&this.setResourceIdToCapturedInput(this.executeInitializerGraph()),t=this.normalizeInputs(t),e=this.normalizeOutputs(e);let n=this.executor.execute(t,e);return n.length>1?n:n[0]}executeAsync(t,e){return te(this,null,function*(){this.resourceIdToCapturedInput==null&&this.setResourceIdToCapturedInput(yield this.executeInitializerGraphAsync()),t=this.normalizeInputs(t),e=this.normalizeOutputs(e);let n=yield this.executor.executeAsync(t,e);return n.length>1?n:n[0]})}getIntermediateTensors(){return this.executor.getIntermediateTensors()}disposeIntermediateTensors(){this.executor.disposeIntermediateTensors()}convertTensorMapToTensorsMap(t){return Object.keys(t).reduce((e,n)=>(e[n]=[t[n]],e),{})}dispose(){this.executor.dispose(),this.initializer&&(this.initializer.dispose(),this.resourceIdToCapturedInput&&Dn(this.resourceIdToCapturedInput)),this.resourceManager.dispose()}}});var $q,Gq=I(()=>{"use strict";$q="4.22.0"});var Wq={};Mi(Wq,{GraphModel:()=>$p,deregisterOp:()=>f7,loadGraphModel:()=>zq,loadGraphModelSync:()=>Hq,registerOp:()=>p7,version_converter:()=>$q});var qq=I(()=>{"use strict";u7();jq();rM();Gq();});var Yq=rs((xM,Xq)=>{"use strict";(function(i,t){typeof xM=="object"&&typeof Xq<"u"?t(xM,(qq(),Q3(Wq)),(Zo(),Q3(J2))):typeof define=="function"&&define.amd?define(["exports","@tensorflow/tfjs-converter","@tensorflow/tfjs-core"],t):t((i=i||self).cocoSsd=i.cocoSsd||{},i.tf,i.tf)})(xM,function(i,t,e){"use strict";let n={1:{name:"/m/01g317",id:1,displayName:"person"},2:{name:"/m/0199g",id:2,displayName:"bicycle"},3:{name:"/m/0k4j",id:3,displayName:"car"},4:{name:"/m/04_sv",id:4,displayName:"motorcycle"},5:{name:"/m/05czz6l",id:5,displayName:"airplane"},6:{name:"/m/01bjv",id:6,displayName:"bus"},7:{name:"/m/07jdr",id:7,displayName:"train"},8:{name:"/m/07r04",id:8,displayName:"truck"},9:{name:"/m/019jd",id:9,displayName:"boat"},10:{name:"/m/015qff",id:10,displayName:"traffic light"},11:{name:"/m/01pns0",id:11,displayName:"fire hydrant"},13:{name:"/m/02pv19",id:13,displayName:"stop sign"},14:{name:"/m/015qbp",id:14,displayName:"parking meter"},15:{name:"/m/0cvnqh",id:15,displayName:"bench"},16:{name:"/m/015p6",id:16,displayName:"bird"},17:{name:"/m/01yrx",id:17,displayName:"cat"},18:{name:"/m/0bt9lr",id:18,displayName:"dog"},19:{name:"/m/03k3r",id:19,displayName:"horse"},20:{name:"/m/07bgp",id:20,displayName:"sheep"},21:{name:"/m/01xq0k1",id:21,displayName:"cow"},22:{name:"/m/0bwd_0j",id:22,displayName:"elephant"},23:{name:"/m/01dws",id:23,displayName:"bear"},24:{name:"/m/0898b",id:24,displayName:"zebra"},25:{name:"/m/03bk1",id:25,displayName:"giraffe"},27:{name:"/m/01940j",id:27,displayName:"backpack"},28:{name:"/m/0hnnb",id:28,displayName:"umbrella"},31:{name:"/m/080hkjn",id:31,displayName:"handbag"},32:{name:"/m/01rkbr",id:32,displayName:"tie"},33:{name:"/m/01s55n",id:33,displayName:"suitcase"},34:{name:"/m/02wmf",id:34,displayName:"frisbee"},35:{name:"/m/071p9",id:35,displayName:"skis"},36:{name:"/m/06__v",id:36,displayName:"snowboard"},37:{name:"/m/018xm",id:37,displayName:"sports ball"},38:{name:"/m/02zt3",id:38,displayName:"kite"},39:{name:"/m/03g8mr",id:39,displayName:"baseball bat"},40:{name:"/m/03grzl",id:40,displayName:"baseball glove"},41:{name:"/m/06_fw",id:41,displayName:"skateboard"},42:{name:"/m/019w40",id:42,displayName:"surfboard"},43:{name:"/m/0dv9c",id:43,displayName:"tennis racket"},44:{name:"/m/04dr76w",id:44,displayName:"bottle"},46:{name:"/m/09tvcd",id:46,displayName:"wine glass"},47:{name:"/m/08gqpm",id:47,displayName:"cup"},48:{name:"/m/0dt3t",id:48,displayName:"fork"},49:{name:"/m/04ctx",id:49,displayName:"knife"},50:{name:"/m/0cmx8",id:50,displayName:"spoon"},51:{name:"/m/04kkgm",id:51,displayName:"bowl"},52:{name:"/m/09qck",id:52,displayName:"banana"},53:{name:"/m/014j1m",id:53,displayName:"apple"},54:{name:"/m/0l515",id:54,displayName:"sandwich"},55:{name:"/m/0cyhj_",id:55,displayName:"orange"},56:{name:"/m/0hkxq",id:56,displayName:"broccoli"},57:{name:"/m/0fj52s",id:57,displayName:"carrot"},58:{name:"/m/01b9xk",id:58,displayName:"hot dog"},59:{name:"/m/0663v",id:59,displayName:"pizza"},60:{name:"/m/0jy4k",id:60,displayName:"donut"},61:{name:"/m/0fszt",id:61,displayName:"cake"},62:{name:"/m/01mzpv",id:62,displayName:"chair"},63:{name:"/m/02crq1",id:63,displayName:"couch"},64:{name:"/m/03fp41",id:64,displayName:"potted plant"},65:{name:"/m/03ssj5",id:65,displayName:"bed"},67:{name:"/m/04bcr3",id:67,displayName:"dining table"},70:{name:"/m/09g1w",id:70,displayName:"toilet"},72:{name:"/m/07c52",id:72,displayName:"tv"},73:{name:"/m/01c648",id:73,displayName:"laptop"},74:{name:"/m/020lf",id:74,displayName:"mouse"},75:{name:"/m/0qjjc",id:75,displayName:"remote"},76:{name:"/m/01m2v",id:76,displayName:"keyboard"},77:{name:"/m/050k8",id:77,displayName:"cell phone"},78:{name:"/m/0fx9l",id:78,displayName:"microwave"},79:{name:"/m/029bxz",id:79,displayName:"oven"},80:{name:"/m/01k6s3",id:80,displayName:"toaster"},81:{name:"/m/0130jx",id:81,displayName:"sink"},82:{name:"/m/040b_t",id:82,displayName:"refrigerator"},84:{name:"/m/0bt_c3",id:84,displayName:"book"},85:{name:"/m/01x3z",id:85,displayName:"clock"},86:{name:"/m/02s195",id:86,displayName:"vase"},87:{name:"/m/01lsmm",id:87,displayName:"scissors"},88:{name:"/m/0kmg4",id:88,displayName:"teddy bear"},89:{name:"/m/03wvsk",id:89,displayName:"hair drier"},90:{name:"/m/012xff",id:90,displayName:"toothbrush"}};class r{constructor(s,a){this.modelPath=a||`https://storage.googleapis.com/tfjs-models/savedmodel/${this.getPrefix(s)}/model.json`}getPrefix(s){return s==="lite_mobilenet_v2"?`ssd${s}`:`ssd_${s}`}load(){return te(this,null,function*(){this.model=yield t.loadGraphModel(this.modelPath);let s=e.zeros([1,300,300,3],"int32"),a=yield this.model.executeAsync(s);yield Promise.all(a.map(c=>c.data())),a.map(c=>c.dispose()),s.dispose()})}infer(s,a,c){return te(this,null,function*(){let l=e.tidy(()=>(s instanceof e.Tensor||(s=e.browser.fromPixels(s)),e.expandDims(s))),d=l.shape[1],u=l.shape[2],h=yield this.model.executeAsync(l),m=h[0].dataSync(),p=h[1].dataSync();l.dispose(),e.dispose(h);let[_,f]=this.calculateMaxScores(m,h[0].shape[1],h[0].shape[2]),g=e.getBackend();e.getBackend()==="webgl"&&e.setBackend("cpu");let C=e.tidy(()=>{let S=e.tensor2d(p,[h[1].shape[1],h[1].shape[3]]);return e.image.nonMaxSuppression(S,_,a,c,c)}),M=C.dataSync();return C.dispose(),g!==e.getBackend()&&e.setBackend(g),this.buildDetectedObjects(u,d,p,_,M,f)})}buildDetectedObjects(s,a,c,l,d,u){let h=d.length,m=[];for(let p=0;p<h;p++){let _=[];for(let S=0;S<4;S++)_[S]=c[4*d[p]+S];let f=_[0]*a,g=_[1]*s,C=_[2]*a,M=_[3]*s;_[0]=g,_[1]=f,_[2]=M-g,_[3]=C-f,m.push({bbox:_,class:n[u[d[p]]+1].displayName,score:l[d[p]]})}return m}calculateMaxScores(s,a,c){let l=[],d=[];for(let u=0;u<a;u++){let h=Number.MIN_VALUE,m=-1;for(let p=0;p<c;p++)s[u*c+p]>h&&(h=s[u*c+p],m=p);l[u]=h,d[u]=m}return[l,d]}detect(s,a=20,c=.5){return te(this,null,function*(){return this.infer(s,a,c)})}dispose(){this.model!=null&&this.model.dispose()}}i.ObjectDetection=r,i.load=function(){return te(this,arguments,function*(o={}){if(e==null)throw new Error("Cannot find TensorFlow.js. If you are using a <script> tag, please also include @tensorflow/tfjs on the page before using this model.");let s=o.base||"lite_mobilenet_v2",a=o.modelUrl;if(["mobilenet_v1","mobilenet_v2","lite_mobilenet_v2"].indexOf(s)===-1)throw new Error(`ObjectDetection constructed with invalid base model ${s}. Valid names are 'mobilenet_v1', 'mobilenet_v2' and 'lite_mobilenet_v2'.`);let c=new r(s,a);return yield c.load(),c})},i.version="2.2.3",Object.defineProperty(i,"__esModule",{value:!0})})});var J3=null,g0=!1,mE=1,b0=Symbol("SIGNAL");function Ai(i){let t=J3;return J3=i,t}function HK(){return g0}var fE={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function jK(i){if(!(yE(i)&&!i.dirty)&&!(!i.dirty&&i.lastCleanEpoch===mE)){if(!i.producerMustRecompute(i)&&!v0(i)){i.dirty=!1,i.lastCleanEpoch=mE;return}i.producerRecomputeValue(i),i.dirty=!1,i.lastCleanEpoch=mE}}function $K(i){if(i.liveConsumerNode===void 0)return;let t=g0;g0=!0;try{for(let e of i.liveConsumerNode)e.dirty||eB(e)}finally{g0=t}}function eB(i){i.dirty=!0,$K(i),i.consumerMarkedDirty?.(i)}function gE(i){return i&&(i.nextProducerIndex=0),Ai(i)}function _E(i,t){if(Ai(t),!(!i||i.producerNode===void 0||i.producerIndexOfThis===void 0||i.producerLastReadVersion===void 0)){if(yE(i))for(let e=i.nextProducerIndex;e<i.producerNode.length;e++)vE(i.producerNode[e],i.producerIndexOfThis[e]);for(;i.producerNode.length>i.nextProducerIndex;)i.producerNode.pop(),i.producerLastReadVersion.pop(),i.producerIndexOfThis.pop()}}function v0(i){_0(i);for(let t=0;t<i.producerNode.length;t++){let e=i.producerNode[t],n=i.producerLastReadVersion[t];if(n!==e.version||(jK(e),n!==e.version))return!0}return!1}function bE(i){if(_0(i),yE(i))for(let t=0;t<i.producerNode.length;t++)vE(i.producerNode[t],i.producerIndexOfThis[t]);i.producerNode.length=i.producerLastReadVersion.length=i.producerIndexOfThis.length=0,i.liveConsumerNode&&(i.liveConsumerNode.length=i.liveConsumerIndexOfThis.length=0)}function vE(i,t){if(GK(i),_0(i),i.liveConsumerNode.length===1)for(let n=0;n<i.producerNode.length;n++)vE(i.producerNode[n],i.producerIndexOfThis[n]);let e=i.liveConsumerNode.length-1;if(i.liveConsumerNode[t]=i.liveConsumerNode[e],i.liveConsumerIndexOfThis[t]=i.liveConsumerIndexOfThis[e],i.liveConsumerNode.length--,i.liveConsumerIndexOfThis.length--,t<i.liveConsumerNode.length){let n=i.liveConsumerIndexOfThis[t],r=i.liveConsumerNode[t];_0(r),r.producerIndexOfThis[n]=t}}function yE(i){return i.consumerIsAlwaysLive||(i?.liveConsumerNode?.length??0)>0}function _0(i){i.producerNode??=[],i.producerIndexOfThis??=[],i.producerLastReadVersion??=[]}function GK(i){i.liveConsumerNode??=[],i.liveConsumerIndexOfThis??=[]}function WK(){throw new Error}var qK=WK;function tB(i){qK=i}function iB(i,t,e){let n=Object.create(XK);e&&(n.consumerAllowSignalWrites=!0),n.fn=i,n.schedule=t;let r=c=>{n.cleanupFn=c};function o(c){return c.fn===null&&c.schedule===null}function s(c){o(c)||(bE(c),c.cleanupFn(),c.fn=null,c.schedule=null,c.cleanupFn=pE)}let a=()=>{if(n.fn===null)return;if(HK())throw new Error("Schedulers cannot synchronously execute watches while scheduling.");if(n.dirty=!1,n.hasRun&&!v0(n))return;n.hasRun=!0;let c=gE(n);try{n.cleanupFn(),n.cleanupFn=pE,n.fn(r)}finally{_E(n,c)}};return n.ref={notify:()=>eB(n),run:a,cleanup:()=>n.cleanupFn(),destroy:()=>s(n),[b0]:n},n.ref}var pE=()=>{},XK=mi(ye({},fE),{consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:i=>{i.schedule!==null&&i.schedule(i.ref)},hasRun:!1,cleanupFn:pE});function Rt(i){return typeof i=="function"}function Xh(i){let e=i(n=>{Error.call(n),n.stack=new Error().stack});return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}var y0=Xh(i=>function(e){i(this),this.message=e?`${e.length} errors occurred during unsubscription:
${e.map((n,r)=>`${r+1}) ${n.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=e});function ru(i,t){if(i){let e=i.indexOf(t);0<=e&&i.splice(e,1)}}var qt=class i{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;let{_parentage:e}=this;if(e)if(this._parentage=null,Array.isArray(e))for(let o of e)o.remove(this);else e.remove(this);let{initialTeardown:n}=this;if(Rt(n))try{n()}catch(o){t=o instanceof y0?o.errors:[o]}let{_finalizers:r}=this;if(r){this._finalizers=null;for(let o of r)try{nB(o)}catch(s){t=t??[],s instanceof y0?t=[...t,...s.errors]:t.push(s)}}if(t)throw new y0(t)}}add(t){var e;if(t&&t!==this)if(this.closed)nB(t);else{if(t instanceof i){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(e=this._finalizers)!==null&&e!==void 0?e:[]).push(t)}}_hasParent(t){let{_parentage:e}=this;return e===t||Array.isArray(e)&&e.includes(t)}_addParent(t){let{_parentage:e}=this;this._parentage=Array.isArray(e)?(e.push(t),e):e?[e,t]:t}_removeParent(t){let{_parentage:e}=this;e===t?this._parentage=null:Array.isArray(e)&&ru(e,t)}remove(t){let{_finalizers:e}=this;e&&ru(e,t),t instanceof i&&t._removeParent(this)}};qt.EMPTY=(()=>{let i=new qt;return i.closed=!0,i})();var xE=qt.EMPTY;function x0(i){return i instanceof qt||i&&"closed"in i&&Rt(i.remove)&&Rt(i.add)&&Rt(i.unsubscribe)}function nB(i){Rt(i)?i():i.unsubscribe()}var Ws={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Yh={setTimeout(i,t,...e){let{delegate:n}=Yh;return n?.setTimeout?n.setTimeout(i,t,...e):setTimeout(i,t,...e)},clearTimeout(i){let{delegate:t}=Yh;return(t?.clearTimeout||clearTimeout)(i)},delegate:void 0};function w0(i){Yh.setTimeout(()=>{let{onUnhandledError:t}=Ws;if(t)t(i);else throw i})}function Af(){}var rB=wE("C",void 0,void 0);function oB(i){return wE("E",void 0,i)}function sB(i){return wE("N",i,void 0)}function wE(i,t,e){return{kind:i,value:t,error:e}}var ou=null;function Zh(i){if(Ws.useDeprecatedSynchronousErrorHandling){let t=!ou;if(t&&(ou={errorThrown:!1,error:null}),i(),t){let{errorThrown:e,error:n}=ou;if(ou=null,e)throw n}}else i()}function aB(i){Ws.useDeprecatedSynchronousErrorHandling&&ou&&(ou.errorThrown=!0,ou.error=i)}var su=class extends qt{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,x0(t)&&t.add(this)):this.destination=KK}static create(t,e,n){return new Sc(t,e,n)}next(t){this.isStopped?CE(sB(t),this):this._next(t)}error(t){this.isStopped?CE(oB(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?CE(rB,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},YK=Function.prototype.bind;function ME(i,t){return YK.call(i,t)}var SE=class{constructor(t){this.partialObserver=t}next(t){let{partialObserver:e}=this;if(e.next)try{e.next(t)}catch(n){M0(n)}}error(t){let{partialObserver:e}=this;if(e.error)try{e.error(t)}catch(n){M0(n)}else M0(t)}complete(){let{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(e){M0(e)}}},Sc=class extends su{constructor(t,e,n){super();let r;if(Rt(t)||!t)r={next:t??void 0,error:e??void 0,complete:n??void 0};else{let o;this&&Ws.useDeprecatedNextContext?(o=Object.create(t),o.unsubscribe=()=>this.unsubscribe(),r={next:t.next&&ME(t.next,o),error:t.error&&ME(t.error,o),complete:t.complete&&ME(t.complete,o)}):r=t}this.destination=new SE(r)}};function M0(i){Ws.useDeprecatedSynchronousErrorHandling?aB(i):w0(i)}function ZK(i){throw i}function CE(i,t){let{onStoppedNotification:e}=Ws;e&&Yh.setTimeout(()=>e(i,t))}var KK={closed:!0,next:Af,error:ZK,complete:Af};var Kh=typeof Symbol=="function"&&Symbol.observable||"@@observable";function _o(i){return i}function EE(...i){return TE(i)}function TE(i){return i.length===0?_o:i.length===1?i[0]:function(e){return i.reduce((n,r)=>r(n),e)}}var jt=(()=>{class i{constructor(e){e&&(this._subscribe=e)}lift(e){let n=new i;return n.source=this,n.operator=e,n}subscribe(e,n,r){let o=JK(e)?e:new Sc(e,n,r);return Zh(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(e){try{return this._subscribe(e)}catch(n){e.error(n)}}forEach(e,n){return n=cB(n),new n((r,o)=>{let s=new Sc({next:a=>{try{e(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:r});this.subscribe(s)})}_subscribe(e){var n;return(n=this.source)===null||n===void 0?void 0:n.subscribe(e)}[Kh](){return this}pipe(...e){return TE(e)(this)}toPromise(e){return e=cB(e),new e((n,r)=>{let o;this.subscribe(s=>o=s,s=>r(s),()=>n(o))})}}return i.create=t=>new i(t),i})();function cB(i){var t;return(t=i??Ws.Promise)!==null&&t!==void 0?t:Promise}function QK(i){return i&&Rt(i.next)&&Rt(i.error)&&Rt(i.complete)}function JK(i){return i&&i instanceof su||QK(i)&&x0(i)}function IE(i){return Rt(i?.lift)}function ti(i){return t=>{if(IE(t))return t.lift(function(e){try{return i(e,this)}catch(n){this.error(n)}});throw new TypeError("Unable to lift unknown Observable type")}}function Kt(i,t,e,n,r){return new DE(i,t,e,n,r)}var DE=class extends su{constructor(t,e,n,r,o,s){super(t),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=e?function(a){try{e(a)}catch(c){t.error(c)}}:super._next,this._error=r?function(a){try{r(a)}catch(c){t.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=n?function(){try{n()}catch(a){t.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:e}=this;super.unsubscribe(),!e&&((t=this.onFinalize)===null||t===void 0||t.call(this))}}};function Qh(){return ti((i,t)=>{let e=null;i._refCount++;let n=Kt(t,void 0,void 0,void 0,()=>{if(!i||i._refCount<=0||0<--i._refCount){e=null;return}let r=i._connection,o=e;e=null,r&&(!o||r===o)&&r.unsubscribe(),t.unsubscribe()});i.subscribe(n),n.closed||(e=i.connect())})}var Dl=class extends jt{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,IE(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){let t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new qt;let e=this.getSubject();t.add(this.source.subscribe(Kt(e,void 0,()=>{this._teardown(),e.complete()},n=>{this._teardown(),e.error(n)},()=>this._teardown()))),t.closed&&(this._connection=null,t=qt.EMPTY)}return t}refCount(){return Qh()(this)}};var lB=Xh(i=>function(){i(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Fe=(()=>{class i extends jt{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(e){let n=new C0(this,this);return n.operator=e,n}_throwIfClosed(){if(this.closed)throw new lB}next(e){Zh(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let n of this.currentObservers)n.next(e)}})}error(e){Zh(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=e;let{observers:n}=this;for(;n.length;)n.shift().error(e)}})}complete(){Zh(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:e}=this;for(;e.length;)e.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var e;return((e=this.observers)===null||e===void 0?void 0:e.length)>0}_trySubscribe(e){return this._throwIfClosed(),super._trySubscribe(e)}_subscribe(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)}_innerSubscribe(e){let{hasError:n,isStopped:r,observers:o}=this;return n||r?xE:(this.currentObservers=null,o.push(e),new qt(()=>{this.currentObservers=null,ru(o,e)}))}_checkFinalizedStatuses(e){let{hasError:n,thrownError:r,isStopped:o}=this;n?e.error(r):o&&e.complete()}asObservable(){let e=new jt;return e.source=this,e}}return i.create=(t,e)=>new C0(t,e),i})(),C0=class extends Fe{constructor(t,e){super(),this.destination=t,this.source=e}next(t){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.next)===null||n===void 0||n.call(e,t)}error(t){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.error)===null||n===void 0||n.call(e,t)}complete(){var t,e;(e=(t=this.destination)===null||t===void 0?void 0:t.complete)===null||e===void 0||e.call(t)}_subscribe(t){var e,n;return(n=(e=this.source)===null||e===void 0?void 0:e.subscribe(t))!==null&&n!==void 0?n:xE}};var Pi=class extends Fe{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){let e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){let{hasError:t,thrownError:e,_value:n}=this;if(t)throw e;return this._throwIfClosed(),n}next(t){super.next(this._value=t)}};var Pf={now(){return(Pf.delegate||Date).now()},delegate:void 0};var au=class extends Fe{constructor(t=1/0,e=1/0,n=Pf){super(),this._bufferSize=t,this._windowTime=e,this._timestampProvider=n,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,e)}next(t){let{isStopped:e,_buffer:n,_infiniteTimeWindow:r,_timestampProvider:o,_windowTime:s}=this;e||(n.push(t),!r&&n.push(o.now()+s)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();let e=this._innerSubscribe(t),{_infiniteTimeWindow:n,_buffer:r}=this,o=r.slice();for(let s=0;s<o.length&&!t.closed;s+=n?1:2)t.next(o[s]);return this._checkFinalizedStatuses(t),e}_trimBuffer(){let{_bufferSize:t,_timestampProvider:e,_buffer:n,_infiniteTimeWindow:r}=this,o=(r?1:2)*t;if(t<1/0&&o<n.length&&n.splice(0,n.length-o),!r){let s=e.now(),a=0;for(let c=1;c<n.length&&n[c]<=s;c+=2)a=c;a&&n.splice(0,a+1)}}};var S0=class extends qt{constructor(t,e){super()}schedule(t,e=0){return this}};var Rf={setInterval(i,t,...e){let{delegate:n}=Rf;return n?.setInterval?n.setInterval(i,t,...e):setInterval(i,t,...e)},clearInterval(i){let{delegate:t}=Rf;return(t?.clearInterval||clearInterval)(i)},delegate:void 0};var E0=class extends S0{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){var n;if(this.closed)return this;this.state=t;let r=this.id,o=this.scheduler;return r!=null&&(this.id=this.recycleAsyncId(o,r,e)),this.pending=!0,this.delay=e,this.id=(n=this.id)!==null&&n!==void 0?n:this.requestAsyncId(o,this.id,e),this}requestAsyncId(t,e,n=0){return Rf.setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,e,n=0){if(n!=null&&this.delay===n&&this.pending===!1)return e;e!=null&&Rf.clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let n=this._execute(t,e);if(n)return n;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let n=!1,r;try{this.work(t)}catch(o){n=!0,r=o||new Error("Scheduled action threw falsy error")}if(n)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){let{id:t,scheduler:e}=this,{actions:n}=e;this.work=this.state=this.scheduler=null,this.pending=!1,ru(n,this),t!=null&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null,super.unsubscribe()}}};var Jh=class i{constructor(t,e=i.now){this.schedulerActionCtor=t,this.now=e}schedule(t,e=0,n){return new this.schedulerActionCtor(this,t).schedule(n,e)}};Jh.now=Pf.now;var T0=class extends Jh{constructor(t,e=Jh.now){super(t,e),this.actions=[],this._active=!1}flush(t){let{actions:e}=this;if(this._active){e.push(t);return}let n;this._active=!0;do if(n=t.execute(t.state,t.delay))break;while(t=e.shift());if(this._active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}};var Nf=new T0(E0),dB=Nf;var Zn=new jt(i=>i.complete());function I0(i){return i&&Rt(i.schedule)}function kE(i){return i[i.length-1]}function D0(i){return Rt(kE(i))?i.pop():void 0}function Ra(i){return I0(kE(i))?i.pop():void 0}function uB(i,t){return typeof kE(i)=="number"?i.pop():t}function mB(i,t,e,n){function r(o){return o instanceof e?o:new e(function(s){s(o)})}return new(e||(e=Promise))(function(o,s){function a(d){try{l(n.next(d))}catch(u){s(u)}}function c(d){try{l(n.throw(d))}catch(u){s(u)}}function l(d){d.done?o(d.value):r(d.value).then(a,c)}l((n=n.apply(i,t||[])).next())})}function hB(i){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&i[t],n=0;if(e)return e.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&n>=i.length&&(i=void 0),{value:i&&i[n++],done:!i}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function cu(i){return this instanceof cu?(this.v=i,this):new cu(i)}function pB(i,t,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=e.apply(i,t||[]),r,o=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),r[Symbol.asyncIterator]=function(){return this},r;function s(m){return function(p){return Promise.resolve(p).then(m,u)}}function a(m,p){n[m]&&(r[m]=function(_){return new Promise(function(f,g){o.push([m,_,f,g])>1||c(m,_)})},p&&(r[m]=p(r[m])))}function c(m,p){try{l(n[m](p))}catch(_){h(o[0][3],_)}}function l(m){m.value instanceof cu?Promise.resolve(m.value.v).then(d,u):h(o[0][2],m)}function d(m){c("next",m)}function u(m){c("throw",m)}function h(m,p){m(p),o.shift(),o.length&&c(o[0][0],o[0][1])}}function fB(i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=i[Symbol.asyncIterator],e;return t?t.call(i):(i=typeof hB=="function"?hB(i):i[Symbol.iterator](),e={},n("next"),n("throw"),n("return"),e[Symbol.asyncIterator]=function(){return this},e);function n(o){e[o]=i[o]&&function(s){return new Promise(function(a,c){s=i[o](s),r(a,c,s.done,s.value)})}}function r(o,s,a,c){Promise.resolve(c).then(function(l){o({value:l,done:a})},s)}}var em=i=>i&&typeof i.length=="number"&&typeof i!="function";function k0(i){return Rt(i?.then)}function A0(i){return Rt(i[Kh])}function P0(i){return Symbol.asyncIterator&&Rt(i?.[Symbol.asyncIterator])}function R0(i){return new TypeError(`You provided ${i!==null&&typeof i=="object"?"an invalid object":`'${i}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function eQ(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var N0=eQ();function O0(i){return Rt(i?.[N0])}function F0(i){return pB(this,arguments,function*(){let e=i.getReader();try{for(;;){let{value:n,done:r}=yield cu(e.read());if(r)return yield cu(void 0);yield yield cu(n)}}finally{e.releaseLock()}})}function L0(i){return Rt(i?.getReader)}function tn(i){if(i instanceof jt)return i;if(i!=null){if(A0(i))return tQ(i);if(em(i))return iQ(i);if(k0(i))return nQ(i);if(P0(i))return gB(i);if(O0(i))return rQ(i);if(L0(i))return oQ(i)}throw R0(i)}function tQ(i){return new jt(t=>{let e=i[Kh]();if(Rt(e.subscribe))return e.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function iQ(i){return new jt(t=>{for(let e=0;e<i.length&&!t.closed;e++)t.next(i[e]);t.complete()})}function nQ(i){return new jt(t=>{i.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,w0)})}function rQ(i){return new jt(t=>{for(let e of i)if(t.next(e),t.closed)return;t.complete()})}function gB(i){return new jt(t=>{sQ(i,t).catch(e=>t.error(e))})}function oQ(i){return gB(F0(i))}function sQ(i,t){var e,n,r,o;return mB(this,void 0,void 0,function*(){try{for(e=fB(i);n=yield e.next(),!n.done;){let s=n.value;if(t.next(s),t.closed)return}}catch(s){r={error:s}}finally{try{n&&!n.done&&(o=e.return)&&(yield o.call(e))}finally{if(r)throw r.error}}t.complete()})}function Lo(i,t,e,n=0,r=!1){let o=t.schedule(function(){e(),r?i.add(this.schedule(null,n)):this.unsubscribe()},n);if(i.add(o),!r)return o}function B0(i,t=0){return ti((e,n)=>{e.subscribe(Kt(n,r=>Lo(n,i,()=>n.next(r),t),()=>Lo(n,i,()=>n.complete(),t),r=>Lo(n,i,()=>n.error(r),t)))})}function V0(i,t=0){return ti((e,n)=>{n.add(i.schedule(()=>e.subscribe(n),t))})}function _B(i,t){return tn(i).pipe(V0(t),B0(t))}function bB(i,t){return tn(i).pipe(V0(t),B0(t))}function vB(i,t){return new jt(e=>{let n=0;return t.schedule(function(){n===i.length?e.complete():(e.next(i[n++]),e.closed||this.schedule())})})}function yB(i,t){return new jt(e=>{let n;return Lo(e,t,()=>{n=i[N0](),Lo(e,t,()=>{let r,o;try{({value:r,done:o}=n.next())}catch(s){e.error(s);return}o?e.complete():e.next(r)},0,!0)}),()=>Rt(n?.return)&&n.return()})}function U0(i,t){if(!i)throw new Error("Iterable cannot be null");return new jt(e=>{Lo(e,t,()=>{let n=i[Symbol.asyncIterator]();Lo(e,t,()=>{n.next().then(r=>{r.done?e.complete():e.next(r.value)})},0,!0)})})}function xB(i,t){return U0(F0(i),t)}function wB(i,t){if(i!=null){if(A0(i))return _B(i,t);if(em(i))return vB(i,t);if(k0(i))return bB(i,t);if(P0(i))return U0(i,t);if(O0(i))return yB(i,t);if(L0(i))return xB(i,t)}throw R0(i)}function cn(i,t){return t?wB(i,t):tn(i)}function dt(...i){let t=Ra(i);return cn(i,t)}function kl(i,t){let e=Rt(i)?i:()=>i,n=r=>r.error(e());return new jt(t?r=>t.schedule(n,0,r):n)}function lu(i){return!!i&&(i instanceof jt||Rt(i.lift)&&Rt(i.subscribe))}var Ec=Xh(i=>function(){i(this),this.name="EmptyError",this.message="no elements in sequence"});function MB(i){return i instanceof Date&&!isNaN(i)}function St(i,t){return ti((e,n)=>{let r=0;e.subscribe(Kt(n,o=>{n.next(i.call(t,o,r++))}))})}var{isArray:aQ}=Array;function cQ(i,t){return aQ(t)?i(...t):i(t)}function tm(i){return St(t=>cQ(i,t))}var{isArray:lQ}=Array,{getPrototypeOf:dQ,prototype:uQ,keys:hQ}=Object;function z0(i){if(i.length===1){let t=i[0];if(lQ(t))return{args:t,keys:null};if(mQ(t)){let e=hQ(t);return{args:e.map(n=>t[n]),keys:e}}}return{args:i,keys:null}}function mQ(i){return i&&typeof i=="object"&&dQ(i)===uQ}function H0(i,t){return i.reduce((e,n,r)=>(e[n]=t[r],e),{})}function du(...i){let t=Ra(i),e=D0(i),{args:n,keys:r}=z0(i);if(n.length===0)return cn([],t);let o=new jt(pQ(n,t,r?s=>H0(r,s):_o));return e?o.pipe(tm(e)):o}function pQ(i,t,e=_o){return n=>{CB(t,()=>{let{length:r}=i,o=new Array(r),s=r,a=r;for(let c=0;c<r;c++)CB(t,()=>{let l=cn(i[c],t),d=!1;l.subscribe(Kt(n,u=>{o[c]=u,d||(d=!0,a--),a||n.next(e(o.slice()))},()=>{--s||n.complete()}))},n)},n)}}function CB(i,t,e){i?Lo(e,i,t):t()}function SB(i,t,e,n,r,o,s,a){let c=[],l=0,d=0,u=!1,h=()=>{u&&!c.length&&!l&&t.complete()},m=_=>l<n?p(_):c.push(_),p=_=>{o&&t.next(_),l++;let f=!1;tn(e(_,d++)).subscribe(Kt(t,g=>{r?.(g),o?m(g):t.next(g)},()=>{f=!0},void 0,()=>{if(f)try{for(l--;c.length&&l<n;){let g=c.shift();s?Lo(t,s,()=>p(g)):p(g)}h()}catch(g){t.error(g)}}))};return i.subscribe(Kt(t,m,()=>{u=!0,h()})),()=>{a?.()}}function jn(i,t,e=1/0){return Rt(t)?jn((n,r)=>St((o,s)=>t(n,o,r,s))(tn(i(n,r))),e):(typeof t=="number"&&(e=t),ti((n,r)=>SB(n,r,i,e)))}function Al(i=1/0){return jn(_o,i)}function EB(){return Al(1)}function Pl(...i){return EB()(cn(i,Ra(i)))}function im(i){return new jt(t=>{tn(i()).subscribe(t)})}function Of(...i){let t=D0(i),{args:e,keys:n}=z0(i),r=new jt(o=>{let{length:s}=e;if(!s){o.complete();return}let a=new Array(s),c=s,l=s;for(let d=0;d<s;d++){let u=!1;tn(e[d]).subscribe(Kt(o,h=>{u||(u=!0,l--),a[d]=h},()=>c--,void 0,()=>{(!c||!u)&&(l||o.next(n?H0(n,a):a),o.complete())}))}});return t?r.pipe(tm(t)):r}var fQ=["addListener","removeListener"],gQ=["addEventListener","removeEventListener"],_Q=["on","off"];function qs(i,t,e,n){if(Rt(e)&&(n=e,e=void 0),n)return qs(i,t,e).pipe(tm(n));let[r,o]=yQ(i)?gQ.map(s=>a=>i[s](t,a,e)):bQ(i)?fQ.map(TB(i,t)):vQ(i)?_Q.map(TB(i,t)):[];if(!r&&em(i))return jn(s=>qs(s,t,e))(tn(i));if(!r)throw new TypeError("Invalid event target");return new jt(s=>{let a=(...c)=>s.next(1<c.length?c:c[0]);return r(a),()=>o(a)})}function TB(i,t){return e=>n=>i[e](t,n)}function bQ(i){return Rt(i.addListener)&&Rt(i.removeListener)}function vQ(i){return Rt(i.on)&&Rt(i.off)}function yQ(i){return Rt(i.addEventListener)&&Rt(i.removeEventListener)}function Ff(i=0,t,e=dB){let n=-1;return t!=null&&(I0(t)?e=t:n=t),new jt(r=>{let o=MB(i)?+i-e.now():i;o<0&&(o=0);let s=0;return e.schedule(function(){r.closed||(r.next(s++),0<=n?this.schedule(void 0,n):r.complete())},o)})}function rr(...i){let t=Ra(i),e=uB(i,1/0),n=i;return n.length?n.length===1?tn(n[0]):Al(e)(cn(n,t)):Zn}function ki(i,t){return ti((e,n)=>{let r=0;e.subscribe(Kt(n,o=>i.call(t,o,r++)&&n.next(o)))})}function IB(i){return ti((t,e)=>{let n=!1,r=null,o=null,s=!1,a=()=>{if(o?.unsubscribe(),o=null,n){n=!1;let l=r;r=null,e.next(l)}s&&e.complete()},c=()=>{o=null,s&&e.complete()};t.subscribe(Kt(e,l=>{n=!0,r=l,o||tn(i(l)).subscribe(o=Kt(e,a,c))},()=>{s=!0,(!n||!o||o.closed)&&e.complete()}))})}function j0(i,t=Nf){return IB(()=>Ff(i,t))}function Na(i){return ti((t,e)=>{let n=null,r=!1,o;n=t.subscribe(Kt(e,void 0,void 0,s=>{o=tn(i(s,Na(i)(t))),n?(n.unsubscribe(),n=null,o.subscribe(e)):r=!0})),r&&(n.unsubscribe(),n=null,o.subscribe(e))})}function DB(i,t,e,n,r){return(o,s)=>{let a=e,c=t,l=0;o.subscribe(Kt(s,d=>{let u=l++;c=a?i(c,d,u):(a=!0,d),n&&s.next(c)},r&&(()=>{a&&s.next(c),s.complete()})))}}function Tc(i,t){return Rt(t)?jn(i,t,1):jn(i,1)}function uu(i,t=Nf){return ti((e,n)=>{let r=null,o=null,s=null,a=()=>{if(r){r.unsubscribe(),r=null;let l=o;o=null,n.next(l)}};function c(){let l=s+i,d=t.now();if(d<l){r=this.schedule(void 0,l-d),n.add(r);return}a()}e.subscribe(Kt(n,l=>{o=l,s=t.now(),r||(r=t.schedule(c,i),n.add(r))},()=>{a(),n.complete()},void 0,()=>{o=r=null}))})}function Rl(i){return ti((t,e)=>{let n=!1;t.subscribe(Kt(e,r=>{n=!0,e.next(r)},()=>{n||e.next(i),e.complete()}))})}function nn(i){return i<=0?()=>Zn:ti((t,e)=>{let n=0;t.subscribe(Kt(e,r=>{++n<=i&&(e.next(r),i<=n&&e.complete())}))})}function AE(i){return St(()=>i)}function Nl(i,t=_o){return i=i??xQ,ti((e,n)=>{let r,o=!0;e.subscribe(Kt(n,s=>{let a=t(s);(o||!i(r,a))&&(o=!1,r=a,n.next(s))}))})}function xQ(i,t){return i===t}function $0(i=wQ){return ti((t,e)=>{let n=!1;t.subscribe(Kt(e,r=>{n=!0,e.next(r)},()=>n?e.complete():e.error(i())))})}function wQ(){return new Ec}function Ol(i){return ti((t,e)=>{try{t.subscribe(e)}finally{e.add(i)}})}function Oa(i,t){let e=arguments.length>=2;return n=>n.pipe(i?ki((r,o)=>i(r,o,n)):_o,nn(1),e?Rl(t):$0(()=>new Ec))}function nm(i){return i<=0?()=>Zn:ti((t,e)=>{let n=[];t.subscribe(Kt(e,r=>{n.push(r),i<n.length&&n.shift()},()=>{for(let r of n)e.next(r);e.complete()},void 0,()=>{n=null}))})}function PE(i,t){let e=arguments.length>=2;return n=>n.pipe(i?ki((r,o)=>i(r,o,n)):_o,nm(1),e?Rl(t):$0(()=>new Ec))}function RE(i,t){return ti(DB(i,t,arguments.length>=2,!0))}function Lf(i={}){let{connector:t=()=>new Fe,resetOnError:e=!0,resetOnComplete:n=!0,resetOnRefCountZero:r=!0}=i;return o=>{let s,a,c,l=0,d=!1,u=!1,h=()=>{a?.unsubscribe(),a=void 0},m=()=>{h(),s=c=void 0,d=u=!1},p=()=>{let _=s;m(),_?.unsubscribe()};return ti((_,f)=>{l++,!u&&!d&&h();let g=c=c??t();f.add(()=>{l--,l===0&&!u&&!d&&(a=NE(p,r))}),g.subscribe(f),!s&&l>0&&(s=new Sc({next:C=>g.next(C),error:C=>{u=!0,h(),a=NE(m,e,C),g.error(C)},complete:()=>{d=!0,h(),a=NE(m,n),g.complete()}}),tn(_).subscribe(s))})(o)}}function NE(i,t,...e){if(t===!0){i();return}if(t===!1)return;let n=new Sc({next:()=>{n.unsubscribe(),i()}});return tn(t(...e)).subscribe(n)}function G0(i,t,e){let n,r=!1;return i&&typeof i=="object"?{bufferSize:n=1/0,windowTime:t=1/0,refCount:r=!1,scheduler:e}=i:n=i??1/0,Lf({connector:()=>new au(n,t,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}function hu(i){return ki((t,e)=>i<=e)}function or(...i){let t=Ra(i);return ti((e,n)=>{(t?Pl(i,e,t):Pl(i,e)).subscribe(n)})}function Kn(i,t){return ti((e,n)=>{let r=null,o=0,s=!1,a=()=>s&&!r&&n.complete();e.subscribe(Kt(n,c=>{r?.unsubscribe();let l=0,d=o++;tn(i(c,d)).subscribe(r=Kt(n,u=>n.next(t?t(c,u,d,l++):u),()=>{r=null,a()}))},()=>{s=!0,a()}))})}function Pt(i){return ti((t,e)=>{tn(i).subscribe(Kt(e,()=>e.complete(),Af)),!e.closed&&t.subscribe(e)})}function OE(i,t=!1){return ti((e,n)=>{let r=0;e.subscribe(Kt(n,o=>{let s=i(o,r++);(s||t)&&n.next(o),!s&&n.complete()}))})}function Pn(i,t,e){let n=Rt(i)||t||e?{next:i,error:t,complete:e}:i;return n?ti((r,o)=>{var s;(s=n.subscribe)===null||s===void 0||s.call(n);let a=!0;r.subscribe(Kt(o,c=>{var l;(l=n.next)===null||l===void 0||l.call(n,c),o.next(c)},()=>{var c;a=!1,(c=n.complete)===null||c===void 0||c.call(n),o.complete()},c=>{var l;a=!1,(l=n.error)===null||l===void 0||l.call(n,c),o.error(c)},()=>{var c,l;a&&((c=n.unsubscribe)===null||c===void 0||c.call(n)),(l=n.finalize)===null||l===void 0||l.call(n)}))}):_o}var _V="https://g.co/ng/security#xss",mt=class extends Error{constructor(t,e){super(sT(t,e)),this.code=t}};function sT(i,t){return`${`NG0${Math.abs(i)}`}${t?": "+t:""}`}function Jf(i){return{toString:i}.toString()}var W0="__parameters__";function MQ(i){return function(...e){if(i){let n=i(...e);for(let r in n)this[r]=n[r]}}}function bV(i,t,e){return Jf(()=>{let n=MQ(t);function r(...o){if(this instanceof r)return n.apply(this,o),this;let s=new r(...o);return a.annotation=s,a;function a(c,l,d){let u=c.hasOwnProperty(W0)?c[W0]:Object.defineProperty(c,W0,{value:[]})[W0];for(;u.length<=d;)u.push(null);return(u[d]=u[d]||[]).push(s),c}}return e&&(r.prototype=Object.create(e.prototype)),r.prototype.ngMetadataName=i,r.annotationCls=r,r})}var Qn=globalThis;function mn(i){for(let t in i)if(i[t]===mn)return t;throw Error("Could not find renamed property on target object.")}function CQ(i,t){for(let e in t)t.hasOwnProperty(e)&&!i.hasOwnProperty(e)&&(i[e]=t[e])}function vo(i){if(typeof i=="string")return i;if(Array.isArray(i))return"["+i.map(vo).join(", ")+"]";if(i==null)return""+i;if(i.overriddenName)return`${i.overriddenName}`;if(i.name)return`${i.name}`;let t=i.toString();if(t==null)return""+t;let e=t.indexOf(`
`);return e===-1?t:t.substring(0,e)}function KE(i,t){return i==null||i===""?t===null?"":t:t==null||t===""?i:i+" "+t}var SQ=mn({__forward_ref__:mn});function _r(i){return i.__forward_ref__=_r,i.toString=function(){return vo(this())},i}function bo(i){return vV(i)?i():i}function vV(i){return typeof i=="function"&&i.hasOwnProperty(SQ)&&i.__forward_ref__===_r}function xe(i){return{token:i.token,providedIn:i.providedIn||null,factory:i.factory,value:void 0}}function je(i){return{providers:i.providers||[],imports:i.imports||[]}}function Dv(i){return kB(i,xV)||kB(i,wV)}function yV(i){return Dv(i)!==null}function kB(i,t){return i.hasOwnProperty(t)?i[t]:null}function EQ(i){let t=i&&(i[xV]||i[wV]);return t||null}function AB(i){return i&&(i.hasOwnProperty(PB)||i.hasOwnProperty(TQ))?i[PB]:null}var xV=mn({\u0275prov:mn}),PB=mn({\u0275inj:mn}),wV=mn({ngInjectableDef:mn}),TQ=mn({ngInjectorDef:mn}),ge=class{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof e=="number"?this.__NG_ELEMENT_ID__=e:e!==void 0&&(this.\u0275prov=xe({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function MV(i){return i&&!!i.\u0275providers}var IQ=mn({\u0275cmp:mn}),DQ=mn({\u0275dir:mn}),kQ=mn({\u0275pipe:mn}),AQ=mn({\u0275mod:mn}),sv=mn({\u0275fac:mn}),Bf=mn({__NG_ELEMENT_ID__:mn}),RB=mn({__NG_ENV_ID__:mn});function Ic(i){return typeof i=="string"?i:i==null?"":String(i)}function PQ(i){return typeof i=="function"?i.name||i.toString():typeof i=="object"&&i!=null&&typeof i.type=="function"?i.type.name||i.type.toString():Ic(i)}function RQ(i,t){let e=t?`. Dependency path: ${t.join(" > ")} > ${i}`:"";throw new mt(-200,i)}function aT(i,t){throw new mt(-201,!1)}var Ci=function(i){return i[i.Default=0]="Default",i[i.Host=1]="Host",i[i.Self=2]="Self",i[i.SkipSelf=4]="SkipSelf",i[i.Optional=8]="Optional",i}(Ci||{}),QE;function CV(){return QE}function Bo(i){let t=QE;return QE=i,t}function SV(i,t,e){let n=Dv(i);if(n&&n.providedIn=="root")return n.value===void 0?n.value=n.factory():n.value;if(e&Ci.Optional)return null;if(t!==void 0)return t;aT(i,"Injector")}var NQ={},Uf=NQ,JE="__NG_DI_FLAG__",av="ngTempTokenPath",OQ="ngTokenPath",FQ=/\n/gm,LQ="\u0275",NB="__source",cm;function BQ(){return cm}function Fl(i){let t=cm;return cm=i,t}function VQ(i,t=Ci.Default){if(cm===void 0)throw new mt(-203,!1);return cm===null?SV(i,void 0,t):cm.get(i,t&Ci.Optional?null:void 0,t)}function me(i,t=Ci.Default){return(CV()||VQ)(bo(i),t)}function be(i,t=Ci.Default){return me(i,kv(t))}function kv(i){return typeof i>"u"||typeof i=="number"?i:0|(i.optional&&8)|(i.host&&1)|(i.self&&2)|(i.skipSelf&&4)}function e1(i){let t=[];for(let e=0;e<i.length;e++){let n=bo(i[e]);if(Array.isArray(n)){if(n.length===0)throw new mt(900,!1);let r,o=Ci.Default;for(let s=0;s<n.length;s++){let a=n[s],c=UQ(a);typeof c=="number"?c===-1?r=a.token:o|=c:r=a}t.push(me(r,o))}else t.push(me(n))}return t}function EV(i,t){return i[JE]=t,i.prototype[JE]=t,i}function UQ(i){return i[JE]}function zQ(i,t,e,n){let r=i[av];throw t[NB]&&r.unshift(t[NB]),i.message=HQ(`
`+i.message,r,e,n),i[OQ]=r,i[av]=null,i}function HQ(i,t,e,n=null){i=i&&i.charAt(0)===`
`&&i.charAt(1)==LQ?i.slice(2):i;let r=vo(t);if(Array.isArray(t))r=t.map(vo).join(" -> ");else if(typeof t=="object"){let o=[];for(let s in t)if(t.hasOwnProperty(s)){let a=t[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):vo(a)))}r=`{${o.join(", ")}}`}return`${e}${n?"("+n+")":""}[${r}]: ${i.replace(FQ,`
  `)}`}var Cu=EV(bV("Optional"),8);var vm=EV(bV("SkipSelf"),4);function gu(i,t){let e=i.hasOwnProperty(sv);return e?i[sv]:null}function jQ(i,t,e){if(i.length!==t.length)return!1;for(let n=0;n<i.length;n++){let r=i[n],o=t[n];if(e&&(r=e(r),o=e(o)),o!==r)return!1}return!0}function $Q(i){return i.flat(Number.POSITIVE_INFINITY)}function cT(i,t){i.forEach(e=>Array.isArray(e)?cT(e,t):t(e))}function TV(i,t,e){t>=i.length?i.push(e):i.splice(t,0,e)}function cv(i,t){return t>=i.length-1?i.pop():i.splice(t,1)[0]}function GQ(i,t){let e=[];for(let n=0;n<i;n++)e.push(t);return e}function WQ(i,t,e,n){let r=i.length;if(r==t)i.push(e,n);else if(r===1)i.push(n,i[0]),i[0]=e;else{for(r--,i.push(i[r-1],i[r]);r>t;){let o=r-2;i[r]=i[o],r--}i[t]=e,i[t+1]=n}}function Av(i,t,e){let n=eg(i,t);return n>=0?i[n|1]=e:(n=~n,WQ(i,n,t,e)),n}function FE(i,t){let e=eg(i,t);if(e>=0)return i[e|1]}function eg(i,t){return qQ(i,t,1)}function qQ(i,t,e){let n=0,r=i.length>>e;for(;r!==n;){let o=n+(r-n>>1),s=i[o<<e];if(t===s)return o<<e;s>t?r=o:n=o+1}return~(r<<e)}var dm={},Vo=[],um=new ge(""),IV=new ge("",-1),DV=new ge(""),lv=class{get(t,e=Uf){if(e===Uf){let n=new Error(`NullInjectorError: No provider for ${vo(t)}!`);throw n.name="NullInjectorError",n}return e}},kV=function(i){return i[i.OnPush=0]="OnPush",i[i.Default=1]="Default",i}(kV||{}),Ba=function(i){return i[i.Emulated=0]="Emulated",i[i.None=2]="None",i[i.ShadowDom=3]="ShadowDom",i}(Ba||{}),J=function(i){return i[i.None=0]="None",i[i.SignalBased=1]="SignalBased",i[i.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",i}(J||{});function XQ(i,t,e){let n=i.length;for(;;){let r=i.indexOf(t,e);if(r===-1)return r;if(r===0||i.charCodeAt(r-1)<=32){let o=t.length;if(r+o===n||i.charCodeAt(r+o)<=32)return r}e=r+1}}function t1(i,t,e){let n=0;for(;n<e.length;){let r=e[n];if(typeof r=="number"){if(r!==0)break;n++;let o=e[n++],s=e[n++],a=e[n++];i.setAttribute(t,s,a,o)}else{let o=r,s=e[++n];YQ(o)?i.setProperty(t,o,s):i.setAttribute(t,o,s),n++}}return n}function AV(i){return i===3||i===4||i===6}function YQ(i){return i.charCodeAt(0)===64}function zf(i,t){if(!(t===null||t.length===0))if(i===null||i.length===0)i=t.slice();else{let e=-1;for(let n=0;n<t.length;n++){let r=t[n];typeof r=="number"?e=r:e===0||(e===-1||e===2?OB(i,e,r,null,t[++n]):OB(i,e,r,null,null))}}return i}function OB(i,t,e,n,r){let o=0,s=i.length;if(t===-1)s=-1;else for(;o<i.length;){let a=i[o++];if(typeof a=="number"){if(a===t){s=-1;break}else if(a>t){s=o-1;break}}}for(;o<i.length;){let a=i[o];if(typeof a=="number")break;if(a===e){if(n===null){r!==null&&(i[o+1]=r);return}else if(n===i[o+1]){i[o+2]=r;return}}o++,n!==null&&o++,r!==null&&o++}s!==-1&&(i.splice(s,0,t),o=s+1),i.splice(o++,0,e),n!==null&&i.splice(o++,0,n),r!==null&&i.splice(o++,0,r)}var PV="ng-template";function ZQ(i,t,e,n){let r=0;if(n){for(;r<t.length&&typeof t[r]=="string";r+=2)if(t[r]==="class"&&XQ(t[r+1].toLowerCase(),e,0)!==-1)return!0}else if(lT(i))return!1;if(r=t.indexOf(1,r),r>-1){let o;for(;++r<t.length&&typeof(o=t[r])=="string";)if(o.toLowerCase()===e)return!0}return!1}function lT(i){return i.type===4&&i.value!==PV}function KQ(i,t,e){let n=i.type===4&&!e?PV:i.value;return t===n}function QQ(i,t,e){let n=4,r=i.attrs,o=r!==null?tJ(r):0,s=!1;for(let a=0;a<t.length;a++){let c=t[a];if(typeof c=="number"){if(!s&&!Xs(n)&&!Xs(c))return!1;if(s&&Xs(c))continue;s=!1,n=c|n&1;continue}if(!s)if(n&4){if(n=2|n&1,c!==""&&!KQ(i,c,e)||c===""&&t.length===1){if(Xs(n))return!1;s=!0}}else if(n&8){if(r===null||!ZQ(i,r,c,e)){if(Xs(n))return!1;s=!0}}else{let l=t[++a],d=JQ(c,r,lT(i),e);if(d===-1){if(Xs(n))return!1;s=!0;continue}if(l!==""){let u;if(d>o?u="":u=r[d+1].toLowerCase(),n&2&&l!==u){if(Xs(n))return!1;s=!0}}}}return Xs(n)||s}function Xs(i){return(i&1)===0}function JQ(i,t,e,n){if(t===null)return-1;let r=0;if(n||!e){let o=!1;for(;r<t.length;){let s=t[r];if(s===i)return r;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=t[++r];for(;typeof a=="string";)a=t[++r];continue}else{if(s===4)break;if(s===0){r+=4;continue}}r+=o?1:2}return-1}else return iJ(t,i)}function RV(i,t,e=!1){for(let n=0;n<t.length;n++)if(QQ(i,t[n],e))return!0;return!1}function eJ(i){let t=i.attrs;if(t!=null){let e=t.indexOf(5);if(!(e&1))return t[e+1]}return null}function tJ(i){for(let t=0;t<i.length;t++){let e=i[t];if(AV(e))return t}return i.length}function iJ(i,t){let e=i.indexOf(4);if(e>-1)for(e++;e<i.length;){let n=i[e];if(typeof n=="number")return-1;if(n===t)return e;e++}return-1}function nJ(i,t){e:for(let e=0;e<t.length;e++){let n=t[e];if(i.length===n.length){for(let r=0;r<i.length;r++)if(i[r]!==n[r])continue e;return!0}}return!1}function FB(i,t){return i?":not("+t.trim()+")":t}function rJ(i){let t=i[0],e=1,n=2,r="",o=!1;for(;e<i.length;){let s=i[e];if(typeof s=="string")if(n&2){let a=i[++e];r+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else n&8?r+="."+s:n&4&&(r+=" "+s);else r!==""&&!Xs(s)&&(t+=FB(o,r),r=""),n=s,o=o||!Xs(n);e++}return r!==""&&(t+=FB(o,r)),t}function oJ(i){return i.map(rJ).join(",")}function sJ(i){let t=[],e=[],n=1,r=2;for(;n<i.length;){let o=i[n];if(typeof o=="string")r===2?o!==""&&t.push(o,i[++n]):r===8&&e.push(o);else{if(!Xs(r))break;r=o}n++}return{attrs:t,classes:e}}function rt(i){return Jf(()=>{let t=BV(i),e=mi(ye({},t),{decls:i.decls,vars:i.vars,template:i.template,consts:i.consts||null,ngContentSelectors:i.ngContentSelectors,onPush:i.changeDetection===kV.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&i.dependencies||null,getStandaloneInjector:null,signals:i.signals??!1,data:i.data||{},encapsulation:i.encapsulation||Ba.Emulated,styles:i.styles||Vo,_:null,schemas:i.schemas||null,tView:null,id:""});VV(e);let n=i.dependencies;return e.directiveDefs=BB(n,!1),e.pipeDefs=BB(n,!0),e.id=lJ(e),e})}function aJ(i){return Bl(i)||NV(i)}function cJ(i){return i!==null}function $e(i){return Jf(()=>({type:i.type,bootstrap:i.bootstrap||Vo,declarations:i.declarations||Vo,imports:i.imports||Vo,exports:i.exports||Vo,transitiveCompileScopes:null,schemas:i.schemas||null,id:i.id||null}))}function LB(i,t){if(i==null)return dm;let e={};for(let n in i)if(i.hasOwnProperty(n)){let r=i[n],o,s,a=J.None;Array.isArray(r)?(a=r[0],o=r[1],s=r[2]??o):(o=r,s=r),t?(e[o]=a!==J.None?[n,a]:n,t[o]=s):e[o]=n}return e}function we(i){return Jf(()=>{let t=BV(i);return VV(t),t})}function tg(i){return{type:i.type,name:i.name,factory:null,pure:i.pure!==!1,standalone:i.standalone===!0,onDestroy:i.type.prototype.ngOnDestroy||null}}function Bl(i){return i[IQ]||null}function NV(i){return i[DQ]||null}function OV(i){return i[kQ]||null}function FV(i){let t=Bl(i)||NV(i)||OV(i);return t!==null?t.standalone:!1}function LV(i,t){let e=i[AQ]||null;if(!e&&t===!0)throw new Error(`Type ${vo(i)} does not have '\u0275mod' property.`);return e}function BV(i){let t={};return{type:i.type,providersResolver:null,factory:null,hostBindings:i.hostBindings||null,hostVars:i.hostVars||0,hostAttrs:i.hostAttrs||null,contentQueries:i.contentQueries||null,declaredInputs:t,inputTransforms:null,inputConfig:i.inputs||dm,exportAs:i.exportAs||null,standalone:i.standalone===!0,signals:i.signals===!0,selectors:i.selectors||Vo,viewQuery:i.viewQuery||null,features:i.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:LB(i.inputs,t),outputs:LB(i.outputs),debugInfo:null}}function VV(i){i.features?.forEach(t=>t(i))}function BB(i,t){if(!i)return null;let e=t?OV:aJ;return()=>(typeof i=="function"?i():i).map(n=>e(n)).filter(cJ)}function lJ(i){let t=0,e=[i.selectors,i.ngContentSelectors,i.hostVars,i.hostAttrs,i.consts,i.vars,i.decls,i.encapsulation,i.standalone,i.signals,i.exportAs,JSON.stringify(i.inputs),JSON.stringify(i.outputs),Object.getOwnPropertyNames(i.type.prototype),!!i.contentQueries,!!i.viewQuery].join("|");for(let r of e)t=Math.imul(31,t)+r.charCodeAt(0)<<0;return t+=2147483648,"c"+t}function dJ(...i){return{\u0275providers:UV(!0,i),\u0275fromNgModule:!0}}function UV(i,...t){let e=[],n=new Set,r,o=s=>{e.push(s)};return cT(t,s=>{let a=s;i1(a,o,[],n)&&(r||=[],r.push(a))}),r!==void 0&&zV(r,o),e}function zV(i,t){for(let e=0;e<i.length;e++){let{ngModule:n,providers:r}=i[e];dT(r,o=>{t(o,n)})}}function i1(i,t,e,n){if(i=bo(i),!i)return!1;let r=null,o=AB(i),s=!o&&Bl(i);if(!o&&!s){let c=i.ngModule;if(o=AB(c),o)r=c;else return!1}else{if(s&&!s.standalone)return!1;r=i}let a=n.has(r);if(s){if(a)return!1;if(n.add(r),s.dependencies){let c=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of c)i1(l,t,e,n)}}else if(o){if(o.imports!=null&&!a){n.add(r);let l;try{cT(o.imports,d=>{i1(d,t,e,n)&&(l||=[],l.push(d))})}finally{}l!==void 0&&zV(l,t)}if(!a){let l=gu(r)||(()=>new r);t({provide:r,useFactory:l,deps:Vo},r),t({provide:DV,useValue:r,multi:!0},r),t({provide:um,useValue:()=>me(r),multi:!0},r)}let c=o.providers;if(c!=null&&!a){let l=i;dT(c,d=>{t(d,l)})}}else return!1;return r!==i&&i.providers!==void 0}function dT(i,t){for(let e of i)MV(e)&&(e=e.\u0275providers),Array.isArray(e)?dT(e,t):t(e)}var uJ=mn({provide:String,useValue:mn});function HV(i){return i!==null&&typeof i=="object"&&uJ in i}function hJ(i){return!!(i&&i.useExisting)}function mJ(i){return!!(i&&i.useFactory)}function hm(i){return typeof i=="function"}function pJ(i){return!!i.useClass}var Pv=new ge(""),J0={},fJ={},LE;function uT(){return LE===void 0&&(LE=new lv),LE}var yo=class{},Hf=class extends yo{get destroyed(){return this._destroyed}constructor(t,e,n,r){super(),this.parent=e,this.source=n,this.scopes=r,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,r1(t,s=>this.processProvider(s)),this.records.set(IV,rm(void 0,this)),r.has("environment")&&this.records.set(yo,rm(void 0,this));let o=this.records.get(Pv);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(DV,Vo,Ci.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let t=Ai(null);try{for(let n of this._ngOnDestroyHooks)n.ngOnDestroy();let e=this._onDestroyHooks;this._onDestroyHooks=[];for(let n of e)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),Ai(t)}}onDestroy(t){return this.assertNotDestroyed(),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){this.assertNotDestroyed();let e=Fl(this),n=Bo(void 0),r;try{return t()}finally{Fl(e),Bo(n)}}get(t,e=Uf,n=Ci.Default){if(this.assertNotDestroyed(),t.hasOwnProperty(RB))return t[RB](this);n=kv(n);let r,o=Fl(this),s=Bo(void 0);try{if(!(n&Ci.SkipSelf)){let c=this.records.get(t);if(c===void 0){let l=yJ(t)&&Dv(t);l&&this.injectableDefInScope(l)?c=rm(n1(t),J0):c=null,this.records.set(t,c)}if(c!=null)return this.hydrate(t,c)}let a=n&Ci.Self?uT():this.parent;return e=n&Ci.Optional&&e===Uf?null:e,a.get(t,e)}catch(a){if(a.name==="NullInjectorError"){if((a[av]=a[av]||[]).unshift(vo(t)),o)throw a;return zQ(a,t,"R3InjectorError",this.source)}else throw a}finally{Bo(s),Fl(o)}}resolveInjectorInitializers(){let t=Ai(null),e=Fl(this),n=Bo(void 0),r;try{let o=this.get(um,Vo,Ci.Self);for(let s of o)s()}finally{Fl(e),Bo(n),Ai(t)}}toString(){let t=[],e=this.records;for(let n of e.keys())t.push(vo(n));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new mt(205,!1)}processProvider(t){t=bo(t);let e=hm(t)?t:bo(t&&t.provide),n=_J(t);if(!hm(t)&&t.multi===!0){let r=this.records.get(e);r||(r=rm(void 0,J0,!0),r.factory=()=>e1(r.multi),this.records.set(e,r)),e=t,r.multi.push(t)}this.records.set(e,n)}hydrate(t,e){let n=Ai(null);try{return e.value===J0&&(e.value=fJ,e.value=e.factory()),typeof e.value=="object"&&e.value&&vJ(e.value)&&this._ngOnDestroyHooks.add(e.value),e.value}finally{Ai(n)}}injectableDefInScope(t){if(!t.providedIn)return!1;let e=bo(t.providedIn);return typeof e=="string"?e==="any"||this.scopes.has(e):this.injectorDefTypes.has(e)}removeOnDestroy(t){let e=this._onDestroyHooks.indexOf(t);e!==-1&&this._onDestroyHooks.splice(e,1)}};function n1(i){let t=Dv(i),e=t!==null?t.factory:gu(i);if(e!==null)return e;if(i instanceof ge)throw new mt(204,!1);if(i instanceof Function)return gJ(i);throw new mt(204,!1)}function gJ(i){if(i.length>0)throw new mt(204,!1);let e=EQ(i);return e!==null?()=>e.factory(i):()=>new i}function _J(i){if(HV(i))return rm(void 0,i.useValue);{let t=jV(i);return rm(t,J0)}}function jV(i,t,e){let n;if(hm(i)){let r=bo(i);return gu(r)||n1(r)}else if(HV(i))n=()=>bo(i.useValue);else if(mJ(i))n=()=>i.useFactory(...e1(i.deps||[]));else if(hJ(i))n=()=>me(bo(i.useExisting));else{let r=bo(i&&(i.useClass||i.provide));if(bJ(i))n=()=>new r(...e1(i.deps));else return gu(r)||n1(r)}return n}function rm(i,t,e=!1){return{factory:i,value:t,multi:e?[]:void 0}}function bJ(i){return!!i.deps}function vJ(i){return i!==null&&typeof i=="object"&&typeof i.ngOnDestroy=="function"}function yJ(i){return typeof i=="function"||typeof i=="object"&&i instanceof ge}function r1(i,t){for(let e of i)Array.isArray(e)?r1(e,t):e&&MV(e)?r1(e.\u0275providers,t):t(e)}function Rc(i,t){i instanceof Hf&&i.assertNotDestroyed();let e,n=Fl(i),r=Bo(void 0);try{return t()}finally{Fl(n),Bo(r)}}function $V(){return CV()!==void 0||BQ()!=null}function GV(i){if(!$V())throw new mt(-203,!1)}function xJ(i){let t=Qn.ng;if(t&&t.\u0275compilerFacade)return t.\u0275compilerFacade;throw new Error("JIT compiler unavailable")}function wJ(i){return typeof i=="function"}var Ua=0,ii=1,$t=2,Vr=3,Zs=4,os=5,mm=6,jf=7,Xr=8,pm=9,Ks=10,Rn=11,$f=12,VB=13,ym=14,Cs=15,ig=16,om=17,Dc=18,Rv=19,WV=20,Ll=21,ev=22,_u=23,Ir=25,hT=1;var bu=7,dv=8,fm=9,Yr=10,mT=function(i){return i[i.None=0]="None",i[i.HasTransplantedViews=2]="HasTransplantedViews",i}(mT||{});function pu(i){return Array.isArray(i)&&typeof i[hT]=="object"}function Nc(i){return Array.isArray(i)&&i[hT]===!0}function pT(i){return(i.flags&4)!==0}function Nv(i){return i.componentOffset>-1}function Ov(i){return(i.flags&1)===1}function kc(i){return!!i.template}function MJ(i){return(i[$t]&512)!==0}var o1=class{constructor(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}isFirstChange(){return this.firstChange}};function qV(i,t,e,n){t!==null?t.applyValueToInputSignal(t,n):i[e]=n}function Bi(){return XV}function XV(i){return i.type.prototype.ngOnChanges&&(i.setInput=SJ),CJ}Bi.ngInherit=!0;function CJ(){let i=ZV(this),t=i?.current;if(t){let e=i.previous;if(e===dm)i.previous=t;else for(let n in t)e[n]=t[n];i.current=null,this.ngOnChanges(t)}}function SJ(i,t,e,n,r){let o=this.declaredInputs[n],s=ZV(i)||EJ(i,{previous:dm,current:null}),a=s.current||(s.current={}),c=s.previous,l=c[o];a[o]=new o1(l&&l.currentValue,e,c===dm),qV(i,t,r,e)}var YV="__ngSimpleChanges__";function ZV(i){return i[YV]||null}function EJ(i,t){return i[YV]=t}var UB=null;var Fa=function(i,t,e){UB?.(i,t,e)},KV="svg",TJ="math",IJ=!1;function DJ(){return IJ}function Va(i){for(;Array.isArray(i);)i=i[Ua];return i}function kJ(i){for(;Array.isArray(i);){if(typeof i[hT]=="object")return i;i=i[Ua]}return null}function QV(i,t){return Va(t[i])}function Es(i,t){return Va(t[i.index])}function fT(i,t){return i.data[t]}function Fv(i,t){return i[t]}function zl(i,t){let e=t[i];return pu(e)?e:e[Ua]}function AJ(i){return(i[$t]&4)===4}function gT(i){return(i[$t]&128)===128}function PJ(i){return Nc(i[Vr])}function gm(i,t){return t==null?null:i[t]}function JV(i){i[om]=0}function RJ(i){i[$t]&1024||(i[$t]|=1024,gT(i)&&Gf(i))}function NJ(i,t){for(;i>0;)t=t[ym],i--;return t}function _T(i){return!!(i[$t]&9216||i[_u]?.dirty)}function s1(i){i[Ks].changeDetectionScheduler?.notify(1),_T(i)?Gf(i):i[$t]&64&&(DJ()?(i[$t]|=1024,Gf(i)):i[Ks].changeDetectionScheduler?.notify())}function Gf(i){i[Ks].changeDetectionScheduler?.notify();let t=Wf(i);for(;t!==null&&!(t[$t]&8192||(t[$t]|=8192,!gT(t)));)t=Wf(t)}function e4(i,t){if((i[$t]&256)===256)throw new mt(911,!1);i[Ll]===null&&(i[Ll]=[]),i[Ll].push(t)}function OJ(i,t){if(i[Ll]===null)return;let e=i[Ll].indexOf(t);e!==-1&&i[Ll].splice(e,1)}function Wf(i){let t=i[Vr];return Nc(t)?t[Vr]:t}var li={lFrame:c4(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function FJ(){return li.lFrame.elementDepthCount}function LJ(){li.lFrame.elementDepthCount++}function BJ(){li.lFrame.elementDepthCount--}function t4(){return li.bindingsEnabled}function i4(){return li.skipHydrationRootTNode!==null}function VJ(i){return li.skipHydrationRootTNode===i}function UJ(){li.skipHydrationRootTNode=null}function Gt(){return li.lFrame.lView}function Nn(){return li.lFrame.tView}function ce(i){return li.lFrame.contextLView=i,i[Xr]}function le(i){return li.lFrame.contextLView=null,i}function Ur(){let i=n4();for(;i!==null&&i.type===64;)i=i.parent;return i}function n4(){return li.lFrame.currentTNode}function zJ(){let i=li.lFrame,t=i.currentTNode;return i.isParent?t:t.parent}function Su(i,t){let e=li.lFrame;e.currentTNode=i,e.isParent=t}function bT(){return li.lFrame.isParent}function vT(){li.lFrame.isParent=!1}function HJ(){return li.lFrame.contextLView}function ng(){let i=li.lFrame,t=i.bindingRootIndex;return t===-1&&(t=i.bindingRootIndex=i.tView.bindingStartIndex),t}function r4(){return li.lFrame.bindingIndex}function jJ(i){return li.lFrame.bindingIndex=i}function Hl(){return li.lFrame.bindingIndex++}function Lv(i){let t=li.lFrame,e=t.bindingIndex;return t.bindingIndex=t.bindingIndex+i,e}function $J(){return li.lFrame.inI18n}function GJ(i,t){let e=li.lFrame;e.bindingIndex=e.bindingRootIndex=i,a1(t)}function WJ(){return li.lFrame.currentDirectiveIndex}function a1(i){li.lFrame.currentDirectiveIndex=i}function yT(i){let t=li.lFrame.currentDirectiveIndex;return t===-1?null:i[t]}function o4(){return li.lFrame.currentQueryIndex}function xT(i){li.lFrame.currentQueryIndex=i}function qJ(i){let t=i[ii];return t.type===2?t.declTNode:t.type===1?i[os]:null}function s4(i,t,e){if(e&Ci.SkipSelf){let r=t,o=i;for(;r=r.parent,r===null&&!(e&Ci.Host);)if(r=qJ(o),r===null||(o=o[ym],r.type&10))break;if(r===null)return!1;t=r,i=o}let n=li.lFrame=a4();return n.currentTNode=t,n.lView=i,!0}function wT(i){let t=a4(),e=i[ii];li.lFrame=t,t.currentTNode=e.firstChild,t.lView=i,t.tView=e,t.contextLView=i,t.bindingIndex=e.bindingStartIndex,t.inI18n=!1}function a4(){let i=li.lFrame,t=i===null?null:i.child;return t===null?c4(i):t}function c4(i){let t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:i,child:null,inI18n:!1};return i!==null&&(i.child=t),t}function l4(){let i=li.lFrame;return li.lFrame=i.parent,i.currentTNode=null,i.lView=null,i}var d4=l4;function MT(){let i=l4();i.isParent=!0,i.tView=null,i.selectedIndex=-1,i.contextLView=null,i.elementDepthCount=0,i.currentDirectiveIndex=-1,i.currentNamespace=null,i.bindingRootIndex=-1,i.bindingIndex=-1,i.currentQueryIndex=0}function XJ(i){return(li.lFrame.contextLView=NJ(i,li.lFrame.contextLView))[Xr]}function za(){return li.lFrame.selectedIndex}function vu(i){li.lFrame.selectedIndex=i}function rg(){let i=li.lFrame;return fT(i.tView,i.selectedIndex)}function Zr(){li.lFrame.currentNamespace=KV}function Eu(){YJ()}function YJ(){li.lFrame.currentNamespace=null}function ZJ(){return li.lFrame.currentNamespace}var u4=!0;function Bv(){return u4}function Vv(i){u4=i}function KJ(i,t,e){let{ngOnChanges:n,ngOnInit:r,ngDoCheck:o}=t.type.prototype;if(n){let s=XV(t);(e.preOrderHooks??=[]).push(i,s),(e.preOrderCheckHooks??=[]).push(i,s)}r&&(e.preOrderHooks??=[]).push(0-i,r),o&&((e.preOrderHooks??=[]).push(i,o),(e.preOrderCheckHooks??=[]).push(i,o))}function Uv(i,t){for(let e=t.directiveStart,n=t.directiveEnd;e<n;e++){let o=i.data[e].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:d}=o;s&&(i.contentHooks??=[]).push(-e,s),a&&((i.contentHooks??=[]).push(e,a),(i.contentCheckHooks??=[]).push(e,a)),c&&(i.viewHooks??=[]).push(-e,c),l&&((i.viewHooks??=[]).push(e,l),(i.viewCheckHooks??=[]).push(e,l)),d!=null&&(i.destroyHooks??=[]).push(e,d)}}function tv(i,t,e){h4(i,t,3,e)}function iv(i,t,e,n){(i[$t]&3)===e&&h4(i,t,e,n)}function BE(i,t){let e=i[$t];(e&3)===t&&(e&=16383,e+=1,i[$t]=e)}function h4(i,t,e,n){let r=n!==void 0?i[om]&65535:0,o=n??-1,s=t.length-1,a=0;for(let c=r;c<s;c++)if(typeof t[c+1]=="number"){if(a=t[c],n!=null&&a>=n)break}else t[c]<0&&(i[om]+=65536),(a<o||o==-1)&&(QJ(i,e,t,c),i[om]=(i[om]&4294901760)+c+2),c++}function zB(i,t){Fa(4,i,t);let e=Ai(null);try{t.call(i)}finally{Ai(e),Fa(5,i,t)}}function QJ(i,t,e,n){let r=e[n]<0,o=e[n+1],s=r?-e[n]:e[n],a=i[s];r?i[$t]>>14<i[om]>>16&&(i[$t]&3)===t&&(i[$t]+=16384,zB(a,o)):zB(a,o)}var lm=-1,yu=class{constructor(t,e,n){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=n}};function JJ(i){return i instanceof yu}function eee(i){return(i.flags&8)!==0}function tee(i){return(i.flags&16)!==0}function m4(i){return i!==lm}function uv(i){return i&32767}function iee(i){return i>>16}function hv(i,t){let e=iee(i),n=t;for(;e>0;)n=n[ym],e--;return n}var c1=!0;function mv(i){let t=c1;return c1=i,t}var nee=256,p4=nee-1,f4=5,ree=0,La={};function oee(i,t,e){let n;typeof e=="string"?n=e.charCodeAt(0)||0:e.hasOwnProperty(Bf)&&(n=e[Bf]),n==null&&(n=e[Bf]=ree++);let r=n&p4,o=1<<r;t.data[i+(r>>f4)]|=o}function pv(i,t){let e=g4(i,t);if(e!==-1)return e;let n=t[ii];n.firstCreatePass&&(i.injectorIndex=t.length,VE(n.data,i),VE(t,null),VE(n.blueprint,null));let r=CT(i,t),o=i.injectorIndex;if(m4(r)){let s=uv(r),a=hv(r,t),c=a[ii].data;for(let l=0;l<8;l++)t[o+l]=a[s+l]|c[s+l]}return t[o+8]=r,o}function VE(i,t){i.push(0,0,0,0,0,0,0,0,t)}function g4(i,t){return i.injectorIndex===-1||i.parent&&i.parent.injectorIndex===i.injectorIndex||t[i.injectorIndex+8]===null?-1:i.injectorIndex}function CT(i,t){if(i.parent&&i.parent.injectorIndex!==-1)return i.parent.injectorIndex;let e=0,n=null,r=t;for(;r!==null;){if(n=x4(r),n===null)return lm;if(e++,r=r[ym],n.injectorIndex!==-1)return n.injectorIndex|e<<16}return lm}function l1(i,t,e){oee(i,t,e)}function see(i,t){if(t==="class")return i.classes;if(t==="style")return i.styles;let e=i.attrs;if(e){let n=e.length,r=0;for(;r<n;){let o=e[r];if(AV(o))break;if(o===0)r=r+2;else if(typeof o=="number")for(r++;r<n&&typeof e[r]=="string";)r++;else{if(o===t)return e[r+1];r=r+2}}}return null}function _4(i,t,e){if(e&Ci.Optional||i!==void 0)return i;aT(t,"NodeInjector")}function b4(i,t,e,n){if(e&Ci.Optional&&n===void 0&&(n=null),!(e&(Ci.Self|Ci.Host))){let r=i[pm],o=Bo(void 0);try{return r?r.get(t,n,e&Ci.Optional):SV(t,n,e&Ci.Optional)}finally{Bo(o)}}return _4(n,t,e)}function v4(i,t,e,n=Ci.Default,r){if(i!==null){if(t[$t]&2048&&!(n&Ci.Self)){let s=dee(i,t,e,n,La);if(s!==La)return s}let o=y4(i,t,e,n,La);if(o!==La)return o}return b4(t,e,n,r)}function y4(i,t,e,n,r){let o=cee(e);if(typeof o=="function"){if(!s4(t,i,n))return n&Ci.Host?_4(r,e,n):b4(t,e,n,r);try{let s;if(s=o(n),s==null&&!(n&Ci.Optional))aT(e);else return s}finally{d4()}}else if(typeof o=="number"){let s=null,a=g4(i,t),c=lm,l=n&Ci.Host?t[Cs][os]:null;for((a===-1||n&Ci.SkipSelf)&&(c=a===-1?CT(i,t):t[a+8],c===lm||!jB(n,!1)?a=-1:(s=t[ii],a=uv(c),t=hv(c,t)));a!==-1;){let d=t[ii];if(HB(o,a,d.data)){let u=aee(a,t,e,s,n,l);if(u!==La)return u}c=t[a+8],c!==lm&&jB(n,t[ii].data[a+8]===l)&&HB(o,a,t)?(s=d,a=uv(c),t=hv(c,t)):a=-1}}return r}function aee(i,t,e,n,r,o){let s=t[ii],a=s.data[i+8],c=n==null?Nv(a)&&c1:n!=s&&(a.type&3)!==0,l=r&Ci.Host&&o===a,d=nv(a,s,e,c,l);return d!==null?xu(t,s,d,a):La}function nv(i,t,e,n,r){let o=i.providerIndexes,s=t.data,a=o&1048575,c=i.directiveStart,l=i.directiveEnd,d=o>>20,u=n?a:a+d,h=r?a+d:l;for(let m=u;m<h;m++){let p=s[m];if(m<c&&e===p||m>=c&&p.type===e)return m}if(r){let m=s[c];if(m&&kc(m)&&m.type===e)return c}return null}function xu(i,t,e,n){let r=i[e],o=t.data;if(JJ(r)){let s=r;s.resolving&&RQ(PQ(o[e]));let a=mv(s.canSeeViewProviders);s.resolving=!0;let c,l=s.injectImpl?Bo(s.injectImpl):null,d=s4(i,n,Ci.Default);try{r=i[e]=s.factory(void 0,o,i,n),t.firstCreatePass&&e>=n.directiveStart&&KJ(e,o[e],t)}finally{l!==null&&Bo(l),mv(a),s.resolving=!1,d4()}}return r}function cee(i){if(typeof i=="string")return i.charCodeAt(0)||0;let t=i.hasOwnProperty(Bf)?i[Bf]:void 0;return typeof t=="number"?t>=0?t&p4:lee:t}function HB(i,t,e){let n=1<<i;return!!(e[t+(i>>f4)]&n)}function jB(i,t){return!(i&Ci.Self)&&!(i&Ci.Host&&t)}var fu=class{constructor(t,e){this._tNode=t,this._lView=e}get(t,e,n){return v4(this._tNode,this._lView,t,kv(n),e)}};function lee(){return new fu(Ur(),Gt())}function Xi(i){return Jf(()=>{let t=i.prototype.constructor,e=t[sv]||d1(t),n=Object.prototype,r=Object.getPrototypeOf(i.prototype).constructor;for(;r&&r!==n;){let o=r[sv]||d1(r);if(o&&o!==e)return o;r=Object.getPrototypeOf(r)}return o=>new o})}function d1(i){return vV(i)?()=>{let t=d1(bo(i));return t&&t()}:gu(i)}function dee(i,t,e,n,r){let o=i,s=t;for(;o!==null&&s!==null&&s[$t]&2048&&!(s[$t]&512);){let a=y4(o,s,e,n|Ci.Self,La);if(a!==La)return a;let c=o.parent;if(!c){let l=s[WV];if(l){let d=l.get(e,La,n);if(d!==La)return d}c=x4(s),s=s[ym]}o=c}return r}function x4(i){let t=i[ii],e=t.type;return e===2?t.declTNode:e===1?i[os]:null}function zr(i){return see(Ur(),i)}function $B(i,t=null,e=null,n){let r=w4(i,t,e,n);return r.resolveInjectorInitializers(),r}function w4(i,t=null,e=null,n,r=new Set){let o=[e||Vo,dJ(i)];return n=n||(typeof i=="object"?void 0:vo(i)),new Hf(o,t||uT(),n||null,r)}var Jn=(()=>{class i{static{this.THROW_IF_NOT_FOUND=Uf}static{this.NULL=new lv}static create(e,n){if(Array.isArray(e))return $B({name:""},n,e,"");{let r=e.name??"";return $B({name:r},e.parent,e.providers,r)}}static{this.\u0275prov=xe({token:i,providedIn:"any",factory:()=>me(IV)})}static{this.__NG_ELEMENT_ID__=-1}}return i})();var uee="ngOriginalError";function UE(i){return i[uee]}var xo=class{constructor(){this._console=console}handleError(t){let e=this._findOriginalError(t);this._console.error("ERROR",t),e&&this._console.error("ORIGINAL ERROR",e)}_findOriginalError(t){let e=t&&UE(t);for(;e&&UE(e);)e=UE(e);return e||null}},M4=new ge("",{providedIn:"root",factory:()=>be(xo).handleError.bind(void 0)}),zv=(()=>{class i{static{this.__NG_ELEMENT_ID__=hee}static{this.__NG_ENV_ID__=e=>e}}return i})(),u1=class extends zv{constructor(t){super(),this._lView=t}onDestroy(t){return e4(this._lView,t),()=>OJ(this._lView,t)}};function hee(){return new u1(Gt())}function mee(){return xm(Ur(),Gt())}function xm(i,t){return new Oe(Es(i,t))}var Oe=(()=>{class i{constructor(e){this.nativeElement=e}static{this.__NG_ELEMENT_ID__=mee}}return i})();function pee(i){return i instanceof Oe?i.nativeElement:i}var h1=class extends Fe{constructor(t=!1){super(),this.destroyRef=void 0,this.__isAsync=t,$V()&&(this.destroyRef=be(zv,{optional:!0})??void 0)}emit(t){let e=Ai(null);try{super.next(t)}finally{Ai(e)}}subscribe(t,e,n){let r=t,o=e||(()=>null),s=n;if(t&&typeof t=="object"){let c=t;r=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=zE(o),r&&(r=zE(r)),s&&(s=zE(s)));let a=super.subscribe({next:r,error:o,complete:s});return t instanceof qt&&t.add(a),a}};function zE(i){return t=>{setTimeout(i,void 0,t)}}var Qe=h1;function fee(){return this._results[Symbol.iterator]()}var Ss=class i{get changes(){return this._changes??=new Qe}constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let e=i.prototype;e[Symbol.iterator]||(e[Symbol.iterator]=fee)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,e){this.dirty=!1;let n=$Q(t);(this._changesDetected=!jQ(this._results,n,e))&&(this._results=n,this.length=n.length,this.last=n[this.length-1],this.first=n[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(t){this._onDirty=t}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}};function C4(i){return(i.flags&128)===128}var S4=new Map,gee=0;function _ee(){return gee++}function bee(i){S4.set(i[Rv],i)}function vee(i){S4.delete(i[Rv])}var GB="__ngContext__";function Vl(i,t){pu(t)?(i[GB]=t[Rv],bee(t)):i[GB]=t}function E4(i){return I4(i[$f])}function T4(i){return I4(i[Zs])}function I4(i){for(;i!==null&&!Nc(i);)i=i[Zs];return i}var m1;function D4(i){m1=i}function yee(){if(m1!==void 0)return m1;if(typeof document<"u")return document;throw new mt(210,!1)}var wm=new ge("",{providedIn:"root",factory:()=>xee}),xee="ng",ST=new ge(""),Ha=new ge("",{providedIn:"platform",factory:()=>"unknown"});var Vi=new ge(""),og=new ge("",{providedIn:"root",factory:()=>yee().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var wee="h",Mee="b";var Cee=()=>null;function ET(i,t,e=!1){return Cee(i,t,e)}var k4=!1,See=new ge("",{providedIn:"root",factory:()=>k4});var q0;function Eee(){if(q0===void 0&&(q0=null,Qn.trustedTypes))try{q0=Qn.trustedTypes.createPolicy("angular",{createHTML:i=>i,createScript:i=>i,createScriptURL:i=>i})}catch{}return q0}function Hv(i){return Eee()?.createHTML(i)||i}var X0;function Tee(){if(X0===void 0&&(X0=null,Qn.trustedTypes))try{X0=Qn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:i=>i,createScript:i=>i,createScriptURL:i=>i})}catch{}return X0}function WB(i){return Tee()?.createScriptURL(i)||i}var Ac=class{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${_V})`}},p1=class extends Ac{getTypeName(){return"HTML"}},f1=class extends Ac{getTypeName(){return"Style"}},g1=class extends Ac{getTypeName(){return"Script"}},_1=class extends Ac{getTypeName(){return"URL"}},b1=class extends Ac{getTypeName(){return"ResourceURL"}};function Qs(i){return i instanceof Ac?i.changingThisBreaksApplicationSecurity:i}function jl(i,t){let e=Iee(i);if(e!=null&&e!==t){if(e==="ResourceURL"&&t==="URL")return!0;throw new Error(`Required a safe ${t}, got a ${e} (see ${_V})`)}return e===t}function Iee(i){return i instanceof Ac&&i.getTypeName()||null}function A4(i){return new p1(i)}function P4(i){return new f1(i)}function R4(i){return new g1(i)}function N4(i){return new _1(i)}function O4(i){return new b1(i)}function Dee(i){let t=new y1(i);return kee()?new v1(t):t}var v1=class{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{let e=new window.DOMParser().parseFromString(Hv(t),"text/html").body;return e===null?this.inertDocumentHelper.getInertBodyElement(t):(e.removeChild(e.firstChild),e)}catch{return null}}},y1=class{constructor(t){this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(t){let e=this.inertDocument.createElement("template");return e.innerHTML=Hv(t),e}};function kee(){try{return!!new window.DOMParser().parseFromString(Hv(""),"text/html")}catch{return!1}}var Aee=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function jv(i){return i=String(i),i.match(Aee)?i:"unsafe:"+i}function Oc(i){let t={};for(let e of i.split(","))t[e]=!0;return t}function sg(...i){let t={};for(let e of i)for(let n in e)e.hasOwnProperty(n)&&(t[n]=!0);return t}var F4=Oc("area,br,col,hr,img,wbr"),L4=Oc("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),B4=Oc("rp,rt"),Pee=sg(B4,L4),Ree=sg(L4,Oc("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Nee=sg(B4,Oc("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),qB=sg(F4,Ree,Nee,Pee),V4=Oc("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Oee=Oc("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Fee=Oc("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),Lee=sg(V4,Oee,Fee),Bee=Oc("script,style,template"),x1=class{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,n=!0,r=[];for(;e;){if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild){r.push(e),e=zee(e);continue}for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let o=Uee(e);if(o){e=o;break}e=r.pop()}}return this.buf.join("")}startElement(t){let e=XB(t).toLowerCase();if(!qB.hasOwnProperty(e))return this.sanitizedSomething=!0,!Bee.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);let n=t.attributes;for(let r=0;r<n.length;r++){let o=n.item(r),s=o.name,a=s.toLowerCase();if(!Lee.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let c=o.value;V4[a]&&(c=jv(c)),this.buf.push(" ",s,'="',YB(c),'"')}return this.buf.push(">"),!0}endElement(t){let e=XB(t).toLowerCase();qB.hasOwnProperty(e)&&!F4.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(YB(t))}};function Vee(i,t){return(i.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}function Uee(i){let t=i.nextSibling;if(t&&i!==t.previousSibling)throw U4(t);return t}function zee(i){let t=i.firstChild;if(t&&Vee(i,t))throw U4(t);return t}function XB(i){let t=i.nodeName;return typeof t=="string"?t:"FORM"}function U4(i){return new Error(`Failed to sanitize html because the element is clobbered: ${i.outerHTML}`)}var Hee=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,jee=/([^\#-~ |!])/g;function YB(i){return i.replace(/&/g,"&amp;").replace(Hee,function(t){let e=t.charCodeAt(0),n=t.charCodeAt(1);return"&#"+((e-55296)*1024+(n-56320)+65536)+";"}).replace(jee,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var Y0;function z4(i,t){let e=null;try{Y0=Y0||Dee(i);let n=t?String(t):"";e=Y0.getInertBodyElement(n);let r=5,o=n;do{if(r===0)throw new Error("Failed to sanitize html because the input is unstable");r--,n=o,o=e.innerHTML,e=Y0.getInertBodyElement(n)}while(n!==o);let a=new x1().sanitizeChildren(ZB(e)||e);return Hv(a)}finally{if(e){let n=ZB(e)||e;for(;n.firstChild;)n.removeChild(n.firstChild)}}}function ZB(i){return"content"in i&&$ee(i)?i.content:null}function $ee(i){return i.nodeType===Node.ELEMENT_NODE&&i.nodeName==="TEMPLATE"}var Kr=function(i){return i[i.NONE=0]="NONE",i[i.HTML=1]="HTML",i[i.STYLE=2]="STYLE",i[i.SCRIPT=3]="SCRIPT",i[i.URL=4]="URL",i[i.RESOURCE_URL=5]="RESOURCE_URL",i}(Kr||{});function H4(i){let t=$4();return t?t.sanitize(Kr.URL,i)||"":jl(i,"URL")?Qs(i):jv(Ic(i))}function j4(i){let t=$4();if(t)return WB(t.sanitize(Kr.RESOURCE_URL,i)||"");if(jl(i,"ResourceURL"))return WB(Qs(i));throw new mt(904,!1)}function $4(){let i=Gt();return i&&i[Ks].sanitizer}var Gee=/^>|^->|<!--|-->|--!>|<!-$/g,Wee=/(<|>)/g,qee="\u200B$1\u200B";function Xee(i){return i.replace(Gee,t=>t.replace(Wee,qee))}function G4(i){return i instanceof Function?i():i}function Yee(i){return(i??be(Jn)).get(Ha)==="browser"}var Pc=function(i){return i[i.Important=1]="Important",i[i.DashCase=2]="DashCase",i}(Pc||{}),Zee;function TT(i,t){return Zee(i,t)}function sm(i,t,e,n,r){if(n!=null){let o,s=!1;Nc(n)?o=n:pu(n)&&(s=!0,n=n[Ua]);let a=Va(n);i===0&&e!==null?r==null?Z4(t,e,a):fv(t,e,a,r||null,!0):i===1&&e!==null?fv(t,e,a,r||null,!0):i===2?hte(t,a,s):i===3&&t.destroyNode(a),o!=null&&pte(t,i,o,e,r)}}function Kee(i,t){return i.createText(t)}function Qee(i,t,e){i.setValue(t,e)}function Jee(i,t){return i.createComment(Xee(t))}function W4(i,t,e){return i.createElement(t,e)}function ete(i,t){q4(i,t),t[Ua]=null,t[os]=null}function tte(i,t,e,n,r,o){n[Ua]=r,n[os]=t,Wv(i,n,e,1,r,o)}function q4(i,t){t[Ks].changeDetectionScheduler?.notify(1),Wv(i,t,t[Rn],2,null,null)}function ite(i){let t=i[$f];if(!t)return HE(i[ii],i);for(;t;){let e=null;if(pu(t))e=t[$f];else{let n=t[Yr];n&&(e=n)}if(!e){for(;t&&!t[Zs]&&t!==i;)pu(t)&&HE(t[ii],t),t=t[Vr];t===null&&(t=i),pu(t)&&HE(t[ii],t),e=t&&t[Zs]}t=e}}function nte(i,t,e,n){let r=Yr+n,o=e.length;n>0&&(e[r-1][Zs]=t),n<o-Yr?(t[Zs]=e[r],TV(e,Yr+n,t)):(e.push(t),t[Zs]=null),t[Vr]=e;let s=t[ig];s!==null&&e!==s&&rte(s,t);let a=t[Dc];a!==null&&a.insertView(i),s1(t),t[$t]|=128}function rte(i,t){let e=i[fm],r=t[Vr][Vr][Cs];t[Cs]!==r&&(i[$t]|=mT.HasTransplantedViews),e===null?i[fm]=[t]:e.push(t)}function X4(i,t){let e=i[fm],n=e.indexOf(t);e.splice(n,1)}function qf(i,t){if(i.length<=Yr)return;let e=Yr+t,n=i[e];if(n){let r=n[ig];r!==null&&r!==i&&X4(r,n),t>0&&(i[e-1][Zs]=n[Zs]);let o=cv(i,Yr+t);ete(n[ii],n);let s=o[Dc];s!==null&&s.detachView(o[ii]),n[Vr]=null,n[Zs]=null,n[$t]&=-129}return n}function $v(i,t){if(!(t[$t]&256)){let e=t[Rn];e.destroyNode&&Wv(i,t,e,3,null,null),ite(t)}}function HE(i,t){if(t[$t]&256)return;let e=Ai(null);try{t[$t]&=-129,t[$t]|=256,t[_u]&&bE(t[_u]),ste(i,t),ote(i,t),t[ii].type===1&&t[Rn].destroy();let n=t[ig];if(n!==null&&Nc(t[Vr])){n!==t[Vr]&&X4(n,t);let r=t[Dc];r!==null&&r.detachView(i)}vee(t)}finally{Ai(e)}}function ote(i,t){let e=i.cleanup,n=t[jf];if(e!==null)for(let o=0;o<e.length-1;o+=2)if(typeof e[o]=="string"){let s=e[o+3];s>=0?n[s]():n[-s].unsubscribe(),o+=2}else{let s=n[e[o+1]];e[o].call(s)}n!==null&&(t[jf]=null);let r=t[Ll];if(r!==null){t[Ll]=null;for(let o=0;o<r.length;o++){let s=r[o];s()}}}function ste(i,t){let e;if(i!=null&&(e=i.destroyHooks)!=null)for(let n=0;n<e.length;n+=2){let r=t[e[n]];if(!(r instanceof yu)){let o=e[n+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=r[o[s]],c=o[s+1];Fa(4,a,c);try{c.call(a)}finally{Fa(5,a,c)}}else{Fa(4,r,o);try{o.call(r)}finally{Fa(5,r,o)}}}}}function Y4(i,t,e){return ate(i,t.parent,e)}function ate(i,t,e){let n=t;for(;n!==null&&n.type&40;)t=n,n=t.parent;if(n===null)return e[Ua];{let{componentOffset:r}=n;if(r>-1){let{encapsulation:o}=i.data[n.directiveStart+r];if(o===Ba.None||o===Ba.Emulated)return null}return Es(n,e)}}function fv(i,t,e,n,r){i.insertBefore(t,e,n,r)}function Z4(i,t,e){i.appendChild(t,e)}function KB(i,t,e,n,r){n!==null?fv(i,t,e,n,r):Z4(i,t,e)}function cte(i,t,e,n){i.removeChild(t,e,n)}function IT(i,t){return i.parentNode(t)}function lte(i,t){return i.nextSibling(t)}function K4(i,t,e){return ute(i,t,e)}function dte(i,t,e){return i.type&40?Es(i,e):null}var ute=dte,QB;function Gv(i,t,e,n){let r=Y4(i,n,t),o=t[Rn],s=n.parent||t[os],a=K4(s,n,t);if(r!=null)if(Array.isArray(e))for(let c=0;c<e.length;c++)KB(o,r,e[c],a,!1);else KB(o,r,e,a,!1);QB!==void 0&&QB(o,n,t,e,r)}function rv(i,t){if(t!==null){let e=t.type;if(e&3)return Es(t,i);if(e&4)return w1(-1,i[t.index]);if(e&8){let n=t.child;if(n!==null)return rv(i,n);{let r=i[t.index];return Nc(r)?w1(-1,r):Va(r)}}else{if(e&32)return TT(t,i)()||Va(i[t.index]);{let n=Q4(i,t);if(n!==null){if(Array.isArray(n))return n[0];let r=Wf(i[Cs]);return rv(r,n)}else return rv(i,t.next)}}}return null}function Q4(i,t){if(t!==null){let n=i[Cs][os],r=t.projection;return n.projection[r]}return null}function w1(i,t){let e=Yr+i+1;if(e<t.length){let n=t[e],r=n[ii].firstChild;if(r!==null)return rv(n,r)}return t[bu]}function hte(i,t,e){let n=IT(i,t);n&&cte(i,n,t,e)}function DT(i,t,e,n,r,o,s){for(;e!=null;){let a=n[e.index],c=e.type;if(s&&t===0&&(a&&Vl(Va(a),n),e.flags|=2),(e.flags&32)!==32)if(c&8)DT(i,t,e.child,n,r,o,!1),sm(t,i,r,a,o);else if(c&32){let l=TT(e,n),d;for(;d=l();)sm(t,i,r,d,o);sm(t,i,r,a,o)}else c&16?J4(i,t,n,e,r,o):sm(t,i,r,a,o);e=s?e.projectionNext:e.next}}function Wv(i,t,e,n,r,o){DT(e,n,i.firstChild,t,r,o,!1)}function mte(i,t,e){let n=t[Rn],r=Y4(i,e,t),o=e.parent||t[os],s=K4(o,e,t);J4(n,0,t,e,r,s)}function J4(i,t,e,n,r,o){let s=e[Cs],c=s[os].projection[n.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++){let d=c[l];sm(t,i,r,d,o)}else{let l=c,d=s[Vr];C4(n)&&(l.flags|=128),DT(i,t,l,d,r,o,!0)}}function pte(i,t,e,n,r){let o=e[bu],s=Va(e);o!==s&&sm(t,i,n,o,r);for(let a=Yr;a<e.length;a++){let c=e[a];Wv(c[ii],c,i,t,n,o)}}function fte(i,t,e,n,r){if(t)r?i.addClass(e,n):i.removeClass(e,n);else{let o=n.indexOf("-")===-1?void 0:Pc.DashCase;r==null?i.removeStyle(e,n,o):(typeof r=="string"&&r.endsWith("!important")&&(r=r.slice(0,-10),o|=Pc.Important),i.setStyle(e,n,r,o))}}function gte(i,t,e){i.setAttribute(t,"style",e)}function eU(i,t,e){e===""?i.removeAttribute(t,"class"):i.setAttribute(t,"class",e)}function tU(i,t,e){let{mergedAttrs:n,classes:r,styles:o}=e;n!==null&&t1(i,t,n),r!==null&&eU(i,t,r),o!==null&&gte(i,t,o)}var ss={};function B(i=1){iU(Nn(),Gt(),za()+i,!1)}function iU(i,t,e,n){if(!n)if((t[$t]&3)===3){let o=i.preOrderCheckHooks;o!==null&&tv(t,o,e)}else{let o=i.preOrderHooks;o!==null&&iv(t,o,0,e)}vu(e)}function O(i,t=Ci.Default){let e=Gt();if(e===null)return me(i,t);let n=Ur();return v4(n,e,bo(i),t)}function qv(){let i="invalid";throw new Error(i)}function nU(i,t,e,n,r,o){let s=Ai(null);try{let a=null;r&J.SignalBased&&(a=t[n][b0]),a!==null&&a.transformFn!==void 0&&(o=a.transformFn(o)),r&J.HasDecoratorInputTransform&&(o=i.inputTransforms[n].call(t,o)),i.setInput!==null?i.setInput(t,a,o,e,n):qV(t,a,n,o)}finally{Ai(s)}}function _te(i,t){let e=i.hostBindingOpCodes;if(e!==null)try{for(let n=0;n<e.length;n++){let r=e[n];if(r<0)vu(~r);else{let o=r,s=e[++n],a=e[++n];GJ(s,o);let c=t[o];a(2,c)}}}finally{vu(-1)}}function Xv(i,t,e,n,r,o,s,a,c,l,d){let u=t.blueprint.slice();return u[Ua]=r,u[$t]=n|4|128|8|64,(l!==null||i&&i[$t]&2048)&&(u[$t]|=2048),JV(u),u[Vr]=u[ym]=i,u[Xr]=e,u[Ks]=s||i&&i[Ks],u[Rn]=a||i&&i[Rn],u[pm]=c||i&&i[pm]||null,u[os]=o,u[Rv]=_ee(),u[mm]=d,u[WV]=l,u[Cs]=t.type==2?i[Cs]:u,u}function Mm(i,t,e,n,r){let o=i.data[t];if(o===null)o=bte(i,t,e,n,r),$J()&&(o.flags|=32);else if(o.type&64){o.type=e,o.value=n,o.attrs=r;let s=zJ();o.injectorIndex=s===null?-1:s.injectorIndex}return Su(o,!0),o}function bte(i,t,e,n,r){let o=n4(),s=bT(),a=s?o:o&&o.parent,c=i.data[t]=Cte(i,a,e,t,n,r);return i.firstChild===null&&(i.firstChild=c),o!==null&&(s?o.child==null&&c.parent!==null&&(o.child=c):o.next===null&&(o.next=c,c.prev=o)),c}function rU(i,t,e,n){if(e===0)return-1;let r=t.length;for(let o=0;o<e;o++)t.push(n),i.blueprint.push(n),i.data.push(null);return r}function oU(i,t,e,n,r){let o=za(),s=n&2;try{vu(-1),s&&t.length>Ir&&iU(i,t,Ir,!1),Fa(s?2:0,r),e(n,r)}finally{vu(o),Fa(s?3:1,r)}}function kT(i,t,e){if(pT(t)){let n=Ai(null);try{let r=t.directiveStart,o=t.directiveEnd;for(let s=r;s<o;s++){let a=i.data[s];if(a.contentQueries){let c=e[s];a.contentQueries(1,c,s)}}}finally{Ai(n)}}}function AT(i,t,e){t4()&&(kte(i,t,e,Es(e,t)),(e.flags&64)===64&&cU(i,t,e))}function PT(i,t,e=Es){let n=t.localNames;if(n!==null){let r=t.index+1;for(let o=0;o<n.length;o+=2){let s=n[o+1],a=s===-1?e(t,i):i[s];i[r++]=a}}}function sU(i){let t=i.tView;return t===null||t.incompleteFirstPass?i.tView=RT(1,null,i.template,i.decls,i.vars,i.directiveDefs,i.pipeDefs,i.viewQuery,i.schemas,i.consts,i.id):t}function RT(i,t,e,n,r,o,s,a,c,l,d){let u=Ir+n,h=u+r,m=vte(u,h),p=typeof l=="function"?l():l;return m[ii]={type:i,blueprint:m,template:e,queries:null,viewQuery:a,declTNode:t,data:m.slice().fill(null,u),bindingStartIndex:u,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:c,consts:p,incompleteFirstPass:!1,ssrId:d}}function vte(i,t){let e=[];for(let n=0;n<t;n++)e.push(n<i?null:ss);return e}function yte(i,t,e,n){let o=n.get(See,k4)||e===Ba.ShadowDom,s=i.selectRootElement(t,o);return xte(s),s}function xte(i){wte(i)}var wte=()=>null;function Mte(i,t,e,n){let r=uU(t);r.push(e),i.firstCreatePass&&hU(i).push(n,r.length-1)}function Cte(i,t,e,n,r,o){let s=t?t.injectorIndex:-1,a=0;return i4()&&(a|=128),{type:e,index:n,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:r,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function JB(i,t,e,n,r){for(let o in t){if(!t.hasOwnProperty(o))continue;let s=t[o];if(s===void 0)continue;n??={};let a,c=J.None;Array.isArray(s)?(a=s[0],c=s[1]):a=s;let l=o;if(r!==null){if(!r.hasOwnProperty(o))continue;l=r[o]}i===0?eV(n,e,l,a,c):eV(n,e,l,a)}return n}function eV(i,t,e,n,r){let o;i.hasOwnProperty(e)?(o=i[e]).push(t,n):o=i[e]=[t,n],r!==void 0&&o.push(r)}function Ste(i,t,e){let n=t.directiveStart,r=t.directiveEnd,o=i.data,s=t.attrs,a=[],c=null,l=null;for(let d=n;d<r;d++){let u=o[d],h=e?e.get(u):null,m=h?h.inputs:null,p=h?h.outputs:null;c=JB(0,u.inputs,d,c,m),l=JB(1,u.outputs,d,l,p);let _=c!==null&&s!==null&&!lT(t)?zte(c,d,s):null;a.push(_)}c!==null&&(c.hasOwnProperty("class")&&(t.flags|=8),c.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=a,t.inputs=c,t.outputs=l}function Ete(i){return i==="class"?"className":i==="for"?"htmlFor":i==="formaction"?"formAction":i==="innerHtml"?"innerHTML":i==="readonly"?"readOnly":i==="tabindex"?"tabIndex":i}function Yv(i,t,e,n,r,o,s,a){let c=Es(t,e),l=t.inputs,d;!a&&l!=null&&(d=l[n])?(OT(i,e,d,n,r),Nv(t)&&Tte(e,t.index)):t.type&3?(n=Ete(n),r=s!=null?s(r,t.value||"",n):r,o.setProperty(c,n,r)):t.type&12}function Tte(i,t){let e=zl(t,i);e[$t]&16||(e[$t]|=64)}function NT(i,t,e,n){if(t4()){let r=n===null?null:{"":-1},o=Pte(i,e),s,a;o===null?s=a=null:[s,a]=o,s!==null&&aU(i,t,e,s,r,a),r&&Rte(e,n,r)}e.mergedAttrs=zf(e.mergedAttrs,e.attrs)}function aU(i,t,e,n,r,o){for(let l=0;l<n.length;l++)l1(pv(e,t),i,n[l].type);Ote(e,i.data.length,n.length);for(let l=0;l<n.length;l++){let d=n[l];d.providersResolver&&d.providersResolver(d)}let s=!1,a=!1,c=rU(i,t,n.length,null);for(let l=0;l<n.length;l++){let d=n[l];e.mergedAttrs=zf(e.mergedAttrs,d.hostAttrs),Fte(i,e,t,c,d),Nte(c,d,r),d.contentQueries!==null&&(e.flags|=4),(d.hostBindings!==null||d.hostAttrs!==null||d.hostVars!==0)&&(e.flags|=64);let u=d.type.prototype;!s&&(u.ngOnChanges||u.ngOnInit||u.ngDoCheck)&&((i.preOrderHooks??=[]).push(e.index),s=!0),!a&&(u.ngOnChanges||u.ngDoCheck)&&((i.preOrderCheckHooks??=[]).push(e.index),a=!0),c++}Ste(i,e,o)}function Ite(i,t,e,n,r){let o=r.hostBindings;if(o){let s=i.hostBindingOpCodes;s===null&&(s=i.hostBindingOpCodes=[]);let a=~t.index;Dte(s)!=a&&s.push(a),s.push(e,n,o)}}function Dte(i){let t=i.length;for(;t>0;){let e=i[--t];if(typeof e=="number"&&e<0)return e}return 0}function kte(i,t,e,n){let r=e.directiveStart,o=e.directiveEnd;Nv(e)&&Lte(t,e,i.data[r+e.componentOffset]),i.firstCreatePass||pv(e,t),Vl(n,t);let s=e.initialInputs;for(let a=r;a<o;a++){let c=i.data[a],l=xu(t,i,a,e);if(Vl(l,t),s!==null&&Ute(t,a-r,l,c,e,s),kc(c)){let d=zl(e.index,t);d[Xr]=xu(t,i,a,e)}}}function cU(i,t,e){let n=e.directiveStart,r=e.directiveEnd,o=e.index,s=WJ();try{vu(o);for(let a=n;a<r;a++){let c=i.data[a],l=t[a];a1(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&Ate(c,l)}}finally{vu(-1),a1(s)}}function Ate(i,t){i.hostBindings!==null&&i.hostBindings(1,t)}function Pte(i,t){let e=i.directiveRegistry,n=null,r=null;if(e)for(let o=0;o<e.length;o++){let s=e[o];if(RV(t,s.selectors,!1))if(n||(n=[]),kc(s))if(s.findHostDirectiveDefs!==null){let a=[];r=r||new Map,s.findHostDirectiveDefs(s,a,r),n.unshift(...a,s);let c=a.length;M1(i,t,c)}else n.unshift(s),M1(i,t,0);else r=r||new Map,s.findHostDirectiveDefs?.(s,n,r),n.push(s)}return n===null?null:[n,r]}function M1(i,t,e){t.componentOffset=e,(i.components??=[]).push(t.index)}function Rte(i,t,e){if(t){let n=i.localNames=[];for(let r=0;r<t.length;r+=2){let o=e[t[r+1]];if(o==null)throw new mt(-301,!1);n.push(t[r],o)}}}function Nte(i,t,e){if(e){if(t.exportAs)for(let n=0;n<t.exportAs.length;n++)e[t.exportAs[n]]=i;kc(t)&&(e[""]=i)}}function Ote(i,t,e){i.flags|=1,i.directiveStart=t,i.directiveEnd=t+e,i.providerIndexes=t}function Fte(i,t,e,n,r){i.data[n]=r;let o=r.factory||(r.factory=gu(r.type,!0)),s=new yu(o,kc(r),O);i.blueprint[n]=s,e[n]=s,Ite(i,t,n,rU(i,e,r.hostVars,ss),r)}function Lte(i,t,e){let n=Es(t,i),r=sU(e),o=i[Ks].rendererFactory,s=16;e.signals?s=4096:e.onPush&&(s=64);let a=Zv(i,Xv(i,r,null,s,n,t,null,o.createRenderer(n,e),null,null,null));i[t.index]=a}function Bte(i,t,e,n,r,o){let s=Es(i,t);Vte(t[Rn],s,o,i.value,e,n,r)}function Vte(i,t,e,n,r,o,s){if(o==null)i.removeAttribute(t,r,e);else{let a=s==null?Ic(o):s(o,n||"",r);i.setAttribute(t,r,a,e)}}function Ute(i,t,e,n,r,o){let s=o[t];if(s!==null)for(let a=0;a<s.length;){let c=s[a++],l=s[a++],d=s[a++],u=s[a++];nU(n,e,c,l,d,u)}}function zte(i,t,e){let n=null,r=0;for(;r<e.length;){let o=e[r];if(o===0){r+=4;continue}else if(o===5){r+=2;continue}if(typeof o=="number")break;if(i.hasOwnProperty(o)){n===null&&(n=[]);let s=i[o];for(let a=0;a<s.length;a+=3)if(s[a]===t){n.push(o,s[a+1],s[a+2],e[r+1]);break}}r+=2}return n}function lU(i,t,e,n){return[i,!0,0,t,null,n,null,e,null,null]}function dU(i,t){let e=i.contentQueries;if(e!==null){let n=Ai(null);try{for(let r=0;r<e.length;r+=2){let o=e[r],s=e[r+1];if(s!==-1){let a=i.data[s];xT(o),a.contentQueries(2,t[s],s)}}}finally{Ai(n)}}}function Zv(i,t){return i[$f]?i[VB][Zs]=t:i[$f]=t,i[VB]=t,t}function C1(i,t,e){xT(0);let n=Ai(null);try{t(i,e)}finally{Ai(n)}}function uU(i){return i[jf]||(i[jf]=[])}function hU(i){return i.cleanup||(i.cleanup=[])}function mU(i,t,e){return(i===null||kc(i))&&(e=kJ(e[t.index])),e[Rn]}function pU(i,t){let e=i[pm],n=e?e.get(xo,null):null;n&&n.handleError(t)}function OT(i,t,e,n,r){for(let o=0;o<e.length;){let s=e[o++],a=e[o++],c=e[o++],l=t[s],d=i.data[s];nU(d,l,n,a,c,r)}}function FT(i,t,e){let n=QV(t,i);Qee(i[Rn],n,e)}function Hte(i,t){let e=zl(t,i),n=e[ii];jte(n,e);let r=e[Ua];r!==null&&e[mm]===null&&(e[mm]=ET(r,e[pm])),LT(n,e,e[Xr])}function jte(i,t){for(let e=t.length;e<i.blueprint.length;e++)t.push(i.blueprint[e])}function LT(i,t,e){wT(t);try{let n=i.viewQuery;n!==null&&C1(1,n,e);let r=i.template;r!==null&&oU(i,t,r,1,e),i.firstCreatePass&&(i.firstCreatePass=!1),t[Dc]?.finishViewCreation(i),i.staticContentQueries&&dU(i,t),i.staticViewQueries&&C1(2,i.viewQuery,e);let o=i.components;o!==null&&$te(t,o)}catch(n){throw i.firstCreatePass&&(i.incompleteFirstPass=!0,i.firstCreatePass=!1),n}finally{t[$t]&=-5,MT()}}function $te(i,t){for(let e=0;e<t.length;e++)Hte(i,t[e])}function Kv(i,t,e,n){let r=Ai(null);try{let o=t.tView,a=i[$t]&4096?4096:16,c=Xv(i,o,e,a,null,t,null,null,n?.injector??null,n?.embeddedViewInjector??null,n?.dehydratedView??null),l=i[t.index];c[ig]=l;let d=i[Dc];return d!==null&&(c[Dc]=d.createEmbeddedView(o)),LT(o,c,e),c}finally{Ai(r)}}function fU(i,t){let e=Yr+t;if(e<i.length)return i[e]}function Xf(i,t){return!t||t.firstChild===null||C4(i)}function Qv(i,t,e,n=!0){let r=t[ii];if(nte(r,t,i,e),n){let s=w1(e,i),a=t[Rn],c=IT(a,i[bu]);c!==null&&tte(r,i[os],a,t,c,s)}let o=t[mm];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function gU(i,t){let e=qf(i,t);return e!==void 0&&$v(e[ii],e),e}function gv(i,t,e,n,r=!1){for(;e!==null;){let o=t[e.index];o!==null&&n.push(Va(o)),Nc(o)&&Gte(o,n);let s=e.type;if(s&8)gv(i,t,e.child,n);else if(s&32){let a=TT(e,t),c;for(;c=a();)n.push(c)}else if(s&16){let a=Q4(t,e);if(Array.isArray(a))n.push(...a);else{let c=Wf(t[Cs]);gv(c[ii],c,a,n,!0)}}e=r?e.projectionNext:e.next}return n}function Gte(i,t){for(let e=Yr;e<i.length;e++){let n=i[e],r=n[ii].firstChild;r!==null&&gv(n[ii],n,r,t)}i[bu]!==i[Ua]&&t.push(i[bu])}var _U=[];function Wte(i){return i[_u]??qte(i)}function qte(i){let t=_U.pop()??Object.create(Yte);return t.lView=i,t}function Xte(i){i.lView[_u]!==i&&(i.lView=null,_U.push(i))}var Yte=mi(ye({},fE),{consumerIsAlwaysLive:!0,consumerMarkedDirty:i=>{Gf(i.lView)},consumerOnSignalRead(){this.lView[_u]=this}}),bU=100;function vU(i,t=!0,e=0){let n=i[Ks],r=n.rendererFactory,o=!1;o||r.begin?.();try{Zte(i,e)}catch(s){throw t&&pU(i,s),s}finally{o||(r.end?.(),n.inlineEffectRunner?.flush())}}function Zte(i,t){S1(i,t);let e=0;for(;_T(i);){if(e===bU)throw new mt(103,!1);e++,S1(i,1)}}function Kte(i,t,e,n){let r=t[$t];if((r&256)===256)return;let o=!1;!o&&t[Ks].inlineEffectRunner?.flush(),wT(t);let s=null,a=null;!o&&Qte(i)&&(a=Wte(t),s=gE(a));try{JV(t),jJ(i.bindingStartIndex),e!==null&&oU(i,t,e,2,n);let c=(r&3)===3;if(!o)if(c){let u=i.preOrderCheckHooks;u!==null&&tv(t,u,null)}else{let u=i.preOrderHooks;u!==null&&iv(t,u,0,null),BE(t,0)}if(Jte(t),yU(t,0),i.contentQueries!==null&&dU(i,t),!o)if(c){let u=i.contentCheckHooks;u!==null&&tv(t,u)}else{let u=i.contentHooks;u!==null&&iv(t,u,1),BE(t,1)}_te(i,t);let l=i.components;l!==null&&wU(t,l,0);let d=i.viewQuery;if(d!==null&&C1(2,d,n),!o)if(c){let u=i.viewCheckHooks;u!==null&&tv(t,u)}else{let u=i.viewHooks;u!==null&&iv(t,u,2),BE(t,2)}if(i.firstUpdatePass===!0&&(i.firstUpdatePass=!1),t[ev]){for(let u of t[ev])u();t[ev]=null}o||(t[$t]&=-73)}catch(c){throw Gf(t),c}finally{a!==null&&(_E(a,s),Xte(a)),MT()}}function Qte(i){return i.type!==2}function yU(i,t){for(let e=E4(i);e!==null;e=T4(e))for(let n=Yr;n<e.length;n++){let r=e[n];xU(r,t)}}function Jte(i){for(let t=E4(i);t!==null;t=T4(t)){if(!(t[$t]&mT.HasTransplantedViews))continue;let e=t[fm];for(let n=0;n<e.length;n++){let r=e[n],o=r[Vr];RJ(r)}}}function eie(i,t,e){let n=zl(t,i);xU(n,e)}function xU(i,t){gT(i)&&S1(i,t)}function S1(i,t){let n=i[ii],r=i[$t],o=i[_u],s=!!(t===0&&r&16);if(s||=!!(r&64&&t===0),s||=!!(r&1024),s||=!!(o?.dirty&&v0(o)),o&&(o.dirty=!1),i[$t]&=-9217,s)Kte(n,i,n.template,i[Xr]);else if(r&8192){yU(i,1);let a=n.components;a!==null&&wU(i,a,1)}}function wU(i,t,e){for(let n=0;n<t.length;n++)eie(i,t[n],e)}function BT(i){for(i[Ks].changeDetectionScheduler?.notify();i;){i[$t]|=64;let t=Wf(i);if(MJ(i)&&!t)return i;i=t}return null}var wu=class{get rootNodes(){let t=this._lView,e=t[ii];return gv(e,t,e.firstChild,[])}constructor(t,e,n=!0){this._lView=t,this._cdRefInjectingView=e,this.notifyErrorHandler=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Xr]}set context(t){this._lView[Xr]=t}get destroyed(){return(this._lView[$t]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let t=this._lView[Vr];if(Nc(t)){let e=t[dv],n=e?e.indexOf(this):-1;n>-1&&(qf(t,n),cv(e,n))}this._attachedToViewContainer=!1}$v(this._lView[ii],this._lView)}onDestroy(t){e4(this._lView,t)}markForCheck(){BT(this._cdRefInjectingView||this._lView)}detach(){this._lView[$t]&=-129}reattach(){s1(this._lView),this._lView[$t]|=128}detectChanges(){this._lView[$t]|=1024,vU(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new mt(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,q4(this._lView[ii],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new mt(902,!1);this._appRef=t,s1(this._lView)}},Hi=(()=>{class i{static{this.__NG_ELEMENT_ID__=nie}}return i})(),tie=Hi,iie=class extends tie{constructor(t,e,n){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=n}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,e){return this.createEmbeddedViewImpl(t,e)}createEmbeddedViewImpl(t,e,n){let r=Kv(this._declarationLView,this._declarationTContainer,t,{embeddedViewInjector:e,dehydratedView:n});return new wu(r)}};function nie(){return Jv(Ur(),Gt())}function Jv(i,t){return i.type&4?new iie(t,i,xm(i,t)):null}var VOe=new RegExp(`^(\\d+)*(${Mee}|${wee})*(.*)`);var rie=()=>null;function Yf(i,t){return rie(i,t)}var _v=class{},E1=class{},bv=class{};function oie(i){let t=Error(`No component factory found for ${vo(i)}.`);return t[sie]=i,t}var sie="ngComponent";var T1=class{resolveComponentFactory(t){throw oie(t)}},ja=(()=>{class i{static{this.NULL=new T1}}return i})(),Zf=class{},Fc=(()=>{class i{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>aie()}}return i})();function aie(){let i=Gt(),t=Ur(),e=zl(t.index,i);return(pu(e)?e:i)[Rn]}var cie=(()=>{class i{static{this.\u0275prov=xe({token:i,providedIn:"root",factory:()=>null})}}return i})(),jE={};var tV=new Set;function Cm(i){tV.has(i)||(tV.add(i),performance?.mark?.("mark_feature_usage",{detail:{feature:i}}))}function iV(...i){}function lie(){let i=typeof Qn.requestAnimationFrame=="function",t=Qn[i?"requestAnimationFrame":"setTimeout"],e=Qn[i?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&t&&e){let n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);let r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}var Ne=class i{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:n=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Qe(!1),this.onMicrotaskEmpty=new Qe(!1),this.onStable=new Qe(!1),this.onError=new Qe(!1),typeof Zone>"u")throw new mt(908,!1);Zone.assertZonePatched();let r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!n&&e,r.shouldCoalesceRunChangeDetection=n,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=lie().nativeRequestAnimationFrame,hie(r)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!i.isInAngularZone())throw new mt(909,!1)}static assertNotInAngularZone(){if(i.isInAngularZone())throw new mt(909,!1)}run(t,e,n){return this._inner.run(t,e,n)}runTask(t,e,n,r){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+r,t,die,iV,iV);try{return o.runTask(s,e,n)}finally{o.cancelTask(s)}}runGuarded(t,e,n){return this._inner.runGuarded(t,e,n)}runOutsideAngular(t){return this._outer.run(t)}},die={};function VT(i){if(i._nesting==0&&!i.hasPendingMicrotasks&&!i.isStable)try{i._nesting++,i.onMicrotaskEmpty.emit(null)}finally{if(i._nesting--,!i.hasPendingMicrotasks)try{i.runOutsideAngular(()=>i.onStable.emit(null))}finally{i.isStable=!0}}}function uie(i){i.isCheckStableRunning||i.lastRequestAnimationFrameId!==-1||(i.lastRequestAnimationFrameId=i.nativeRequestAnimationFrame.call(Qn,()=>{i.fakeTopEventTask||(i.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{i.lastRequestAnimationFrameId=-1,I1(i),i.isCheckStableRunning=!0,VT(i),i.isCheckStableRunning=!1},void 0,()=>{},()=>{})),i.fakeTopEventTask.invoke()}),I1(i))}function hie(i){let t=()=>{uie(i)};i._inner=i._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(e,n,r,o,s,a)=>{if(mie(a))return e.invokeTask(r,o,s,a);try{return nV(i),e.invokeTask(r,o,s,a)}finally{(i.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||i.shouldCoalesceRunChangeDetection)&&t(),rV(i)}},onInvoke:(e,n,r,o,s,a,c)=>{try{return nV(i),e.invoke(r,o,s,a,c)}finally{i.shouldCoalesceRunChangeDetection&&t(),rV(i)}},onHasTask:(e,n,r,o)=>{e.hasTask(r,o),n===r&&(o.change=="microTask"?(i._hasPendingMicrotasks=o.microTask,I1(i),VT(i)):o.change=="macroTask"&&(i.hasPendingMacrotasks=o.macroTask))},onHandleError:(e,n,r,o)=>(e.handleError(r,o),i.runOutsideAngular(()=>i.onError.emit(o)),!1)})}function I1(i){i._hasPendingMicrotasks||(i.shouldCoalesceEventChangeDetection||i.shouldCoalesceRunChangeDetection)&&i.lastRequestAnimationFrameId!==-1?i.hasPendingMicrotasks=!0:i.hasPendingMicrotasks=!1}function nV(i){i._nesting++,i.isStable&&(i.isStable=!1,i.onUnstable.emit(null))}function rV(i){i._nesting--,VT(i)}var D1=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Qe,this.onMicrotaskEmpty=new Qe,this.onStable=new Qe,this.onError=new Qe}run(t,e,n){return t.apply(e,n)}runGuarded(t,e,n){return t.apply(e,n)}runOutsideAngular(t){return t()}runTask(t,e,n,r){return t.apply(e,n)}};function mie(i){return!Array.isArray(i)||i.length!==1?!1:i[0].data?.__ignore_ng_zone__===!0}function pie(i="zone.js",t){return i==="noop"?new D1:i==="zone.js"?new Ne(t):i}var am=function(i){return i[i.EarlyRead=0]="EarlyRead",i[i.Write=1]="Write",i[i.MixedReadWrite=2]="MixedReadWrite",i[i.Read=3]="Read",i}(am||{}),fie={destroy(){}};function ey(i,t){!t&&GV(ey);let e=t?.injector??be(Jn);if(!Yee(e))return fie;Cm("NgAfterNextRender");let n=e.get(UT),r=n.handler??=new A1,o=t?.phase??am.MixedReadWrite,s=()=>{r.unregister(c),a()},a=e.get(zv).onDestroy(s),c=Rc(e,()=>new k1(o,()=>{s(),i()}));return r.register(c),{destroy:s}}var k1=class{constructor(t,e){this.phase=t,this.callbackFn=e,this.zone=be(Ne),this.errorHandler=be(xo,{optional:!0}),be(_v,{optional:!0})?.notify(1)}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(t){this.errorHandler?.handleError(t)}}},A1=class{constructor(){this.executingCallbacks=!1,this.buckets={[am.EarlyRead]:new Set,[am.Write]:new Set,[am.MixedReadWrite]:new Set,[am.Read]:new Set},this.deferredCallbacks=new Set}register(t){(this.executingCallbacks?this.deferredCallbacks:this.buckets[t.phase]).add(t)}unregister(t){this.buckets[t.phase].delete(t),this.deferredCallbacks.delete(t)}execute(){this.executingCallbacks=!0;for(let t of Object.values(this.buckets))for(let e of t)e.invoke();this.executingCallbacks=!1;for(let t of this.deferredCallbacks)this.buckets[t.phase].add(t);this.deferredCallbacks.clear()}destroy(){for(let t of Object.values(this.buckets))t.clear();this.deferredCallbacks.clear()}},UT=(()=>{class i{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){let e=[...this.internalCallbacks];this.internalCallbacks.length=0;for(let n of e)n()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}static{this.\u0275prov=xe({token:i,providedIn:"root",factory:()=>new i})}}return i})();function vv(i,t,e){let n=e?i.styles:null,r=e?i.classes:null,o=0;if(t!==null)for(let s=0;s<t.length;s++){let a=t[s];if(typeof a=="number")o=a;else if(o==1)r=KE(r,a);else if(o==2){let c=a,l=t[++s];n=KE(n,c+": "+l+";")}}e?i.styles=n:i.stylesWithoutHost=n,e?i.classes=r:i.classesWithoutHost=r}var yv=class extends ja{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){let e=Bl(t);return new _m(e,this.ngModule)}};function oV(i){let t=[];for(let e in i){if(!i.hasOwnProperty(e))continue;let n=i[e];n!==void 0&&t.push({propName:Array.isArray(n)?n[0]:n,templateName:e})}return t}function gie(i){let t=i.toLowerCase();return t==="svg"?KV:t==="math"?TJ:null}var P1=class{constructor(t,e){this.injector=t,this.parentInjector=e}get(t,e,n){n=kv(n);let r=this.injector.get(t,jE,n);return r!==jE||e===jE?r:this.parentInjector.get(t,e,n)}},_m=class extends bv{get inputs(){let t=this.componentDef,e=t.inputTransforms,n=oV(t.inputs);if(e!==null)for(let r of n)e.hasOwnProperty(r.propName)&&(r.transform=e[r.propName]);return n}get outputs(){return oV(this.componentDef.outputs)}constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=oJ(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}create(t,e,n,r){let o=Ai(null);try{r=r||this.ngModule;let s=r instanceof yo?r:r?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let a=s?new P1(t,s):t,c=a.get(Zf,null);if(c===null)throw new mt(407,!1);let l=a.get(cie,null),d=a.get(UT,null),u=a.get(_v,null),h={rendererFactory:c,sanitizer:l,inlineEffectRunner:null,afterRenderEventManager:d,changeDetectionScheduler:u},m=c.createRenderer(null,this.componentDef),p=this.componentDef.selectors[0][0]||"div",_=n?yte(m,n,this.componentDef.encapsulation,a):W4(m,p,gie(p)),f=512;this.componentDef.signals?f|=4096:this.componentDef.onPush||(f|=16);let g=null;_!==null&&(g=ET(_,a,!0));let C=RT(0,null,null,1,0,null,null,null,null,null,null),M=Xv(null,C,null,f,null,null,h,m,a,null,g);wT(M);let S,R;try{let N=this.componentDef,L,z=null;N.findHostDirectiveDefs?(L=[],z=new Map,N.findHostDirectiveDefs(N,L,z),L.push(N)):L=[N];let E=_ie(M,_),A=bie(E,_,N,L,M,h,m);R=fT(C,Ir),_&&xie(m,N,_,n),e!==void 0&&wie(R,this.ngContentSelectors,e),S=yie(A,N,L,z,M,[Mie]),LT(C,M,null)}finally{MT()}return new R1(this.componentType,S,xm(R,M),M,R)}finally{Ai(o)}}},R1=class extends E1{constructor(t,e,n,r,o){super(),this.location=n,this._rootLView=r,this._tNode=o,this.previousInputValues=null,this.instance=e,this.hostView=this.changeDetectorRef=new wu(r,void 0,!1),this.componentType=t}setInput(t,e){let n=this._tNode.inputs,r;if(n!==null&&(r=n[t])){if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),e))return;let o=this._rootLView;OT(o[ii],o,r,t,e),this.previousInputValues.set(t,e);let s=zl(this._tNode.index,o);BT(s)}}get injector(){return new fu(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}};function _ie(i,t){let e=i[ii],n=Ir;return i[n]=t,Mm(e,n,2,"#host",null)}function bie(i,t,e,n,r,o,s){let a=r[ii];vie(n,i,t,s);let c=null;t!==null&&(c=ET(t,r[pm]));let l=o.rendererFactory.createRenderer(t,e),d=16;e.signals?d=4096:e.onPush&&(d=64);let u=Xv(r,sU(e),null,d,r[i.index],i,o,l,null,null,c);return a.firstCreatePass&&M1(a,i,n.length-1),Zv(r,u),r[i.index]=u}function vie(i,t,e,n){for(let r of i)t.mergedAttrs=zf(t.mergedAttrs,r.hostAttrs);t.mergedAttrs!==null&&(vv(t,t.mergedAttrs,!0),e!==null&&tU(n,e,t))}function yie(i,t,e,n,r,o){let s=Ur(),a=r[ii],c=Es(s,r);aU(a,r,s,e,null,n);for(let d=0;d<e.length;d++){let u=s.directiveStart+d,h=xu(r,a,u,s);Vl(h,r)}cU(a,r,s),c&&Vl(c,r);let l=xu(r,a,s.directiveStart+s.componentOffset,s);if(i[Xr]=r[Xr]=l,o!==null)for(let d of o)d(l,t);return kT(a,s,r),l}function xie(i,t,e,n){if(n)t1(i,e,["ng-version","17.3.12"]);else{let{attrs:r,classes:o}=sJ(t.selectors[0]);r&&t1(i,e,r),o&&o.length>0&&eU(i,e,o.join(" "))}}function wie(i,t,e){let n=i.projection=[];for(let r=0;r<t.length;r++){let o=e[r];n.push(o!=null?Array.from(o):null)}}function Mie(){let i=Ur();Uv(Gt()[ii],i)}var rn=(()=>{class i{static{this.__NG_ELEMENT_ID__=Cie}}return i})();function Cie(){let i=Ur();return CU(i,Gt())}var Sie=rn,MU=class extends Sie{constructor(t,e,n){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=n}get element(){return xm(this._hostTNode,this._hostLView)}get injector(){return new fu(this._hostTNode,this._hostLView)}get parentInjector(){let t=CT(this._hostTNode,this._hostLView);if(m4(t)){let e=hv(t,this._hostLView),n=uv(t),r=e[ii].data[n+8];return new fu(r,e)}else return new fu(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){let e=sV(this._lContainer);return e!==null&&e[t]||null}get length(){return this._lContainer.length-Yr}createEmbeddedView(t,e,n){let r,o;typeof n=="number"?r=n:n!=null&&(r=n.index,o=n.injector);let s=Yf(this._lContainer,t.ssrId),a=t.createEmbeddedViewImpl(e||{},o,s);return this.insertImpl(a,r,Xf(this._hostTNode,s)),a}createComponent(t,e,n,r,o){let s=t&&!wJ(t),a;if(s)a=e;else{let p=e||{};a=p.index,n=p.injector,r=p.projectableNodes,o=p.environmentInjector||p.ngModuleRef}let c=s?t:new _m(Bl(t)),l=n||this.parentInjector;if(!o&&c.ngModule==null){let _=(s?l:this.parentInjector).get(yo,null);_&&(o=_)}let d=Bl(c.componentType??{}),u=Yf(this._lContainer,d?.id??null),h=u?.firstChild??null,m=c.create(l,r,h,o);return this.insertImpl(m.hostView,a,Xf(this._hostTNode,u)),m}insert(t,e){return this.insertImpl(t,e,!0)}insertImpl(t,e,n){let r=t._lView;if(PJ(r)){let a=this.indexOf(t);if(a!==-1)this.detach(a);else{let c=r[Vr],l=new MU(c,c[os],c[Vr]);l.detach(l.indexOf(t))}}let o=this._adjustIndex(e),s=this._lContainer;return Qv(s,r,o,n),t.attachToViewContainerRef(),TV($E(s),o,t),t}move(t,e){return this.insert(t,e)}indexOf(t){let e=sV(this._lContainer);return e!==null?e.indexOf(t):-1}remove(t){let e=this._adjustIndex(t,-1),n=qf(this._lContainer,e);n&&(cv($E(this._lContainer),e),$v(n[ii],n))}detach(t){let e=this._adjustIndex(t,-1),n=qf(this._lContainer,e);return n&&cv($E(this._lContainer),e)!=null?new wu(n):null}_adjustIndex(t,e=0){return t??this.length+e}};function sV(i){return i[dv]}function $E(i){return i[dv]||(i[dv]=[])}function CU(i,t){let e,n=t[i.index];return Nc(n)?e=n:(e=lU(n,t,null,i),t[i.index]=e,Zv(t,e)),Tie(e,t,i,n),new MU(e,i,t)}function Eie(i,t){let e=i[Rn],n=e.createComment(""),r=Es(t,i),o=IT(e,r);return fv(e,o,n,lte(e,r),!1),n}var Tie=kie,Iie=()=>!1;function Die(i,t,e){return Iie(i,t,e)}function kie(i,t,e,n){if(i[bu])return;let r;e.type&8?r=Va(n):r=Eie(t,e),i[bu]=r}var N1=class i{constructor(t){this.queryList=t,this.matches=null}clone(){return new i(this.queryList)}setDirty(){this.queryList.setDirty()}},O1=class i{constructor(t=[]){this.queries=t}createEmbeddedView(t){let e=t.queries;if(e!==null){let n=t.contentQueries!==null?t.contentQueries[0]:e.length,r=[];for(let o=0;o<n;o++){let s=e.getByIndex(o),a=this.queries[s.indexInDeclarationView];r.push(a.clone())}return new i(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}finishViewCreation(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)zT(t,e).matches!==null&&this.queries[e].setDirty()}},xv=class{constructor(t,e,n=null){this.flags=e,this.read=n,typeof t=="string"?this.predicate=Bie(t):this.predicate=t}},F1=class i{constructor(t=[]){this.queries=t}elementStart(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let n=0;n<this.length;n++){let r=e!==null?e.length:0,o=this.getByIndex(n).embeddedTView(t,r);o&&(o.indexInDeclarationView=n,e!==null?e.push(o):e=[o])}return e!==null?new i(e):null}template(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}},L1=class i{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new i(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let e=this._declarationNodeIndex,n=t.parent;for(;n!==null&&n.type&8&&n.index!==e;)n=n.parent;return e===(n!==null?n.index:-1)}return this._appliesToNextNode}matchTNode(t,e){let n=this.metadata.predicate;if(Array.isArray(n))for(let r=0;r<n.length;r++){let o=n[r];this.matchTNodeWithReadOption(t,e,Aie(e,o)),this.matchTNodeWithReadOption(t,e,nv(e,t,o,!1,!1))}else n===Hi?e.type&4&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,nv(e,t,n,!1,!1))}matchTNodeWithReadOption(t,e,n){if(n!==null){let r=this.metadata.read;if(r!==null)if(r===Oe||r===rn||r===Hi&&e.type&4)this.addMatch(e.index,-2);else{let o=nv(e,t,r,!1,!1);o!==null&&this.addMatch(e.index,o)}else this.addMatch(e.index,n)}}addMatch(t,e){this.matches===null?this.matches=[t,e]:this.matches.push(t,e)}};function Aie(i,t){let e=i.localNames;if(e!==null){for(let n=0;n<e.length;n+=2)if(e[n]===t)return e[n+1]}return null}function Pie(i,t){return i.type&11?xm(i,t):i.type&4?Jv(i,t):null}function Rie(i,t,e,n){return e===-1?Pie(t,i):e===-2?Nie(i,t,n):xu(i,i[ii],e,t)}function Nie(i,t,e){if(e===Oe)return xm(t,i);if(e===Hi)return Jv(t,i);if(e===rn)return CU(t,i)}function SU(i,t,e,n){let r=t[Dc].queries[n];if(r.matches===null){let o=i.data,s=e.matches,a=[];for(let c=0;s!==null&&c<s.length;c+=2){let l=s[c];if(l<0)a.push(null);else{let d=o[l];a.push(Rie(t,d,s[c+1],e.metadata.read))}}r.matches=a}return r.matches}function B1(i,t,e,n){let r=i.queries.getByIndex(e),o=r.matches;if(o!==null){let s=SU(i,t,r,e);for(let a=0;a<o.length;a+=2){let c=o[a];if(c>0)n.push(s[a/2]);else{let l=o[a+1],d=t[-c];for(let u=Yr;u<d.length;u++){let h=d[u];h[ig]===h[Vr]&&B1(h[ii],h,l,n)}if(d[fm]!==null){let u=d[fm];for(let h=0;h<u.length;h++){let m=u[h];B1(m[ii],m,l,n)}}}}}return n}function Oie(i,t){return i[Dc].queries[t].queryList}function EU(i,t,e){let n=new Ss((e&4)===4);return Mte(i,t,n,n.destroy),(t[Dc]??=new O1).queries.push(new N1(n))-1}function Fie(i,t,e){let n=Nn();return n.firstCreatePass&&(TU(n,new xv(i,t,e),-1),(t&2)===2&&(n.staticViewQueries=!0)),EU(n,Gt(),t)}function Lie(i,t,e,n){let r=Nn();if(r.firstCreatePass){let o=Ur();TU(r,new xv(t,e,n),o.index),Vie(r,i),(e&2)===2&&(r.staticContentQueries=!0)}return EU(r,Gt(),e)}function Bie(i){return i.split(",").map(t=>t.trim())}function TU(i,t,e){i.queries===null&&(i.queries=new F1),i.queries.track(new L1(t,e))}function Vie(i,t){let e=i.contentQueries||(i.contentQueries=[]),n=e.length?e[e.length-1]:-1;t!==n&&e.push(i.queries.length-1,t)}function zT(i,t){return i.queries.getByIndex(t)}function Uie(i,t){let e=i[ii],n=zT(e,t);return n.crossesNgTemplate?B1(e,i,t,[]):SU(e,i,n,t)}function ty(i){return typeof i=="function"&&i[b0]!==void 0}function IU(i){return ty(i)&&typeof i.set=="function"}function zie(i){let t=[],e=new Map;function n(r){let o=e.get(r);if(!o){let s=i(r);e.set(r,o=s.then(Gie))}return o}return wv.forEach((r,o)=>{let s=[];r.templateUrl&&s.push(n(r.templateUrl).then(l=>{r.template=l}));let a=typeof r.styles=="string"?[r.styles]:r.styles||[];if(r.styles=a,r.styleUrl&&r.styleUrls?.length)throw new Error("@Component cannot define both `styleUrl` and `styleUrls`. Use `styleUrl` if the component has one stylesheet, or `styleUrls` if it has multiple");if(r.styleUrls?.length){let l=r.styles.length,d=r.styleUrls;r.styleUrls.forEach((u,h)=>{a.push(""),s.push(n(u).then(m=>{a[l+h]=m,d.splice(d.indexOf(u),1),d.length==0&&(r.styleUrls=void 0)}))})}else r.styleUrl&&s.push(n(r.styleUrl).then(l=>{a.push(l),r.styleUrl=void 0}));let c=Promise.all(s).then(()=>Wie(o));t.push(c)}),jie(),Promise.all(t).then(()=>{})}var wv=new Map,Hie=new Set;function jie(){let i=wv;return wv=new Map,i}function $ie(){return wv.size===0}function Gie(i){return typeof i=="string"?i:i.text()}function Wie(i){Hie.delete(i)}function qie(i){return Object.getPrototypeOf(i.prototype).constructor}function Et(i){let t=qie(i.type),e=!0,n=[i];for(;t;){let r;if(kc(i))r=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new mt(903,!1);r=t.\u0275dir}if(r){if(e){n.push(r);let s=i;s.inputs=Z0(i.inputs),s.inputTransforms=Z0(i.inputTransforms),s.declaredInputs=Z0(i.declaredInputs),s.outputs=Z0(i.outputs);let a=r.hostBindings;a&&Qie(i,a);let c=r.viewQuery,l=r.contentQueries;if(c&&Zie(i,c),l&&Kie(i,l),Xie(i,r),CQ(i.outputs,r.outputs),kc(r)&&r.data.animation){let d=i.data;d.animation=(d.animation||[]).concat(r.data.animation)}}let o=r.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(i),a===Et&&(e=!1)}}t=Object.getPrototypeOf(t)}Yie(n)}function Xie(i,t){for(let e in t.inputs){if(!t.inputs.hasOwnProperty(e)||i.inputs.hasOwnProperty(e))continue;let n=t.inputs[e];if(n!==void 0&&(i.inputs[e]=n,i.declaredInputs[e]=t.declaredInputs[e],t.inputTransforms!==null)){let r=Array.isArray(n)?n[0]:n;if(!t.inputTransforms.hasOwnProperty(r))continue;i.inputTransforms??={},i.inputTransforms[r]=t.inputTransforms[r]}}}function Yie(i){let t=0,e=null;for(let n=i.length-1;n>=0;n--){let r=i[n];r.hostVars=t+=r.hostVars,r.hostAttrs=zf(r.hostAttrs,e=zf(e,r.hostAttrs))}}function Z0(i){return i===dm?{}:i===Vo?[]:i}function Zie(i,t){let e=i.viewQuery;e?i.viewQuery=(n,r)=>{t(n,r),e(n,r)}:i.viewQuery=t}function Kie(i,t){let e=i.contentQueries;e?i.contentQueries=(n,r,o)=>{t(n,r,o),e(n,r,o)}:i.contentQueries=t}function Qie(i,t){let e=i.hostBindings;e?i.hostBindings=(n,r)=>{t(n,r),e(n,r)}:i.hostBindings=t}function Bt(i){let t=i.inputConfig,e={};for(let n in t)if(t.hasOwnProperty(n)){let r=t[n];Array.isArray(r)&&r[3]&&(e[n]=r[3])}i.inputTransforms=e}var Ul=class{},Kf=class{};var Mv=class extends Ul{constructor(t,e,n){super(),this._parent=e,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new yv(this);let r=LV(t);this._bootstrapComponents=G4(r.bootstrap),this._r3Injector=w4(t,e,[{provide:Ul,useValue:this},{provide:ja,useValue:this.componentFactoryResolver},...n],vo(t),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(t)}get injector(){return this._r3Injector}destroy(){let t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}},Cv=class extends Kf{constructor(t){super(),this.moduleType=t}create(t){return new Mv(this.moduleType,t,[])}};function Jie(i,t,e){return new Mv(i,t,e)}var V1=class extends Ul{constructor(t){super(),this.componentFactoryResolver=new yv(this),this.instance=null;let e=new Hf([...t.providers,{provide:Ul,useValue:this},{provide:ja,useValue:this.componentFactoryResolver}],t.parent||uT(),t.debugName,new Set(["environment"]));this.injector=e,t.runEnvironmentInitializers&&e.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}};function iy(i,t,e=null){return new V1({providers:i,parent:t,debugName:e,runEnvironmentInitializers:!0}).injector}var ag=(()=>{class i{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Pi(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let e=this.taskId++;return this.pendingTasks.add(e),e}remove(e){this.pendingTasks.delete(e),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275prov=xe({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();function DU(i){return tne(i)?Array.isArray(i)||!(i instanceof Map)&&Symbol.iterator in i:!1}function ene(i,t){if(Array.isArray(i))for(let e=0;e<i.length;e++)t(i[e]);else{let e=i[Symbol.iterator](),n;for(;!(n=e.next()).done;)t(n.value)}}function tne(i){return i!==null&&(typeof i=="function"||typeof i=="object")}function HT(i,t,e){return i[t]=e}function Uo(i,t,e){let n=i[t];return Object.is(n,e)?!1:(i[t]=e,!0)}function jT(i,t,e,n){let r=Uo(i,t,e);return Uo(i,t+1,n)||r}function kU(i,t,e,n,r){let o=jT(i,t,e,n);return Uo(i,t+2,r)||o}function ine(i){return(i.flags&32)===32}function nne(i,t,e,n,r,o,s,a,c){let l=t.consts,d=Mm(t,i,4,s||null,gm(l,a));NT(t,e,d,gm(l,c)),Uv(t,d);let u=d.tView=RT(2,d,n,r,o,t.directiveRegistry,t.pipeRegistry,null,t.schemas,l,null);return t.queries!==null&&(t.queries.template(t,d),u.queries=t.queries.embeddedTView(d)),d}function Ee(i,t,e,n,r,o,s,a){let c=Gt(),l=Nn(),d=i+Ir,u=l.firstCreatePass?nne(d,l,c,t,e,n,r,o,s):l.data[d];Su(u,!1);let h=rne(l,c,u,i);Bv()&&Gv(l,c,h,u),Vl(h,c);let m=lU(h,c,h,u);return c[d]=m,Zv(c,m),Die(m,u,c),Ov(u)&&AT(l,c,u),s!=null&&PT(c,u,a),Ee}var rne=one;function one(i,t,e,n){return Vv(!0),t[Rn].createComment("")}function wt(i,t,e,n){let r=Gt(),o=Hl();if(Uo(r,o,t)){let s=Nn(),a=rg();Bte(a,r,i,t,e,n)}return wt}function AU(i,t,e,n){return Uo(i,Hl(),e)?t+Ic(e)+n:ss}function sne(i,t,e,n,r,o){let s=r4(),a=jT(i,s,e,r);return Lv(2),a?t+Ic(e)+n+Ic(r)+o:ss}function ane(i,t,e,n,r,o,s,a){let c=r4(),l=kU(i,c,e,r,s);return Lv(3),l?t+Ic(e)+n+Ic(r)+o+Ic(s)+a:ss}function K0(i,t){return i<<17|t<<2}function Mu(i){return i>>17&32767}function cne(i){return(i&2)==2}function lne(i,t){return i&131071|t<<17}function U1(i){return i|2}function bm(i){return(i&131068)>>2}function GE(i,t){return i&-131069|t<<2}function dne(i){return(i&1)===1}function z1(i){return i|1}function une(i,t,e,n,r,o){let s=o?t.classBindings:t.styleBindings,a=Mu(s),c=bm(s);i[n]=e;let l=!1,d;if(Array.isArray(e)){let u=e;d=u[1],(d===null||eg(u,d)>0)&&(l=!0)}else d=e;if(r)if(c!==0){let h=Mu(i[a+1]);i[n+1]=K0(h,a),h!==0&&(i[h+1]=GE(i[h+1],n)),i[a+1]=lne(i[a+1],n)}else i[n+1]=K0(a,0),a!==0&&(i[a+1]=GE(i[a+1],n)),a=n;else i[n+1]=K0(c,0),a===0?a=n:i[c+1]=GE(i[c+1],n),c=n;l&&(i[n+1]=U1(i[n+1])),aV(i,d,n,!0),aV(i,d,n,!1),hne(t,d,i,n,o),s=K0(a,c),o?t.classBindings=s:t.styleBindings=s}function hne(i,t,e,n,r){let o=r?i.residualClasses:i.residualStyles;o!=null&&typeof t=="string"&&eg(o,t)>=0&&(e[n+1]=z1(e[n+1]))}function aV(i,t,e,n){let r=i[e+1],o=t===null,s=n?Mu(r):bm(r),a=!1;for(;s!==0&&(a===!1||o);){let c=i[s],l=i[s+1];mne(c,t)&&(a=!0,i[s+1]=n?z1(l):U1(l)),s=n?Mu(l):bm(l)}a&&(i[e+1]=n?U1(r):z1(r))}function mne(i,t){return i===null||t==null||(Array.isArray(i)?i[1]:i)===t?!0:Array.isArray(i)&&typeof t=="string"?eg(i,t)>=0:!1}var Ys={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function pne(i){return i.substring(Ys.key,Ys.keyEnd)}function fne(i){return gne(i),PU(i,RU(i,0,Ys.textEnd))}function PU(i,t){let e=Ys.textEnd;return e===t?-1:(t=Ys.keyEnd=_ne(i,Ys.key=t,e),RU(i,t,e))}function gne(i){Ys.key=0,Ys.keyEnd=0,Ys.value=0,Ys.valueEnd=0,Ys.textEnd=i.length}function RU(i,t,e){for(;t<e&&i.charCodeAt(t)<=32;)t++;return t}function _ne(i,t,e){for(;t<e&&i.charCodeAt(t)>32;)t++;return t}function ae(i,t,e){let n=Gt(),r=Hl();if(Uo(n,r,t)){let o=Nn(),s=rg();Yv(o,s,n,i,t,n[Rn],e,!1)}return ae}function H1(i,t,e,n,r){let o=t.inputs,s=r?"class":"style";OT(i,e,o[s],s,n)}function $n(i,t,e){return OU(i,t,e,!1),$n}function qe(i,t){return OU(i,t,null,!0),qe}function Dr(i){FU(Mne,NU,i,!0)}function NU(i,t){for(let e=fne(t);e>=0;e=PU(t,e))Av(i,pne(t),!0)}function OU(i,t,e,n){let r=Gt(),o=Nn(),s=Lv(2);if(o.firstUpdatePass&&BU(o,i,s,n),t!==ss&&Uo(r,s,t)){let a=o.data[za()];VU(o,a,r,r[Rn],i,r[s+1]=Sne(t,e),n,s)}}function FU(i,t,e,n){let r=Nn(),o=Lv(2);r.firstUpdatePass&&BU(r,null,o,n);let s=Gt();if(e!==ss&&Uo(s,o,e)){let a=r.data[za()];if(UU(a,n)&&!LU(r,o)){let c=n?a.classesWithoutHost:a.stylesWithoutHost;c!==null&&(e=KE(c,e||"")),H1(r,a,s,e,n)}else Cne(r,a,s,s[Rn],s[o+1],s[o+1]=wne(i,t,e),n,o)}}function LU(i,t){return t>=i.expandoStartIndex}function BU(i,t,e,n){let r=i.data;if(r[e+1]===null){let o=r[za()],s=LU(i,e);UU(o,n)&&t===null&&!s&&(t=!1),t=bne(r,o,t,n),une(r,o,t,e,s,n)}}function bne(i,t,e,n){let r=yT(i),o=n?t.residualClasses:t.residualStyles;if(r===null)(n?t.classBindings:t.styleBindings)===0&&(e=WE(null,i,t,e,n),e=Qf(e,t.attrs,n),o=null);else{let s=t.directiveStylingLast;if(s===-1||i[s]!==r)if(e=WE(r,i,t,e,n),o===null){let c=vne(i,t,n);c!==void 0&&Array.isArray(c)&&(c=WE(null,i,t,c[1],n),c=Qf(c,t.attrs,n),yne(i,t,n,c))}else o=xne(i,t,n)}return o!==void 0&&(n?t.residualClasses=o:t.residualStyles=o),e}function vne(i,t,e){let n=e?t.classBindings:t.styleBindings;if(bm(n)!==0)return i[Mu(n)]}function yne(i,t,e,n){let r=e?t.classBindings:t.styleBindings;i[Mu(r)]=n}function xne(i,t,e){let n,r=t.directiveEnd;for(let o=1+t.directiveStylingLast;o<r;o++){let s=i[o].hostAttrs;n=Qf(n,s,e)}return Qf(n,t.attrs,e)}function WE(i,t,e,n,r){let o=null,s=e.directiveEnd,a=e.directiveStylingLast;for(a===-1?a=e.directiveStart:a++;a<s&&(o=t[a],n=Qf(n,o.hostAttrs,r),o!==i);)a++;return i!==null&&(e.directiveStylingLast=a),n}function Qf(i,t,e){let n=e?1:2,r=-1;if(t!==null)for(let o=0;o<t.length;o++){let s=t[o];typeof s=="number"?r=s:r===n&&(Array.isArray(i)||(i=i===void 0?[]:["",i]),Av(i,s,e?!0:t[++o]))}return i===void 0?null:i}function wne(i,t,e){if(e==null||e==="")return Vo;let n=[],r=Qs(e);if(Array.isArray(r))for(let o=0;o<r.length;o++)i(n,r[o],!0);else if(typeof r=="object")for(let o in r)r.hasOwnProperty(o)&&i(n,o,r[o]);else typeof r=="string"&&t(n,r);return n}function Mne(i,t,e){let n=String(t);n!==""&&!n.includes(" ")&&Av(i,n,e)}function Cne(i,t,e,n,r,o,s,a){r===ss&&(r=Vo);let c=0,l=0,d=0<r.length?r[0]:null,u=0<o.length?o[0]:null;for(;d!==null||u!==null;){let h=c<r.length?r[c+1]:void 0,m=l<o.length?o[l+1]:void 0,p=null,_;d===u?(c+=2,l+=2,h!==m&&(p=u,_=m)):u===null||d!==null&&d<u?(c+=2,p=d):(l+=2,p=u,_=m),p!==null&&VU(i,t,e,n,p,_,s,a),d=c<r.length?r[c]:null,u=l<o.length?o[l]:null}}function VU(i,t,e,n,r,o,s,a){if(!(t.type&3))return;let c=i.data,l=c[a+1],d=dne(l)?cV(c,t,e,r,bm(l),s):void 0;if(!Sv(d)){Sv(o)||cne(l)&&(o=cV(c,null,e,r,a,s));let u=QV(za(),e);fte(n,s,u,r,o)}}function cV(i,t,e,n,r,o){let s=t===null,a;for(;r>0;){let c=i[r],l=Array.isArray(c),d=l?c[1]:c,u=d===null,h=e[r+1];h===ss&&(h=u?Vo:void 0);let m=u?FE(h,n):d===n?h:void 0;if(l&&!Sv(m)&&(m=FE(c,n)),Sv(m)&&(a=m,s))return a;let p=i[r+1];r=s?Mu(p):bm(p)}if(t!==null){let c=o?t.residualClasses:t.residualStyles;c!=null&&(a=FE(c,n))}return a}function Sv(i){return i!==void 0}function Sne(i,t){return i==null||i===""||(typeof t=="string"?i=i+t:typeof i=="object"&&(i=vo(Qs(i)))),i}function UU(i,t){return(i.flags&(t?8:16))!==0}function zU(i,t,e){let n=Gt(),r=AU(n,i,t,e);FU(Av,NU,r,!0)}var j1=class{destroy(t){}updateValue(t,e){}swap(t,e){let n=Math.min(t,e),r=Math.max(t,e),o=this.detach(r);if(r-n>1){let s=this.detach(n);this.attach(n,o),this.attach(r,s)}else this.attach(n,o)}move(t,e){this.attach(e,this.detach(t))}};function qE(i,t,e,n,r){return i===e&&Object.is(t,n)?1:Object.is(r(i,t),r(e,n))?-1:0}function Ene(i,t,e){let n,r,o=0,s=i.length-1;if(Array.isArray(t)){let a=t.length-1;for(;o<=s&&o<=a;){let c=i.at(o),l=t[o],d=qE(o,c,o,l,e);if(d!==0){d<0&&i.updateValue(o,l),o++;continue}let u=i.at(s),h=t[a],m=qE(s,u,a,h,e);if(m!==0){m<0&&i.updateValue(s,h),s--,a--;continue}let p=e(o,c),_=e(s,u),f=e(o,l);if(Object.is(f,_)){let g=e(a,h);Object.is(g,p)?(i.swap(o,s),i.updateValue(s,h),a--,s--):i.move(s,o),i.updateValue(o,l),o++;continue}if(n??=new Ev,r??=dV(i,o,s,e),$1(i,n,o,f))i.updateValue(o,l),o++,s++;else if(r.has(f))n.set(p,i.detach(o)),s--;else{let g=i.create(o,t[o]);i.attach(o,g),o++,s++}}for(;o<=a;)lV(i,n,e,o,t[o]),o++}else if(t!=null){let a=t[Symbol.iterator](),c=a.next();for(;!c.done&&o<=s;){let l=i.at(o),d=c.value,u=qE(o,l,o,d,e);if(u!==0)u<0&&i.updateValue(o,d),o++,c=a.next();else{n??=new Ev,r??=dV(i,o,s,e);let h=e(o,d);if($1(i,n,o,h))i.updateValue(o,d),o++,s++,c=a.next();else if(!r.has(h))i.attach(o,i.create(o,d)),o++,s++,c=a.next();else{let m=e(o,l);n.set(m,i.detach(o)),s--}}}for(;!c.done;)lV(i,n,e,i.length,c.value),c=a.next()}for(;o<=s;)i.destroy(i.detach(s--));n?.forEach(a=>{i.destroy(a)})}function $1(i,t,e,n){return t!==void 0&&t.has(n)?(i.attach(e,t.get(n)),t.delete(n),!0):!1}function lV(i,t,e,n,r){if($1(i,t,n,e(n,r)))i.updateValue(n,r);else{let o=i.create(n,r);i.attach(n,o)}}function dV(i,t,e,n){let r=new Set;for(let o=t;o<=e;o++)r.add(n(o,i.at(o)));return r}var Ev=class{constructor(){this.kvMap=new Map,this._vMap=void 0}has(t){return this.kvMap.has(t)}delete(t){if(!this.has(t))return!1;let e=this.kvMap.get(t);return this._vMap!==void 0&&this._vMap.has(e)?(this.kvMap.set(t,this._vMap.get(e)),this._vMap.delete(e)):this.kvMap.delete(t),!0}get(t){return this.kvMap.get(t)}set(t,e){if(this.kvMap.has(t)){let n=this.kvMap.get(t);this._vMap===void 0&&(this._vMap=new Map);let r=this._vMap;for(;r.has(n);)n=r.get(n);r.set(n,e)}else this.kvMap.set(t,e)}forEach(t){for(let[e,n]of this.kvMap)if(t(n,e),this._vMap!==void 0){let r=this._vMap;for(;r.has(n);)n=r.get(n),t(n,e)}}};function Yt(i,t,e){Cm("NgControlFlow");let n=Gt(),r=Hl(),o=X1(n,Ir+i),s=0;if(Uo(n,r,t)){let a=Ai(null);try{if(gU(o,s),t!==-1){let c=Y1(n[ii],Ir+t),l=Yf(o,c.tView.ssrId),d=Kv(n,c,e,{dehydratedView:l});Qv(o,d,s,Xf(c,l))}}finally{Ai(a)}}else{let a=fU(o,s);a!==void 0&&(a[Xr]=e)}}var G1=class{constructor(t,e,n){this.lContainer=t,this.$implicit=e,this.$index=n}get $count(){return this.lContainer.length-Yr}};function cg(i,t){return t}var W1=class{constructor(t,e,n){this.hasEmptyBlock=t,this.trackByFn=e,this.liveCollection=n}};function lg(i,t,e,n,r,o,s,a,c,l,d,u,h){Cm("NgControlFlow");let m=c!==void 0,p=Gt(),_=a?s.bind(p[Cs][Xr]):s,f=new W1(m,_);p[Ir+i]=f,Ee(i+1,t,e,n,r,o),m&&Ee(i+2,c,l,d,u,h)}var q1=class extends j1{constructor(t,e,n){super(),this.lContainer=t,this.hostLView=e,this.templateTNode=n,this.needsIndexUpdate=!1}get length(){return this.lContainer.length-Yr}at(t){return this.getLView(t)[Xr].$implicit}attach(t,e){let n=e[mm];this.needsIndexUpdate||=t!==this.length,Qv(this.lContainer,e,t,Xf(this.templateTNode,n))}detach(t){return this.needsIndexUpdate||=t!==this.length-1,Tne(this.lContainer,t)}create(t,e){let n=Yf(this.lContainer,this.templateTNode.tView.ssrId);return Kv(this.hostLView,this.templateTNode,new G1(this.lContainer,e,t),{dehydratedView:n})}destroy(t){$v(t[ii],t)}updateValue(t,e){this.getLView(t)[Xr].$implicit=e}reset(){this.needsIndexUpdate=!1}updateIndexes(){if(this.needsIndexUpdate)for(let t=0;t<this.length;t++)this.getLView(t)[Xr].$index=t}getLView(t){return Ine(this.lContainer,t)}};function dg(i){let t=Ai(null),e=za();try{let n=Gt(),r=n[ii],o=n[e];if(o.liveCollection===void 0){let a=e+1,c=X1(n,a),l=Y1(r,a);o.liveCollection=new q1(c,n,l)}else o.liveCollection.reset();let s=o.liveCollection;if(Ene(s,i,o.trackByFn),s.updateIndexes(),o.hasEmptyBlock){let a=Hl(),c=s.length===0;if(Uo(n,a,c)){let l=e+2,d=X1(n,l);if(c){let u=Y1(r,l),h=Yf(d,u.tView.ssrId),m=Kv(n,u,void 0,{dehydratedView:h});Qv(d,m,0,Xf(u,h))}else gU(d,0)}}}finally{Ai(t)}}function X1(i,t){return i[t]}function Tne(i,t){return qf(i,t)}function Ine(i,t){return fU(i,t)}function Y1(i,t){return fT(i,t)}function Dne(i,t,e,n,r,o){let s=t.consts,a=gm(s,r),c=Mm(t,i,2,n,a);return NT(t,e,c,gm(s,o)),c.attrs!==null&&vv(c,c.attrs,!1),c.mergedAttrs!==null&&vv(c,c.mergedAttrs,!0),t.queries!==null&&t.queries.elementStart(t,c),c}function y(i,t,e,n){let r=Gt(),o=Nn(),s=Ir+i,a=r[Rn],c=o.firstCreatePass?Dne(s,o,r,t,e,n):o.data[s],l=kne(o,r,c,a,t,i);r[s]=l;let d=Ov(c);return Su(c,!0),tU(a,l,c),!ine(c)&&Bv()&&Gv(o,r,l,c),FJ()===0&&Vl(l,r),LJ(),d&&(AT(o,r,c),kT(o,c,r)),n!==null&&PT(r,c),y}function x(){let i=Ur();bT()?vT():(i=i.parent,Su(i,!1));let t=i;VJ(t)&&UJ(),BJ();let e=Nn();return e.firstCreatePass&&(Uv(e,i),pT(i)&&e.queries.elementEnd(i)),t.classesWithoutHost!=null&&eee(t)&&H1(e,t,Gt(),t.classesWithoutHost,!0),t.stylesWithoutHost!=null&&tee(t)&&H1(e,t,Gt(),t.stylesWithoutHost,!1),x}function Ue(i,t,e,n){return y(i,t,e,n),x(),Ue}var kne=(i,t,e,n,r,o)=>(Vv(!0),W4(n,r,ZJ()));function Ane(i,t,e,n,r){let o=t.consts,s=gm(o,n),a=Mm(t,i,8,"ng-container",s);s!==null&&vv(a,s,!0);let c=gm(o,r);return NT(t,e,a,c),t.queries!==null&&t.queries.elementStart(t,a),a}function wo(i,t,e){let n=Gt(),r=Nn(),o=i+Ir,s=r.firstCreatePass?Ane(o,r,n,t,e):r.data[o];Su(s,!0);let a=Pne(r,n,s,i);return n[o]=a,Bv()&&Gv(r,n,a,s),Vl(a,n),Ov(s)&&(AT(r,n,s),kT(r,s,n)),e!=null&&PT(n,s),wo}function Mo(){let i=Ur(),t=Nn();return bT()?vT():(i=i.parent,Su(i,!1)),t.firstCreatePass&&(Uv(t,i),pT(i)&&t.queries.elementEnd(i)),Mo}function br(i,t,e){return wo(i,t,e),Mo(),br}var Pne=(i,t,e,n)=>(Vv(!0),Jee(t[Rn],""));function ft(){return Gt()}function Ts(i,t,e){let n=Gt(),r=Hl();if(Uo(n,r,t)){let o=Nn(),s=rg();Yv(o,s,n,i,t,n[Rn],e,!0)}return Ts}function $T(i,t,e){let n=Gt(),r=Hl();if(Uo(n,r,t)){let o=Nn(),s=rg(),a=yT(o.data),c=mU(a,s,n);Yv(o,s,n,i,t,c,e,!0)}return $T}var mu=void 0;function Rne(i){let t=i,e=Math.floor(Math.abs(i)),n=i.toString().replace(/^[^.]*\.?/,"").length;return e===1&&n===0?1:5}var Nne=["en",[["a","p"],["AM","PM"],mu],[["AM","PM"],mu,mu],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],mu,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],mu,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",mu,"{1} 'at' {0}",mu],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",Rne],XE={};function as(i){let t=One(i),e=uV(t);if(e)return e;let n=t.split("-")[0];if(e=uV(n),e)return e;if(n==="en")return Nne;throw new mt(701,!1)}function uV(i){return i in XE||(XE[i]=Qn.ng&&Qn.ng.common&&Qn.ng.common.locales&&Qn.ng.common.locales[i]),XE[i]}var Gn=function(i){return i[i.LocaleId=0]="LocaleId",i[i.DayPeriodsFormat=1]="DayPeriodsFormat",i[i.DayPeriodsStandalone=2]="DayPeriodsStandalone",i[i.DaysFormat=3]="DaysFormat",i[i.DaysStandalone=4]="DaysStandalone",i[i.MonthsFormat=5]="MonthsFormat",i[i.MonthsStandalone=6]="MonthsStandalone",i[i.Eras=7]="Eras",i[i.FirstDayOfWeek=8]="FirstDayOfWeek",i[i.WeekendRange=9]="WeekendRange",i[i.DateFormat=10]="DateFormat",i[i.TimeFormat=11]="TimeFormat",i[i.DateTimeFormat=12]="DateTimeFormat",i[i.NumberSymbols=13]="NumberSymbols",i[i.NumberFormats=14]="NumberFormats",i[i.CurrencyCode=15]="CurrencyCode",i[i.CurrencySymbol=16]="CurrencySymbol",i[i.CurrencyName=17]="CurrencyName",i[i.Currencies=18]="Currencies",i[i.Directionality=19]="Directionality",i[i.PluralCase=20]="PluralCase",i[i.ExtraData=21]="ExtraData",i}(Gn||{});function One(i){return i.toLowerCase().replace(/_/g,"-")}var Tv="en-US";var Fne=Tv;function Lne(i){typeof i=="string"&&(Fne=i.toLowerCase().replace(/_/g,"-"))}function fe(i,t,e,n){let r=Gt(),o=Nn(),s=Ur();return WT(o,r,r[Rn],s,i,t,n),fe}function GT(i,t){let e=Ur(),n=Gt(),r=Nn(),o=yT(r.data),s=mU(o,e,n);return WT(r,n,s,e,i,t),GT}function Bne(i,t,e,n){let r=i.cleanup;if(r!=null)for(let o=0;o<r.length-1;o+=2){let s=r[o];if(s===e&&r[o+1]===n){let a=t[jf],c=r[o+2];return a.length>c?a[c]:null}typeof s=="string"&&(o+=2)}return null}function WT(i,t,e,n,r,o,s){let a=Ov(n),l=i.firstCreatePass&&hU(i),d=t[Xr],u=uU(t),h=!0;if(n.type&3||s){let _=Es(n,t),f=s?s(_):_,g=u.length,C=s?S=>s(Va(S[n.index])):n.index,M=null;if(!s&&a&&(M=Bne(i,t,r,n.index)),M!==null){let S=M.__ngLastListenerFn__||M;S.__ngNextListenerFn__=o,M.__ngLastListenerFn__=o,h=!1}else{o=mV(n,t,d,o,!1);let S=e.listen(f,r,o);u.push(o,S),l&&l.push(r,C,g,g+1)}}else o=mV(n,t,d,o,!1);let m=n.outputs,p;if(h&&m!==null&&(p=m[r])){let _=p.length;if(_)for(let f=0;f<_;f+=2){let g=p[f],C=p[f+1],R=t[g][C].subscribe(o),N=u.length;u.push(o,R),l&&l.push(r,n.index,N,-(N+1))}}}function hV(i,t,e,n){let r=Ai(null);try{return Fa(6,t,e),e(n)!==!1}catch(o){return pU(i,o),!1}finally{Fa(7,t,e),Ai(r)}}function mV(i,t,e,n,r){return function o(s){if(s===Function)return n;let a=i.componentOffset>-1?zl(i.index,t):t;BT(a);let c=hV(t,e,n,s),l=o.__ngNextListenerFn__;for(;l;)c=hV(t,e,l,s)&&c,l=l.__ngNextListenerFn__;return r&&c===!1&&s.preventDefault(),c}}function Q(i=1){return XJ(i)}function Vne(i,t){let e=null,n=eJ(i);for(let r=0;r<t.length;r++){let o=t[r];if(o==="*"){e=r;continue}if(n===null?RV(i,o,!0):nJ(n,o))return r}return e}function Ti(i){let t=Gt()[Cs][os];if(!t.projection){let e=i?i.length:1,n=t.projection=GQ(e,null),r=n.slice(),o=t.child;for(;o!==null;){let s=i?Vne(o,i):0;s!==null&&(r[s]?r[s].projectionNext=o:n[s]=o,r[s]=o),o=o.next}}}function ct(i,t=0,e){let n=Gt(),r=Nn(),o=Mm(r,Ir+i,16,null,e||null);o.projection===null&&(o.projection=t),vT(),(!n[mm]||i4())&&(o.flags&32)!==32&&mte(r,n,o)}function ni(i,t,e,n){Lie(i,t,e,n)}function Nt(i,t,e){Fie(i,t,e)}function Le(i){let t=Gt(),e=Nn(),n=o4();xT(n+1);let r=zT(e,n);if(i.dirty&&AJ(t)===((r.metadata.flags&2)===2)){if(r.matches===null)i.reset([]);else{let o=Uie(t,n);i.reset(o,pee),i.notifyOnChanges()}return!0}return!1}function Be(){return Oie(Gt(),o4())}function Une(i,t,e,n){e>=i.data.length&&(i.data[e]=null,i.blueprint[e]=null),t[e]=n}function Co(i){let t=HJ();return Fv(t,Ir+i)}function P(i,t=""){let e=Gt(),n=Nn(),r=i+Ir,o=n.firstCreatePass?Mm(n,r,1,t,null):n.data[r],s=zne(n,e,o,t,i);e[r]=s,Bv()&&Gv(n,e,s,o),Su(o,!1)}var zne=(i,t,e,n,r)=>(Vv(!0),Kee(t[Rn],n));function Xt(i){return Vt("",i,""),Xt}function Vt(i,t,e){let n=Gt(),r=AU(n,i,t,e);return r!==ss&&FT(n,za(),r),Vt}function Js(i,t,e,n,r){let o=Gt(),s=sne(o,i,t,e,n,r);return s!==ss&&FT(o,za(),s),Js}function ug(i,t,e,n,r,o,s){let a=Gt(),c=ane(a,i,t,e,n,r,o,s);return c!==ss&&FT(a,za(),c),ug}function Ui(i,t,e){IU(t)&&(t=t());let n=Gt(),r=Hl();if(Uo(n,r,t)){let o=Nn(),s=rg();Yv(o,s,n,i,t,n[Rn],e,!1)}return Ui}function ji(i,t){let e=IU(i);return e&&i.set(t),e}function zi(i,t){let e=Gt(),n=Nn(),r=Ur();return WT(n,e,e[Rn],r,i,t),zi}function Hne(i,t,e){let n=Nn();if(n.firstCreatePass){let r=kc(i);Z1(e,n.data,n.blueprint,r,!0),Z1(t,n.data,n.blueprint,r,!1)}}function Z1(i,t,e,n,r){if(i=bo(i),Array.isArray(i))for(let o=0;o<i.length;o++)Z1(i[o],t,e,n,r);else{let o=Nn(),s=Gt(),a=Ur(),c=hm(i)?i:bo(i.provide),l=jV(i),d=a.providerIndexes&1048575,u=a.directiveStart,h=a.providerIndexes>>20;if(hm(i)||!i.multi){let m=new yu(l,r,O),p=ZE(c,t,r?d:d+h,u);p===-1?(l1(pv(a,s),o,c),YE(o,i,t.length),t.push(c),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),e.push(m),s.push(m)):(e[p]=m,s[p]=m)}else{let m=ZE(c,t,d+h,u),p=ZE(c,t,d,d+h),_=m>=0&&e[m],f=p>=0&&e[p];if(r&&!f||!r&&!_){l1(pv(a,s),o,c);let g=Gne(r?$ne:jne,e.length,r,n,l);!r&&f&&(e[p].providerFactory=g),YE(o,i,t.length,0),t.push(c),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),e.push(g),s.push(g)}else{let g=HU(e[r?p:m],l,!r&&n);YE(o,i,m>-1?m:p,g)}!r&&n&&f&&e[p].componentProviders++}}}function YE(i,t,e,n){let r=hm(t),o=pJ(t);if(r||o){let c=(o?bo(t.useClass):t).prototype.ngOnDestroy;if(c){let l=i.destroyHooks||(i.destroyHooks=[]);if(!r&&t.multi){let d=l.indexOf(e);d===-1?l.push(e,[n,c]):l[d+1].push(n,c)}else l.push(e,c)}}}function HU(i,t,e){return e&&i.componentProviders++,i.multi.push(t)-1}function ZE(i,t,e,n){for(let r=e;r<n;r++)if(t[r]===i)return r;return-1}function jne(i,t,e,n){return K1(this.multi,[])}function $ne(i,t,e,n){let r=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=xu(e,e[ii],this.providerFactory.index,n);o=a.slice(0,s),K1(r,o);for(let c=s;c<a.length;c++)o.push(a[c])}else o=[],K1(r,o);return o}function K1(i,t){for(let e=0;e<i.length;e++){let n=i[e];t.push(n())}return t}function Gne(i,t,e,n,r){let o=new yu(i,e,O);return o.multi=[],o.index=t,o.componentProviders=0,HU(o,r,n&&!e),o}function Ot(i,t=[]){return e=>{e.providersResolver=(n,r)=>Hne(n,r?r(i):i,t)}}var Wne=(()=>{class i{constructor(e){this._injector=e,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(e){if(!e.standalone)return null;if(!this.cachedInjectors.has(e)){let n=UV(!1,e.type),r=n.length>0?iy([n],this._injector,`Standalone[${e.type.name}]`):null;this.cachedInjectors.set(e,r)}return this.cachedInjectors.get(e)}ngOnDestroy(){try{for(let e of this.cachedInjectors.values())e!==null&&e.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=xe({token:i,providedIn:"environment",factory:()=>new i(me(yo))})}}return i})();function Tt(i){Cm("NgStandalone"),i.getStandaloneInjector=t=>t.get(Wne).getOrCreateStandaloneInjector(i)}function jU(i,t,e,n){return GU(Gt(),ng(),i,t,e,n)}function $U(i,t,e,n,r){return WU(Gt(),ng(),i,t,e,n,r)}function qT(i,t){let e=i[t];return e===ss?void 0:e}function GU(i,t,e,n,r,o){let s=t+e;return Uo(i,s,r)?HT(i,s+1,o?n.call(o,r):n(r)):qT(i,s+1)}function WU(i,t,e,n,r,o,s){let a=t+e;return jT(i,a,r,o)?HT(i,a+2,s?n.call(s,r,o):n(r,o)):qT(i,a+2)}function qne(i,t,e,n,r,o,s,a){let c=t+e;return kU(i,c,r,o,s)?HT(i,c+3,a?n.call(a,r,o,s):n(r,o,s)):qT(i,c+3)}function Lc(i,t){let e=Nn(),n,r=i+Ir;e.firstCreatePass?(n=Xne(t,e.pipeRegistry),e.data[r]=n,n.onDestroy&&(e.destroyHooks??=[]).push(r,n.onDestroy)):n=e.data[r];let o=n.factory||(n.factory=gu(n.type,!0)),s,a=Bo(O);try{let c=mv(!1),l=o();return mv(c),Une(e,Gt(),r,l),l}finally{Bo(a)}}function Xne(i,t){if(t)for(let e=t.length-1;e>=0;e--){let n=t[e];if(i===n.name)return n}}function qU(i,t,e){let n=i+Ir,r=Gt(),o=Fv(r,n);return XT(r,n)?GU(r,ng(),t,o.transform,e,o):o.transform(e)}function Sm(i,t,e,n){let r=i+Ir,o=Gt(),s=Fv(o,r);return XT(o,r)?WU(o,ng(),t,s.transform,e,n,s):s.transform(e,n)}function XU(i,t,e,n,r){let o=i+Ir,s=Gt(),a=Fv(s,o);return XT(s,o)?qne(s,ng(),t,a.transform,e,n,r,a):a.transform(e,n,r)}function XT(i,t){return i[ii].data[t].pure}function hg(i,t){return Jv(i,t)}var Q0=null;function Yne(i){Q0!==null&&(i.defaultEncapsulation!==Q0.defaultEncapsulation||i.preserveWhitespaces!==Q0.preserveWhitespaces)||(Q0=i)}var ny=(()=>{class i{log(e){console.log(e)}warn(e){console.warn(e)}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275prov=xe({token:i,factory:i.\u0275fac,providedIn:"platform"})}}return i})();var YT=new ge(""),mg=new ge(""),ry=(()=>{class i{constructor(e,n,r){this._ngZone=e,this.registry=n,this._pendingCount=0,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,ZT||(Zne(r),r.addToWindow(n)),this._watchAngularEvents(),e.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ne.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&this._pendingCount===0&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;this._callbacks.length!==0;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb()}});else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter(n=>n.updateCb&&n.updateCb(e)?(clearTimeout(n.timeoutId),!1):!0)}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(e=>({source:e.source,creationLocation:e.creationLocation,data:e.data})):[]}addCallback(e,n,r){let o=-1;n&&n>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==o),e()},n)),this._callbacks.push({doneCb:e,timeoutId:o,updateCb:r})}whenStable(e,n,r){if(r&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(e,n,r),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(e){this.registry.registerApplication(e,this)}unregisterApplication(e){this.registry.unregisterApplication(e)}findProviders(e,n,r){return[]}static{this.\u0275fac=function(n){return new(n||i)(me(Ne),me(oy),me(mg))}}static{this.\u0275prov=xe({token:i,factory:i.\u0275fac})}}return i})(),oy=(()=>{class i{constructor(){this._applications=new Map}registerApplication(e,n){this._applications.set(e,n)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,n=!0){return ZT?.findTestabilityInTree(this,e,n)??null}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275prov=xe({token:i,factory:i.\u0275fac,providedIn:"platform"})}}return i})();function Zne(i){ZT=i}var ZT;function Tu(i){return!!i&&typeof i.then=="function"}function YU(i){return!!i&&typeof i.subscribe=="function"}var sy=new ge(""),ZU=(()=>{class i{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((e,n)=>{this.resolve=e,this.reject=n}),this.appInits=be(sy,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let e=[];for(let r of this.appInits){let o=r();if(Tu(o))e.push(o);else if(YU(o)){let s=new Promise((a,c)=>{o.subscribe({complete:a,error:c})});e.push(s)}}let n=()=>{this.done=!0,this.resolve()};Promise.all(e).then(()=>{n()}).catch(r=>{this.reject(r)}),e.length===0&&n(),this.initialized=!0}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275prov=xe({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})(),KT=new ge("");function Kne(){tB(()=>{throw new mt(600,!1)})}function Qne(i){return i.isBoundToModule}function Jne(i,t,e){try{let n=e();return Tu(n)?n.catch(r=>{throw t.runOutsideAngular(()=>i.handleError(r)),r}):n}catch(n){throw t.runOutsideAngular(()=>i.handleError(n)),n}}function KU(i,t){return Array.isArray(t)?t.reduce(KU,i):ye(ye({},i),t)}var $l=(()=>{class i{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=be(M4),this.afterRenderEffectManager=be(UT),this.externalTestViews=new Set,this.beforeRender=new Fe,this.afterTick=new Fe,this.componentTypes=[],this.components=[],this.isStable=be(ag).hasPendingTasks.pipe(St(e=>!e)),this._injector=be(yo)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(e,n){let r=e instanceof bv;if(!this._injector.get(ZU).done){let h=!r&&FV(e),m=!1;throw new mt(405,m)}let s;r?s=e:s=this._injector.get(ja).resolveComponentFactory(e),this.componentTypes.push(s.componentType);let a=Qne(s)?void 0:this._injector.get(Ul),c=n||s.selector,l=s.create(Jn.NULL,[],c,a),d=l.location.nativeElement,u=l.injector.get(YT,null);return u?.registerApplication(d),l.onDestroy(()=>{this.detachView(l.hostView),ov(this.components,l),u?.unregisterApplication(d)}),this._loadComponent(l),l}tick(){this._tick(!0)}_tick(e){if(this._runningTick)throw new mt(101,!1);let n=Ai(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(e)}catch(r){this.internalErrorHandler(r)}finally{this.afterTick.next(),this._runningTick=!1,Ai(n)}}detectChangesInAttachedViews(e){let n=0,r=this.afterRenderEffectManager;for(;;){if(n===bU)throw new mt(103,!1);if(e){let o=n===0;this.beforeRender.next(o);for(let{_lView:s,notifyErrorHandler:a}of this._views)ere(s,o,a)}if(n++,r.executeInternalCallbacks(),![...this.externalTestViews.keys(),...this._views].some(({_lView:o})=>Q1(o))&&(r.execute(),![...this.externalTestViews.keys(),...this._views].some(({_lView:o})=>Q1(o))))break}}attachView(e){let n=e;this._views.push(n),n.attachToAppRef(this)}detachView(e){let n=e;ov(this._views,n),n.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e);let n=this._injector.get(KT,[]);[...this._bootstrapListeners,...n].forEach(r=>r(e))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(e=>e()),this._views.slice().forEach(e=>e.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(e){return this._destroyListeners.push(e),()=>ov(this._destroyListeners,e)}destroy(){if(this._destroyed)throw new mt(406,!1);let e=this._injector;e.destroy&&!e.destroyed&&e.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275prov=xe({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();function ov(i,t){let e=i.indexOf(t);e>-1&&i.splice(e,1)}function ere(i,t,e){!t&&!Q1(i)||tre(i,e,t)}function Q1(i){return _T(i)}function tre(i,t,e){let n;e?(n=0,i[$t]|=1024):i[$t]&64?n=0:n=1,vU(i,t,n)}var J1=class{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}},ay=(()=>{class i{compileModuleSync(e){return new Cv(e)}compileModuleAsync(e){return Promise.resolve(this.compileModuleSync(e))}compileModuleAndAllComponentsSync(e){let n=this.compileModuleSync(e),r=LV(e),o=G4(r.declarations).reduce((s,a)=>{let c=Bl(a);return c&&s.push(new _m(c)),s},[]);return new J1(n,o)}compileModuleAndAllComponentsAsync(e){return Promise.resolve(this.compileModuleAndAllComponentsSync(e))}clearCache(){}clearCacheFor(e){}getModuleId(e){}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275prov=xe({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})(),ire=new ge("");function nre(i,t,e){let n=new Cv(e);return Promise.resolve(n)}function pV(i){for(let t=i.length-1;t>=0;t--)if(i[t]!==void 0)return i[t]}var rre=(()=>{class i{constructor(){this.zone=be(Ne),this.applicationRef=be($l)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275prov=xe({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();function ore(i){return[{provide:Ne,useFactory:i},{provide:um,multi:!0,useFactory:()=>{let t=be(rre,{optional:!0});return()=>t.initialize()}},{provide:um,multi:!0,useFactory:()=>{let t=be(cre);return()=>{t.initialize()}}},{provide:M4,useFactory:sre}]}function sre(){let i=be(Ne),t=be(xo);return e=>i.runOutsideAngular(()=>t.handleError(e))}function are(i){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:i?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:i?.runCoalescing??!1}}var cre=(()=>{class i{constructor(){this.subscription=new qt,this.initialized=!1,this.zone=be(Ne),this.pendingTasks=be(ag)}initialize(){if(this.initialized)return;this.initialized=!0;let e=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(e=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Ne.assertNotInAngularZone(),queueMicrotask(()=>{e!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(e),e=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Ne.assertInAngularZone(),e??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275prov=xe({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();function lre(){return typeof $localize<"u"&&$localize.locale||Tv}var Em=new ge("",{providedIn:"root",factory:()=>be(Em,Ci.Optional|Ci.SkipSelf)||lre()});var QU=new ge(""),JU=(()=>{class i{constructor(e){this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(e,n){let r=pie(n?.ngZone,are({eventCoalescing:n?.ngZoneEventCoalescing,runCoalescing:n?.ngZoneRunCoalescing}));return r.run(()=>{let o=Jie(e.moduleType,this.injector,ore(()=>r)),s=o.injector.get(xo,null);return r.runOutsideAngular(()=>{let a=r.onError.subscribe({next:c=>{s.handleError(c)}});o.onDestroy(()=>{ov(this._modules,o),a.unsubscribe()})}),Jne(s,r,()=>{let a=o.injector.get(ZU);return a.runInitializers(),a.donePromise.then(()=>{let c=o.injector.get(Em,Tv);return Lne(c||Tv),this._moduleDoBootstrap(o),o})})})}bootstrapModule(e,n=[]){let r=KU({},n);return nre(this.injector,r,e).then(o=>this.bootstrapModuleFactory(o,r))}_moduleDoBootstrap(e){let n=e.injector.get($l);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(r=>n.bootstrap(r));else if(e.instance.ngDoBootstrap)e.instance.ngDoBootstrap(n);else throw new mt(-403,!1);this._modules.push(e)}onDestroy(e){this._destroyListeners.push(e)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new mt(404,!1);this._modules.slice().forEach(n=>n.destroy()),this._destroyListeners.forEach(n=>n());let e=this._injector.get(QU,null);e&&(e.forEach(n=>n()),e.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static{this.\u0275fac=function(n){return new(n||i)(me(Jn))}}static{this.\u0275prov=xe({token:i,factory:i.\u0275fac,providedIn:"platform"})}}return i})(),Vf=null,ez=new ge("");function dre(i){if(Vf&&!Vf.get(ez,!1))throw new mt(400,!1);Kne(),Vf=i;let t=i.get(JU);return mre(i),t}function QT(i,t,e=[]){let n=`Platform: ${t}`,r=new ge(n);return(o=[])=>{let s=tz();if(!s||s.injector.get(ez,!1)){let a=[...e,...o,{provide:r,useValue:!0}];i?i(a):dre(ure(a,n))}return hre(r)}}function ure(i=[],t){return Jn.create({name:t,providers:[{provide:Pv,useValue:"platform"},{provide:QU,useValue:new Set([()=>Vf=null])},...i]})}function hre(i){let t=tz();if(!t)throw new mt(401,!1);return t}function tz(){return Vf?.get(JU)??null}function mre(i){i.get(ST,null)?.forEach(e=>e())}var ci=(()=>{class i{static{this.__NG_ELEMENT_ID__=pre}}return i})();function pre(i){return fre(Ur(),Gt(),(i&16)===16)}function fre(i,t,e){if(Nv(i)&&!e){let n=zl(i.index,t);return new wu(n,n)}else if(i.type&47){let n=t[Cs];return new wu(n,t)}return null}var eT=class{constructor(){}supports(t){return DU(t)}create(t){return new tT(t)}},gre=(i,t)=>t,tT=class{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||gre}forEachItem(t){let e;for(e=this._itHead;e!==null;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,n=this._removalsHead,r=0,o=null;for(;e||n;){let s=!n||e&&e.currentIndex<fV(n,r,o)?e:n,a=fV(s,r,o),c=s.currentIndex;if(s===n)r--,n=n._nextRemoved;else if(e=e._next,s.previousIndex==null)r++;else{o||(o=[]);let l=a-r,d=c-r;if(l!=d){for(let h=0;h<l;h++){let m=h<o.length?o[h]:o[h]=0,p=m+h;d<=p&&p<l&&(o[h]=m+1)}let u=s.previousIndex;o[u]=d-l}}a!==c&&t(s,a,c)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;e!==null;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;e!==null;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;e!==null;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;e!==null;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;e!==null;e=e._nextIdentityChange)t(e)}diff(t){if(t==null&&(t=[]),!DU(t))throw new mt(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._itHead,n=!1,r,o,s;if(Array.isArray(t)){this.length=t.length;for(let a=0;a<this.length;a++)o=t[a],s=this._trackByFn(a,o),e===null||!Object.is(e.trackById,s)?(e=this._mismatch(e,o,s,a),n=!0):(n&&(e=this._verifyReinsertion(e,o,s,a)),Object.is(e.item,o)||this._addIdentityChange(e,o)),e=e._next}else r=0,ene(t,a=>{s=this._trackByFn(r,a),e===null||!Object.is(e.trackById,s)?(e=this._mismatch(e,a,s,r),n=!0):(n&&(e=this._verifyReinsertion(e,a,s,r)),Object.is(e.item,a)||this._addIdentityChange(e,a)),e=e._next,r++}),this.length=r;return this._truncate(e),this.collection=t,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;t!==null;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;t!==null;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;t!==null;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,n,r){let o;return t===null?o=this._itTail:(o=t._prev,this._remove(t)),t=this._unlinkedRecords===null?null:this._unlinkedRecords.get(n,null),t!==null?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,o,r)):(t=this._linkedRecords===null?null:this._linkedRecords.get(n,r),t!==null?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,o,r)):t=this._addAfter(new iT(e,n),o,r)),t}_verifyReinsertion(t,e,n,r){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(n,null);return o!==null?t=this._reinsertAfter(o,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;t!==null;){let e=t._next;this._addToRemovals(this._unlink(t)),t=e}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,n){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(t);let r=t._prevRemoved,o=t._nextRemoved;return r===null?this._removalsHead=o:r._nextRemoved=o,o===null?this._removalsTail=r:o._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t}_moveAfter(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}_addAfter(t,e,n){return this._insertAfter(t,e,n),this._additionsTail===null?this._additionsTail=this._additionsHead=t:this._additionsTail=this._additionsTail._nextAdded=t,t}_insertAfter(t,e,n){let r=e===null?this._itHead:e._next;return t._next=r,t._prev=e,r===null?this._itTail=t:r._prev=t,e===null?this._itHead=t:e._next=t,this._linkedRecords===null&&(this._linkedRecords=new Iv),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){this._linkedRecords!==null&&this._linkedRecords.remove(t);let e=t._prev,n=t._next;return e===null?this._itHead=n:e._next=n,n===null?this._itTail=e:n._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail===null?this._movesTail=this._movesHead=t:this._movesTail=this._movesTail._nextMoved=t),t}_addToRemovals(t){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Iv),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=t:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=t,t}},iT=class{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},nT=class{constructor(){this._head=null,this._tail=null}add(t){this._head===null?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let n;for(n=this._head;n!==null;n=n._nextDup)if((e===null||e<=n.currentIndex)&&Object.is(n.trackById,t))return n;return null}remove(t){let e=t._prevDup,n=t._nextDup;return e===null?this._head=n:e._nextDup=n,n===null?this._tail=e:n._prevDup=e,this._head===null}},Iv=class{constructor(){this.map=new Map}put(t){let e=t.trackById,n=this.map.get(e);n||(n=new nT,this.map.set(e,n)),n.add(t)}get(t,e){let n=t,r=this.map.get(n);return r?r.get(t,e):null}remove(t){let e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function fV(i,t,e){let n=i.previousIndex;if(n===null)return n;let r=0;return e&&n<e.length&&(r=e[n]),n+t+r}function gV(){return new $a([new eT])}var $a=(()=>{class i{static{this.\u0275prov=xe({token:i,providedIn:"root",factory:gV})}constructor(e){this.factories=e}static create(e,n){if(n!=null){let r=n.factories.slice();e=e.concat(r)}return new i(e)}static extend(e){return{provide:i,useFactory:n=>i.create(e,n||gV()),deps:[[i,new vm,new Cu]]}}find(e){let n=this.factories.find(r=>r.supports(e));if(n!=null)return n;throw new mt(901,!1)}}return i})();var iz=QT(null,"core",[]),nz=(()=>{class i{constructor(e){}static{this.\u0275fac=function(n){return new(n||i)(me($l))}}static{this.\u0275mod=$e({type:i})}static{this.\u0275inj=je({})}}return i})();function Je(i){return typeof i=="boolean"?i:i!=null&&i!=="false"}function on(i,t=NaN){return!isNaN(parseFloat(i))&&!isNaN(Number(i))?Number(i):t}var _re=new ge("",{providedIn:"root",factory:()=>be(bre)}),bre=(()=>{class i{static{this.\u0275prov=xe({token:i,providedIn:"root",factory:()=>new rT})}}return i})(),rT=class{constructor(){this.queuedEffectCount=0,this.queues=new Map,this.pendingTasks=be(ag),this.taskId=null}scheduleEffect(t){if(this.enqueue(t),this.taskId===null){let e=this.taskId=this.pendingTasks.add();queueMicrotask(()=>{this.flush(),this.pendingTasks.remove(e),this.taskId=null})}}enqueue(t){let e=t.creationZone;this.queues.has(e)||this.queues.set(e,new Set);let n=this.queues.get(e);n.has(t)||(this.queuedEffectCount++,n.add(t))}flush(){for(;this.queuedEffectCount>0;)for(let[t,e]of this.queues)t===null?this.flushQueue(e):t.run(()=>this.flushQueue(e))}flushQueue(t){for(let e of t)t.delete(e),this.queuedEffectCount--,e.run()}},oT=class{constructor(t,e,n,r,o,s){this.scheduler=t,this.effectFn=e,this.creationZone=n,this.injector=o,this.watcher=iB(a=>this.runEffect(a),()=>this.schedule(),s),this.unregisterOnDestroy=r?.onDestroy(()=>this.destroy())}runEffect(t){try{this.effectFn(t)}catch(e){this.injector.get(xo,null,{optional:!0})?.handleError(e)}}run(){this.watcher.run()}schedule(){this.scheduler.scheduleEffect(this)}destroy(){this.watcher.destroy(),this.unregisterOnDestroy?.()}};function JT(i,t){Cm("NgSignals"),!t?.injector&&GV(JT);let e=t?.injector??be(Jn),n=t?.manualCleanup!==!0?e.get(zv):null,r=new oT(e.get(_re),i,typeof Zone>"u"?null:Zone.current,n,e,t?.allowSignalWrites??!1),o=e.get(ci,null,{optional:!0});return!o||!(o._lView[$t]&8)?r.watcher.notify():(o._lView[ev]??=[]).push(r.watcher.notify),r}function rz(i){let t=Bl(i);if(!t)return null;let e=new _m(t);return{get selector(){return e.selector},get type(){return e.componentType},get inputs(){return e.inputs},get outputs(){return e.outputs},get ngContentSelectors(){return e.ngContentSelectors},get isStandalone(){return t.standalone},get isSignal(){return t.signals}}}var hz=null;function Ga(){return hz}function mz(i){hz??=i}var gy=class{};var It=new ge(""),dI=(()=>{class i{historyGo(e){throw new Error("")}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275prov=xe({token:i,factory:()=>be(vre),providedIn:"platform"})}}return i})(),pz=new ge(""),vre=(()=>{class i extends dI{constructor(){super(),this._doc=be(It),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Ga().getBaseHref(this._doc)}onPopState(e){let n=Ga().getGlobalEventTarget(this._doc,"window");return n.addEventListener("popstate",e,!1),()=>n.removeEventListener("popstate",e)}onHashChange(e){let n=Ga().getGlobalEventTarget(this._doc,"window");return n.addEventListener("hashchange",e,!1),()=>n.removeEventListener("hashchange",e)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(e){this._location.pathname=e}pushState(e,n,r){this._history.pushState(e,n,r)}replaceState(e,n,r){this._history.replaceState(e,n,r)}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275prov=xe({token:i,factory:()=>new i,providedIn:"platform"})}}return i})();function uI(i,t){if(i.length==0)return t;if(t.length==0)return i;let e=0;return i.endsWith("/")&&e++,t.startsWith("/")&&e++,e==2?i+t.substring(1):e==1?i+t:i+"/"+t}function oz(i){let t=i.match(/#|\?|$/),e=t&&t.index||i.length,n=e-(i[e-1]==="/"?1:0);return i.slice(0,n)+i.slice(e)}function Vc(i){return i&&i[0]!=="?"?"?"+i:i}var Iu=(()=>{class i{historyGo(e){throw new Error("")}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275prov=xe({token:i,factory:()=>be(hI),providedIn:"root"})}}return i})(),fz=new ge(""),hI=(()=>{class i extends Iu{constructor(e,n){super(),this._platformLocation=e,this._removeListenerFns=[],this._baseHref=n??this._platformLocation.getBaseHrefFromDOM()??be(It).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return uI(this._baseHref,e)}path(e=!1){let n=this._platformLocation.pathname+Vc(this._platformLocation.search),r=this._platformLocation.hash;return r&&e?`${n}${r}`:n}pushState(e,n,r,o){let s=this.prepareExternalUrl(r+Vc(o));this._platformLocation.pushState(e,n,s)}replaceState(e,n,r,o){let s=this.prepareExternalUrl(r+Vc(o));this._platformLocation.replaceState(e,n,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static{this.\u0275fac=function(n){return new(n||i)(me(dI),me(fz,8))}}static{this.\u0275prov=xe({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})(),gz=(()=>{class i extends Iu{constructor(e,n){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],n!=null&&(this._baseHref=n)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let n=this._platformLocation.hash??"#";return n.length>0?n.substring(1):n}prepareExternalUrl(e){let n=uI(this._baseHref,e);return n.length>0?"#"+n:n}pushState(e,n,r,o){let s=this.prepareExternalUrl(r+Vc(o));s.length==0&&(s=this._platformLocation.pathname),this._platformLocation.pushState(e,n,s)}replaceState(e,n,r,o){let s=this.prepareExternalUrl(r+Vc(o));s.length==0&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(e,n,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static{this.\u0275fac=function(n){return new(n||i)(me(dI),me(fz,8))}}static{this.\u0275prov=xe({token:i,factory:i.\u0275fac})}}return i})(),Gl=(()=>{class i{constructor(e){this._subject=new Qe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=e;let n=this._locationStrategy.getBaseHref();this._basePath=wre(oz(sz(n))),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,n=""){return this.path()==this.normalize(e+Vc(n))}normalize(e){return i.stripTrailingSlash(xre(this._basePath,sz(e)))}prepareExternalUrl(e){return e&&e[0]!=="/"&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,n="",r=null){this._locationStrategy.pushState(r,"",e,n),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Vc(n)),r)}replaceState(e,n="",r=null){this._locationStrategy.replaceState(r,"",e,n),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Vc(n)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription??=this.subscribe(n=>{this._notifyUrlChangeListeners(n.url,n.state)}),()=>{let n=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(n,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",n){this._urlChangeListeners.forEach(r=>r(e,n))}subscribe(e,n,r){return this._subject.subscribe({next:e,error:n,complete:r})}static{this.normalizeQueryParams=Vc}static{this.joinWithSlash=uI}static{this.stripTrailingSlash=oz}static{this.\u0275fac=function(n){return new(n||i)(me(Iu))}}static{this.\u0275prov=xe({token:i,factory:()=>yre(),providedIn:"root"})}}return i})();function yre(){return new Gl(me(Iu))}function xre(i,t){if(!i||!t.startsWith(i))return t;let e=t.substring(i.length);return e===""||["/",";","?","#"].includes(e[0])?e:t}function sz(i){return i.replace(/\/index.html$/,"")}function wre(i){if(new RegExp("^(https?:)?//").test(i)){let[,e]=i.split(/\/\/[^\/]+/);return e}return i}var _z=function(i){return i[i.Decimal=0]="Decimal",i[i.Percent=1]="Percent",i[i.Currency=2]="Currency",i[i.Scientific=3]="Scientific",i}(_z||{});var So=function(i){return i[i.Format=0]="Format",i[i.Standalone=1]="Standalone",i}(So||{}),pn=function(i){return i[i.Narrow=0]="Narrow",i[i.Abbreviated=1]="Abbreviated",i[i.Wide=2]="Wide",i[i.Short=3]="Short",i}(pn||{}),cs=function(i){return i[i.Short=0]="Short",i[i.Medium=1]="Medium",i[i.Long=2]="Long",i[i.Full=3]="Full",i}(cs||{}),ls={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function Mre(i){return as(i)[Gn.LocaleId]}function Cre(i,t,e){let n=as(i),r=[n[Gn.DayPeriodsFormat],n[Gn.DayPeriodsStandalone]],o=Is(r,t);return Is(o,e)}function Sre(i,t,e){let n=as(i),r=[n[Gn.DaysFormat],n[Gn.DaysStandalone]],o=Is(r,t);return Is(o,e)}function Ere(i,t,e){let n=as(i),r=[n[Gn.MonthsFormat],n[Gn.MonthsStandalone]],o=Is(r,t);return Is(o,e)}function Tre(i,t){let n=as(i)[Gn.Eras];return Is(n,t)}function cy(i,t){let e=as(i);return Is(e[Gn.DateFormat],t)}function ly(i,t){let e=as(i);return Is(e[Gn.TimeFormat],t)}function dy(i,t){let n=as(i)[Gn.DateTimeFormat];return Is(n,t)}function Uc(i,t){let e=as(i),n=e[Gn.NumberSymbols][t];if(typeof n>"u"){if(t===ls.CurrencyDecimal)return e[Gn.NumberSymbols][ls.Decimal];if(t===ls.CurrencyGroup)return e[Gn.NumberSymbols][ls.Group]}return n}function Ire(i,t){return as(i)[Gn.NumberFormats][t]}function bz(i){if(!i[Gn.ExtraData])throw new Error(`Missing extra locale data for the locale "${i[Gn.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Dre(i){let t=as(i);return bz(t),(t[Gn.ExtraData][2]||[]).map(n=>typeof n=="string"?eI(n):[eI(n[0]),eI(n[1])])}function kre(i,t,e){let n=as(i);bz(n);let r=[n[Gn.ExtraData][0],n[Gn.ExtraData][1]],o=Is(r,t)||[];return Is(o,e)||[]}function Is(i,t){for(let e=t;e>-1;e--)if(typeof i[e]<"u")return i[e];throw new Error("Locale data API: locale data undefined")}function eI(i){let[t,e]=i.split(":");return{hours:+t,minutes:+e}}var Are=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,uy={},Pre=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/,zc=function(i){return i[i.Short=0]="Short",i[i.ShortGMT=1]="ShortGMT",i[i.Long=2]="Long",i[i.Extended=3]="Extended",i}(zc||{}),Gi=function(i){return i[i.FullYear=0]="FullYear",i[i.Month=1]="Month",i[i.Date=2]="Date",i[i.Hours=3]="Hours",i[i.Minutes=4]="Minutes",i[i.Seconds=5]="Seconds",i[i.FractionalSeconds=6]="FractionalSeconds",i[i.Day=7]="Day",i}(Gi||{}),$i=function(i){return i[i.DayPeriods=0]="DayPeriods",i[i.Days=1]="Days",i[i.Months=2]="Months",i[i.Eras=3]="Eras",i}($i||{});function Rre(i,t,e,n){let r=Hre(i);t=Bc(e,t)||t;let s=[],a;for(;t;)if(a=Pre.exec(t),a){s=s.concat(a.slice(1));let d=s.pop();if(!d)break;t=d}else{s.push(t);break}let c=r.getTimezoneOffset();n&&(c=yz(n,c),r=zre(r,n,!0));let l="";return s.forEach(d=>{let u=Vre(d);l+=u?u(r,e,c):d==="''"?"'":d.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),l}function _y(i,t,e){let n=new Date(0);return n.setFullYear(i,t,e),n.setHours(0,0,0),n}function Bc(i,t){let e=Mre(i);if(uy[e]??={},uy[e][t])return uy[e][t];let n="";switch(t){case"shortDate":n=cy(i,cs.Short);break;case"mediumDate":n=cy(i,cs.Medium);break;case"longDate":n=cy(i,cs.Long);break;case"fullDate":n=cy(i,cs.Full);break;case"shortTime":n=ly(i,cs.Short);break;case"mediumTime":n=ly(i,cs.Medium);break;case"longTime":n=ly(i,cs.Long);break;case"fullTime":n=ly(i,cs.Full);break;case"short":let r=Bc(i,"shortTime"),o=Bc(i,"shortDate");n=hy(dy(i,cs.Short),[r,o]);break;case"medium":let s=Bc(i,"mediumTime"),a=Bc(i,"mediumDate");n=hy(dy(i,cs.Medium),[s,a]);break;case"long":let c=Bc(i,"longTime"),l=Bc(i,"longDate");n=hy(dy(i,cs.Long),[c,l]);break;case"full":let d=Bc(i,"fullTime"),u=Bc(i,"fullDate");n=hy(dy(i,cs.Full),[d,u]);break}return n&&(uy[e][t]=n),n}function hy(i,t){return t&&(i=i.replace(/\{([^}]+)}/g,function(e,n){return t!=null&&n in t?t[n]:e})),i}function ea(i,t,e="-",n,r){let o="";(i<0||r&&i<=0)&&(r?i=-i+1:(i=-i,o=e));let s=String(i);for(;s.length<t;)s="0"+s;return n&&(s=s.slice(s.length-t)),o+s}function Nre(i,t){return ea(i,3).substring(0,t)}function sr(i,t,e=0,n=!1,r=!1){return function(o,s){let a=Ore(i,o);if((e>0||a>-e)&&(a+=e),i===Gi.Hours)a===0&&e===-12&&(a=12);else if(i===Gi.FractionalSeconds)return Nre(a,t);let c=Uc(s,ls.MinusSign);return ea(a,t,c,n,r)}}function Ore(i,t){switch(i){case Gi.FullYear:return t.getFullYear();case Gi.Month:return t.getMonth();case Gi.Date:return t.getDate();case Gi.Hours:return t.getHours();case Gi.Minutes:return t.getMinutes();case Gi.Seconds:return t.getSeconds();case Gi.FractionalSeconds:return t.getMilliseconds();case Gi.Day:return t.getDay();default:throw new Error(`Unknown DateType value "${i}".`)}}function Sn(i,t,e=So.Format,n=!1){return function(r,o){return Fre(r,o,i,t,e,n)}}function Fre(i,t,e,n,r,o){switch(e){case $i.Months:return Ere(t,r,n)[i.getMonth()];case $i.Days:return Sre(t,r,n)[i.getDay()];case $i.DayPeriods:let s=i.getHours(),a=i.getMinutes();if(o){let l=Dre(t),d=kre(t,r,n),u=l.findIndex(h=>{if(Array.isArray(h)){let[m,p]=h,_=s>=m.hours&&a>=m.minutes,f=s<p.hours||s===p.hours&&a<p.minutes;if(m.hours<p.hours){if(_&&f)return!0}else if(_||f)return!0}else if(h.hours===s&&h.minutes===a)return!0;return!1});if(u!==-1)return d[u]}return Cre(t,r,n)[s<12?0:1];case $i.Eras:return Tre(t,n)[i.getFullYear()<=0?0:1];default:let c=e;throw new Error(`unexpected translation type ${c}`)}}function my(i){return function(t,e,n){let r=-1*n,o=Uc(e,ls.MinusSign),s=r>0?Math.floor(r/60):Math.ceil(r/60);switch(i){case zc.Short:return(r>=0?"+":"")+ea(s,2,o)+ea(Math.abs(r%60),2,o);case zc.ShortGMT:return"GMT"+(r>=0?"+":"")+ea(s,1,o);case zc.Long:return"GMT"+(r>=0?"+":"")+ea(s,2,o)+":"+ea(Math.abs(r%60),2,o);case zc.Extended:return n===0?"Z":(r>=0?"+":"")+ea(s,2,o)+":"+ea(Math.abs(r%60),2,o);default:throw new Error(`Unknown zone width "${i}"`)}}}var Lre=0,fy=4;function Bre(i){let t=_y(i,Lre,1).getDay();return _y(i,0,1+(t<=fy?fy:fy+7)-t)}function vz(i){let t=i.getDay(),e=t===0?-3:fy-t;return _y(i.getFullYear(),i.getMonth(),i.getDate()+e)}function tI(i,t=!1){return function(e,n){let r;if(t){let o=new Date(e.getFullYear(),e.getMonth(),1).getDay()-1,s=e.getDate();r=1+Math.floor((s+o)/7)}else{let o=vz(e),s=Bre(o.getFullYear()),a=o.getTime()-s.getTime();r=1+Math.round(a/6048e5)}return ea(r,i,Uc(n,ls.MinusSign))}}function py(i,t=!1){return function(e,n){let o=vz(e).getFullYear();return ea(o,i,Uc(n,ls.MinusSign),t)}}var iI={};function Vre(i){if(iI[i])return iI[i];let t;switch(i){case"G":case"GG":case"GGG":t=Sn($i.Eras,pn.Abbreviated);break;case"GGGG":t=Sn($i.Eras,pn.Wide);break;case"GGGGG":t=Sn($i.Eras,pn.Narrow);break;case"y":t=sr(Gi.FullYear,1,0,!1,!0);break;case"yy":t=sr(Gi.FullYear,2,0,!0,!0);break;case"yyy":t=sr(Gi.FullYear,3,0,!1,!0);break;case"yyyy":t=sr(Gi.FullYear,4,0,!1,!0);break;case"Y":t=py(1);break;case"YY":t=py(2,!0);break;case"YYY":t=py(3);break;case"YYYY":t=py(4);break;case"M":case"L":t=sr(Gi.Month,1,1);break;case"MM":case"LL":t=sr(Gi.Month,2,1);break;case"MMM":t=Sn($i.Months,pn.Abbreviated);break;case"MMMM":t=Sn($i.Months,pn.Wide);break;case"MMMMM":t=Sn($i.Months,pn.Narrow);break;case"LLL":t=Sn($i.Months,pn.Abbreviated,So.Standalone);break;case"LLLL":t=Sn($i.Months,pn.Wide,So.Standalone);break;case"LLLLL":t=Sn($i.Months,pn.Narrow,So.Standalone);break;case"w":t=tI(1);break;case"ww":t=tI(2);break;case"W":t=tI(1,!0);break;case"d":t=sr(Gi.Date,1);break;case"dd":t=sr(Gi.Date,2);break;case"c":case"cc":t=sr(Gi.Day,1);break;case"ccc":t=Sn($i.Days,pn.Abbreviated,So.Standalone);break;case"cccc":t=Sn($i.Days,pn.Wide,So.Standalone);break;case"ccccc":t=Sn($i.Days,pn.Narrow,So.Standalone);break;case"cccccc":t=Sn($i.Days,pn.Short,So.Standalone);break;case"E":case"EE":case"EEE":t=Sn($i.Days,pn.Abbreviated);break;case"EEEE":t=Sn($i.Days,pn.Wide);break;case"EEEEE":t=Sn($i.Days,pn.Narrow);break;case"EEEEEE":t=Sn($i.Days,pn.Short);break;case"a":case"aa":case"aaa":t=Sn($i.DayPeriods,pn.Abbreviated);break;case"aaaa":t=Sn($i.DayPeriods,pn.Wide);break;case"aaaaa":t=Sn($i.DayPeriods,pn.Narrow);break;case"b":case"bb":case"bbb":t=Sn($i.DayPeriods,pn.Abbreviated,So.Standalone,!0);break;case"bbbb":t=Sn($i.DayPeriods,pn.Wide,So.Standalone,!0);break;case"bbbbb":t=Sn($i.DayPeriods,pn.Narrow,So.Standalone,!0);break;case"B":case"BB":case"BBB":t=Sn($i.DayPeriods,pn.Abbreviated,So.Format,!0);break;case"BBBB":t=Sn($i.DayPeriods,pn.Wide,So.Format,!0);break;case"BBBBB":t=Sn($i.DayPeriods,pn.Narrow,So.Format,!0);break;case"h":t=sr(Gi.Hours,1,-12);break;case"hh":t=sr(Gi.Hours,2,-12);break;case"H":t=sr(Gi.Hours,1);break;case"HH":t=sr(Gi.Hours,2);break;case"m":t=sr(Gi.Minutes,1);break;case"mm":t=sr(Gi.Minutes,2);break;case"s":t=sr(Gi.Seconds,1);break;case"ss":t=sr(Gi.Seconds,2);break;case"S":t=sr(Gi.FractionalSeconds,1);break;case"SS":t=sr(Gi.FractionalSeconds,2);break;case"SSS":t=sr(Gi.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":t=my(zc.Short);break;case"ZZZZZ":t=my(zc.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":t=my(zc.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":t=my(zc.Long);break;default:return null}return iI[i]=t,t}function yz(i,t){i=i.replace(/:/g,"");let e=Date.parse("Jan 01, 1970 00:00:00 "+i)/6e4;return isNaN(e)?t:e}function Ure(i,t){return i=new Date(i.getTime()),i.setMinutes(i.getMinutes()+t),i}function zre(i,t,e){let n=e?-1:1,r=i.getTimezoneOffset(),o=yz(t,r);return Ure(i,n*(o-r))}function Hre(i){if(az(i))return i;if(typeof i=="number"&&!isNaN(i))return new Date(i);if(typeof i=="string"){if(i=i.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(i)){let[r,o=1,s=1]=i.split("-").map(a=>+a);return _y(r,o-1,s)}let e=parseFloat(i);if(!isNaN(i-e))return new Date(e);let n;if(n=i.match(Are))return jre(n)}let t=new Date(i);if(!az(t))throw new Error(`Unable to convert "${i}" into a date`);return t}function jre(i){let t=new Date(0),e=0,n=0,r=i[8]?t.setUTCFullYear:t.setFullYear,o=i[8]?t.setUTCHours:t.setHours;i[9]&&(e=Number(i[9]+i[10]),n=Number(i[9]+i[11])),r.call(t,Number(i[1]),Number(i[2])-1,Number(i[3]));let s=Number(i[4]||0)-e,a=Number(i[5]||0)-n,c=Number(i[6]||0),l=Math.floor(parseFloat("0."+(i[7]||0))*1e3);return o.call(t,s,a,c,l),t}function az(i){return i instanceof Date&&!isNaN(i.valueOf())}var $re=/^(\d+)?\.((\d+)(-(\d+))?)?$/,cz=22,by=".",pg="0",Gre=";",Wre=",",nI="#";function qre(i,t,e,n,r,o,s=!1){let a="",c=!1;if(!isFinite(i))a=Uc(e,ls.Infinity);else{let l=Kre(i);s&&(l=Zre(l));let d=t.minInt,u=t.minFrac,h=t.maxFrac;if(o){let C=o.match($re);if(C===null)throw new Error(`${o} is not a valid digit info`);let M=C[1],S=C[3],R=C[5];M!=null&&(d=rI(M)),S!=null&&(u=rI(S)),R!=null?h=rI(R):S!=null&&u>h&&(h=u)}Qre(l,u,h);let m=l.digits,p=l.integerLen,_=l.exponent,f=[];for(c=m.every(C=>!C);p<d;p++)m.unshift(0);for(;p<0;p++)m.unshift(0);p>0?f=m.splice(p,m.length):(f=m,m=[0]);let g=[];for(m.length>=t.lgSize&&g.unshift(m.splice(-t.lgSize,m.length).join(""));m.length>t.gSize;)g.unshift(m.splice(-t.gSize,m.length).join(""));m.length&&g.unshift(m.join("")),a=g.join(Uc(e,n)),f.length&&(a+=Uc(e,r)+f.join("")),_&&(a+=Uc(e,ls.Exponential)+"+"+_)}return i<0&&!c?a=t.negPre+a+t.negSuf:a=t.posPre+a+t.posSuf,a}function Xre(i,t,e){let n=Ire(t,_z.Decimal),r=Yre(n,Uc(t,ls.MinusSign));return qre(i,r,t,ls.Group,ls.Decimal,e)}function Yre(i,t="-"){let e={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},n=i.split(Gre),r=n[0],o=n[1],s=r.indexOf(by)!==-1?r.split(by):[r.substring(0,r.lastIndexOf(pg)+1),r.substring(r.lastIndexOf(pg)+1)],a=s[0],c=s[1]||"";e.posPre=a.substring(0,a.indexOf(nI));for(let d=0;d<c.length;d++){let u=c.charAt(d);u===pg?e.minFrac=e.maxFrac=d+1:u===nI?e.maxFrac=d+1:e.posSuf+=u}let l=a.split(Wre);if(e.gSize=l[1]?l[1].length:0,e.lgSize=l[2]||l[1]?(l[2]||l[1]).length:0,o){let d=r.length-e.posPre.length-e.posSuf.length,u=o.indexOf(nI);e.negPre=o.substring(0,u).replace(/'/g,""),e.negSuf=o.slice(u+d).replace(/'/g,"")}else e.negPre=t+e.posPre,e.negSuf=e.posSuf;return e}function Zre(i){if(i.digits[0]===0)return i;let t=i.digits.length-i.integerLen;return i.exponent?i.exponent+=2:(t===0?i.digits.push(0,0):t===1&&i.digits.push(0),i.integerLen+=2),i}function Kre(i){let t=Math.abs(i)+"",e=0,n,r,o,s,a;for((r=t.indexOf(by))>-1&&(t=t.replace(by,"")),(o=t.search(/e/i))>0?(r<0&&(r=o),r+=+t.slice(o+1),t=t.substring(0,o)):r<0&&(r=t.length),o=0;t.charAt(o)===pg;o++);if(o===(a=t.length))n=[0],r=1;else{for(a--;t.charAt(a)===pg;)a--;for(r-=o,n=[],s=0;o<=a;o++,s++)n[s]=Number(t.charAt(o))}return r>cz&&(n=n.splice(0,cz-1),e=r-1,r=1),{digits:n,exponent:e,integerLen:r}}function Qre(i,t,e){if(t>e)throw new Error(`The minimum number of digits after fraction (${t}) is higher than the maximum (${e}).`);let n=i.digits,r=n.length-i.integerLen,o=Math.min(Math.max(t,r),e),s=o+i.integerLen,a=n[s];if(s>0){n.splice(Math.max(i.integerLen,s));for(let u=s;u<n.length;u++)n[u]=0}else{r=Math.max(0,r),i.integerLen=1,n.length=Math.max(1,s=o+1),n[0]=0;for(let u=1;u<s;u++)n[u]=0}if(a>=5)if(s-1<0){for(let u=0;u>s;u--)n.unshift(0),i.integerLen++;n.unshift(1),i.integerLen++}else n[s-1]++;for(;r<Math.max(0,o);r++)n.push(0);let c=o!==0,l=t+i.integerLen,d=n.reduceRight(function(u,h,m,p){return h=h+u,p[m]=h<10?h:h-10,c&&(p[m]===0&&m>=l?p.pop():c=!1),h>=10?1:0},0);d&&(n.unshift(d),i.integerLen++)}function rI(i){let t=parseInt(i);if(isNaN(t))throw new Error("Invalid integer literal when parsing "+i);return t}function xz(i,t){t=encodeURIComponent(t);for(let e of i.split(";")){let n=e.indexOf("="),[r,o]=n==-1?[e,""]:[e.slice(0,n),e.slice(n+1)];if(r.trim()===t)return decodeURIComponent(o)}return null}var oI=/\s+/,lz=[],Tm=(()=>{class i{constructor(e,n){this._ngEl=e,this._renderer=n,this.initialClasses=lz,this.stateMap=new Map}set klass(e){this.initialClasses=e!=null?e.trim().split(oI):lz}set ngClass(e){this.rawClass=typeof e=="string"?e.trim().split(oI):e}ngDoCheck(){for(let n of this.initialClasses)this._updateState(n,!0);let e=this.rawClass;if(Array.isArray(e)||e instanceof Set)for(let n of e)this._updateState(n,!0);else if(e!=null)for(let n of Object.keys(e))this._updateState(n,!!e[n]);this._applyStateDiff()}_updateState(e,n){let r=this.stateMap.get(e);r!==void 0?(r.enabled!==n&&(r.changed=!0,r.enabled=n),r.touched=!0):this.stateMap.set(e,{enabled:n,changed:!0,touched:!0})}_applyStateDiff(){for(let e of this.stateMap){let n=e[0],r=e[1];r.changed?(this._toggleClass(n,r.enabled),r.changed=!1):r.touched||(r.enabled&&this._toggleClass(n,!1),this.stateMap.delete(n)),r.touched=!1}}_toggleClass(e,n){e=e.trim(),e.length>0&&e.split(oI).forEach(r=>{n?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}static{this.\u0275fac=function(n){return new(n||i)(O(Oe),O(Fc))}}static{this.\u0275dir=we({type:i,selectors:[["","ngClass",""]],inputs:{klass:[J.None,"class","klass"],ngClass:"ngClass"},standalone:!0})}}return i})();var sI=class{constructor(t,e,n,r){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=r}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},Wa=(()=>{class i{set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}constructor(e,n,r){this._viewContainer=e,this._template=n,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let e=this._ngForOf;if(!this._differ&&e)if(0)try{}catch{}else this._differ=this._differs.find(e).create(this.ngForTrackBy)}if(this._differ){let e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){let n=this._viewContainer;e.forEachOperation((r,o,s)=>{if(r.previousIndex==null)n.createEmbeddedView(this._template,new sI(r.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)n.remove(o===null?void 0:o);else if(o!==null){let a=n.get(o);n.move(a,s),dz(a,r)}});for(let r=0,o=n.length;r<o;r++){let a=n.get(r).context;a.index=r,a.count=o,a.ngForOf=this._ngForOf}e.forEachIdentityChange(r=>{let o=n.get(r.currentIndex);dz(o,r)})}static ngTemplateContextGuard(e,n){return!0}static{this.\u0275fac=function(n){return new(n||i)(O(rn),O(Hi),O($a))}}static{this.\u0275dir=we({type:i,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return i})();function dz(i,t){i.context.$implicit=t.item}var Ds=(()=>{class i{constructor(e,n){this._viewContainer=e,this._context=new aI,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=n}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){uz("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){uz("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,n){return!0}static{this.\u0275fac=function(n){return new(n||i)(O(rn),O(Hi))}}static{this.\u0275dir=we({type:i,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return i})(),aI=class{constructor(){this.$implicit=null,this.ngIf=null}};function uz(i,t){if(!!!(!t||t.createEmbeddedView))throw new Error(`${i} must be a TemplateRef, but received '${vo(t)}'.`)}var fg=(()=>{class i{constructor(e){this._viewContainerRef=e,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(e){if(this._shouldRecreateView(e)){let n=this._viewContainerRef;if(this._viewRef&&n.remove(n.indexOf(this._viewRef)),!this.ngTemplateOutlet){this._viewRef=null;return}let r=this._createContextForwardProxy();this._viewRef=n.createEmbeddedView(this.ngTemplateOutlet,r,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(e){return!!e.ngTemplateOutlet||!!e.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(e,n,r)=>this.ngTemplateOutletContext?Reflect.set(this.ngTemplateOutletContext,n,r):!1,get:(e,n,r)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,n,r)}})}static{this.\u0275fac=function(n){return new(n||i)(O(rn))}}static{this.\u0275dir=we({type:i,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[Bi]})}}return i})();function xy(i,t){return new mt(2100,!1)}var wz=(()=>{class i{transform(e){if(e==null)return null;if(typeof e!="string")throw xy(i,e);return e.toUpperCase()}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275pipe=tg({name:"uppercase",type:i,pure:!0,standalone:!0})}}return i})(),Jre="mediumDate",eoe=new ge(""),toe=new ge(""),wy=(()=>{class i{constructor(e,n,r){this.locale=e,this.defaultTimezone=n,this.defaultOptions=r}transform(e,n,r,o){if(e==null||e===""||e!==e)return null;try{let s=n??this.defaultOptions?.dateFormat??Jre,a=r??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return Rre(e,s,o||this.locale,a)}catch(s){throw xy(i,s.message)}}static{this.\u0275fac=function(n){return new(n||i)(O(Em,16),O(eoe,24),O(toe,24))}}static{this.\u0275pipe=tg({name:"date",type:i,pure:!0,standalone:!0})}}return i})();var Mz=(()=>{class i{constructor(e){this._locale=e}transform(e,n,r){if(!ioe(e))return null;r||=this._locale;try{let o=noe(e);return Xre(o,r,n)}catch(o){throw xy(i,o.message)}}static{this.\u0275fac=function(n){return new(n||i)(O(Em,16))}}static{this.\u0275pipe=tg({name:"number",type:i,pure:!0,standalone:!0})}}return i})();function ioe(i){return!(i==null||i===""||i!==i)}function noe(i){if(typeof i=="string"&&!isNaN(Number(i)-parseFloat(i)))return Number(i);if(typeof i!="number")throw new Error(`${i} is not a number`);return i}var Cz=(()=>{class i{transform(e,n,r){if(e==null)return null;if(!this.supports(e))throw xy(i,e);return e.slice(n,r)}supports(e){return typeof e=="string"||Array.isArray(e)}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275pipe=tg({name:"slice",type:i,pure:!1,standalone:!0})}}return i})();var kr=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275mod=$e({type:i})}static{this.\u0275inj=je({})}}return i})(),mI="browser",roe="server";function pI(i){return i===mI}function fI(i){return i===roe}var Sz=(()=>{class i{static{this.\u0275prov=xe({token:i,providedIn:"root",factory:()=>pI(be(Ha))?new cI(be(It),window):new lI})}}return i})(),cI=class{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){Array.isArray(t)?this.offset=()=>t:this.offset=t}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(t){this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){let e=ooe(this.document,t);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(t){this.window.history.scrollRestoration=t}scrollToElement(t){let e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(n-o[0],r-o[1])}};function ooe(i,t){let e=i.getElementById(t)||i.getElementsByName(t)[0];if(e)return e;if(typeof i.createTreeWalker=="function"&&i.body&&typeof i.body.attachShadow=="function"){let n=i.createTreeWalker(i.body,NodeFilter.SHOW_ELEMENT),r=n.currentNode;for(;r;){let o=r.shadowRoot;if(o){let s=o.getElementById(t)||o.querySelector(`[name="${t}"]`);if(s)return s}r=n.nextNode()}}return null}var lI=class{setOffset(t){}getScrollPosition(){return[0,0]}scrollToPosition(t){}scrollToAnchor(t){}setHistoryScrollRestoration(t){}},vy=class{};var Oz=(()=>{class i{constructor(e,n){this._renderer=e,this._elementRef=n,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(e,n){this._renderer.setProperty(this._elementRef.nativeElement,e,n)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}static{this.\u0275fac=function(n){return new(n||i)(O(Fc),O(Oe))}}static{this.\u0275dir=we({type:i})}}return i})(),Ay=(()=>{class i extends Oz{static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=Xi(i)))(r||i)}})()}static{this.\u0275dir=we({type:i,features:[Et]})}}return i})(),ql=new ge("");var soe={provide:ql,useExisting:_r(()=>qa),multi:!0};function aoe(){let i=Ga()?Ga().getUserAgent():"";return/android (\d+)/.test(i.toLowerCase())}var coe=new ge(""),qa=(()=>{class i extends Oz{constructor(e,n,r){super(e,n),this._compositionMode=r,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!aoe())}writeValue(e){let n=e??"";this.setProperty("value",n)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}static{this.\u0275fac=function(n){return new(n||i)(O(Fc),O(Oe),O(coe,8))}}static{this.\u0275dir=we({type:i,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(n,r){n&1&&fe("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},features:[Ot([soe]),Et]})}}return i})();function Wl(i){return i==null||(typeof i=="string"||Array.isArray(i))&&i.length===0}function Fz(i){return i!=null&&typeof i.length=="number"}var Xl=new ge(""),Py=new ge(""),loe=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,ta=class{static min(t){return Lz(t)}static max(t){return Bz(t)}static required(t){return doe(t)}static requiredTrue(t){return uoe(t)}static email(t){return hoe(t)}static minLength(t){return moe(t)}static maxLength(t){return poe(t)}static pattern(t){return foe(t)}static nullValidator(t){return Cy(t)}static compose(t){return $z(t)}static composeAsync(t){return Gz(t)}};function Lz(i){return t=>{if(Wl(t.value)||Wl(i))return null;let e=parseFloat(t.value);return!isNaN(e)&&e<i?{min:{min:i,actual:t.value}}:null}}function Bz(i){return t=>{if(Wl(t.value)||Wl(i))return null;let e=parseFloat(t.value);return!isNaN(e)&&e>i?{max:{max:i,actual:t.value}}:null}}function doe(i){return Wl(i.value)?{required:!0}:null}function uoe(i){return i.value===!0?null:{required:!0}}function hoe(i){return Wl(i.value)||loe.test(i.value)?null:{email:!0}}function moe(i){return t=>Wl(t.value)||!Fz(t.value)?null:t.value.length<i?{minlength:{requiredLength:i,actualLength:t.value.length}}:null}function poe(i){return t=>Fz(t.value)&&t.value.length>i?{maxlength:{requiredLength:i,actualLength:t.value.length}}:null}function foe(i){if(!i)return Cy;let t,e;return typeof i=="string"?(e="",i.charAt(0)!=="^"&&(e+="^"),e+=i,i.charAt(i.length-1)!=="$"&&(e+="$"),t=new RegExp(e)):(e=i.toString(),t=i),n=>{if(Wl(n.value))return null;let r=n.value;return t.test(r)?null:{pattern:{requiredPattern:e,actualValue:r}}}}function Cy(i){return null}function Vz(i){return i!=null}function Uz(i){return Tu(i)?cn(i):i}function zz(i){let t={};return i.forEach(e=>{t=e!=null?ye(ye({},t),e):t}),Object.keys(t).length===0?null:t}function Hz(i,t){return t.map(e=>e(i))}function goe(i){return!i.validate}function jz(i){return i.map(t=>goe(t)?t:e=>t.validate(e))}function $z(i){if(!i)return null;let t=i.filter(Vz);return t.length==0?null:function(e){return zz(Hz(e,t))}}function vI(i){return i!=null?$z(jz(i)):null}function Gz(i){if(!i)return null;let t=i.filter(Vz);return t.length==0?null:function(e){let n=Hz(e,t).map(Uz);return Of(n).pipe(St(zz))}}function yI(i){return i!=null?Gz(jz(i)):null}function Ez(i,t){return i===null?[t]:Array.isArray(i)?[...i,t]:[i,t]}function Wz(i){return i._rawValidators}function qz(i){return i._rawAsyncValidators}function gI(i){return i?Array.isArray(i)?i:[i]:[]}function Sy(i,t){return Array.isArray(i)?i.includes(t):i===t}function Tz(i,t){let e=gI(t);return gI(i).forEach(r=>{Sy(e,r)||e.push(r)}),e}function Iz(i,t){return gI(t).filter(e=>!Sy(i,e))}var Ey=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=vI(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=yI(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,e){return this.control?this.control.hasError(t,e):!1}getError(t,e){return this.control?this.control.getError(t,e):null}},Hc=class extends Ey{get formDirective(){return null}get path(){return null}},ia=class extends Ey{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},Ty=class{constructor(t){this._cd=t}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}},_oe={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},M2e=mi(ye({},_oe),{"[class.ng-submitted]":"isSubmitted"}),Yl=(()=>{class i extends Ty{constructor(e){super(e)}static{this.\u0275fac=function(n){return new(n||i)(O(ia,2))}}static{this.\u0275dir=we({type:i,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(n,r){n&2&&qe("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[Et]})}}return i})(),Xz=(()=>{class i extends Ty{constructor(e){super(e)}static{this.\u0275fac=function(n){return new(n||i)(O(Hc,10))}}static{this.\u0275dir=we({type:i,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(n,r){n&2&&qe("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[Et]})}}return i})();var gg="VALID",My="INVALID",Im="PENDING",_g="DISABLED";function xI(i){return(Ry(i)?i.validators:i)||null}function boe(i){return Array.isArray(i)?vI(i):i||null}function wI(i,t){return(Ry(t)?t.asyncValidators:i)||null}function voe(i){return Array.isArray(i)?yI(i):i||null}function Ry(i){return i!=null&&!Array.isArray(i)&&typeof i=="object"}function Yz(i,t,e){let n=i.controls;if(!(t?Object.keys(n):n).length)throw new mt(1e3,"");if(!n[e])throw new mt(1001,"")}function Zz(i,t,e){i._forEachChild((n,r)=>{if(e[r]===void 0)throw new mt(1002,"")})}var Dm=class{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(t),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===gg}get invalid(){return this.status===My}get pending(){return this.status==Im}get disabled(){return this.status===_g}get enabled(){return this.status!==_g}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(Tz(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(Tz(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(Iz(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(Iz(t,this._rawAsyncValidators))}hasValidator(t){return Sy(this._rawValidators,t)}hasAsyncValidator(t){return Sy(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=Im,t.emitEvent!==!1&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){let e=this._parentMarkedDirty(t.onlySelf);this.status=_g,this.errors=null,this._forEachChild(n=>{n.disable(mi(ye({},t),{onlySelf:!0}))}),this._updateValue(),t.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(mi(ye({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(n=>n(!0))}enable(t={}){let e=this._parentMarkedDirty(t.onlySelf);this.status=gg,this._forEachChild(n=>{n.enable(mi(ye({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(mi(ye({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(n=>n(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===gg||this.status===Im)&&this._runAsyncValidator(t.emitEvent)),t.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?_g:gg}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=Im,this._hasOwnPendingAsyncValidator=!0;let e=Uz(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(n=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(n,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(e.emitEvent!==!1)}get(t){let e=t;return e==null||(Array.isArray(e)||(e=e.split(".")),e.length===0)?null:e.reduce((n,r)=>n&&n._find(r),this)}getError(t,e){let n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new Qe,this.statusChanges=new Qe}_calculateStatus(){return this._allControlsDisabled()?_g:this.errors?My:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Im)?Im:this._anyControlsHaveStatus(My)?My:gg}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){Ry(t)&&t.updateOn!=null&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){let e=this._parent&&this._parent.dirty;return!t&&!!e&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=boe(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=voe(this._rawAsyncValidators)}},km=class extends Dm{constructor(t,e,n){super(xI(e),wI(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,n={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,n={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){Zz(this,!0,t),Object.keys(t).forEach(n=>{Yz(this,!0,n),this.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){t!=null&&(Object.keys(t).forEach(n=>{let r=this.controls[n];r&&r.patchValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((n,r)=>{n.reset(t?t[r]:null,{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,n)=>(t[n]=e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,n)=>n._syncPendingControls()?!0:e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{let n=this.controls[e];n&&t(n,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(let[e,n]of Object.entries(this.controls))if(this.contains(e)&&t(n))return!0;return!1}_reduceValue(){let t={};return this._reduceChildren(t,(e,n,r)=>((n.enabled||this.disabled)&&(e[r]=n.value),e))}_reduceChildren(t,e){let n=t;return this._forEachChild((r,o)=>{n=e(n,r,o)}),n}_allControlsDisabled(){for(let t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}};var _I=class extends km{};var yg=new ge("CallSetDisabledState",{providedIn:"root",factory:()=>Ny}),Ny="always";function Kz(i,t){return[...t.path,i]}function Iy(i,t,e=Ny){MI(i,t),t.valueAccessor.writeValue(i.value),(i.disabled||e==="always")&&t.valueAccessor.setDisabledState?.(i.disabled),xoe(i,t),Moe(i,t),woe(i,t),yoe(i,t)}function Dz(i,t,e=!0){let n=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(n),t.valueAccessor.registerOnTouched(n)),ky(i,t),i&&(t._invokeOnDestroyCallbacks(),i._registerOnCollectionChange(()=>{}))}function Dy(i,t){i.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function yoe(i,t){if(t.valueAccessor.setDisabledState){let e=n=>{t.valueAccessor.setDisabledState(n)};i.registerOnDisabledChange(e),t._registerOnDestroy(()=>{i._unregisterOnDisabledChange(e)})}}function MI(i,t){let e=Wz(i);t.validator!==null?i.setValidators(Ez(e,t.validator)):typeof e=="function"&&i.setValidators([e]);let n=qz(i);t.asyncValidator!==null?i.setAsyncValidators(Ez(n,t.asyncValidator)):typeof n=="function"&&i.setAsyncValidators([n]);let r=()=>i.updateValueAndValidity();Dy(t._rawValidators,r),Dy(t._rawAsyncValidators,r)}function ky(i,t){let e=!1;if(i!==null){if(t.validator!==null){let r=Wz(i);if(Array.isArray(r)&&r.length>0){let o=r.filter(s=>s!==t.validator);o.length!==r.length&&(e=!0,i.setValidators(o))}}if(t.asyncValidator!==null){let r=qz(i);if(Array.isArray(r)&&r.length>0){let o=r.filter(s=>s!==t.asyncValidator);o.length!==r.length&&(e=!0,i.setAsyncValidators(o))}}}let n=()=>{};return Dy(t._rawValidators,n),Dy(t._rawAsyncValidators,n),e}function xoe(i,t){t.valueAccessor.registerOnChange(e=>{i._pendingValue=e,i._pendingChange=!0,i._pendingDirty=!0,i.updateOn==="change"&&Qz(i,t)})}function woe(i,t){t.valueAccessor.registerOnTouched(()=>{i._pendingTouched=!0,i.updateOn==="blur"&&i._pendingChange&&Qz(i,t),i.updateOn!=="submit"&&i.markAsTouched()})}function Qz(i,t){i._pendingDirty&&i.markAsDirty(),i.setValue(i._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(i._pendingValue),i._pendingChange=!1}function Moe(i,t){let e=(n,r)=>{t.valueAccessor.writeValue(n),r&&t.viewToModelUpdate(n)};i.registerOnChange(e),t._registerOnDestroy(()=>{i._unregisterOnChange(e)})}function Jz(i,t){i==null,MI(i,t)}function Coe(i,t){return ky(i,t)}function e5(i,t){if(!i.hasOwnProperty("model"))return!1;let e=i.model;return e.isFirstChange()?!0:!Object.is(t,e.currentValue)}function Soe(i){return Object.getPrototypeOf(i.constructor)===Ay}function t5(i,t){i._syncPendingControls(),t.forEach(e=>{let n=e.control;n.updateOn==="submit"&&n._pendingChange&&(e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1)})}function i5(i,t){if(!t)return null;Array.isArray(t);let e,n,r;return t.forEach(o=>{o.constructor===qa?e=o:Soe(o)?n=o:r=o}),r||n||e||null}function Eoe(i,t){let e=i.indexOf(t);e>-1&&i.splice(e,1)}var Toe={provide:Hc,useExisting:_r(()=>xg)},bg=Promise.resolve(),xg=(()=>{class i extends Hc{constructor(e,n,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._directives=new Set,this.ngSubmit=new Qe,this.form=new km({},vI(e),yI(n))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){bg.then(()=>{let n=this._findContainer(e.path);e.control=n.registerControl(e.name,e.control),Iy(e.control,e,this.callSetDisabledState),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){bg.then(()=>{let n=this._findContainer(e.path);n&&n.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){bg.then(()=>{let n=this._findContainer(e.path),r=new km({});Jz(r,e),n.registerControl(e.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){bg.then(()=>{let n=this._findContainer(e.path);n&&n.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,n){bg.then(()=>{this.form.get(e.path).setValue(n)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,t5(this.form,this._directives),this.ngSubmit.emit(e),e?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}static{this.\u0275fac=function(n){return new(n||i)(O(Xl,10),O(Py,10),O(yg,8))}}static{this.\u0275dir=we({type:i,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(n,r){n&1&&fe("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{options:[J.None,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Ot([Toe]),Et]})}}return i})();function kz(i,t){let e=i.indexOf(t);e>-1&&i.splice(e,1)}function Az(i){return typeof i=="object"&&i!==null&&Object.keys(i).length===2&&"value"in i&&"disabled"in i}var vg=class extends Dm{constructor(t=null,e,n){super(xI(e),wI(n,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Ry(e)&&(e.nonNullable||e.initialValueIsDefault)&&(Az(t)?this.defaultValue=t.value:this.defaultValue=t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&e.emitModelToViewChange!==!1&&this._onChange.forEach(n=>n(this.value,e.emitViewToModelChange!==!1)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){kz(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){kz(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(t){Az(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}};var Ioe=i=>i instanceof vg;var Doe={provide:ia,useExisting:_r(()=>ku)},Pz=Promise.resolve(),ku=(()=>{class i extends ia{constructor(e,n,r,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this.control=new vg,this._registered=!1,this.name="",this.update=new Qe,this._parent=e,this._setValidators(n),this._setAsyncValidators(r),this.valueAccessor=i5(this,o)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){let n=e.name.previousValue;this.formDirective.removeControl({name:n,path:this._getPath(n)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),e5(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){Iy(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(e){Pz.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){let n=e.isDisabled.currentValue,r=n!==0&&Je(n);Pz.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?Kz(e,this._parent):[e]}static{this.\u0275fac=function(n){return new(n||i)(O(Hc,9),O(Xl,10),O(Py,10),O(ql,10),O(ci,8),O(yg,8))}}static{this.\u0275dir=we({type:i,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[J.None,"disabled","isDisabled"],model:[J.None,"ngModel","model"],options:[J.None,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Ot([Doe]),Et,Bi]})}}return i})(),n5=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275dir=we({type:i,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return i})(),koe={provide:ql,useExisting:_r(()=>jc),multi:!0},jc=(()=>{class i extends Ay{writeValue(e){let n=e??"";this.setProperty("value",n)}registerOnChange(e){this.onChange=n=>{e(n==""?null:parseFloat(n))}}static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=Xi(i)))(r||i)}})()}static{this.\u0275dir=we({type:i,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(n,r){n&1&&fe("input",function(s){return r.onChange(s.target.value)})("blur",function(){return r.onTouched()})},features:[Ot([koe]),Et]})}}return i})();var r5=new ge("");var Aoe={provide:Hc,useExisting:_r(()=>Au)},Au=(()=>{class i extends Hc{constructor(e,n,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Qe,this._setValidators(e),this._setAsyncValidators(n)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(ky(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){let n=this.form.get(e.path);return Iy(n,e,this.callSetDisabledState),n.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),n}getControl(e){return this.form.get(e.path)}removeControl(e){Dz(e.control||null,e,!1),Eoe(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,n){this.form.get(e.path).setValue(n)}onSubmit(e){return this.submitted=!0,t5(this.form,this.directives),this.ngSubmit.emit(e),e?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{let n=e.control,r=this.form.get(e.path);n!==r&&(Dz(n||null,e),Ioe(r)&&(Iy(r,e,this.callSetDisabledState),e.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){let n=this.form.get(e.path);Jz(n,e),n.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){let n=this.form.get(e.path);n&&Coe(n,e)&&n.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){MI(this.form,this),this._oldForm&&ky(this._oldForm,this)}_checkFormPresent(){this.form}static{this.\u0275fac=function(n){return new(n||i)(O(Xl,10),O(Py,10),O(yg,8))}}static{this.\u0275dir=we({type:i,selectors:[["","formGroup",""]],hostBindings:function(n,r){n&1&&fe("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{form:[J.None,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Ot([Aoe]),Et,Bi]})}}return i})();var Poe={provide:ia,useExisting:_r(()=>CI)},CI=(()=>{class i extends ia{set isDisabled(e){}static{this._ngModelWarningSentOnce=!1}constructor(e,n,r,o,s){super(),this._ngModelWarningConfig=s,this._added=!1,this.name=null,this.update=new Qe,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(n),this._setAsyncValidators(r),this.valueAccessor=i5(this,o)}ngOnChanges(e){this._added||this._setUpControl(),e5(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return Kz(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static{this.\u0275fac=function(n){return new(n||i)(O(Hc,13),O(Xl,10),O(Py,10),O(ql,10),O(r5,8))}}static{this.\u0275dir=we({type:i,selectors:[["","formControlName",""]],inputs:{name:[J.None,"formControlName","name"],isDisabled:[J.None,"disabled","isDisabled"],model:[J.None,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[Ot([Poe]),Et,Bi]})}}return i})(),Roe={provide:ql,useExisting:_r(()=>Oy),multi:!0};function o5(i,t){return i==null?`${t}`:(t&&typeof t=="object"&&(t="Object"),`${i}: ${t}`.slice(0,50))}function Noe(i){return i.split(":")[0]}var Oy=(()=>{class i extends Ay{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){this.value=e;let n=this._getOptionId(e),r=o5(n,e);this.setProperty("value",r)}registerOnChange(e){this.onChange=n=>{this.value=this._getOptionValue(n),e(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(e){for(let n of this._optionMap.keys())if(this._compareWith(this._optionMap.get(n),e))return n;return null}_getOptionValue(e){let n=Noe(e);return this._optionMap.has(n)?this._optionMap.get(n):e}static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=Xi(i)))(r||i)}})()}static{this.\u0275dir=we({type:i,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(n,r){n&1&&fe("change",function(s){return r.onChange(s.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[Ot([Roe]),Et]})}}return i})(),s5=(()=>{class i{constructor(e,n,r){this._element=e,this._renderer=n,this._select=r,this._select&&(this.id=this._select._registerOption())}set ngValue(e){this._select!=null&&(this._select._optionMap.set(this.id,e),this._setElementValue(o5(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._setElementValue(e),this._select&&this._select.writeValue(this._select.value)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(n){return new(n||i)(O(Oe),O(Fc),O(Oy,9))}}static{this.\u0275dir=we({type:i,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return i})(),Ooe={provide:ql,useExisting:_r(()=>a5),multi:!0};function Rz(i,t){return i==null?`${t}`:(typeof t=="string"&&(t=`'${t}'`),t&&typeof t=="object"&&(t="Object"),`${i}: ${t}`.slice(0,50))}function Foe(i){return i.split(":")[0]}var a5=(()=>{class i extends Ay{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){this.value=e;let n;if(Array.isArray(e)){let r=e.map(o=>this._getOptionId(o));n=(o,s)=>{o._setSelected(r.indexOf(s.toString())>-1)}}else n=(r,o)=>{r._setSelected(!1)};this._optionMap.forEach(n)}registerOnChange(e){this.onChange=n=>{let r=[],o=n.selectedOptions;if(o!==void 0){let s=o;for(let a=0;a<s.length;a++){let c=s[a],l=this._getOptionValue(c.value);r.push(l)}}else{let s=n.options;for(let a=0;a<s.length;a++){let c=s[a];if(c.selected){let l=this._getOptionValue(c.value);r.push(l)}}}this.value=r,e(r)}}_registerOption(e){let n=(this._idCounter++).toString();return this._optionMap.set(n,e),n}_getOptionId(e){for(let n of this._optionMap.keys())if(this._compareWith(this._optionMap.get(n)._value,e))return n;return null}_getOptionValue(e){let n=Foe(e);return this._optionMap.has(n)?this._optionMap.get(n)._value:e}static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=Xi(i)))(r||i)}})()}static{this.\u0275dir=we({type:i,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(n,r){n&1&&fe("change",function(s){return r.onChange(s.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[Ot([Ooe]),Et]})}}return i})(),c5=(()=>{class i{constructor(e,n,r){this._element=e,this._renderer=n,this._select=r,this._select&&(this.id=this._select._registerOption(this))}set ngValue(e){this._select!=null&&(this._value=e,this._setElementValue(Rz(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._select?(this._value=e,this._setElementValue(Rz(this.id,e)),this._select.writeValue(this._select.value)):this._setElementValue(e)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}_setSelected(e){this._renderer.setProperty(this._element.nativeElement,"selected",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(n){return new(n||i)(O(Oe),O(Fc),O(a5,9))}}static{this.\u0275dir=we({type:i,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return i})();function l5(i){return typeof i=="number"?i:parseFloat(i)}var d5=(()=>{class i{constructor(){this._validator=Cy}ngOnChanges(e){if(this.inputName in e){let n=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(n),this._validator=this._enabled?this.createValidator(n):Cy,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return e!=null}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275dir=we({type:i,features:[Bi]})}}return i})(),Loe={provide:Xl,useExisting:_r(()=>wg),multi:!0},wg=(()=>{class i extends d5{constructor(){super(...arguments),this.inputName="max",this.normalizeInput=e=>l5(e),this.createValidator=e=>Bz(e)}static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=Xi(i)))(r||i)}})()}static{this.\u0275dir=we({type:i,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(n,r){n&2&&wt("max",r._enabled?r.max:null)},inputs:{max:"max"},features:[Ot([Loe]),Et]})}}return i})(),Boe={provide:Xl,useExisting:_r(()=>Pu),multi:!0},Pu=(()=>{class i extends d5{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=e=>l5(e),this.createValidator=e=>Lz(e)}static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=Xi(i)))(r||i)}})()}static{this.\u0275dir=we({type:i,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(n,r){n&2&&wt("min",r._enabled?r.min:null)},inputs:{min:"min"},features:[Ot([Boe]),Et]})}}return i})();var u5=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275mod=$e({type:i})}static{this.\u0275inj=je({})}}return i})(),bI=class extends Dm{constructor(t,e,n){super(xI(e),wI(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[this._adjustIndex(t)]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,n={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:n.emitEvent})}removeAt(t,e={}){let n=this._adjustIndex(t);n<0&&(n=0),this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),this.controls.splice(n,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,n={}){let r=this._adjustIndex(t);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),e&&(this.controls.splice(r,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){Zz(this,!1,t),t.forEach((n,r)=>{Yz(this,!1,r),this.at(r).setValue(n,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){t!=null&&(t.forEach((n,r)=>{this.at(r)&&this.at(r).patchValue(n,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_adjustIndex(t){return t<0?t+this.length:t}_syncPendingControls(){let t=this.controls.reduce((e,n)=>n._syncPendingControls()?!0:e,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){this.controls.forEach((e,n)=>{t(e,n)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_allControlsDisabled(){for(let t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}_find(t){return this.at(t)??null}};function Nz(i){return!!i&&(i.asyncValidators!==void 0||i.validators!==void 0||i.updateOn!==void 0)}var h5=(()=>{class i{constructor(){this.useNonNullable=!1}get nonNullable(){let e=new i;return e.useNonNullable=!0,e}group(e,n=null){let r=this._reduceControls(e),o={};return Nz(n)?o=n:n!==null&&(o.validators=n.validator,o.asyncValidators=n.asyncValidator),new km(r,o)}record(e,n=null){let r=this._reduceControls(e);return new _I(r,n)}control(e,n,r){let o={};return this.useNonNullable?(Nz(n)?o=n:(o.validators=n,o.asyncValidators=r),new vg(e,mi(ye({},o),{nonNullable:!0}))):new vg(e,n,r)}array(e,n,r){let o=e.map(s=>this._createControl(s));return new bI(o,n,r)}_reduceControls(e){let n={};return Object.keys(e).forEach(r=>{n[r]=this._createControl(e[r])}),n}_createControl(e){if(e instanceof vg)return e;if(e instanceof Dm)return e;if(Array.isArray(e)){let n=e[0],r=e.length>1?e[1]:null,o=e.length>2?e[2]:null;return this.control(n,r,o)}else return this.control(e)}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275prov=xe({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();var Fy=(()=>{class i{static withConfig(e){return{ngModule:i,providers:[{provide:yg,useValue:e.callSetDisabledState??Ny}]}}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275mod=$e({type:i})}static{this.\u0275inj=je({imports:[u5]})}}return i})(),Ly=(()=>{class i{static withConfig(e){return{ngModule:i,providers:[{provide:r5,useValue:e.warnOnNgModelWithFormControl??"always"},{provide:yg,useValue:e.callSetDisabledState??Ny}]}}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275mod=$e({type:i})}static{this.\u0275inj=je({imports:[u5]})}}return i})();var EI=class{};var Pm=class i{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?typeof t=="string"?this.lazyInit=()=>{this.headers=new Map,t.split(`
`).forEach(e=>{let n=e.indexOf(":");if(n>0){let r=e.slice(0,n),o=r.toLowerCase(),s=e.slice(n+1).trim();this.maybeSetNormalizedName(r,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:typeof Headers<"u"&&t instanceof Headers?(this.headers=new Map,t.forEach((e,n)=>{this.setHeaderEntries(n,e)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(t).forEach(([e,n])=>{this.setHeaderEntries(e,n)})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();let e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof i?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){let e=new i;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof i?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){let e=t.name.toLowerCase();switch(t.op){case"a":case"s":let n=t.value;if(typeof n=="string"&&(n=[n]),n.length===0)return;this.maybeSetNormalizedName(t.name,e);let r=(t.op==="a"?this.headers.get(e):void 0)||[];r.push(...n),this.headers.set(e,r);break;case"d":let o=t.value;if(!o)this.headers.delete(e),this.normalizedNames.delete(e);else{let s=this.headers.get(e);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,s)}break}}setHeaderEntries(t,e){let n=(Array.isArray(e)?e:[e]).map(o=>o.toString()),r=t.toLowerCase();this.headers.set(r,n),this.maybeSetNormalizedName(t,r)}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}};var TI=class{encodeKey(t){return m5(t)}encodeValue(t){return m5(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}};function Voe(i,t){let e=new Map;return i.length>0&&i.replace(/^\?/,"").split("&").forEach(r=>{let o=r.indexOf("="),[s,a]=o==-1?[t.decodeKey(r),""]:[t.decodeKey(r.slice(0,o)),t.decodeValue(r.slice(o+1))],c=e.get(s)||[];c.push(a),e.set(s,c)}),e}var Uoe=/%(\d[a-f0-9])/gi,zoe={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function m5(i){return encodeURIComponent(i).replace(Uoe,(t,e)=>zoe[e]??t)}function By(i){return`${i}`}var Zl=class i{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new TI,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=Voe(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{let n=t.fromObject[e],r=Array.isArray(n)?n.map(By):[By(n)];this.map.set(e,r)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();let e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){let e=[];return Object.keys(t).forEach(n=>{let r=t[n];Array.isArray(r)?r.forEach(o=>{e.push({param:n,value:o,op:"a"})}):e.push({param:n,value:r,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{let e=this.encoder.encodeKey(t);return this.map.get(t).map(n=>e+"="+this.encoder.encodeValue(n)).join("&")}).filter(t=>t!=="").join("&")}clone(t){let e=new i({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":let e=(t.op==="a"?this.map.get(t.param):void 0)||[];e.push(By(t.value)),this.map.set(t.param,e);break;case"d":if(t.value!==void 0){let n=this.map.get(t.param)||[],r=n.indexOf(By(t.value));r!==-1&&n.splice(r,1),n.length>0?this.map.set(t.param,n):this.map.delete(t.param)}else{this.map.delete(t.param);break}}}),this.cloneFrom=this.updates=null)}};var II=class{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}};function Hoe(i){switch(i){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function p5(i){return typeof ArrayBuffer<"u"&&i instanceof ArrayBuffer}function f5(i){return typeof Blob<"u"&&i instanceof Blob}function g5(i){return typeof FormData<"u"&&i instanceof FormData}function joe(i){return typeof URLSearchParams<"u"&&i instanceof URLSearchParams}var Mg=class i{constructor(t,e,n,r){this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase();let o;if(Hoe(this.method)||r?(this.body=n!==void 0?n:null,o=r):o=n,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new Pm,this.context??=new II,!this.params)this.params=new Zl,this.urlWithParams=e;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=e;else{let a=e.indexOf("?"),c=a===-1?"?":a<e.length-1?"&":"";this.urlWithParams=e+c+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||p5(this.body)||f5(this.body)||g5(this.body)||joe(this.body)?this.body:this.body instanceof Zl?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||g5(this.body)?null:f5(this.body)?this.body.type||null:p5(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof Zl?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(t={}){let e=t.method||this.method,n=t.url||this.url,r=t.responseType||this.responseType,o=t.transferCache??this.transferCache,s=t.body!==void 0?t.body:this.body,a=t.withCredentials??this.withCredentials,c=t.reportProgress??this.reportProgress,l=t.headers||this.headers,d=t.params||this.params,u=t.context??this.context;return t.setHeaders!==void 0&&(l=Object.keys(t.setHeaders).reduce((h,m)=>h.set(m,t.setHeaders[m]),l)),t.setParams&&(d=Object.keys(t.setParams).reduce((h,m)=>h.set(m,t.setParams[m]),d)),new i(e,n,s,{params:d,headers:l,context:u,reportProgress:c,responseType:r,withCredentials:a,transferCache:o})}},_5=function(i){return i[i.Sent=0]="Sent",i[i.UploadProgress=1]="UploadProgress",i[i.ResponseHeader=2]="ResponseHeader",i[i.DownloadProgress=3]="DownloadProgress",i[i.Response=4]="Response",i[i.User=5]="User",i}(_5||{}),DI=class{constructor(t,e=b5.Ok,n="OK"){this.headers=t.headers||new Pm,this.status=t.status!==void 0?t.status:e,this.statusText=t.statusText||n,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}};var kI=class i extends DI{constructor(t={}){super(t),this.type=_5.Response,this.body=t.body!==void 0?t.body:null}clone(t={}){return new i({body:t.body!==void 0?t.body:this.body,headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}};var b5=function(i){return i[i.Continue=100]="Continue",i[i.SwitchingProtocols=101]="SwitchingProtocols",i[i.Processing=102]="Processing",i[i.EarlyHints=103]="EarlyHints",i[i.Ok=200]="Ok",i[i.Created=201]="Created",i[i.Accepted=202]="Accepted",i[i.NonAuthoritativeInformation=203]="NonAuthoritativeInformation",i[i.NoContent=204]="NoContent",i[i.ResetContent=205]="ResetContent",i[i.PartialContent=206]="PartialContent",i[i.MultiStatus=207]="MultiStatus",i[i.AlreadyReported=208]="AlreadyReported",i[i.ImUsed=226]="ImUsed",i[i.MultipleChoices=300]="MultipleChoices",i[i.MovedPermanently=301]="MovedPermanently",i[i.Found=302]="Found",i[i.SeeOther=303]="SeeOther",i[i.NotModified=304]="NotModified",i[i.UseProxy=305]="UseProxy",i[i.Unused=306]="Unused",i[i.TemporaryRedirect=307]="TemporaryRedirect",i[i.PermanentRedirect=308]="PermanentRedirect",i[i.BadRequest=400]="BadRequest",i[i.Unauthorized=401]="Unauthorized",i[i.PaymentRequired=402]="PaymentRequired",i[i.Forbidden=403]="Forbidden",i[i.NotFound=404]="NotFound",i[i.MethodNotAllowed=405]="MethodNotAllowed",i[i.NotAcceptable=406]="NotAcceptable",i[i.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",i[i.RequestTimeout=408]="RequestTimeout",i[i.Conflict=409]="Conflict",i[i.Gone=410]="Gone",i[i.LengthRequired=411]="LengthRequired",i[i.PreconditionFailed=412]="PreconditionFailed",i[i.PayloadTooLarge=413]="PayloadTooLarge",i[i.UriTooLong=414]="UriTooLong",i[i.UnsupportedMediaType=415]="UnsupportedMediaType",i[i.RangeNotSatisfiable=416]="RangeNotSatisfiable",i[i.ExpectationFailed=417]="ExpectationFailed",i[i.ImATeapot=418]="ImATeapot",i[i.MisdirectedRequest=421]="MisdirectedRequest",i[i.UnprocessableEntity=422]="UnprocessableEntity",i[i.Locked=423]="Locked",i[i.FailedDependency=424]="FailedDependency",i[i.TooEarly=425]="TooEarly",i[i.UpgradeRequired=426]="UpgradeRequired",i[i.PreconditionRequired=428]="PreconditionRequired",i[i.TooManyRequests=429]="TooManyRequests",i[i.RequestHeaderFieldsTooLarge=431]="RequestHeaderFieldsTooLarge",i[i.UnavailableForLegalReasons=451]="UnavailableForLegalReasons",i[i.InternalServerError=500]="InternalServerError",i[i.NotImplemented=501]="NotImplemented",i[i.BadGateway=502]="BadGateway",i[i.ServiceUnavailable=503]="ServiceUnavailable",i[i.GatewayTimeout=504]="GatewayTimeout",i[i.HttpVersionNotSupported=505]="HttpVersionNotSupported",i[i.VariantAlsoNegotiates=506]="VariantAlsoNegotiates",i[i.InsufficientStorage=507]="InsufficientStorage",i[i.LoopDetected=508]="LoopDetected",i[i.NotExtended=510]="NotExtended",i[i.NetworkAuthenticationRequired=511]="NetworkAuthenticationRequired",i}(b5||{});function SI(i,t){return{body:t,headers:i.headers,context:i.context,observe:i.observe,params:i.params,reportProgress:i.reportProgress,responseType:i.responseType,withCredentials:i.withCredentials,transferCache:i.transferCache}}var v5=(()=>{class i{constructor(e){this.handler=e}request(e,n,r={}){let o;if(e instanceof Mg)o=e;else{let c;r.headers instanceof Pm?c=r.headers:c=new Pm(r.headers);let l;r.params&&(r.params instanceof Zl?l=r.params:l=new Zl({fromObject:r.params})),o=new Mg(e,n,r.body!==void 0?r.body:null,{headers:c,context:r.context,params:l,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials,transferCache:r.transferCache})}let s=dt(o).pipe(Tc(c=>this.handler.handle(c)));if(e instanceof Mg||r.observe==="events")return s;let a=s.pipe(ki(c=>c instanceof kI));switch(r.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(St(c=>{if(c.body!==null&&!(c.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return c.body}));case"blob":return a.pipe(St(c=>{if(c.body!==null&&!(c.body instanceof Blob))throw new Error("Response is not a Blob.");return c.body}));case"text":return a.pipe(St(c=>{if(c.body!==null&&typeof c.body!="string")throw new Error("Response is not a string.");return c.body}));case"json":default:return a.pipe(St(c=>c.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(e,n={}){return this.request("DELETE",e,n)}get(e,n={}){return this.request("GET",e,n)}head(e,n={}){return this.request("HEAD",e,n)}jsonp(e,n){return this.request("JSONP",e,{params:new Zl().append(n,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,n={}){return this.request("OPTIONS",e,n)}patch(e,n,r={}){return this.request("PATCH",e,SI(r,n))}post(e,n,r={}){return this.request("POST",e,SI(r,n))}put(e,n,r={}){return this.request("PUT",e,SI(r,n))}static{this.\u0275fac=function(n){return new(n||i)(me(EI))}}static{this.\u0275prov=xe({token:i,factory:i.\u0275fac})}}return i})();var RI=class extends gy{constructor(){super(...arguments),this.supportsDOMEvents=!0}},NI=class i extends RI{static makeCurrent(){mz(new i)}onAndCancel(t,e,n){return t.addEventListener(e,n),()=>{t.removeEventListener(e,n)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return e=e||this.getDefaultDocument(),e.createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return e==="window"?window:e==="document"?t:e==="body"?t.body:null}getBaseHref(t){let e=Woe();return e==null?null:qoe(e)}resetBaseElement(){Cg=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return xz(document.cookie,t)}},Cg=null;function Woe(){return Cg=Cg||document.querySelector("base"),Cg?Cg.getAttribute("href"):null}function qoe(i){return new URL(i,document.baseURI).pathname}var OI=class{addToWindow(t){Qn.getAngularTestability=(n,r=!0)=>{let o=t.findTestabilityInTree(n,r);if(o==null)throw new mt(5103,!1);return o},Qn.getAllAngularTestabilities=()=>t.getAllTestabilities(),Qn.getAllAngularRootElements=()=>t.getAllRootElements();let e=n=>{let r=Qn.getAllAngularTestabilities(),o=r.length,s=function(){o--,o==0&&n()};r.forEach(a=>{a.whenStable(s)})};Qn.frameworkStabilizers||(Qn.frameworkStabilizers=[]),Qn.frameworkStabilizers.push(e)}findTestabilityInTree(t,e,n){if(e==null)return null;let r=t.getTestability(e);return r??(n?Ga().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null)}},Xoe=(()=>{class i{build(){return new XMLHttpRequest}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275prov=xe({token:i,factory:i.\u0275fac})}}return i})(),FI=new ge(""),M5=(()=>{class i{constructor(e,n){this._zone=n,this._eventNameToPlugin=new Map,e.forEach(r=>{r.manager=this}),this._plugins=e.slice().reverse()}addEventListener(e,n,r){return this._findPluginFor(n).addEventListener(e,n,r)}getZone(){return this._zone}_findPluginFor(e){let n=this._eventNameToPlugin.get(e);if(n)return n;if(n=this._plugins.find(o=>o.supports(e)),!n)throw new mt(5101,!1);return this._eventNameToPlugin.set(e,n),n}static{this.\u0275fac=function(n){return new(n||i)(me(FI),me(Ne))}}static{this.\u0275prov=xe({token:i,factory:i.\u0275fac})}}return i})(),Vy=class{constructor(t){this._doc=t}},AI="ng-app-id",C5=(()=>{class i{constructor(e,n,r,o={}){this.doc=e,this.appId=n,this.nonce=r,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=fI(o),this.resetHostNodes()}addStyles(e){for(let n of e)this.changeUsageCount(n,1)===1&&this.onStyleAdded(n)}removeStyles(e){for(let n of e)this.changeUsageCount(n,-1)<=0&&this.onStyleRemoved(n)}ngOnDestroy(){let e=this.styleNodesInDOM;e&&(e.forEach(n=>n.remove()),e.clear());for(let n of this.getAllStyles())this.onStyleRemoved(n);this.resetHostNodes()}addHost(e){this.hostNodes.add(e);for(let n of this.getAllStyles())this.addStyleToHost(e,n)}removeHost(e){this.hostNodes.delete(e)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(e){for(let n of this.hostNodes)this.addStyleToHost(n,e)}onStyleRemoved(e){let n=this.styleRef;n.get(e)?.elements?.forEach(r=>r.remove()),n.delete(e)}collectServerRenderedStyles(){let e=this.doc.head?.querySelectorAll(`style[${AI}="${this.appId}"]`);if(e?.length){let n=new Map;return e.forEach(r=>{r.textContent!=null&&n.set(r.textContent,r)}),n}return null}changeUsageCount(e,n){let r=this.styleRef;if(r.has(e)){let o=r.get(e);return o.usage+=n,o.usage}return r.set(e,{usage:n,elements:[]}),n}getStyleElement(e,n){let r=this.styleNodesInDOM,o=r?.get(n);if(o?.parentNode===e)return r.delete(n),o.removeAttribute(AI),o;{let s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=n,this.platformIsServer&&s.setAttribute(AI,this.appId),e.appendChild(s),s}}addStyleToHost(e,n){let r=this.getStyleElement(e,n),o=this.styleRef,s=o.get(n)?.elements;s?s.push(r):o.set(n,{elements:[r],usage:1})}resetHostNodes(){let e=this.hostNodes;e.clear(),e.add(this.doc.head)}static{this.\u0275fac=function(n){return new(n||i)(me(It),me(wm),me(og,8),me(Ha))}}static{this.\u0275prov=xe({token:i,factory:i.\u0275fac})}}return i})(),PI={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},BI=/%COMP%/g,S5="%COMP%",Yoe=`_nghost-${S5}`,Zoe=`_ngcontent-${S5}`,Koe=!0,Qoe=new ge("",{providedIn:"root",factory:()=>Koe});function Joe(i){return Zoe.replace(BI,i)}function ese(i){return Yoe.replace(BI,i)}function E5(i,t){return t.map(e=>e.replace(BI,i))}var y5=(()=>{class i{constructor(e,n,r,o,s,a,c,l=null){this.eventManager=e,this.sharedStylesHost=n,this.appId=r,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=c,this.nonce=l,this.rendererByCompId=new Map,this.platformIsServer=fI(a),this.defaultRenderer=new Sg(e,s,c,this.platformIsServer)}createRenderer(e,n){if(!e||!n)return this.defaultRenderer;this.platformIsServer&&n.encapsulation===Ba.ShadowDom&&(n=mi(ye({},n),{encapsulation:Ba.Emulated}));let r=this.getOrCreateRenderer(e,n);return r instanceof Uy?r.applyToHost(e):r instanceof Eg&&r.applyStyles(),r}getOrCreateRenderer(e,n){let r=this.rendererByCompId,o=r.get(n.id);if(!o){let s=this.doc,a=this.ngZone,c=this.eventManager,l=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,u=this.platformIsServer;switch(n.encapsulation){case Ba.Emulated:o=new Uy(c,l,n,this.appId,d,s,a,u);break;case Ba.ShadowDom:return new LI(c,l,e,n,s,a,this.nonce,u);default:o=new Eg(c,l,n,d,s,a,u);break}r.set(n.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(n){return new(n||i)(me(M5),me(C5),me(wm),me(Qoe),me(It),me(Ha),me(Ne),me(og))}}static{this.\u0275prov=xe({token:i,factory:i.\u0275fac})}}return i})(),Sg=class{constructor(t,e,n,r){this.eventManager=t,this.doc=e,this.ngZone=n,this.platformIsServer=r,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(t,e){return e?this.doc.createElementNS(PI[e]||e,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,e){(x5(t)?t.content:t).appendChild(e)}insertBefore(t,e,n){t&&(x5(t)?t.content:t).insertBefore(e,n)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let n=typeof t=="string"?this.doc.querySelector(t):t;if(!n)throw new mt(-5104,!1);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,r){if(r){e=r+":"+e;let o=PI[r];o?t.setAttributeNS(o,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){let r=PI[n];r?t.removeAttributeNS(r,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,r){r&(Pc.DashCase|Pc.Important)?t.style.setProperty(e,n,r&Pc.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&Pc.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){t!=null&&(t[e]=n)}setValue(t,e){t.nodeValue=e}listen(t,e,n){if(typeof t=="string"&&(t=Ga().getGlobalEventTarget(this.doc,t),!t))throw new Error(`Unsupported event target ${t} for event ${e}`);return this.eventManager.addEventListener(t,e,this.decoratePreventDefault(n))}decoratePreventDefault(t){return e=>{if(e==="__ngUnwrap__")return t;(this.platformIsServer?this.ngZone.runGuarded(()=>t(e)):t(e))===!1&&e.preventDefault()}}};function x5(i){return i.tagName==="TEMPLATE"&&i.content!==void 0}var LI=class extends Sg{constructor(t,e,n,r,o,s,a,c){super(t,o,s,c),this.sharedStylesHost=e,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let l=E5(r.id,r.styles);for(let d of l){let u=document.createElement("style");a&&u.setAttribute("nonce",a),u.textContent=d,this.shadowRoot.appendChild(u)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Eg=class extends Sg{constructor(t,e,n,r,o,s,a,c){super(t,o,s,a),this.sharedStylesHost=e,this.removeStylesOnCompDestroy=r,this.styles=c?E5(c,n.styles):n.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},Uy=class extends Eg{constructor(t,e,n,r,o,s,a,c){let l=r+"-"+n.id;super(t,e,n,o,s,a,c,l),this.contentAttr=Joe(l),this.hostAttr=ese(l)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,e){let n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}},tse=(()=>{class i extends Vy{constructor(e){super(e)}supports(e){return!0}addEventListener(e,n,r){return e.addEventListener(n,r,!1),()=>this.removeEventListener(e,n,r)}removeEventListener(e,n,r){return e.removeEventListener(n,r)}static{this.\u0275fac=function(n){return new(n||i)(me(It))}}static{this.\u0275prov=xe({token:i,factory:i.\u0275fac})}}return i})(),w5=["alt","control","meta","shift"],ise={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},nse={alt:i=>i.altKey,control:i=>i.ctrlKey,meta:i=>i.metaKey,shift:i=>i.shiftKey},rse=(()=>{class i extends Vy{constructor(e){super(e)}supports(e){return i.parseEventName(e)!=null}addEventListener(e,n,r){let o=i.parseEventName(n),s=i.eventCallback(o.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Ga().onAndCancel(e,o.domEventName,s))}static parseEventName(e){let n=e.toLowerCase().split("."),r=n.shift();if(n.length===0||!(r==="keydown"||r==="keyup"))return null;let o=i._normalizeKey(n.pop()),s="",a=n.indexOf("code");if(a>-1&&(n.splice(a,1),s="code."),w5.forEach(l=>{let d=n.indexOf(l);d>-1&&(n.splice(d,1),s+=l+".")}),s+=o,n.length!=0||o.length===0)return null;let c={};return c.domEventName=r,c.fullKey=s,c}static matchEventFullKeyCode(e,n){let r=ise[e.key]||e.key,o="";return n.indexOf("code.")>-1&&(r=e.code,o="code."),r==null||!r?!1:(r=r.toLowerCase(),r===" "?r="space":r==="."&&(r="dot"),w5.forEach(s=>{if(s!==r){let a=nse[s];a(e)&&(o+=s+".")}}),o+=r,o===n)}static eventCallback(e,n,r){return o=>{i.matchEventFullKeyCode(o,e)&&r.runGuarded(()=>n(o))}}static _normalizeKey(e){return e==="esc"?"escape":e}static{this.\u0275fac=function(n){return new(n||i)(me(It))}}static{this.\u0275prov=xe({token:i,factory:i.\u0275fac})}}return i})();function ose(){NI.makeCurrent()}function sse(){return new xo}function ase(){return D4(document),document}var cse=[{provide:Ha,useValue:mI},{provide:ST,useValue:ose,multi:!0},{provide:It,useFactory:ase,deps:[]}],z2e=QT(iz,"browser",cse),lse=new ge(""),dse=[{provide:mg,useClass:OI,deps:[]},{provide:YT,useClass:ry,deps:[Ne,oy,mg]},{provide:ry,useClass:ry,deps:[Ne,oy,mg]}],use=[{provide:Pv,useValue:"root"},{provide:xo,useFactory:sse,deps:[]},{provide:FI,useClass:tse,multi:!0,deps:[It,Ne,Ha]},{provide:FI,useClass:rse,multi:!0,deps:[It]},y5,C5,M5,{provide:Zf,useExisting:y5},{provide:vy,useClass:Xoe,deps:[]},[]],H2e=(()=>{class i{constructor(e){}static withServerTransition(e){return{ngModule:i,providers:[{provide:wm,useValue:e.appId}]}}static{this.\u0275fac=function(n){return new(n||i)(me(lse,12))}}static{this.\u0275mod=$e({type:i})}static{this.\u0275inj=je({providers:[...use,...dse],imports:[kr,nz]})}}return i})();var T5=(()=>{class i{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}static{this.\u0275fac=function(n){return new(n||i)(me(It))}}static{this.\u0275prov=xe({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();var Tg=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275prov=xe({token:i,factory:function(n){let r=null;return n?r=new(n||i):r=me(hse),r},providedIn:"root"})}}return i})(),hse=(()=>{class i extends Tg{constructor(e){super(),this._doc=e}sanitize(e,n){if(n==null)return null;switch(e){case Kr.NONE:return n;case Kr.HTML:return jl(n,"HTML")?Qs(n):z4(this._doc,String(n)).toString();case Kr.STYLE:return jl(n,"Style")?Qs(n):n;case Kr.SCRIPT:if(jl(n,"Script"))return Qs(n);throw new mt(5200,!1);case Kr.URL:return jl(n,"URL")?Qs(n):jv(String(n));case Kr.RESOURCE_URL:if(jl(n,"ResourceURL"))return Qs(n);throw new mt(5201,!1);default:throw new mt(5202,!1)}}bypassSecurityTrustHtml(e){return A4(e)}bypassSecurityTrustStyle(e){return P4(e)}bypassSecurityTrustScript(e){return R4(e)}bypassSecurityTrustUrl(e){return N4(e)}bypassSecurityTrustResourceUrl(e){return O4(e)}static{this.\u0275fac=function(n){return new(n||i)(me(It))}}static{this.\u0275prov=xe({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();var pi="primary",Hg=Symbol("RouteTitle"),$I=class{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){let e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){let e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}};function Lm(i){return new $I(i)}function mse(i,t,e){let n=e.path.split("/");if(n.length>i.length||e.pathMatch==="full"&&(t.hasChildren()||n.length<i.length))return null;let r={};for(let o=0;o<n.length;o++){let s=n[o],a=i[o];if(s.startsWith(":"))r[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:i.slice(0,n.length),posParams:r}}function pse(i,t){if(i.length!==t.length)return!1;for(let e=0;e<i.length;++e)if(!Xa(i[e],t[e]))return!1;return!0}function Xa(i,t){let e=i?GI(i):void 0,n=t?GI(t):void 0;if(!e||!n||e.length!=n.length)return!1;let r;for(let o=0;o<e.length;o++)if(r=e[o],!F5(i[r],t[r]))return!1;return!0}function GI(i){return[...Object.keys(i),...Object.getOwnPropertySymbols(i)]}function F5(i,t){if(Array.isArray(i)&&Array.isArray(t)){if(i.length!==t.length)return!1;let e=[...i].sort(),n=[...t].sort();return e.every((r,o)=>n[o]===r)}else return i===t}function L5(i){return i.length>0?i[i.length-1]:null}function ed(i){return lu(i)?i:Tu(i)?cn(Promise.resolve(i)):dt(i)}var fse={exact:V5,subset:U5},B5={exact:gse,subset:_se,ignored:()=>!0};function I5(i,t,e){return fse[e.paths](i.root,t.root,e.matrixParams)&&B5[e.queryParams](i.queryParams,t.queryParams)&&!(e.fragment==="exact"&&i.fragment!==t.fragment)}function gse(i,t){return Xa(i,t)}function V5(i,t,e){if(!Nu(i.segments,t.segments)||!jy(i.segments,t.segments,e)||i.numberOfChildren!==t.numberOfChildren)return!1;for(let n in t.children)if(!i.children[n]||!V5(i.children[n],t.children[n],e))return!1;return!0}function _se(i,t){return Object.keys(t).length<=Object.keys(i).length&&Object.keys(t).every(e=>F5(i[e],t[e]))}function U5(i,t,e){return z5(i,t,t.segments,e)}function z5(i,t,e,n){if(i.segments.length>e.length){let r=i.segments.slice(0,e.length);return!(!Nu(r,e)||t.hasChildren()||!jy(r,e,n))}else if(i.segments.length===e.length){if(!Nu(i.segments,e)||!jy(i.segments,e,n))return!1;for(let r in t.children)if(!i.children[r]||!U5(i.children[r],t.children[r],n))return!1;return!0}else{let r=e.slice(0,i.segments.length),o=e.slice(i.segments.length);return!Nu(i.segments,r)||!jy(i.segments,r,n)||!i.children[pi]?!1:z5(i.children[pi],t,o,n)}}function jy(i,t,e){return t.every((n,r)=>B5[e](i[r].parameters,n.parameters))}var Kl=class{constructor(t=new Yi([],{}),e={},n=null){this.root=t,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap??=Lm(this.queryParams),this._queryParamMap}toString(){return yse.serialize(this)}},Yi=class{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Object.values(e).forEach(n=>n.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return $y(this)}},Ru=class{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap??=Lm(this.parameters),this._parameterMap}toString(){return j5(this)}};function bse(i,t){return Nu(i,t)&&i.every((e,n)=>Xa(e.parameters,t[n].parameters))}function Nu(i,t){return i.length!==t.length?!1:i.every((e,n)=>e.path===t[n].path)}function vse(i,t){let e=[];return Object.entries(i.children).forEach(([n,r])=>{n===pi&&(e=e.concat(t(r,n)))}),Object.entries(i.children).forEach(([n,r])=>{n!==pi&&(e=e.concat(t(r,n)))}),e}var jg=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275prov=xe({token:i,factory:()=>new Ng,providedIn:"root"})}}return i})(),Ng=class{parse(t){let e=new qI(t);return new Kl(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){let e=`/${Ig(t.root,!0)}`,n=Mse(t.queryParams),r=typeof t.fragment=="string"?`#${xse(t.fragment)}`:"";return`${e}${n}${r}`}},yse=new Ng;function $y(i){return i.segments.map(t=>j5(t)).join("/")}function Ig(i,t){if(!i.hasChildren())return $y(i);if(t){let e=i.children[pi]?Ig(i.children[pi],!1):"",n=[];return Object.entries(i.children).forEach(([r,o])=>{r!==pi&&n.push(`${r}:${Ig(o,!1)}`)}),n.length>0?`${e}(${n.join("//")})`:e}else{let e=vse(i,(n,r)=>r===pi?[Ig(i.children[pi],!1)]:[`${r}:${Ig(n,!1)}`]);return Object.keys(i.children).length===1&&i.children[pi]!=null?`${$y(i)}/${e[0]}`:`${$y(i)}/(${e.join("//")})`}}function H5(i){return encodeURIComponent(i).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function zy(i){return H5(i).replace(/%3B/gi,";")}function xse(i){return encodeURI(i)}function WI(i){return H5(i).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Gy(i){return decodeURIComponent(i)}function D5(i){return Gy(i.replace(/\+/g,"%20"))}function j5(i){return`${WI(i.path)}${wse(i.parameters)}`}function wse(i){return Object.entries(i).map(([t,e])=>`;${WI(t)}=${WI(e)}`).join("")}function Mse(i){let t=Object.entries(i).map(([e,n])=>Array.isArray(n)?n.map(r=>`${zy(e)}=${zy(r)}`).join("&"):`${zy(e)}=${zy(n)}`).filter(e=>e);return t.length?`?${t.join("&")}`:""}var Cse=/^[^\/()?;#]+/;function UI(i){let t=i.match(Cse);return t?t[0]:""}var Sse=/^[^\/()?;=#]+/;function Ese(i){let t=i.match(Sse);return t?t[0]:""}var Tse=/^[^=?&#]+/;function Ise(i){let t=i.match(Tse);return t?t[0]:""}var Dse=/^[^&#]+/;function kse(i){let t=i.match(Dse);return t?t[0]:""}var qI=class{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Yi([],{}):new Yi([],this.parseChildren())}parseQueryParams(){let t={};if(this.consumeOptional("?"))do this.parseQueryParam(t);while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n[pi]=new Yi(t,e)),n}parseSegment(){let t=UI(this.remaining);if(t===""&&this.peekStartsWith(";"))throw new mt(4009,!1);return this.capture(t),new Ru(Gy(t),this.parseMatrixParams())}parseMatrixParams(){let t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){let e=Ese(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){let r=UI(this.remaining);r&&(n=r,this.capture(n))}t[Gy(e)]=Gy(n)}parseQueryParam(t){let e=Ise(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){let s=kse(this.remaining);s&&(n=s,this.capture(n))}let r=D5(e),o=D5(n);if(t.hasOwnProperty(r)){let s=t[r];Array.isArray(s)||(s=[s],t[r]=s),s.push(o)}else t[r]=o}parseParens(t){let e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let n=UI(this.remaining),r=this.remaining[n.length];if(r!=="/"&&r!==")"&&r!==";")throw new mt(4010,!1);let o;n.indexOf(":")>-1?(o=n.slice(0,n.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=pi);let s=this.parseChildren();e[o]=Object.keys(s).length===1?s[pi]:new Yi([],s),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return this.peekStartsWith(t)?(this.remaining=this.remaining.substring(t.length),!0):!1}capture(t){if(!this.consumeOptional(t))throw new mt(4011,!1)}};function $5(i){return i.segments.length>0?new Yi([],{[pi]:i}):i}function G5(i){let t={};for(let[n,r]of Object.entries(i.children)){let o=G5(r);if(n===pi&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))t[s]=a;else(o.segments.length>0||o.hasChildren())&&(t[n]=o)}let e=new Yi(i.segments,t);return Ase(e)}function Ase(i){if(i.numberOfChildren===1&&i.children[pi]){let t=i.children[pi];return new Yi(i.segments.concat(t.segments),t.children)}return i}function Bm(i){return i instanceof Kl}function Pse(i,t,e=null,n=null){let r=W5(i);return q5(r,t,e,n)}function W5(i){let t;function e(o){let s={};for(let c of o.children){let l=e(c);s[c.outlet]=l}let a=new Yi(o.url,s);return o===i&&(t=a),a}let n=e(i.root),r=$5(n);return t??r}function q5(i,t,e,n){let r=i;for(;r.parent;)r=r.parent;if(t.length===0)return zI(r,r,r,e,n);let o=Rse(t);if(o.toRoot())return zI(r,r,new Yi([],{}),e,n);let s=Nse(o,r,i),a=s.processChildren?Ag(s.segmentGroup,s.index,o.commands):Y5(s.segmentGroup,s.index,o.commands);return zI(r,s.segmentGroup,a,e,n)}function Wy(i){return typeof i=="object"&&i!=null&&!i.outlets&&!i.segmentPath}function Og(i){return typeof i=="object"&&i!=null&&i.outlets}function zI(i,t,e,n,r){let o={};n&&Object.entries(n).forEach(([c,l])=>{o[c]=Array.isArray(l)?l.map(d=>`${d}`):`${l}`});let s;i===t?s=e:s=X5(i,t,e);let a=$5(G5(s));return new Kl(a,o,r)}function X5(i,t,e){let n={};return Object.entries(i.children).forEach(([r,o])=>{o===t?n[r]=e:n[r]=X5(o,t,e)}),new Yi(i.segments,n)}var qy=class{constructor(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&Wy(n[0]))throw new mt(4003,!1);let r=n.find(Og);if(r&&r!==L5(n))throw new mt(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function Rse(i){if(typeof i[0]=="string"&&i.length===1&&i[0]==="/")return new qy(!0,0,i);let t=0,e=!1,n=i.reduce((r,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([c,l])=>{a[c]=typeof l=="string"?l.split("/"):l}),[...r,{outlets:a}]}if(o.segmentPath)return[...r,o.segmentPath]}return typeof o!="string"?[...r,o]:s===0?(o.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?e=!0:a===".."?t++:a!=""&&r.push(a))}),r):[...r,o]},[]);return new qy(e,t,n)}var Om=class{constructor(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}};function Nse(i,t,e){if(i.isAbsolute)return new Om(t,!0,0);if(!e)return new Om(t,!1,NaN);if(e.parent===null)return new Om(e,!0,0);let n=Wy(i.commands[0])?0:1,r=e.segments.length-1+n;return Ose(e,r,i.numberOfDoubleDots)}function Ose(i,t,e){let n=i,r=t,o=e;for(;o>r;){if(o-=r,n=n.parent,!n)throw new mt(4005,!1);r=n.segments.length}return new Om(n,!1,r-o)}function Fse(i){return Og(i[0])?i[0].outlets:{[pi]:i}}function Y5(i,t,e){if(i??=new Yi([],{}),i.segments.length===0&&i.hasChildren())return Ag(i,t,e);let n=Lse(i,t,e),r=e.slice(n.commandIndex);if(n.match&&n.pathIndex<i.segments.length){let o=new Yi(i.segments.slice(0,n.pathIndex),{});return o.children[pi]=new Yi(i.segments.slice(n.pathIndex),i.children),Ag(o,0,r)}else return n.match&&r.length===0?new Yi(i.segments,{}):n.match&&!i.hasChildren()?XI(i,t,e):n.match?Ag(i,0,r):XI(i,t,e)}function Ag(i,t,e){if(e.length===0)return new Yi(i.segments,{});{let n=Fse(e),r={};if(Object.keys(n).some(o=>o!==pi)&&i.children[pi]&&i.numberOfChildren===1&&i.children[pi].segments.length===0){let o=Ag(i.children[pi],t,e);return new Yi(i.segments,o.children)}return Object.entries(n).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(r[o]=Y5(i.children[o],t,s))}),Object.entries(i.children).forEach(([o,s])=>{n[o]===void 0&&(r[o]=s)}),new Yi(i.segments,r)}}function Lse(i,t,e){let n=0,r=t,o={match:!1,pathIndex:0,commandIndex:0};for(;r<i.segments.length;){if(n>=e.length)return o;let s=i.segments[r],a=e[n];if(Og(a))break;let c=`${a}`,l=n<e.length-1?e[n+1]:null;if(r>0&&c===void 0)break;if(c&&l&&typeof l=="object"&&l.outlets===void 0){if(!A5(c,l,s))return o;n+=2}else{if(!A5(c,{},s))return o;n++}r++}return{match:!0,pathIndex:r,commandIndex:n}}function XI(i,t,e){let n=i.segments.slice(0,t),r=0;for(;r<e.length;){let o=e[r];if(Og(o)){let c=Bse(o.outlets);return new Yi(n,c)}if(r===0&&Wy(e[0])){let c=i.segments[t];n.push(new Ru(c.path,k5(e[0]))),r++;continue}let s=Og(o)?o.outlets[pi]:`${o}`,a=r<e.length-1?e[r+1]:null;s&&a&&Wy(a)?(n.push(new Ru(s,k5(a))),r+=2):(n.push(new Ru(s,{})),r++)}return new Yi(n,{})}function Bse(i){let t={};return Object.entries(i).forEach(([e,n])=>{typeof n=="string"&&(n=[n]),n!==null&&(t[e]=XI(new Yi([],{}),0,n))}),t}function k5(i){let t={};return Object.entries(i).forEach(([e,n])=>t[e]=`${n}`),t}function A5(i,t,e){return i==e.path&&Xa(t,e.parameters)}var Pg="imperative",Ar=function(i){return i[i.NavigationStart=0]="NavigationStart",i[i.NavigationEnd=1]="NavigationEnd",i[i.NavigationCancel=2]="NavigationCancel",i[i.NavigationError=3]="NavigationError",i[i.RoutesRecognized=4]="RoutesRecognized",i[i.ResolveStart=5]="ResolveStart",i[i.ResolveEnd=6]="ResolveEnd",i[i.GuardsCheckStart=7]="GuardsCheckStart",i[i.GuardsCheckEnd=8]="GuardsCheckEnd",i[i.RouteConfigLoadStart=9]="RouteConfigLoadStart",i[i.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",i[i.ChildActivationStart=11]="ChildActivationStart",i[i.ChildActivationEnd=12]="ChildActivationEnd",i[i.ActivationStart=13]="ActivationStart",i[i.ActivationEnd=14]="ActivationEnd",i[i.Scroll=15]="Scroll",i[i.NavigationSkipped=16]="NavigationSkipped",i}(Ar||{}),ks=class{constructor(t,e){this.id=t,this.url=e}},Vm=class extends ks{constructor(t,e,n="imperative",r=null){super(t,e),this.type=Ar.NavigationStart,this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},$c=class extends ks{constructor(t,e,n){super(t,e),this.urlAfterRedirects=n,this.type=Ar.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},us=function(i){return i[i.Redirect=0]="Redirect",i[i.SupersededByNewNavigation=1]="SupersededByNewNavigation",i[i.NoDataFromResolver=2]="NoDataFromResolver",i[i.GuardRejected=3]="GuardRejected",i}(us||{}),Xy=function(i){return i[i.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",i[i.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",i}(Xy||{}),Ql=class extends ks{constructor(t,e,n,r){super(t,e),this.reason=n,this.code=r,this.type=Ar.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Jl=class extends ks{constructor(t,e,n,r){super(t,e),this.reason=n,this.code=r,this.type=Ar.NavigationSkipped}},Fg=class extends ks{constructor(t,e,n,r){super(t,e),this.error=n,this.target=r,this.type=Ar.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Yy=class extends ks{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r,this.type=Ar.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},YI=class extends ks{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r,this.type=Ar.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ZI=class extends ks{constructor(t,e,n,r,o){super(t,e),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=o,this.type=Ar.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},KI=class extends ks{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r,this.type=Ar.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},QI=class extends ks{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r,this.type=Ar.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},JI=class{constructor(t){this.route=t,this.type=Ar.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},eD=class{constructor(t){this.route=t,this.type=Ar.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},tD=class{constructor(t){this.snapshot=t,this.type=Ar.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},iD=class{constructor(t){this.snapshot=t,this.type=Ar.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},nD=class{constructor(t){this.snapshot=t,this.type=Ar.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},rD=class{constructor(t){this.snapshot=t,this.type=Ar.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Zy=class{constructor(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n,this.type=Ar.Scroll}toString(){let t=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${t}')`}},Lg=class{},Bg=class{constructor(t){this.url=t}};var oD=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new $g,this.attachRef=null}},$g=(()=>{class i{constructor(){this.contexts=new Map}onChildOutletCreated(e,n){let r=this.getOrCreateContext(e);r.outlet=n,this.contexts.set(e,r)}onChildOutletDestroyed(e){let n=this.getContext(e);n&&(n.outlet=null,n.attachRef=null)}onOutletDeactivated(){let e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let n=this.getContext(e);return n||(n=new oD,this.contexts.set(e,n)),n}getContext(e){return this.contexts.get(e)||null}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275prov=xe({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})(),Ky=class{constructor(t){this._root=t}get root(){return this._root.value}parent(t){let e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){let e=sD(t,this._root);return e?e.children.map(n=>n.value):[]}firstChild(t){let e=sD(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){let e=aD(t,this._root);return e.length<2?[]:e[e.length-2].children.map(r=>r.value).filter(r=>r!==t)}pathFromRoot(t){return aD(t,this._root).map(e=>e.value)}};function sD(i,t){if(i===t.value)return t;for(let e of t.children){let n=sD(i,e);if(n)return n}return null}function aD(i,t){if(i===t.value)return[t];for(let e of t.children){let n=aD(i,e);if(n.length)return n.unshift(t),n}return[]}var ds=class{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}};function Nm(i){let t={};return i&&i.children.forEach(e=>t[e.value.outlet]=e),t}var Qy=class extends Ky{constructor(t,e){super(t),this.snapshot=e,_D(this,t)}toString(){return this.snapshot.toString()}};function Z5(i){let t=Vse(i),e=new Pi([new Ru("",{})]),n=new Pi({}),r=new Pi({}),o=new Pi({}),s=new Pi(""),a=new Um(e,n,o,s,r,pi,i,t.root);return a.snapshot=t.root,new Qy(new ds(a,[]),t)}function Vse(i){let t={},e={},n={},r="",o=new Vg([],t,n,r,e,pi,i,null,{});return new Jy("",new ds(o,[]))}var Um=class{constructor(t,e,n,r,o,s,a,c){this.urlSubject=t,this.paramsSubject=e,this.queryParamsSubject=n,this.fragmentSubject=r,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(St(l=>l[Hg]))??dt(void 0),this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(St(t=>Lm(t))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(St(t=>Lm(t))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function gD(i,t,e="emptyOnly"){let n,{routeConfig:r}=i;return t!==null&&(e==="always"||r?.path===""||!t.component&&!t.routeConfig?.loadComponent)?n={params:ye(ye({},t.params),i.params),data:ye(ye({},t.data),i.data),resolve:ye(ye(ye(ye({},i.data),t.data),r?.data),i._resolvedData)}:n={params:ye({},i.params),data:ye({},i.data),resolve:ye(ye({},i.data),i._resolvedData??{})},r&&Q5(r)&&(n.resolve[Hg]=r.title),n}var Vg=class{get title(){return this.data?.[Hg]}constructor(t,e,n,r,o,s,a,c,l){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=o,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Lm(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Lm(this.queryParams),this._queryParamMap}toString(){let t=this.url.map(n=>n.toString()).join("/"),e=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${t}', path:'${e}')`}},Jy=class extends Ky{constructor(t,e){super(e),this.url=t,_D(this,e)}toString(){return K5(this._root)}};function _D(i,t){t.value._routerState=i,t.children.forEach(e=>_D(i,e))}function K5(i){let t=i.children.length>0?` { ${i.children.map(K5).join(", ")} } `:"";return`${i.value}${t}`}function HI(i){if(i.snapshot){let t=i.snapshot,e=i._futureSnapshot;i.snapshot=e,Xa(t.queryParams,e.queryParams)||i.queryParamsSubject.next(e.queryParams),t.fragment!==e.fragment&&i.fragmentSubject.next(e.fragment),Xa(t.params,e.params)||i.paramsSubject.next(e.params),pse(t.url,e.url)||i.urlSubject.next(e.url),Xa(t.data,e.data)||i.dataSubject.next(e.data)}else i.snapshot=i._futureSnapshot,i.dataSubject.next(i._futureSnapshot.data)}function cD(i,t){let e=Xa(i.params,t.params)&&bse(i.url,t.url),n=!i.parent!=!t.parent;return e&&!n&&(!i.parent||cD(i.parent,t.parent))}function Q5(i){return typeof i.title=="string"||i.title===null}var Use=(()=>{class i{constructor(){this.activated=null,this._activatedRoute=null,this.name=pi,this.activateEvents=new Qe,this.deactivateEvents=new Qe,this.attachEvents=new Qe,this.detachEvents=new Qe,this.parentContexts=be($g),this.location=be(rn),this.changeDetector=be(ci),this.environmentInjector=be(yo),this.inputBinder=be(rx,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(e){if(e.name){let{firstChange:n,previousValue:r}=e.name;if(n)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new mt(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new mt(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new mt(4012,!1);this.location.detach();let e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,n){this.activated=e,this._activatedRoute=n,this.location.insert(e.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){let e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,n){if(this.isActivated)throw new mt(4013,!1);this._activatedRoute=e;let r=this.location,s=e.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new lD(e,a,r.injector);this.activated=r.createComponent(s,{index:r.length,injector:c,environmentInjector:n??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275dir=we({type:i,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Bi]})}}return i})(),lD=class i{__ngOutletInjector(t){return new i(this.route,this.childContexts,t)}constructor(t,e,n){this.route=t,this.childContexts=e,this.parent=n}get(t,e){return t===Um?this.route:t===$g?this.childContexts:this.parent.get(t,e)}},rx=new ge(""),P5=(()=>{class i{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(e){this.unsubscribeFromRouteData(e),this.subscribeToRouteData(e)}unsubscribeFromRouteData(e){this.outletDataSubscriptions.get(e)?.unsubscribe(),this.outletDataSubscriptions.delete(e)}subscribeToRouteData(e){let{activatedRoute:n}=e,r=du([n.queryParams,n.params,n.data]).pipe(Kn(([o,s,a],c)=>(a=ye(ye(ye({},o),s),a),c===0?dt(a):Promise.resolve(a)))).subscribe(o=>{if(!e.isActivated||!e.activatedComponentRef||e.activatedRoute!==n||n.component===null){this.unsubscribeFromRouteData(e);return}let s=rz(n.component);if(!s){this.unsubscribeFromRouteData(e);return}for(let{templateName:a}of s.inputs)e.activatedComponentRef.setInput(a,o[a])});this.outletDataSubscriptions.set(e,r)}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275prov=xe({token:i,factory:i.\u0275fac})}}return i})();function zse(i,t,e){let n=Ug(i,t._root,e?e._root:void 0);return new Qy(n,t)}function Ug(i,t,e){if(e&&i.shouldReuseRoute(t.value,e.value.snapshot)){let n=e.value;n._futureSnapshot=t.value;let r=Hse(i,t,e);return new ds(n,r)}else{if(i.shouldAttach(t.value)){let o=i.retrieve(t.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=t.value,s.children=t.children.map(a=>Ug(i,a)),s}}let n=jse(t.value),r=t.children.map(o=>Ug(i,o));return new ds(n,r)}}function Hse(i,t,e){return t.children.map(n=>{for(let r of e.children)if(i.shouldReuseRoute(n.value,r.value.snapshot))return Ug(i,n,r);return Ug(i,n)})}function jse(i){return new Um(new Pi(i.url),new Pi(i.params),new Pi(i.queryParams),new Pi(i.fragment),new Pi(i.data),i.outlet,i.component,i)}var J5="ngNavigationCancelingError";function eH(i,t){let{redirectTo:e,navigationBehaviorOptions:n}=Bm(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,r=tH(!1,us.Redirect);return r.url=e,r.navigationBehaviorOptions=n,r}function tH(i,t){let e=new Error(`NavigationCancelingError: ${i||""}`);return e[J5]=!0,e.cancellationCode=t,e}function $se(i){return iH(i)&&Bm(i.url)}function iH(i){return!!i&&i[J5]}var Gse=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275cmp=rt({type:i,selectors:[["ng-component"]],standalone:!0,features:[Tt],decls:1,vars:0,template:function(n,r){n&1&&Ue(0,"router-outlet")},dependencies:[Use],encapsulation:2})}}return i})();function Wse(i,t){return i.providers&&!i._injector&&(i._injector=iy(i.providers,t,`Route: ${i.path}`)),i._injector??t}function bD(i){let t=i.children&&i.children.map(bD),e=t?mi(ye({},i),{children:t}):ye({},i);return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==pi&&(e.component=Gse),e}function Ya(i){return i.outlet||pi}function qse(i,t){let e=i.filter(n=>Ya(n)===t);return e.push(...i.filter(n=>Ya(n)!==t)),e}function Gg(i){if(!i)return null;if(i.routeConfig?._injector)return i.routeConfig._injector;for(let t=i.parent;t;t=t.parent){let e=t.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}var Xse=(i,t,e,n)=>St(r=>(new dD(t,r.targetRouterState,r.currentRouterState,e,n).activate(i),r)),dD=class{constructor(t,e,n,r,o){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=r,this.inputBindingEnabled=o}activate(t){let e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),HI(this.futureState.root),this.activateChildRoutes(e,n,t)}deactivateChildRoutes(t,e,n){let r=Nm(e);t.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,r[s],n),delete r[s]}),Object.values(r).forEach(o=>{this.deactivateRouteAndItsChildren(o,n)})}deactivateRoutes(t,e,n){let r=t.value,o=e?e.value:null;if(r===o)if(r.component){let s=n.getContext(r.outlet);s&&this.deactivateChildRoutes(t,e,s.children)}else this.deactivateChildRoutes(t,e,n);else o&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){let n=e.getContext(t.value.outlet),r=n&&t.value.component?n.children:e,o=Nm(t);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,r);if(n&&n.outlet){let s=n.outlet.detach(),a=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:s,route:t,contexts:a})}}deactivateRouteAndOutlet(t,e){let n=e.getContext(t.value.outlet),r=n&&t.value.component?n.children:e,o=Nm(t);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,r);n&&(n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated()),n.attachRef=null,n.route=null)}activateChildRoutes(t,e,n){let r=Nm(e);t.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],n),this.forwardEvent(new rD(o.value.snapshot))}),t.children.length&&this.forwardEvent(new iD(t.value.snapshot))}activateRoutes(t,e,n){let r=t.value,o=e?e.value:null;if(HI(r),r===o)if(r.component){let s=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,s.children)}else this.activateChildRoutes(t,e,n);else if(r.component){let s=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){let a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),HI(a.route.value),this.activateChildRoutes(t,null,s.children)}else{let a=Gg(r.snapshot);s.attachRef=null,s.route=r,s.injector=a,s.outlet&&s.outlet.activateWith(r,s.injector),this.activateChildRoutes(t,null,s.children)}}else this.activateChildRoutes(t,null,n)}},ex=class{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}},Fm=class{constructor(t,e){this.component=t,this.route=e}};function Yse(i,t,e){let n=i._root,r=t?t._root:null;return Dg(n,r,e,[n.value])}function Zse(i){let t=i.routeConfig?i.routeConfig.canActivateChild:null;return!t||t.length===0?null:{node:i,guards:t}}function Hm(i,t){let e=Symbol(),n=t.get(i,e);return n===e?typeof i=="function"&&!yV(i)?i:t.get(i):n}function Dg(i,t,e,n,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=Nm(t);return i.children.forEach(s=>{Kse(s,o[s.value.outlet],e,n.concat([s.value]),r),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Rg(a,e.getContext(s),r)),r}function Kse(i,t,e,n,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=i.value,s=t?t.value:null,a=e?e.getContext(i.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let c=Qse(s,o,o.routeConfig.runGuardsAndResolvers);c?r.canActivateChecks.push(new ex(n)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?Dg(i,t,a?a.children:null,n,r):Dg(i,t,e,n,r),c&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new Fm(a.outlet.component,s))}else s&&Rg(t,a,r),r.canActivateChecks.push(new ex(n)),o.component?Dg(i,null,a?a.children:null,n,r):Dg(i,null,e,n,r);return r}function Qse(i,t,e){if(typeof e=="function")return e(i,t);switch(e){case"pathParamsChange":return!Nu(i.url,t.url);case"pathParamsOrQueryParamsChange":return!Nu(i.url,t.url)||!Xa(i.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!cD(i,t)||!Xa(i.queryParams,t.queryParams);case"paramsChange":default:return!cD(i,t)}}function Rg(i,t,e){let n=Nm(i),r=i.value;Object.entries(n).forEach(([o,s])=>{r.component?t?Rg(s,t.children.getContext(o),e):Rg(s,null,e):Rg(s,t,e)}),r.component?t&&t.outlet&&t.outlet.isActivated?e.canDeactivateChecks.push(new Fm(t.outlet.component,r)):e.canDeactivateChecks.push(new Fm(null,r)):e.canDeactivateChecks.push(new Fm(null,r))}function Wg(i){return typeof i=="function"}function Jse(i){return typeof i=="boolean"}function eae(i){return i&&Wg(i.canLoad)}function tae(i){return i&&Wg(i.canActivate)}function iae(i){return i&&Wg(i.canActivateChild)}function nae(i){return i&&Wg(i.canDeactivate)}function rae(i){return i&&Wg(i.canMatch)}function nH(i){return i instanceof Ec||i?.name==="EmptyError"}var Hy=Symbol("INITIAL_VALUE");function zm(){return Kn(i=>du(i.map(t=>t.pipe(nn(1),or(Hy)))).pipe(St(t=>{for(let e of t)if(e!==!0){if(e===Hy)return Hy;if(e===!1||e instanceof Kl)return e}return!0}),ki(t=>t!==Hy),nn(1)))}function oae(i,t){return jn(e=>{let{targetSnapshot:n,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:s}}=e;return s.length===0&&o.length===0?dt(mi(ye({},e),{guardsResult:!0})):sae(s,n,r,i).pipe(jn(a=>a&&Jse(a)?aae(n,o,i,t):dt(a)),St(a=>mi(ye({},e),{guardsResult:a})))})}function sae(i,t,e,n){return cn(i).pipe(jn(r=>hae(r.component,r.route,e,t,n)),Oa(r=>r!==!0,!0))}function aae(i,t,e,n){return cn(t).pipe(Tc(r=>Pl(lae(r.route.parent,n),cae(r.route,n),uae(i,r.path,e),dae(i,r.route,e))),Oa(r=>r!==!0,!0))}function cae(i,t){return i!==null&&t&&t(new nD(i)),dt(!0)}function lae(i,t){return i!==null&&t&&t(new tD(i)),dt(!0)}function dae(i,t,e){let n=t.routeConfig?t.routeConfig.canActivate:null;if(!n||n.length===0)return dt(!0);let r=n.map(o=>im(()=>{let s=Gg(t)??e,a=Hm(o,s),c=tae(a)?a.canActivate(t,i):Rc(s,()=>a(t,i));return ed(c).pipe(Oa())}));return dt(r).pipe(zm())}function uae(i,t,e){let n=t[t.length-1],o=t.slice(0,t.length-1).reverse().map(s=>Zse(s)).filter(s=>s!==null).map(s=>im(()=>{let a=s.guards.map(c=>{let l=Gg(s.node)??e,d=Hm(c,l),u=iae(d)?d.canActivateChild(n,i):Rc(l,()=>d(n,i));return ed(u).pipe(Oa())});return dt(a).pipe(zm())}));return dt(o).pipe(zm())}function hae(i,t,e,n,r){let o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!o||o.length===0)return dt(!0);let s=o.map(a=>{let c=Gg(t)??r,l=Hm(a,c),d=nae(l)?l.canDeactivate(i,t,e,n):Rc(c,()=>l(i,t,e,n));return ed(d).pipe(Oa())});return dt(s).pipe(zm())}function mae(i,t,e,n){let r=t.canLoad;if(r===void 0||r.length===0)return dt(!0);let o=r.map(s=>{let a=Hm(s,i),c=eae(a)?a.canLoad(t,e):Rc(i,()=>a(t,e));return ed(c)});return dt(o).pipe(zm(),rH(n))}function rH(i){return EE(Pn(t=>{if(Bm(t))throw eH(i,t)}),St(t=>t===!0))}function pae(i,t,e,n){let r=t.canMatch;if(!r||r.length===0)return dt(!0);let o=r.map(s=>{let a=Hm(s,i),c=rae(a)?a.canMatch(t,e):Rc(i,()=>a(t,e));return ed(c)});return dt(o).pipe(zm(),rH(n))}var zg=class{constructor(t){this.segmentGroup=t||null}},tx=class extends Error{constructor(t){super(),this.urlTree=t}};function Rm(i){return kl(new zg(i))}function fae(i){return kl(new mt(4e3,!1))}function gae(i){return kl(tH(!1,us.GuardRejected))}var uD=class{constructor(t,e){this.urlSerializer=t,this.urlTree=e}lineralizeSegments(t,e){let n=[],r=e.root;for(;;){if(n=n.concat(r.segments),r.numberOfChildren===0)return dt(n);if(r.numberOfChildren>1||!r.children[pi])return fae(t.redirectTo);r=r.children[pi]}}applyRedirectCommands(t,e,n){let r=this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),t,n);if(e.startsWith("/"))throw new tx(r);return r}applyRedirectCreateUrlTree(t,e,n,r){let o=this.createSegmentGroup(t,e.root,n,r);return new Kl(o,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){let n={};return Object.entries(t).forEach(([r,o])=>{if(typeof o=="string"&&o.startsWith(":")){let a=o.substring(1);n[r]=e[a]}else n[r]=o}),n}createSegmentGroup(t,e,n,r){let o=this.createSegments(t,e.segments,n,r),s={};return Object.entries(e.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(t,c,n,r)}),new Yi(o,s)}createSegments(t,e,n,r){return e.map(o=>o.path.startsWith(":")?this.findPosParam(t,o,r):this.findOrReturn(o,n))}findPosParam(t,e,n){let r=n[e.path.substring(1)];if(!r)throw new mt(4001,!1);return r}findOrReturn(t,e){let n=0;for(let r of e){if(r.path===t.path)return e.splice(n),r;n++}return t}},hD={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function _ae(i,t,e,n,r){let o=vD(i,t,e);return o.matched?(n=Wse(t,n),pae(n,t,e,r).pipe(St(s=>s===!0?o:ye({},hD)))):dt(o)}function vD(i,t,e){if(t.path==="**")return bae(e);if(t.path==="")return t.pathMatch==="full"&&(i.hasChildren()||e.length>0)?ye({},hD):{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};let r=(t.matcher||mse)(e,i,t);if(!r)return ye({},hD);let o={};Object.entries(r.posParams??{}).forEach(([a,c])=>{o[a]=c.path});let s=r.consumed.length>0?ye(ye({},o),r.consumed[r.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:r.consumed,remainingSegments:e.slice(r.consumed.length),parameters:s,positionalParamSegments:r.posParams??{}}}function bae(i){return{matched:!0,parameters:i.length>0?L5(i).parameters:{},consumedSegments:i,remainingSegments:[],positionalParamSegments:{}}}function R5(i,t,e,n){return e.length>0&&xae(i,e,n)?{segmentGroup:new Yi(t,yae(n,new Yi(e,i.children))),slicedSegments:[]}:e.length===0&&wae(i,e,n)?{segmentGroup:new Yi(i.segments,vae(i,e,n,i.children)),slicedSegments:e}:{segmentGroup:new Yi(i.segments,i.children),slicedSegments:e}}function vae(i,t,e,n){let r={};for(let o of e)if(ox(i,t,o)&&!n[Ya(o)]){let s=new Yi([],{});r[Ya(o)]=s}return ye(ye({},n),r)}function yae(i,t){let e={};e[pi]=t;for(let n of i)if(n.path===""&&Ya(n)!==pi){let r=new Yi([],{});e[Ya(n)]=r}return e}function xae(i,t,e){return e.some(n=>ox(i,t,n)&&Ya(n)!==pi)}function wae(i,t,e){return e.some(n=>ox(i,t,n))}function ox(i,t,e){return(i.hasChildren()||t.length>0)&&e.pathMatch==="full"?!1:e.path===""}function Mae(i,t,e,n){return Ya(i)!==n&&(n===pi||!ox(t,e,i))?!1:vD(t,i,e).matched}function Cae(i,t,e){return t.length===0&&!i.children[e]}var mD=class{};function Sae(i,t,e,n,r,o,s="emptyOnly"){return new pD(i,t,e,n,r,s,o).recognize()}var Eae=31,pD=class{constructor(t,e,n,r,o,s,a){this.injector=t,this.configLoader=e,this.rootComponentType=n,this.config=r,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new uD(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(t){return new mt(4002,`'${t.segmentGroup}'`)}recognize(){let t=R5(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(t).pipe(St(e=>{let n=new Vg([],Object.freeze({}),Object.freeze(ye({},this.urlTree.queryParams)),this.urlTree.fragment,{},pi,this.rootComponentType,null,{}),r=new ds(n,e),o=new Jy("",r),s=Pse(n,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(o._root,null),{state:o,tree:s}}))}match(t){return this.processSegmentGroup(this.injector,this.config,t,pi).pipe(Na(n=>{if(n instanceof tx)return this.urlTree=n.urlTree,this.match(n.urlTree.root);throw n instanceof zg?this.noMatchError(n):n}))}inheritParamsAndData(t,e){let n=t.value,r=gD(n,e,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),t.children.forEach(o=>this.inheritParamsAndData(o,n))}processSegmentGroup(t,e,n,r){return n.segments.length===0&&n.hasChildren()?this.processChildren(t,e,n):this.processSegment(t,e,n,n.segments,r,!0).pipe(St(o=>o instanceof ds?[o]:[]))}processChildren(t,e,n){let r=[];for(let o of Object.keys(n.children))o==="primary"?r.unshift(o):r.push(o);return cn(r).pipe(Tc(o=>{let s=n.children[o],a=qse(e,o);return this.processSegmentGroup(t,a,s,o)}),RE((o,s)=>(o.push(...s),o)),Rl(null),PE(),jn(o=>{if(o===null)return Rm(n);let s=oH(o);return Tae(s),dt(s)}))}processSegment(t,e,n,r,o,s){return cn(e).pipe(Tc(a=>this.processSegmentAgainstRoute(a._injector??t,e,a,n,r,o,s).pipe(Na(c=>{if(c instanceof zg)return dt(null);throw c}))),Oa(a=>!!a),Na(a=>{if(nH(a))return Cae(n,r,o)?dt(new mD):Rm(n);throw a}))}processSegmentAgainstRoute(t,e,n,r,o,s,a){return Mae(n,r,o,s)?n.redirectTo===void 0?this.matchSegmentAgainstRoute(t,r,n,o,s):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(t,r,e,n,o,s):Rm(r):Rm(r)}expandSegmentAgainstRouteUsingRedirect(t,e,n,r,o,s){let{matched:a,consumedSegments:c,positionalParamSegments:l,remainingSegments:d}=vD(e,r,o);if(!a)return Rm(e);r.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>Eae&&(this.allowRedirects=!1));let u=this.applyRedirects.applyRedirectCommands(c,r.redirectTo,l);return this.applyRedirects.lineralizeSegments(r,u).pipe(jn(h=>this.processSegment(t,n,e,h.concat(d),s,!1)))}matchSegmentAgainstRoute(t,e,n,r,o){let s=_ae(e,n,r,t,this.urlSerializer);return n.path==="**"&&(e.children={}),s.pipe(Kn(a=>a.matched?(t=n._injector??t,this.getChildConfig(t,n,r).pipe(Kn(({routes:c})=>{let l=n._loadedInjector??t,{consumedSegments:d,remainingSegments:u,parameters:h}=a,m=new Vg(d,h,Object.freeze(ye({},this.urlTree.queryParams)),this.urlTree.fragment,Dae(n),Ya(n),n.component??n._loadedComponent??null,n,kae(n)),{segmentGroup:p,slicedSegments:_}=R5(e,d,u,c);if(_.length===0&&p.hasChildren())return this.processChildren(l,c,p).pipe(St(g=>g===null?null:new ds(m,g)));if(c.length===0&&_.length===0)return dt(new ds(m,[]));let f=Ya(n)===o;return this.processSegment(l,c,p,_,f?pi:o,!0).pipe(St(g=>new ds(m,g instanceof ds?[g]:[])))}))):Rm(e)))}getChildConfig(t,e,n){return e.children?dt({routes:e.children,injector:t}):e.loadChildren?e._loadedRoutes!==void 0?dt({routes:e._loadedRoutes,injector:e._loadedInjector}):mae(t,e,n,this.urlSerializer).pipe(jn(r=>r?this.configLoader.loadChildren(t,e).pipe(Pn(o=>{e._loadedRoutes=o.routes,e._loadedInjector=o.injector})):gae(e))):dt({routes:[],injector:t})}};function Tae(i){i.sort((t,e)=>t.value.outlet===pi?-1:e.value.outlet===pi?1:t.value.outlet.localeCompare(e.value.outlet))}function Iae(i){let t=i.value.routeConfig;return t&&t.path===""}function oH(i){let t=[],e=new Set;for(let n of i){if(!Iae(n)){t.push(n);continue}let r=t.find(o=>n.value.routeConfig===o.value.routeConfig);r!==void 0?(r.children.push(...n.children),e.add(r)):t.push(n)}for(let n of e){let r=oH(n.children);t.push(new ds(n.value,r))}return t.filter(n=>!e.has(n))}function Dae(i){return i.data||{}}function kae(i){return i.resolve||{}}function Aae(i,t,e,n,r,o){return jn(s=>Sae(i,t,e,n,s.extractedUrl,r,o).pipe(St(({state:a,tree:c})=>mi(ye({},s),{targetSnapshot:a,urlAfterRedirects:c}))))}function Pae(i,t){return jn(e=>{let{targetSnapshot:n,guards:{canActivateChecks:r}}=e;if(!r.length)return dt(e);let o=new Set(r.map(c=>c.route)),s=new Set;for(let c of o)if(!s.has(c))for(let l of sH(c))s.add(l);let a=0;return cn(s).pipe(Tc(c=>o.has(c)?Rae(c,n,i,t):(c.data=gD(c,c.parent,i).resolve,dt(void 0))),Pn(()=>a++),nm(1),jn(c=>a===s.size?dt(e):Zn))})}function sH(i){let t=i.children.map(e=>sH(e)).flat();return[i,...t]}function Rae(i,t,e,n){let r=i.routeConfig,o=i._resolve;return r?.title!==void 0&&!Q5(r)&&(o[Hg]=r.title),Nae(o,i,t,n).pipe(St(s=>(i._resolvedData=s,i.data=gD(i,i.parent,e).resolve,null)))}function Nae(i,t,e,n){let r=GI(i);if(r.length===0)return dt({});let o={};return cn(r).pipe(jn(s=>Oae(i[s],t,e,n).pipe(Oa(),Pn(a=>{o[s]=a}))),nm(1),AE(o),Na(s=>nH(s)?Zn:kl(s)))}function Oae(i,t,e,n){let r=Gg(t)??n,o=Hm(i,r),s=o.resolve?o.resolve(t,e):Rc(r,()=>o(t,e));return ed(s)}function jI(i){return Kn(t=>{let e=i(t);return e?cn(e).pipe(St(()=>t)):dt(t)})}var aH=(()=>{class i{buildTitle(e){let n,r=e.root;for(;r!==void 0;)n=this.getResolvedTitleForRoute(r)??n,r=r.children.find(o=>o.outlet===pi);return n}getResolvedTitleForRoute(e){return e.data[Hg]}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275prov=xe({token:i,factory:()=>be(Fae),providedIn:"root"})}}return i})(),Fae=(()=>{class i extends aH{constructor(e){super(),this.title=e}updateTitle(e){let n=this.buildTitle(e);n!==void 0&&this.title.setTitle(n)}static{this.\u0275fac=function(n){return new(n||i)(me(T5))}}static{this.\u0275prov=xe({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})(),qg=new ge("",{providedIn:"root",factory:()=>({})}),ix=new ge(""),yD=(()=>{class i{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=be(ay)}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return dt(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);let n=ed(e.loadComponent()).pipe(St(cH),Pn(o=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=o}),Ol(()=>{this.componentLoaders.delete(e)})),r=new Dl(n,()=>new Fe).pipe(Qh());return this.componentLoaders.set(e,r),r}loadChildren(e,n){if(this.childrenLoaders.get(n))return this.childrenLoaders.get(n);if(n._loadedRoutes)return dt({routes:n._loadedRoutes,injector:n._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(n);let o=Lae(n,this.compiler,e,this.onLoadEndListener).pipe(Ol(()=>{this.childrenLoaders.delete(n)})),s=new Dl(o,()=>new Fe).pipe(Qh());return this.childrenLoaders.set(n,s),s}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275prov=xe({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();function Lae(i,t,e,n){return ed(i.loadChildren()).pipe(St(cH),jn(r=>r instanceof Kf||Array.isArray(r)?dt(r):cn(t.compileModuleAsync(r))),St(r=>{n&&n(i);let o,s,a=!1;return Array.isArray(r)?(s=r,a=!0):(o=r.create(e).injector,s=o.get(ix,[],{optional:!0,self:!0}).flat()),{routes:s.map(bD),injector:o}}))}function Bae(i){return i&&typeof i=="object"&&"default"in i}function cH(i){return Bae(i)?i.default:i}var xD=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275prov=xe({token:i,factory:()=>be(Vae),providedIn:"root"})}}return i})(),Vae=(()=>{class i{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,n){return e}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275prov=xe({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})(),lH=new ge(""),dH=new ge("");function Uae(i,t,e){let n=i.get(dH),r=i.get(It);return i.get(Ne).runOutsideAngular(()=>{if(!r.startViewTransition||n.skipNextTransition)return n.skipNextTransition=!1,new Promise(l=>setTimeout(l));let o,s=new Promise(l=>{o=l}),a=r.startViewTransition(()=>(o(),zae(i))),{onViewTransitionCreated:c}=n;return c&&Rc(i,()=>c({transition:a,from:t,to:e})),s})}function zae(i){return new Promise(t=>{ey(t,{injector:i})})}var wD=(()=>{class i{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Fe,this.transitionAbortSubject=new Fe,this.configLoader=be(yD),this.environmentInjector=be(yo),this.urlSerializer=be(jg),this.rootContexts=be($g),this.location=be(Gl),this.inputBindingEnabled=be(rx,{optional:!0})!==null,this.titleStrategy=be(aH),this.options=be(qg,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=be(xD),this.createViewTransition=be(lH,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>dt(void 0),this.rootComponentType=null;let e=r=>this.events.next(new JI(r)),n=r=>this.events.next(new eD(r));this.configLoader.onLoadEndListener=n,this.configLoader.onLoadStartListener=e}complete(){this.transitions?.complete()}handleNavigationRequest(e){let n=++this.navigationId;this.transitions?.next(mi(ye(ye({},this.transitions.value),e),{id:n}))}setupNavigations(e,n,r){return this.transitions=new Pi({id:0,currentUrlTree:n,currentRawUrl:n,extractedUrl:this.urlHandlingStrategy.extract(n),urlAfterRedirects:this.urlHandlingStrategy.extract(n),rawUrl:n,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Pg,restoredState:null,currentSnapshot:r.snapshot,targetSnapshot:null,currentRouterState:r,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(ki(o=>o.id!==0),St(o=>mi(ye({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),Kn(o=>{let s=!1,a=!1;return dt(o).pipe(Kn(c=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",us.SupersededByNewNavigation),Zn;this.currentTransition=o,this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?mi(ye({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let l=!e.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),d=c.extras.onSameUrlNavigation??e.onSameUrlNavigation;if(!l&&d!=="reload"){let u="";return this.events.next(new Jl(c.id,this.urlSerializer.serialize(c.rawUrl),u,Xy.IgnoredSameUrlNavigation)),c.resolve(null),Zn}if(this.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return dt(c).pipe(Kn(u=>{let h=this.transitions?.getValue();return this.events.next(new Vm(u.id,this.urlSerializer.serialize(u.extractedUrl),u.source,u.restoredState)),h!==this.transitions?.getValue()?Zn:Promise.resolve(u)}),Aae(this.environmentInjector,this.configLoader,this.rootComponentType,e.config,this.urlSerializer,this.paramsInheritanceStrategy),Pn(u=>{o.targetSnapshot=u.targetSnapshot,o.urlAfterRedirects=u.urlAfterRedirects,this.currentNavigation=mi(ye({},this.currentNavigation),{finalUrl:u.urlAfterRedirects});let h=new Yy(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(h)}));if(l&&this.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){let{id:u,extractedUrl:h,source:m,restoredState:p,extras:_}=c,f=new Vm(u,this.urlSerializer.serialize(h),m,p);this.events.next(f);let g=Z5(this.rootComponentType).snapshot;return this.currentTransition=o=mi(ye({},c),{targetSnapshot:g,urlAfterRedirects:h,extras:mi(ye({},_),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=h,dt(o)}else{let u="";return this.events.next(new Jl(c.id,this.urlSerializer.serialize(c.extractedUrl),u,Xy.IgnoredByUrlHandlingStrategy)),c.resolve(null),Zn}}),Pn(c=>{let l=new YI(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(l)}),St(c=>(this.currentTransition=o=mi(ye({},c),{guards:Yse(c.targetSnapshot,c.currentSnapshot,this.rootContexts)}),o)),oae(this.environmentInjector,c=>this.events.next(c)),Pn(c=>{if(o.guardsResult=c.guardsResult,Bm(c.guardsResult))throw eH(this.urlSerializer,c.guardsResult);let l=new ZI(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(l)}),ki(c=>c.guardsResult?!0:(this.cancelNavigationTransition(c,"",us.GuardRejected),!1)),jI(c=>{if(c.guards.canActivateChecks.length)return dt(c).pipe(Pn(l=>{let d=new KI(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}),Kn(l=>{let d=!1;return dt(l).pipe(Pae(this.paramsInheritanceStrategy,this.environmentInjector),Pn({next:()=>d=!0,complete:()=>{d||this.cancelNavigationTransition(l,"",us.NoDataFromResolver)}}))}),Pn(l=>{let d=new QI(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}))}),jI(c=>{let l=d=>{let u=[];d.routeConfig?.loadComponent&&!d.routeConfig._loadedComponent&&u.push(this.configLoader.loadComponent(d.routeConfig).pipe(Pn(h=>{d.component=h}),St(()=>{})));for(let h of d.children)u.push(...l(h));return u};return du(l(c.targetSnapshot.root)).pipe(Rl(null),nn(1))}),jI(()=>this.afterPreactivation()),Kn(()=>{let{currentSnapshot:c,targetSnapshot:l}=o,d=this.createViewTransition?.(this.environmentInjector,c.root,l.root);return d?cn(d).pipe(St(()=>o)):dt(o)}),St(c=>{let l=zse(e.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=o=mi(ye({},c),{targetRouterState:l}),this.currentNavigation.targetRouterState=l,o}),Pn(()=>{this.events.next(new Lg)}),Xse(this.rootContexts,e.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),nn(1),Pn({next:c=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new $c(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),this.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{s=!0}}),Pt(this.transitionAbortSubject.pipe(Pn(c=>{throw c}))),Ol(()=>{!s&&!a&&this.cancelNavigationTransition(o,"",us.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),Na(c=>{if(a=!0,iH(c))this.events.next(new Ql(o.id,this.urlSerializer.serialize(o.extractedUrl),c.message,c.cancellationCode)),$se(c)?this.events.next(new Bg(c.url)):o.resolve(!1);else{this.events.next(new Fg(o.id,this.urlSerializer.serialize(o.extractedUrl),c,o.targetSnapshot??void 0));try{o.resolve(e.errorHandler(c))}catch(l){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(l)}}return Zn}))}))}cancelNavigationTransition(e,n,r){let o=new Ql(e.id,this.urlSerializer.serialize(e.extractedUrl),n,r);this.events.next(o),e.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275prov=xe({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();function Hae(i){return i!==Pg}var jae=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275prov=xe({token:i,factory:()=>be($ae),providedIn:"root"})}}return i})(),fD=class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}},$ae=(()=>{class i extends fD{static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=Xi(i)))(r||i)}})()}static{this.\u0275prov=xe({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})(),uH=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275prov=xe({token:i,factory:()=>be(Gae),providedIn:"root"})}}return i})(),Gae=(()=>{class i extends uH{constructor(){super(...arguments),this.location=be(Gl),this.urlSerializer=be(jg),this.options=be(qg,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=be(xD),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Kl,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=Z5(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(e){return this.location.subscribe(n=>{n.type==="popstate"&&e(n.url,n.state)})}handleRouterEvent(e,n){if(e instanceof Vm)this.stateMemento=this.createStateMemento();else if(e instanceof Jl)this.rawUrlTree=n.initialUrl;else if(e instanceof Yy){if(this.urlUpdateStrategy==="eager"&&!n.extras.skipLocationChange){let r=this.urlHandlingStrategy.merge(n.finalUrl,n.initialUrl);this.setBrowserUrl(r,n)}}else e instanceof Lg?(this.currentUrlTree=n.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(n.finalUrl,n.initialUrl),this.routerState=n.targetRouterState,this.urlUpdateStrategy==="deferred"&&(n.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,n))):e instanceof Ql&&(e.code===us.GuardRejected||e.code===us.NoDataFromResolver)?this.restoreHistory(n):e instanceof Fg?this.restoreHistory(n,!0):e instanceof $c&&(this.lastSuccessfulId=e.id,this.currentPageId=this.browserPageId)}setBrowserUrl(e,n){let r=this.urlSerializer.serialize(e);if(this.location.isCurrentPathEqualTo(r)||n.extras.replaceUrl){let o=this.browserPageId,s=ye(ye({},n.extras.state),this.generateNgRouterState(n.id,o));this.location.replaceState(r,"",s)}else{let o=ye(ye({},n.extras.state),this.generateNgRouterState(n.id,this.browserPageId+1));this.location.go(r,"",o)}}restoreHistory(e,n=!1){if(this.canceledNavigationResolution==="computed"){let r=this.browserPageId,o=this.currentPageId-r;o!==0?this.location.historyGo(o):this.currentUrlTree===e.finalUrl&&o===0&&(this.resetState(e),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(n&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,n){return this.canceledNavigationResolution==="computed"?{navigationId:e,\u0275routerPageId:n}:{navigationId:e}}static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=Xi(i)))(r||i)}})()}static{this.\u0275prov=xe({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})(),kg=function(i){return i[i.COMPLETE=0]="COMPLETE",i[i.FAILED=1]="FAILED",i[i.REDIRECTING=2]="REDIRECTING",i}(kg||{});function hH(i,t){i.events.pipe(ki(e=>e instanceof $c||e instanceof Ql||e instanceof Fg||e instanceof Jl),St(e=>e instanceof $c||e instanceof Jl?kg.COMPLETE:(e instanceof Ql?e.code===us.Redirect||e.code===us.SupersededByNewNavigation:!1)?kg.REDIRECTING:kg.FAILED),ki(e=>e!==kg.REDIRECTING),nn(1)).subscribe(()=>{t()})}function Wae(i){throw i}var qae={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Xae={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Gc=(()=>{class i{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=be(ny),this.stateManager=be(uH),this.options=be(qg,{optional:!0})||{},this.pendingTasks=be(ag),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=be(wD),this.urlSerializer=be(jg),this.location=be(Gl),this.urlHandlingStrategy=be(xD),this._events=new Fe,this.errorHandler=this.options.errorHandler||Wae,this.navigated=!1,this.routeReuseStrategy=be(jae),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=be(ix,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!be(rx,{optional:!0}),this.eventsSubscription=new qt,this.isNgZoneEnabled=be(Ne)instanceof Ne&&Ne.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:e=>{this.console.warn(e)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let e=this.navigationTransitions.events.subscribe(n=>{try{let r=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(r!==null&&o!==null){if(this.stateManager.handleRouterEvent(n,o),n instanceof Ql&&n.code!==us.Redirect&&n.code!==us.SupersededByNewNavigation)this.navigated=!0;else if(n instanceof $c)this.navigated=!0;else if(n instanceof Bg){let s=this.urlHandlingStrategy.merge(n.url,r.currentRawUrl),a={info:r.extras.info,skipLocationChange:r.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||Hae(r.source)};this.scheduleNavigation(s,Pg,null,a,{resolve:r.resolve,reject:r.reject,promise:r.promise})}}Zae(n)&&this._events.next(n)}catch(r){this.navigationTransitions.transitionAbortSubject.next(r)}});this.eventsSubscription.add(e)}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Pg,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((e,n)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(e,"popstate",n)},0)})}navigateToSyncWithBrowser(e,n,r){let o={replaceUrl:!0},s=r?.navigationId?r:null;if(r){let c=ye({},r);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(o.state=c)}let a=this.parseUrl(e);this.scheduleNavigation(a,n,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(e){this.config=e.map(bD),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(e,n={}){let{relativeTo:r,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:c}=n,l=c?this.currentUrlTree.fragment:s,d=null;switch(a){case"merge":d=ye(ye({},this.currentUrlTree.queryParams),o);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=o||null}d!==null&&(d=this.removeEmptyProps(d));let u;try{let h=r?r.snapshot:this.routerState.snapshot.root;u=W5(h)}catch{(typeof e[0]!="string"||!e[0].startsWith("/"))&&(e=[]),u=this.currentUrlTree.root}return q5(u,e,d,l??null)}navigateByUrl(e,n={skipLocationChange:!1}){let r=Bm(e)?e:this.parseUrl(e),o=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(o,Pg,null,n)}navigate(e,n={skipLocationChange:!1}){return Yae(e),this.navigateByUrl(this.createUrlTree(e,n),n)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){try{return this.urlSerializer.parse(e)}catch{return this.urlSerializer.parse("/")}}isActive(e,n){let r;if(n===!0?r=ye({},qae):n===!1?r=ye({},Xae):r=n,Bm(e))return I5(this.currentUrlTree,e,r);let o=this.parseUrl(e);return I5(this.currentUrlTree,o,r)}removeEmptyProps(e){return Object.entries(e).reduce((n,[r,o])=>(o!=null&&(n[r]=o),n),{})}scheduleNavigation(e,n,r,o,s){if(this.disposed)return Promise.resolve(!1);let a,c,l;s?(a=s.resolve,c=s.reject,l=s.promise):l=new Promise((u,h)=>{a=u,c=h});let d=this.pendingTasks.add();return hH(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:n,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:e,extras:o,resolve:a,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(u=>Promise.reject(u))}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275prov=xe({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();function Yae(i){for(let t=0;t<i.length;t++)if(i[t]==null)throw new mt(4008,!1)}function Zae(i){return!(i instanceof Lg)&&!(i instanceof Bg)}var nx=class{};var Kae=(()=>{class i{constructor(e,n,r,o,s){this.router=e,this.injector=r,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(ki(e=>e instanceof $c),Tc(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,n){let r=[];for(let o of n){o.providers&&!o._injector&&(o._injector=iy(o.providers,e,`Route: ${o.path}`));let s=o._injector??e,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&r.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&r.push(this.processRoutes(a,o.children??o._loadedRoutes))}return cn(r).pipe(Al())}preloadConfig(e,n){return this.preloadingStrategy.preload(n,()=>{let r;n.loadChildren&&n.canLoad===void 0?r=this.loader.loadChildren(e,n):r=dt(null);let o=r.pipe(jn(s=>s===null?dt(void 0):(n._loadedRoutes=s.routes,n._loadedInjector=s.injector,this.processRoutes(s.injector??e,s.routes))));if(n.loadComponent&&!n._loadedComponent){let s=this.loader.loadComponent(n);return cn([o,s]).pipe(Al())}else return o})}static{this.\u0275fac=function(n){return new(n||i)(me(Gc),me(ay),me(yo),me(nx),me(yD))}}static{this.\u0275prov=xe({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})(),mH=new ge(""),Qae=(()=>{class i{constructor(e,n,r,o,s={}){this.urlSerializer=e,this.transitions=n,this.viewportScroller=r,this.zone=o,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},this.environmentInjector=be(yo),s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof Vm?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof $c?(this.lastId=e.id,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.urlAfterRedirects).fragment)):e instanceof Jl&&e.code===Xy.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof Zy&&(e.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(e.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,n){this.zone.runOutsideAngular(()=>te(this,null,function*(){yield new Promise(r=>{setTimeout(()=>{r()}),ey(()=>{r()},{injector:this.environmentInjector})}),this.zone.run(()=>{this.transitions.events.next(new Zy(e,this.lastSource==="popstate"?this.store[this.restoredId]:null,n))})}))}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(n){qv()}}static{this.\u0275prov=xe({token:i,factory:i.\u0275fac})}}return i})();function Jae(i){return i.routerState.root}function Xg(i,t){return{\u0275kind:i,\u0275providers:t}}function ece(){let i=be(Jn);return t=>{let e=i.get($l);if(t!==e.components[0])return;let n=i.get(Gc),r=i.get(pH);i.get(MD)===1&&n.initialNavigation(),i.get(fH,null,Ci.Optional)?.setUpPreloading(),i.get(mH,null,Ci.Optional)?.init(),n.resetRootComponentType(e.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}var pH=new ge("",{factory:()=>new Fe}),MD=new ge("",{providedIn:"root",factory:()=>1});function tce(){return Xg(2,[{provide:MD,useValue:0},{provide:sy,multi:!0,deps:[Jn],useFactory:t=>{let e=t.get(pz,Promise.resolve());return()=>e.then(()=>new Promise(n=>{let r=t.get(Gc),o=t.get(pH);hH(r,()=>{n(!0)}),t.get(wD).afterPreactivation=()=>(n(!0),o.closed?dt(void 0):o),r.initialNavigation()}))}}])}function ice(){return Xg(3,[{provide:sy,multi:!0,useFactory:()=>{let t=be(Gc);return()=>{t.setUpLocationChangeListener()}}},{provide:MD,useValue:2}])}var fH=new ge("");function nce(i){return Xg(0,[{provide:fH,useExisting:Kae},{provide:nx,useExisting:i}])}function rce(){return Xg(8,[P5,{provide:rx,useExisting:P5}])}function oce(i){let t=[{provide:lH,useValue:Uae},{provide:dH,useValue:ye({skipNextTransition:!!i?.skipInitialTransition},i)}];return Xg(9,t)}var N5=new ge("ROUTER_FORROOT_GUARD"),sce=[Gl,{provide:jg,useClass:Ng},Gc,$g,{provide:Um,useFactory:Jae,deps:[Gc]},yD,[]],CD=(()=>{class i{constructor(e){}static forRoot(e,n){return{ngModule:i,providers:[sce,[],{provide:ix,multi:!0,useValue:e},{provide:N5,useFactory:dce,deps:[[Gc,new Cu,new vm]]},{provide:qg,useValue:n||{}},n?.useHash?cce():lce(),ace(),n?.preloadingStrategy?nce(n.preloadingStrategy).\u0275providers:[],n?.initialNavigation?uce(n):[],n?.bindToComponentInputs?rce().\u0275providers:[],n?.enableViewTransitions?oce().\u0275providers:[],hce()]}}static forChild(e){return{ngModule:i,providers:[{provide:ix,multi:!0,useValue:e}]}}static{this.\u0275fac=function(n){return new(n||i)(me(N5,8))}}static{this.\u0275mod=$e({type:i})}static{this.\u0275inj=je({})}}return i})();function ace(){return{provide:mH,useFactory:()=>{let i=be(Sz),t=be(Ne),e=be(qg),n=be(wD),r=be(jg);return e.scrollOffset&&i.setOffset(e.scrollOffset),new Qae(r,n,i,t,e)}}}function cce(){return{provide:Iu,useClass:gz}}function lce(){return{provide:Iu,useClass:hI}}function dce(i){return"guarded"}function uce(i){return[i.initialNavigation==="disabled"?ice().\u0275providers:[],i.initialNavigation==="enabledBlocking"?tce().\u0275providers:[]]}var O5=new ge("");function hce(){return[{provide:O5,useFactory:ece},{provide:KT,multi:!0,useExisting:O5}]}var ED;try{ED=typeof Intl<"u"&&Intl.v8BreakIterator}catch{ED=!1}var ri=(()=>{class i{constructor(e){this._platformId=e,this.isBrowser=this._platformId?pI(this._platformId):typeof document=="object"&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!!(window.chrome||ED)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static{this.\u0275fac=function(n){return new(n||i)(me(Ha))}}static{this.\u0275prov=xe({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();var jm,gH=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function TD(){if(jm)return jm;if(typeof document!="object"||!document)return jm=new Set(gH),jm;let i=document.createElement("input");return jm=new Set(gH.filter(t=>(i.setAttribute("type",t),i.type===t))),jm}var Yg;function pce(){if(Yg==null&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Yg=!0}))}finally{Yg=Yg||!1}return Yg}function As(i){return pce()?i:!!i.capture}var na=function(i){return i[i.NORMAL=0]="NORMAL",i[i.NEGATED=1]="NEGATED",i[i.INVERTED=2]="INVERTED",i}(na||{}),sx,Ou;function ax(){if(Ou==null){if(typeof document!="object"||!document||typeof Element!="function"||!Element)return Ou=!1,Ou;if("scrollBehavior"in document.documentElement.style)Ou=!0;else{let i=Element.prototype.scrollTo;i?Ou=!/\{\s*\[native code\]\s*\}/.test(i.toString()):Ou=!1}}return Ou}function $m(){if(typeof document!="object"||!document)return na.NORMAL;if(sx==null){let i=document.createElement("div"),t=i.style;i.dir="rtl",t.width="1px",t.overflow="auto",t.visibility="hidden",t.pointerEvents="none",t.position="absolute";let e=document.createElement("div"),n=e.style;n.width="2px",n.height="1px",i.appendChild(e),document.body.appendChild(i),sx=na.NORMAL,i.scrollLeft===0&&(i.scrollLeft=1,sx=i.scrollLeft===0?na.NEGATED:na.INVERTED),i.remove()}return sx}var SD;function fce(){if(SD==null){let i=typeof document<"u"?document.head:null;SD=!!(i&&(i.createShadowRoot||i.attachShadow))}return SD}function _H(i){if(fce()){let t=i.getRootNode?i.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}function Ps(i){return i.composedPath?i.composedPath()[0]:i.target}function Zg(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}function Eo(i,...t){return t.length?t.some(e=>i[e]):i.altKey||i.shiftKey||i.ctrlKey||i.metaKey}function Qr(i){return i!=null&&`${i}`!="false"}function Za(i,t=0){return gce(i)?Number(i):t}function gce(i){return!isNaN(parseFloat(i))&&!isNaN(Number(i))}function Gm(i){return Array.isArray(i)?i:[i]}function er(i){return i==null?"":typeof i=="string"?i:`${i}px`}function Ho(i){return i instanceof Oe?i.nativeElement:i}function _ce(i){if(i.type==="characterData"&&i.target instanceof Comment)return!0;if(i.type==="childList"){for(let t=0;t<i.addedNodes.length;t++)if(!(i.addedNodes[t]instanceof Comment))return!1;for(let t=0;t<i.removedNodes.length;t++)if(!(i.removedNodes[t]instanceof Comment))return!1;return!0}return!1}var bH=(()=>{class i{create(e){return typeof MutationObserver>"u"?null:new MutationObserver(e)}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275prov=xe({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})(),bce=(()=>{class i{constructor(e){this._mutationObserverFactory=e,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((e,n)=>this._cleanupObserver(n))}observe(e){let n=Ho(e);return new jt(r=>{let s=this._observeElement(n).pipe(St(a=>a.filter(c=>!_ce(c))),ki(a=>!!a.length)).subscribe(r);return()=>{s.unsubscribe(),this._unobserveElement(n)}})}_observeElement(e){if(this._observedElements.has(e))this._observedElements.get(e).count++;else{let n=new Fe,r=this._mutationObserverFactory.create(o=>n.next(o));r&&r.observe(e,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(e,{observer:r,stream:n,count:1})}return this._observedElements.get(e).stream}_unobserveElement(e){this._observedElements.has(e)&&(this._observedElements.get(e).count--,this._observedElements.get(e).count||this._cleanupObserver(e))}_cleanupObserver(e){if(this._observedElements.has(e)){let{observer:n,stream:r}=this._observedElements.get(e);n&&n.disconnect(),r.complete(),this._observedElements.delete(e)}}static{this.\u0275fac=function(n){return new(n||i)(me(bH))}}static{this.\u0275prov=xe({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})(),cx=(()=>{class i{get disabled(){return this._disabled}set disabled(e){this._disabled=e,this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(e){this._debounce=Za(e),this._subscribe()}constructor(e,n,r){this._contentObserver=e,this._elementRef=n,this._ngZone=r,this.event=new Qe,this._disabled=!1,this._currentSubscription=null}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();let e=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?e.pipe(uu(this.debounce)):e).subscribe(this.event)})}_unsubscribe(){this._currentSubscription?.unsubscribe()}static{this.\u0275fac=function(n){return new(n||i)(O(bce),O(Oe),O(Ne))}}static{this.\u0275dir=we({type:i,selectors:[["","cdkObserveContent",""]],inputs:{disabled:[J.HasDecoratorInputTransform,"cdkObserveContentDisabled","disabled",Je],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"],standalone:!0,features:[Bt]})}}return i})(),Wm=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275mod=$e({type:i})}static{this.\u0275inj=je({providers:[bH]})}}return i})();var vH=new Set,Fu,vce=(()=>{class i{constructor(e,n){this._platform=e,this._nonce=n,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):xce}matchMedia(e){return(this._platform.WEBKIT||this._platform.BLINK)&&yce(e,this._nonce),this._matchMedia(e)}static{this.\u0275fac=function(n){return new(n||i)(me(ri),me(og,8))}}static{this.\u0275prov=xe({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();function yce(i,t){if(!vH.has(i))try{Fu||(Fu=document.createElement("style"),t&&Fu.setAttribute("nonce",t),Fu.setAttribute("type","text/css"),document.head.appendChild(Fu)),Fu.sheet&&(Fu.sheet.insertRule(`@media ${i} {body{ }}`,0),vH.add(i))}catch(e){console.error(e)}}function xce(i){return{matches:i==="all"||i==="",media:i,addListener:()=>{},removeListener:()=>{}}}var lx=(()=>{class i{constructor(e,n){this._mediaMatcher=e,this._zone=n,this._queries=new Map,this._destroySubject=new Fe}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(e){return yH(Gm(e)).some(r=>this._registerQuery(r).mql.matches)}observe(e){let r=yH(Gm(e)).map(s=>this._registerQuery(s).observable),o=du(r);return o=Pl(o.pipe(nn(1)),o.pipe(hu(1),uu(0))),o.pipe(St(s=>{let a={matches:!1,breakpoints:{}};return s.forEach(({matches:c,query:l})=>{a.matches=a.matches||c,a.breakpoints[l]=c}),a}))}_registerQuery(e){if(this._queries.has(e))return this._queries.get(e);let n=this._mediaMatcher.matchMedia(e),o={observable:new jt(s=>{let a=c=>this._zone.run(()=>s.next(c));return n.addListener(a),()=>{n.removeListener(a)}}).pipe(or(n),St(({matches:s})=>({query:e,matches:s})),Pt(this._destroySubject)),mql:n};return this._queries.set(e,o),o}static{this.\u0275fac=function(n){return new(n||i)(me(vce),me(Ne))}}static{this.\u0275prov=xe({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();function yH(i){return i.map(t=>t.split(",")).reduce((t,e)=>t.concat(e)).map(t=>t.trim())}var xH={XSmall:"(max-width: 599.98px)",Small:"(min-width: 600px) and (max-width: 959.98px)",Medium:"(min-width: 960px) and (max-width: 1279.98px)",Large:"(min-width: 1280px) and (max-width: 1919.98px)",XLarge:"(min-width: 1920px)",Handset:"(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)",Tablet:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait), (min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",Web:"(min-width: 840px) and (orientation: portrait), (min-width: 1280px) and (orientation: landscape)",HandsetPortrait:"(max-width: 599.98px) and (orientation: portrait)",TabletPortrait:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait)",WebPortrait:"(min-width: 840px) and (orientation: portrait)",HandsetLandscape:"(max-width: 959.98px) and (orientation: landscape)",TabletLandscape:"(min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",WebLandscape:"(min-width: 1280px) and (orientation: landscape)"};var SH=" ";function ND(i,t,e){let n=mx(i,t);e=e.trim(),!n.some(r=>r.trim()===e)&&(n.push(e),i.setAttribute(t,n.join(SH)))}function bx(i,t,e){let n=mx(i,t);e=e.trim();let r=n.filter(o=>o!==e);r.length?i.setAttribute(t,r.join(SH)):i.removeAttribute(t)}function mx(i,t){return i.getAttribute(t)?.match(/\S+/g)??[]}var EH="cdk-describedby-message",dx="cdk-describedby-host",kD=0,TH=(()=>{class i{constructor(e,n){this._platform=n,this._messageRegistry=new Map,this._messagesContainer=null,this._id=`${kD++}`,this._document=e,this._id=be(wm)+"-"+kD++}describe(e,n,r){if(!this._canBeDescribed(e,n))return;let o=ID(n,r);typeof n!="string"?(wH(n,this._id),this._messageRegistry.set(o,{messageElement:n,referenceCount:0})):this._messageRegistry.has(o)||this._createMessageElement(n,r),this._isElementDescribedByMessage(e,o)||this._addMessageReference(e,o)}removeDescription(e,n,r){if(!n||!this._isElementNode(e))return;let o=ID(n,r);if(this._isElementDescribedByMessage(e,o)&&this._removeMessageReference(e,o),typeof n=="string"){let s=this._messageRegistry.get(o);s&&s.referenceCount===0&&this._deleteMessageElement(o)}this._messagesContainer?.childNodes.length===0&&(this._messagesContainer.remove(),this._messagesContainer=null)}ngOnDestroy(){let e=this._document.querySelectorAll(`[${dx}="${this._id}"]`);for(let n=0;n<e.length;n++)this._removeCdkDescribedByReferenceIds(e[n]),e[n].removeAttribute(dx);this._messagesContainer?.remove(),this._messagesContainer=null,this._messageRegistry.clear()}_createMessageElement(e,n){let r=this._document.createElement("div");wH(r,this._id),r.textContent=e,n&&r.setAttribute("role",n),this._createMessagesContainer(),this._messagesContainer.appendChild(r),this._messageRegistry.set(ID(e,n),{messageElement:r,referenceCount:0})}_deleteMessageElement(e){this._messageRegistry.get(e)?.messageElement?.remove(),this._messageRegistry.delete(e)}_createMessagesContainer(){if(this._messagesContainer)return;let e="cdk-describedby-message-container",n=this._document.querySelectorAll(`.${e}[platform="server"]`);for(let o=0;o<n.length;o++)n[o].remove();let r=this._document.createElement("div");r.style.visibility="hidden",r.classList.add(e),r.classList.add("cdk-visually-hidden"),this._platform&&!this._platform.isBrowser&&r.setAttribute("platform","server"),this._document.body.appendChild(r),this._messagesContainer=r}_removeCdkDescribedByReferenceIds(e){let n=mx(e,"aria-describedby").filter(r=>r.indexOf(EH)!=0);e.setAttribute("aria-describedby",n.join(" "))}_addMessageReference(e,n){let r=this._messageRegistry.get(n);ND(e,"aria-describedby",r.messageElement.id),e.setAttribute(dx,this._id),r.referenceCount++}_removeMessageReference(e,n){let r=this._messageRegistry.get(n);r.referenceCount--,bx(e,"aria-describedby",r.messageElement.id),e.removeAttribute(dx)}_isElementDescribedByMessage(e,n){let r=mx(e,"aria-describedby"),o=this._messageRegistry.get(n),s=o&&o.messageElement.id;return!!s&&r.indexOf(s)!=-1}_canBeDescribed(e,n){if(!this._isElementNode(e))return!1;if(n&&typeof n=="object")return!0;let r=n==null?"":`${n}`.trim(),o=e.getAttribute("aria-label");return r?!o||o.trim()!==r:!1}_isElementNode(e){return e.nodeType===this._document.ELEMENT_NODE}static{this.\u0275fac=function(n){return new(n||i)(me(It),me(ri))}}static{this.\u0275prov=xe({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();function ID(i,t){return typeof i=="string"?`${t||""}/${i}`:i}function wH(i,t){i.id||(i.id=`${EH}-${t}-${kD++}`)}var px=class{constructor(t,e){this._items=t,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new Fe,this._typeaheadSubscription=qt.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._pageUpAndDown={enabled:!1,delta:10},this._skipPredicateFn=n=>n.disabled,this._pressedLetters=[],this.tabOut=new Fe,this.change=new Fe,t instanceof Ss?this._itemChangesSubscription=t.changes.subscribe(n=>this._itemsChanged(n.toArray())):ty(t)&&(this._effectRef=JT(()=>this._itemsChanged(t()),{injector:e}))}skipPredicate(t){return this._skipPredicateFn=t,this}withWrap(t=!0){return this._wrap=t,this}withVerticalOrientation(t=!0){return this._vertical=t,this}withHorizontalOrientation(t){return this._horizontal=t,this}withAllowedModifierKeys(t){return this._allowedModifierKeys=t,this}withTypeAhead(t=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe(Pn(e=>this._pressedLetters.push(e)),uu(t),ki(()=>this._pressedLetters.length>0),St(()=>this._pressedLetters.join(""))).subscribe(e=>{let n=this._getItemsArray();for(let r=1;r<n.length+1;r++){let o=(this._activeItemIndex+r)%n.length,s=n[o];if(!this._skipPredicateFn(s)&&s.getLabel().toUpperCase().trim().indexOf(e)===0){this.setActiveItem(o);break}}this._pressedLetters=[]}),this}cancelTypeahead(){return this._pressedLetters=[],this}withHomeAndEnd(t=!0){return this._homeAndEnd=t,this}withPageUpDown(t=!0,e=10){return this._pageUpAndDown={enabled:t,delta:e},this}setActiveItem(t){let e=this._activeItem;this.updateActiveItem(t),this._activeItem!==e&&this.change.next(this._activeItemIndex)}onKeydown(t){let e=t.keyCode,r=["altKey","ctrlKey","metaKey","shiftKey"].every(o=>!t[o]||this._allowedModifierKeys.indexOf(o)>-1);switch(e){case 9:this.tabOut.next();return;case 40:if(this._vertical&&r){this.setNextItemActive();break}else return;case 38:if(this._vertical&&r){this.setPreviousItemActive();break}else return;case 39:if(this._horizontal&&r){this._horizontal==="rtl"?this.setPreviousItemActive():this.setNextItemActive();break}else return;case 37:if(this._horizontal&&r){this._horizontal==="rtl"?this.setNextItemActive():this.setPreviousItemActive();break}else return;case 36:if(this._homeAndEnd&&r){this.setFirstItemActive();break}else return;case 35:if(this._homeAndEnd&&r){this.setLastItemActive();break}else return;case 33:if(this._pageUpAndDown.enabled&&r){let o=this._activeItemIndex-this._pageUpAndDown.delta;this._setActiveItemByIndex(o>0?o:0,1);break}else return;case 34:if(this._pageUpAndDown.enabled&&r){let o=this._activeItemIndex+this._pageUpAndDown.delta,s=this._getItemsArray().length;this._setActiveItemByIndex(o<s?o:s-1,-1);break}else return;default:(r||Eo(t,"shiftKey"))&&(t.key&&t.key.length===1?this._letterKeyStream.next(t.key.toLocaleUpperCase()):(e>=65&&e<=90||e>=48&&e<=57)&&this._letterKeyStream.next(String.fromCharCode(e)));return}this._pressedLetters=[],t.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._getItemsArray().length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(t){let e=this._getItemsArray(),n=typeof t=="number"?t:e.indexOf(t),r=e[n];this._activeItem=r??null,this._activeItemIndex=n}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._effectRef?.destroy(),this._letterKeyStream.complete(),this.tabOut.complete(),this.change.complete(),this._pressedLetters=[]}_setActiveItemByDelta(t){this._wrap?this._setActiveInWrapMode(t):this._setActiveInDefaultMode(t)}_setActiveInWrapMode(t){let e=this._getItemsArray();for(let n=1;n<=e.length;n++){let r=(this._activeItemIndex+t*n+e.length)%e.length,o=e[r];if(!this._skipPredicateFn(o)){this.setActiveItem(r);return}}}_setActiveInDefaultMode(t){this._setActiveItemByIndex(this._activeItemIndex+t,t)}_setActiveItemByIndex(t,e){let n=this._getItemsArray();if(n[t]){for(;this._skipPredicateFn(n[t]);)if(t+=e,!n[t])return;this.setActiveItem(t)}}_getItemsArray(){return ty(this._items)?this._items():this._items instanceof Ss?this._items.toArray():this._items}_itemsChanged(t){if(this._activeItem){let e=t.indexOf(this._activeItem);e>-1&&e!==this._activeItemIndex&&(this._activeItemIndex=e)}}},fx=class extends px{setActiveItem(t){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(t),this.activeItem&&this.activeItem.setActiveStyles()}},td=class extends px{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(t){return this._origin=t,this}setActiveItem(t){super.setActiveItem(t),this.activeItem&&this.activeItem.focus(this._origin)}};function OD(i){return i.buttons===0||i.detail===0}function FD(i){let t=i.touches&&i.touches[0]||i.changedTouches&&i.changedTouches[0];return!!t&&t.identifier===-1&&(t.radiusX==null||t.radiusX===1)&&(t.radiusY==null||t.radiusY===1)}var Fce=new ge("cdk-input-modality-detector-options"),Lce={ignoreKeys:[18,17,224,91,16]},IH=650,qm=As({passive:!0,capture:!0}),Bce=(()=>{class i{get mostRecentModality(){return this._modality.value}constructor(e,n,r,o){this._platform=e,this._mostRecentTarget=null,this._modality=new Pi(null),this._lastTouchMs=0,this._onKeydown=s=>{this._options?.ignoreKeys?.some(a=>a===s.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=Ps(s))},this._onMousedown=s=>{Date.now()-this._lastTouchMs<IH||(this._modality.next(OD(s)?"keyboard":"mouse"),this._mostRecentTarget=Ps(s))},this._onTouchstart=s=>{if(FD(s)){this._modality.next("keyboard");return}this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Ps(s)},this._options=ye(ye({},Lce),o),this.modalityDetected=this._modality.pipe(hu(1)),this.modalityChanged=this.modalityDetected.pipe(Nl()),e.isBrowser&&n.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,qm),r.addEventListener("mousedown",this._onMousedown,qm),r.addEventListener("touchstart",this._onTouchstart,qm)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,qm),document.removeEventListener("mousedown",this._onMousedown,qm),document.removeEventListener("touchstart",this._onTouchstart,qm))}static{this.\u0275fac=function(n){return new(n||i)(me(ri),me(Ne),me(It),me(Fce,8))}}static{this.\u0275prov=xe({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})(),Vce=new ge("liveAnnouncerElement",{providedIn:"root",factory:Uce});function Uce(){return null}var zce=new ge("LIVE_ANNOUNCER_DEFAULT_OPTIONS"),Hce=0,vx=(()=>{class i{constructor(e,n,r,o){this._ngZone=n,this._defaultOptions=o,this._document=r,this._liveElement=e||this._createLiveElement()}announce(e,...n){let r=this._defaultOptions,o,s;return n.length===1&&typeof n[0]=="number"?s=n[0]:[o,s]=n,this.clear(),clearTimeout(this._previousTimeout),o||(o=r&&r.politeness?r.politeness:"polite"),s==null&&r&&(s=r.duration),this._liveElement.setAttribute("aria-live",o),this._liveElement.id&&this._exposeAnnouncerToModals(this._liveElement.id),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(a=>this._currentResolve=a)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=e,typeof s=="number"&&(this._previousTimeout=setTimeout(()=>this.clear(),s)),this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){let e="cdk-live-announcer-element",n=this._document.getElementsByClassName(e),r=this._document.createElement("div");for(let o=0;o<n.length;o++)n[o].remove();return r.classList.add(e),r.classList.add("cdk-visually-hidden"),r.setAttribute("aria-atomic","true"),r.setAttribute("aria-live","polite"),r.id=`cdk-live-announcer-${Hce++}`,this._document.body.appendChild(r),r}_exposeAnnouncerToModals(e){let n=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let r=0;r<n.length;r++){let o=n[r],s=o.getAttribute("aria-owns");s?s.indexOf(e)===-1&&o.setAttribute("aria-owns",s+" "+e):o.setAttribute("aria-owns",e)}}static{this.\u0275fac=function(n){return new(n||i)(me(Vce,8),me(Ne),me(It),me(zce,8))}}static{this.\u0275prov=xe({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();var hx=function(i){return i[i.IMMEDIATE=0]="IMMEDIATE",i[i.EVENTUAL=1]="EVENTUAL",i}(hx||{}),jce=new ge("cdk-focus-monitor-default-options"),ux=As({passive:!0,capture:!0}),Wc=(()=>{class i{constructor(e,n,r,o,s){this._ngZone=e,this._platform=n,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new Fe,this._rootNodeFocusAndBlurListener=a=>{let c=Ps(a);for(let l=c;l;l=l.parentElement)a.type==="focus"?this._onFocus(a,l):this._onBlur(a,l)},this._document=o,this._detectionMode=s?.detectionMode||hx.IMMEDIATE}monitor(e,n=!1){let r=Ho(e);if(!this._platform.isBrowser||r.nodeType!==1)return dt();let o=_H(r)||this._getDocument(),s=this._elementInfo.get(r);if(s)return n&&(s.checkChildren=!0),s.subject;let a={checkChildren:n,subject:new Fe,rootNode:o};return this._elementInfo.set(r,a),this._registerGlobalListeners(a),a.subject}stopMonitoring(e){let n=Ho(e),r=this._elementInfo.get(n);r&&(r.subject.complete(),this._setClasses(n),this._elementInfo.delete(n),this._removeGlobalListeners(r))}focusVia(e,n,r){let o=Ho(e),s=this._getDocument().activeElement;o===s?this._getClosestElementsInfo(o).forEach(([a,c])=>this._originChanged(a,n,c)):(this._setOrigin(n),typeof o.focus=="function"&&o.focus(r))}ngOnDestroy(){this._elementInfo.forEach((e,n)=>this.stopMonitoring(n))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:e&&this._isLastInteractionFromInputLabel(e)?"mouse":"program"}_shouldBeAttributedToTouch(e){return this._detectionMode===hx.EVENTUAL||!!e?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(e,n){e.classList.toggle("cdk-focused",!!n),e.classList.toggle("cdk-touch-focused",n==="touch"),e.classList.toggle("cdk-keyboard-focused",n==="keyboard"),e.classList.toggle("cdk-mouse-focused",n==="mouse"),e.classList.toggle("cdk-program-focused",n==="program")}_setOrigin(e,n=!1){this._ngZone.runOutsideAngular(()=>{if(this._origin=e,this._originFromTouchInteraction=e==="touch"&&n,this._detectionMode===hx.IMMEDIATE){clearTimeout(this._originTimeoutId);let r=this._originFromTouchInteraction?IH:1;this._originTimeoutId=setTimeout(()=>this._origin=null,r)}})}_onFocus(e,n){let r=this._elementInfo.get(n),o=Ps(e);!r||!r.checkChildren&&n!==o||this._originChanged(n,this._getFocusOrigin(o),r)}_onBlur(e,n){let r=this._elementInfo.get(n);!r||r.checkChildren&&e.relatedTarget instanceof Node&&n.contains(e.relatedTarget)||(this._setClasses(n),this._emitOrigin(r,null))}_emitOrigin(e,n){e.subject.observers.length&&this._ngZone.run(()=>e.subject.next(n))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;let n=e.rootNode,r=this._rootNodeFocusListenerCount.get(n)||0;r||this._ngZone.runOutsideAngular(()=>{n.addEventListener("focus",this._rootNodeFocusAndBlurListener,ux),n.addEventListener("blur",this._rootNodeFocusAndBlurListener,ux)}),this._rootNodeFocusListenerCount.set(n,r+1),++this._monitoredElementCount===1&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Pt(this._stopInputModalityDetector)).subscribe(o=>{this._setOrigin(o,!0)}))}_removeGlobalListeners(e){let n=e.rootNode;if(this._rootNodeFocusListenerCount.has(n)){let r=this._rootNodeFocusListenerCount.get(n);r>1?this._rootNodeFocusListenerCount.set(n,r-1):(n.removeEventListener("focus",this._rootNodeFocusAndBlurListener,ux),n.removeEventListener("blur",this._rootNodeFocusAndBlurListener,ux),this._rootNodeFocusListenerCount.delete(n))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,n,r){this._setClasses(e,n),this._emitOrigin(r,n),this._lastFocusOrigin=n}_getClosestElementsInfo(e){let n=[];return this._elementInfo.forEach((r,o)=>{(o===e||r.checkChildren&&o.contains(e))&&n.push([o,r])}),n}_isLastInteractionFromInputLabel(e){let{_mostRecentTarget:n,mostRecentModality:r}=this._inputModalityDetector;if(r!=="mouse"||!n||n===e||e.nodeName!=="INPUT"&&e.nodeName!=="TEXTAREA"||e.disabled)return!1;let o=e.labels;if(o){for(let s=0;s<o.length;s++)if(o[s].contains(n))return!0}return!1}static{this.\u0275fac=function(n){return new(n||i)(me(Ne),me(ri),me(Bce),me(It,8),me(jce,8))}}static{this.\u0275prov=xe({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})(),DH=(()=>{class i{constructor(e,n){this._elementRef=e,this._focusMonitor=n,this._focusOrigin=null,this.cdkFocusChange=new Qe}get focusOrigin(){return this._focusOrigin}ngAfterViewInit(){let e=this._elementRef.nativeElement;this._monitorSubscription=this._focusMonitor.monitor(e,e.nodeType===1&&e.hasAttribute("cdkMonitorSubtreeFocus")).subscribe(n=>{this._focusOrigin=n,this.cdkFocusChange.emit(n)})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription&&this._monitorSubscription.unsubscribe()}static{this.\u0275fac=function(n){return new(n||i)(O(Oe),O(Wc))}}static{this.\u0275dir=we({type:i,selectors:[["","cdkMonitorElementFocus",""],["","cdkMonitorSubtreeFocus",""]],outputs:{cdkFocusChange:"cdkFocusChange"},exportAs:["cdkMonitorFocus"],standalone:!0})}}return i})(),Lu=function(i){return i[i.NONE=0]="NONE",i[i.BLACK_ON_WHITE=1]="BLACK_ON_WHITE",i[i.WHITE_ON_BLACK=2]="WHITE_ON_BLACK",i}(Lu||{}),MH="cdk-high-contrast-black-on-white",CH="cdk-high-contrast-white-on-black",DD="cdk-high-contrast-active",LD=(()=>{class i{constructor(e,n){this._platform=e,this._document=n,this._breakpointSubscription=be(lx).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return Lu.NONE;let e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);let n=this._document.defaultView||window,r=n&&n.getComputedStyle?n.getComputedStyle(e):null,o=(r&&r.backgroundColor||"").replace(/ /g,"");switch(e.remove(),o){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return Lu.WHITE_ON_BLACK;case"rgb(255,255,255)":case"rgb(255,250,239)":return Lu.BLACK_ON_WHITE}return Lu.NONE}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){let e=this._document.body.classList;e.remove(DD,MH,CH),this._hasCheckedHighContrastMode=!0;let n=this.getHighContrastMode();n===Lu.BLACK_ON_WHITE?e.add(DD,MH):n===Lu.WHITE_ON_BLACK&&e.add(DD,CH)}}static{this.\u0275fac=function(n){return new(n||i)(me(ri),me(It))}}static{this.\u0275prov=xe({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})(),kH=(()=>{class i{constructor(e){e._applyBodyHighContrastModeCssClasses()}static{this.\u0275fac=function(n){return new(n||i)(me(LD))}}static{this.\u0275mod=$e({type:i})}static{this.\u0275inj=je({imports:[Wm]})}}return i})();var $ce=new ge("cdk-dir-doc",{providedIn:"root",factory:Gce});function Gce(){return be(It)}var Wce=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;function qce(i){let t=i?.toLowerCase()||"";return t==="auto"&&typeof navigator<"u"&&navigator?.language?Wce.test(navigator.language)?"rtl":"ltr":t==="rtl"?"rtl":"ltr"}var vr=(()=>{class i{constructor(e){if(this.value="ltr",this.change=new Qe,e){let n=e.body?e.body.dir:null,r=e.documentElement?e.documentElement.dir:null;this.value=qce(n||r||"ltr")}}ngOnDestroy(){this.change.complete()}static{this.\u0275fac=function(n){return new(n||i)(me($ce,8))}}static{this.\u0275prov=xe({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();var id=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275mod=$e({type:i})}static{this.\u0275inj=je({})}}return i})();var Xce=["text"],Yce=[[["mat-icon"]],"*"],Zce=["mat-icon","*"];function Kce(i,t){if(i&1&&Ue(0,"mat-pseudo-checkbox",1),i&2){let e=Q();ae("disabled",e.disabled)("state",e.selected?"checked":"unchecked")}}function Qce(i,t){if(i&1&&Ue(0,"mat-pseudo-checkbox",3),i&2){let e=Q();ae("disabled",e.disabled)}}function Jce(i,t){if(i&1&&(y(0,"span",4),P(1),x()),i&2){let e=Q();B(),Vt("(",e.group.label,")")}}var ele=["mat-internal-form-field",""],tle=["*"];function ile(){return!0}var nle=new ge("mat-sanity-checks",{providedIn:"root",factory:ile}),Ft=(()=>{class i{constructor(e,n,r){this._sanityChecks=n,this._document=r,this._hasDoneGlobalChecks=!1,e._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(e){return Zg()?!1:typeof this._sanityChecks=="boolean"?this._sanityChecks:!!this._sanityChecks[e]}static{this.\u0275fac=function(n){return new(n||i)(me(LD),me(nle,8),me(It))}}static{this.\u0275mod=$e({type:i})}static{this.\u0275inj=je({imports:[id,id]})}}return i})();var Bu=class{constructor(t,e,n,r,o){this._defaultMatcher=t,this.ngControl=e,this._parentFormGroup=n,this._parentForm=r,this._stateChanges=o,this.errorState=!1}updateErrorState(){let t=this.errorState,e=this._parentFormGroup||this._parentForm,n=this.matcher||this._defaultMatcher,r=this.ngControl?this.ngControl.control:null,o=n?.isErrorState(r,e)??!1;o!==t&&(this.errorState=o,this._stateChanges.next())}};var Ym=(()=>{class i{isErrorState(e,n){return!!(e&&e.invalid&&(e.touched||n&&n.submitted))}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275prov=xe({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();var Rs=function(i){return i[i.FADING_IN=0]="FADING_IN",i[i.VISIBLE=1]="VISIBLE",i[i.FADING_OUT=2]="FADING_OUT",i[i.HIDDEN=3]="HIDDEN",i}(Rs||{}),UD=class{constructor(t,e,n,r=!1){this._renderer=t,this.element=e,this.config=n,this._animationForciblyDisabledThroughCss=r,this.state=Rs.HIDDEN}fadeOut(){this._renderer.fadeOutRipple(this)}},AH=As({passive:!0,capture:!0}),zD=class{constructor(){this._events=new Map,this._delegateEventHandler=t=>{let e=Ps(t);e&&this._events.get(t.type)?.forEach((n,r)=>{(r===e||r.contains(e))&&n.forEach(o=>o.handleEvent(t))})}}addHandler(t,e,n,r){let o=this._events.get(e);if(o){let s=o.get(n);s?s.add(r):o.set(n,new Set([r]))}else this._events.set(e,new Map([[n,new Set([r])]])),t.runOutsideAngular(()=>{document.addEventListener(e,this._delegateEventHandler,AH)})}removeHandler(t,e,n){let r=this._events.get(t);if(!r)return;let o=r.get(e);o&&(o.delete(n),o.size===0&&r.delete(e),r.size===0&&(this._events.delete(t),document.removeEventListener(t,this._delegateEventHandler,AH)))}},PH={enterDuration:225,exitDuration:150},rle=800,RH=As({passive:!0,capture:!0}),NH=["mousedown","touchstart"],OH=["mouseup","mouseleave","touchend","touchcancel"],Kg=class i{static{this._eventManager=new zD}constructor(t,e,n,r){this._target=t,this._ngZone=e,this._platform=r,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=Ho(n))}fadeInRipple(t,e,n={}){let r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o=ye(ye({},PH),n.animation);n.centered&&(t=r.left+r.width/2,e=r.top+r.height/2);let s=n.radius||ole(t,e,r),a=t-r.left,c=e-r.top,l=o.enterDuration,d=document.createElement("div");d.classList.add("mat-ripple-element"),d.style.left=`${a-s}px`,d.style.top=`${c-s}px`,d.style.height=`${s*2}px`,d.style.width=`${s*2}px`,n.color!=null&&(d.style.backgroundColor=n.color),d.style.transitionDuration=`${l}ms`,this._containerElement.appendChild(d);let u=window.getComputedStyle(d),h=u.transitionProperty,m=u.transitionDuration,p=h==="none"||m==="0s"||m==="0s, 0s"||r.width===0&&r.height===0,_=new UD(this,d,n,p);d.style.transform="scale3d(1, 1, 1)",_.state=Rs.FADING_IN,n.persistent||(this._mostRecentTransientRipple=_);let f=null;return!p&&(l||o.exitDuration)&&this._ngZone.runOutsideAngular(()=>{let g=()=>this._finishRippleTransition(_),C=()=>this._destroyRipple(_);d.addEventListener("transitionend",g),d.addEventListener("transitioncancel",C),f={onTransitionEnd:g,onTransitionCancel:C}}),this._activeRipples.set(_,f),(p||!l)&&this._finishRippleTransition(_),_}fadeOutRipple(t){if(t.state===Rs.FADING_OUT||t.state===Rs.HIDDEN)return;let e=t.element,n=ye(ye({},PH),t.config.animation);e.style.transitionDuration=`${n.exitDuration}ms`,e.style.opacity="0",t.state=Rs.FADING_OUT,(t._animationForciblyDisabledThroughCss||!n.exitDuration)&&this._finishRippleTransition(t)}fadeOutAll(){this._getActiveRipples().forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){let e=Ho(t);!this._platform.isBrowser||!e||e===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=e,NH.forEach(n=>{i._eventManager.addHandler(this._ngZone,n,e,this)}))}handleEvent(t){t.type==="mousedown"?this._onMousedown(t):t.type==="touchstart"?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{OH.forEach(e=>{this._triggerElement.addEventListener(e,this,RH)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(t){t.state===Rs.FADING_IN?this._startFadeOutTransition(t):t.state===Rs.FADING_OUT&&this._destroyRipple(t)}_startFadeOutTransition(t){let e=t===this._mostRecentTransientRipple,{persistent:n}=t.config;t.state=Rs.VISIBLE,!n&&(!e||!this._isPointerDown)&&t.fadeOut()}_destroyRipple(t){let e=this._activeRipples.get(t)??null;this._activeRipples.delete(t),this._activeRipples.size||(this._containerRect=null),t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),t.state=Rs.HIDDEN,e!==null&&(t.element.removeEventListener("transitionend",e.onTransitionEnd),t.element.removeEventListener("transitioncancel",e.onTransitionCancel)),t.element.remove()}_onMousedown(t){let e=OD(t),n=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+rle;!this._target.rippleDisabled&&!e&&!n&&(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!FD(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;let e=t.changedTouches;if(e)for(let n=0;n<e.length;n++)this.fadeInRipple(e[n].clientX,e[n].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(t=>{let e=t.state===Rs.VISIBLE||t.config.terminateOnPointerUp&&t.state===Rs.FADING_IN;!t.config.persistent&&e&&t.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){let t=this._triggerElement;t&&(NH.forEach(e=>i._eventManager.removeHandler(e,t,this)),this._pointerUpEventsRegistered&&(OH.forEach(e=>t.removeEventListener(e,this,RH)),this._pointerUpEventsRegistered=!1))}};function ole(i,t,e){let n=Math.max(Math.abs(i-e.left),Math.abs(i-e.right)),r=Math.max(Math.abs(t-e.top),Math.abs(t-e.bottom));return Math.sqrt(n*n+r*r)}var rd=new ge("mat-ripple-global-options"),od=(()=>{class i{get disabled(){return this._disabled}set disabled(e){e&&this.fadeOutAllNonPersistent(),this._disabled=e,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}constructor(e,n,r,o,s){this._elementRef=e,this._animationMode=s,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=o||{},this._rippleRenderer=new Kg(this,n,e,r)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:ye(ye(ye({},this._globalOptions.animation),this._animationMode==="NoopAnimations"?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(e,n=0,r){return typeof e=="number"?this._rippleRenderer.fadeInRipple(e,n,ye(ye({},this.rippleConfig),r)):this._rippleRenderer.fadeInRipple(0,0,ye(ye({},this.rippleConfig),e))}static{this.\u0275fac=function(n){return new(n||i)(O(Oe),O(Ne),O(ri),O(rd,8),O(Vi,8))}}static{this.\u0275dir=we({type:i,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(n,r){n&2&&qe("mat-ripple-unbounded",r.unbounded)},inputs:{color:[J.None,"matRippleColor","color"],unbounded:[J.None,"matRippleUnbounded","unbounded"],centered:[J.None,"matRippleCentered","centered"],radius:[J.None,"matRippleRadius","radius"],animation:[J.None,"matRippleAnimation","animation"],disabled:[J.None,"matRippleDisabled","disabled"],trigger:[J.None,"matRippleTrigger","trigger"]},exportAs:["matRipple"],standalone:!0})}}return i})(),Vu=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275mod=$e({type:i})}static{this.\u0275inj=je({imports:[Ft,Ft]})}}return i})(),sle=(()=>{class i{constructor(e){this._animationMode=e,this.state="unchecked",this.disabled=!1,this.appearance="full"}static{this.\u0275fac=function(n){return new(n||i)(O(Vi,8))}}static{this.\u0275cmp=rt({type:i,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:12,hostBindings:function(n,r){n&2&&qe("mat-pseudo-checkbox-indeterminate",r.state==="indeterminate")("mat-pseudo-checkbox-checked",r.state==="checked")("mat-pseudo-checkbox-disabled",r.disabled)("mat-pseudo-checkbox-minimal",r.appearance==="minimal")("mat-pseudo-checkbox-full",r.appearance==="full")("_mat-animation-noopable",r._animationMode==="NoopAnimations")},inputs:{state:"state",disabled:"disabled",appearance:"appearance"},standalone:!0,features:[Tt],decls:0,vars:0,template:function(n,r){},styles:['.mat-pseudo-checkbox{border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox._mat-animation-noopable{transition:none !important;animation:none !important}.mat-pseudo-checkbox._mat-animation-noopable::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{left:1px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{left:1px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked::after,.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate::after{color:var(--mat-minimal-pseudo-checkbox-selected-checkmark-color)}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled::after,.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled::after{color:var(--mat-minimal-pseudo-checkbox-disabled-selected-checkmark-color)}.mat-pseudo-checkbox-full{border-color:var(--mat-full-pseudo-checkbox-unselected-icon-color);border-width:2px;border-style:solid}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-disabled{border-color:var(--mat-full-pseudo-checkbox-disabled-unselected-icon-color)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate{background-color:var(--mat-full-pseudo-checkbox-selected-icon-color);border-color:rgba(0,0,0,0)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked::after,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate::after{color:var(--mat-full-pseudo-checkbox-selected-checkmark-color)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled{background-color:var(--mat-full-pseudo-checkbox-disabled-selected-icon-color)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled::after,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled::after{color:var(--mat-full-pseudo-checkbox-disabled-selected-checkmark-color)}.mat-pseudo-checkbox{width:18px;height:18px}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked::after{width:14px;height:6px;transform-origin:center;top:-4.2426406871px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate::after{top:8px;width:16px}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked::after{width:10px;height:4px;transform-origin:center;top:-2.8284271247px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate::after{top:6px;width:12px}'],encapsulation:2,changeDetection:0})}}return i})(),jD=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275mod=$e({type:i})}static{this.\u0275inj=je({imports:[Ft]})}}return i})(),$D=new ge("MAT_OPTION_PARENT_COMPONENT");var GD=new ge("MatOptgroup");var ale=0,HD=class{constructor(t,e=!1){this.source=t,this.isUserInput=e}},xx=(()=>{class i{get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(e){this._disabled=e}get disableRipple(){return!!(this._parent&&this._parent.disableRipple)}get hideSingleSelectionIndicator(){return!!(this._parent&&this._parent.hideSingleSelectionIndicator)}constructor(e,n,r,o){this._element=e,this._changeDetectorRef=n,this._parent=r,this.group=o,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id=`mat-option-${ale++}`,this.onSelectionChange=new Qe,this._stateChanges=new Fe}get active(){return this._active}get viewValue(){return(this._text?.nativeElement.textContent||"").trim()}select(e=!0){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),e&&this._emitSelectionChangeEvent())}deselect(e=!0){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),e&&this._emitSelectionChangeEvent())}focus(e,n){let r=this._getHostElement();typeof r.focus=="function"&&r.focus(n)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(e){(e.keyCode===13||e.keyCode===32)&&!Eo(e)&&(this._selectViaInteraction(),e.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=this.multiple?!this._selected:!0,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){let e=this.viewValue;e!==this._mostRecentViewValue&&(this._mostRecentViewValue&&this._stateChanges.next(),this._mostRecentViewValue=e)}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(e=!1){this.onSelectionChange.emit(new HD(this,e))}static{this.\u0275fac=function(n){return new(n||i)(O(Oe),O(ci),O($D,8),O(GD,8))}}static{this.\u0275cmp=rt({type:i,selectors:[["mat-option"]],viewQuery:function(n,r){if(n&1&&Nt(Xce,7),n&2){let o;Le(o=Be())&&(r._text=o.first)}},hostAttrs:["role","option",1,"mat-mdc-option","mdc-list-item"],hostVars:11,hostBindings:function(n,r){n&1&&fe("click",function(){return r._selectViaInteraction()})("keydown",function(s){return r._handleKeydown(s)}),n&2&&(Ts("id",r.id),wt("aria-selected",r.selected)("aria-disabled",r.disabled.toString()),qe("mdc-list-item--selected",r.selected)("mat-mdc-option-multiple",r.multiple)("mat-mdc-option-active",r.active)("mdc-list-item--disabled",r.disabled))},inputs:{value:"value",id:"id",disabled:[J.HasDecoratorInputTransform,"disabled","disabled",Je]},outputs:{onSelectionChange:"onSelectionChange"},exportAs:["matOption"],standalone:!0,features:[Bt,Tt],ngContentSelectors:Zce,decls:8,vars:5,consts:[["text",""],["aria-hidden","true",1,"mat-mdc-option-pseudo-checkbox",3,"disabled","state"],[1,"mdc-list-item__primary-text"],["state","checked","aria-hidden","true","appearance","minimal",1,"mat-mdc-option-pseudo-checkbox",3,"disabled"],[1,"cdk-visually-hidden"],["aria-hidden","true","mat-ripple","",1,"mat-mdc-option-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled"]],template:function(n,r){n&1&&(Ti(Yce),Ee(0,Kce,1,2,"mat-pseudo-checkbox",1),ct(1),y(2,"span",2,0),ct(4,1),x(),Ee(5,Qce,1,1,"mat-pseudo-checkbox",3)(6,Jce,2,1,"span",4),Ue(7,"div",5)),n&2&&(Yt(0,r.multiple?0:-1),B(5),Yt(5,!r.multiple&&r.selected&&!r.hideSingleSelectionIndicator?5:-1),B(),Yt(6,r.group&&r.group._inert?6:-1),B(),ae("matRippleTrigger",r._getHostElement())("matRippleDisabled",r.disabled||r.disableRipple))},dependencies:[sle,od],styles:['.mat-mdc-option{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;padding-left:16px;padding-right:16px;-webkit-user-select:none;user-select:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;cursor:pointer;-webkit-tap-highlight-color:rgba(0,0,0,0);color:var(--mat-option-label-text-color);font-family:var(--mat-option-label-text-font);line-height:var(--mat-option-label-text-line-height);font-size:var(--mat-option-label-text-size);letter-spacing:var(--mat-option-label-text-tracking);font-weight:var(--mat-option-label-text-weight);min-height:48px}.mat-mdc-option:focus{outline:none}[dir=rtl] .mat-mdc-option,.mat-mdc-option[dir=rtl]{padding-left:16px;padding-right:16px}.mat-mdc-option:hover:not(.mdc-list-item--disabled){background-color:var(--mat-option-hover-state-layer-color)}.mat-mdc-option:focus.mdc-list-item,.mat-mdc-option.mat-mdc-option-active.mdc-list-item{background-color:var(--mat-option-focus-state-layer-color)}.mat-mdc-option.mdc-list-item--selected:not(.mdc-list-item--disabled) .mdc-list-item__primary-text{color:var(--mat-option-selected-state-label-text-color)}.mat-mdc-option.mdc-list-item--selected:not(.mdc-list-item--disabled):not(.mat-mdc-option-multiple){background-color:var(--mat-option-selected-state-layer-color)}.mat-mdc-option.mdc-list-item{align-items:center;background:rgba(0,0,0,0)}.mat-mdc-option.mdc-list-item--disabled{cursor:default;pointer-events:none}.mat-mdc-option.mdc-list-item--disabled .mat-mdc-option-pseudo-checkbox,.mat-mdc-option.mdc-list-item--disabled .mdc-list-item__primary-text,.mat-mdc-option.mdc-list-item--disabled>mat-icon{opacity:.38}.mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:32px}[dir=rtl] .mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:16px;padding-right:32px}.mat-mdc-option .mat-icon,.mat-mdc-option .mat-pseudo-checkbox-full{margin-right:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-icon,[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-full{margin-right:0;margin-left:16px}.mat-mdc-option .mat-pseudo-checkbox-minimal{margin-left:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-minimal{margin-right:16px;margin-left:0}.mat-mdc-option .mat-mdc-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-mdc-option .mdc-list-item__primary-text{white-space:normal;font-size:inherit;font-weight:inherit;letter-spacing:inherit;line-height:inherit;font-family:inherit;text-decoration:inherit;text-transform:inherit;margin-right:auto}[dir=rtl] .mat-mdc-option .mdc-list-item__primary-text{margin-right:0;margin-left:auto}.cdk-high-contrast-active .mat-mdc-option.mdc-list-item--selected:not(.mat-mdc-option-multiple)::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}[dir=rtl] .cdk-high-contrast-active .mat-mdc-option.mdc-list-item--selected:not(.mat-mdc-option-multiple)::after{right:auto;left:16px}.mat-mdc-option-multiple{--mdc-list-list-item-selected-container-color:var(--mdc-list-list-item-container-color, transparent)}.mat-mdc-option-active .mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0})}}return i})();function VH(i,t,e){if(e.length){let n=t.toArray(),r=e.toArray(),o=0;for(let s=0;s<i+1;s++)n[s].group&&n[s].group===r[o]&&o++;return o}return 0}function UH(i,t,e,n){return i<e?i:i+t>e+n?Math.max(0,i-n+t):e}var WD=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275mod=$e({type:i})}static{this.\u0275inj=je({imports:[Vu,Ft,jD]})}}return i})(),FH={capture:!0},LH=["focus","click","mouseenter","touchstart"],BD="mat-ripple-loader-uninitialized",VD="mat-ripple-loader-class-name",BH="mat-ripple-loader-centered",yx="mat-ripple-loader-disabled",wx=(()=>{class i{constructor(){this._document=be(It,{optional:!0}),this._animationMode=be(Vi,{optional:!0}),this._globalRippleOptions=be(rd,{optional:!0}),this._platform=be(ri),this._ngZone=be(Ne),this._hosts=new Map,this._onInteraction=e=>{if(!(e.target instanceof HTMLElement))return;let r=e.target.closest(`[${BD}]`);r&&this._createRipple(r)},this._ngZone.runOutsideAngular(()=>{for(let e of LH)this._document?.addEventListener(e,this._onInteraction,FH)})}ngOnDestroy(){let e=this._hosts.keys();for(let n of e)this.destroyRipple(n);for(let n of LH)this._document?.removeEventListener(n,this._onInteraction,FH)}configureRipple(e,n){e.setAttribute(BD,""),(n.className||!e.hasAttribute(VD))&&e.setAttribute(VD,n.className||""),n.centered&&e.setAttribute(BH,""),n.disabled&&e.setAttribute(yx,"")}getRipple(e){return this._hosts.get(e)||this._createRipple(e)}setDisabled(e,n){let r=this._hosts.get(e);if(r){r.disabled=n;return}n?e.setAttribute(yx,""):e.removeAttribute(yx)}_createRipple(e){if(!this._document)return;let n=this._hosts.get(e);if(n)return n;e.querySelector(".mat-ripple")?.remove();let r=this._document.createElement("span");r.classList.add("mat-ripple",e.getAttribute(VD)),e.append(r);let o=new od(new Oe(r),this._ngZone,this._platform,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);return o._isInitialized=!0,o.trigger=e,o.centered=e.hasAttribute(BH),o.disabled=e.hasAttribute(yx),this.attachRipple(e,o),o}attachRipple(e,n){e.removeAttribute(BD),this._hosts.set(e,n)}destroyRipple(e){let n=this._hosts.get(e);n&&(n.ngOnDestroy(),this._hosts.delete(e))}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275prov=xe({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})(),zH=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275cmp=rt({type:i,selectors:[["div","mat-internal-form-field",""]],hostAttrs:[1,"mdc-form-field","mat-internal-form-field"],hostVars:2,hostBindings:function(n,r){n&2&&qe("mdc-form-field--align-end",r.labelPosition==="before")},inputs:{labelPosition:"labelPosition"},standalone:!0,features:[Tt],attrs:ele,ngContentSelectors:tle,decls:1,vars:0,template:function(n,r){n&1&&(Ti(),ct(0))},styles:[".mdc-form-field{display:inline-flex;align-items:center;vertical-align:middle}.mdc-form-field[hidden]{display:none}.mdc-form-field>label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0;order:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{margin-left:auto;margin-right:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{padding-left:0;padding-right:4px}.mdc-form-field--nowrap>label{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.mdc-form-field--align-end>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px;order:-1}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{margin-left:0;margin-right:auto}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{padding-left:4px;padding-right:0}.mdc-form-field--space-between{justify-content:space-between}.mdc-form-field--space-between>label{margin:0}[dir=rtl] .mdc-form-field--space-between>label,.mdc-form-field--space-between>label[dir=rtl]{margin:0}.mdc-form-field{font-family:var(--mdc-form-field-label-text-font);line-height:var(--mdc-form-field-label-text-line-height);font-size:var(--mdc-form-field-label-text-size);font-weight:var(--mdc-form-field-label-text-weight);letter-spacing:var(--mdc-form-field-label-text-tracking);color:var(--mdc-form-field-label-text-color)}.mat-internal-form-field{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased}"],encapsulation:2,changeDetection:0})}}return i})();var cle=["*"];var lle=[[["","mat-card-avatar",""],["","matCardAvatar",""]],[["mat-card-title"],["mat-card-subtitle"],["","mat-card-title",""],["","mat-card-subtitle",""],["","matCardTitle",""],["","matCardSubtitle",""]],"*"],dle=["[mat-card-avatar], [matCardAvatar]",`mat-card-title, mat-card-subtitle,
      [mat-card-title], [mat-card-subtitle],
      [matCardTitle], [matCardSubtitle]`,"*"],ule=new ge("MAT_CARD_CONFIG"),Zm=(()=>{class i{constructor(e){this.appearance=e?.appearance||"raised"}static{this.\u0275fac=function(n){return new(n||i)(O(ule,8))}}static{this.\u0275cmp=rt({type:i,selectors:[["mat-card"]],hostAttrs:[1,"mat-mdc-card","mdc-card"],hostVars:4,hostBindings:function(n,r){n&2&&qe("mat-mdc-card-outlined",r.appearance==="outlined")("mdc-card--outlined",r.appearance==="outlined")},inputs:{appearance:"appearance"},exportAs:["matCard"],standalone:!0,features:[Tt],ngContentSelectors:cle,decls:1,vars:0,template:function(n,r){n&1&&(Ti(),ct(0))},styles:['.mdc-card{display:flex;flex-direction:column;box-sizing:border-box}.mdc-card::after{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none;pointer-events:none}@media screen and (forced-colors: active){.mdc-card::after{border-color:CanvasText}}.mdc-card--outlined::after{border:none}.mdc-card__content{border-radius:inherit;height:100%}.mdc-card__media{position:relative;box-sizing:border-box;background-repeat:no-repeat;background-position:center;background-size:cover}.mdc-card__media::before{display:block;content:""}.mdc-card__media:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__media:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mdc-card__media--square::before{margin-top:100%}.mdc-card__media--16-9::before{margin-top:56.25%}.mdc-card__media-content{position:absolute;top:0;right:0;bottom:0;left:0;box-sizing:border-box}.mdc-card__primary-action{display:flex;flex-direction:column;box-sizing:border-box;position:relative;outline:none;color:inherit;text-decoration:none;cursor:pointer;overflow:hidden}.mdc-card__primary-action:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__primary-action:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mdc-card__actions{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;min-height:52px;padding:8px}.mdc-card__actions--full-bleed{padding:0}.mdc-card__action-buttons,.mdc-card__action-icons{display:flex;flex-direction:row;align-items:center;box-sizing:border-box}.mdc-card__action-icons{color:rgba(0, 0, 0, 0.6);flex-grow:1;justify-content:flex-end}.mdc-card__action-buttons+.mdc-card__action-icons{margin-left:16px;margin-right:0}[dir=rtl] .mdc-card__action-buttons+.mdc-card__action-icons,.mdc-card__action-buttons+.mdc-card__action-icons[dir=rtl]{margin-left:0;margin-right:16px}.mdc-card__action{display:inline-flex;flex-direction:row;align-items:center;box-sizing:border-box;justify-content:center;cursor:pointer;user-select:none}.mdc-card__action:focus{outline:none}.mdc-card__action--button{margin-left:0;margin-right:8px;padding:0 8px}[dir=rtl] .mdc-card__action--button,.mdc-card__action--button[dir=rtl]{margin-left:8px;margin-right:0}.mdc-card__action--button:last-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-card__action--button:last-child,.mdc-card__action--button:last-child[dir=rtl]{margin-left:0;margin-right:0}.mdc-card__actions--full-bleed .mdc-card__action--button{justify-content:space-between;width:100%;height:auto;max-height:none;margin:0;padding:8px 16px;text-align:left}[dir=rtl] .mdc-card__actions--full-bleed .mdc-card__action--button,.mdc-card__actions--full-bleed .mdc-card__action--button[dir=rtl]{text-align:right}.mdc-card__action--icon{margin:-6px 0;padding:12px}.mdc-card__action--icon:not(:disabled){color:rgba(0, 0, 0, 0.6)}.mat-mdc-card{border-radius:var(--mdc-elevated-card-container-shape);background-color:var(--mdc-elevated-card-container-color);border-width:0;border-style:solid;border-color:var(--mdc-elevated-card-container-color);box-shadow:var(--mdc-elevated-card-container-elevation)}.mat-mdc-card .mdc-card::after{border-radius:var(--mdc-elevated-card-container-shape)}.mat-mdc-card-outlined{border-width:var(--mdc-outlined-card-outline-width);border-style:solid;border-color:var(--mdc-outlined-card-outline-color);border-radius:var(--mdc-outlined-card-container-shape);background-color:var(--mdc-outlined-card-container-color);box-shadow:var(--mdc-outlined-card-container-elevation)}.mat-mdc-card-outlined .mdc-card::after{border-radius:var(--mdc-outlined-card-container-shape)}.mat-mdc-card-title{font-family:var(--mat-card-title-text-font);line-height:var(--mat-card-title-text-line-height);font-size:var(--mat-card-title-text-size);letter-spacing:var(--mat-card-title-text-tracking);font-weight:var(--mat-card-title-text-weight)}.mat-mdc-card-subtitle{color:var(--mat-card-subtitle-text-color);font-family:var(--mat-card-subtitle-text-font);line-height:var(--mat-card-subtitle-text-line-height);font-size:var(--mat-card-subtitle-text-size);letter-spacing:var(--mat-card-subtitle-text-tracking);font-weight:var(--mat-card-subtitle-text-weight)}.mat-mdc-card{position:relative}.mat-mdc-card-title,.mat-mdc-card-subtitle{display:block;margin:0}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle{padding:16px 16px 0}.mat-mdc-card-header{display:flex;padding:16px 16px 0}.mat-mdc-card-content{display:block;padding:0 16px}.mat-mdc-card-content:first-child{padding-top:16px}.mat-mdc-card-content:last-child{padding-bottom:16px}.mat-mdc-card-title-group{display:flex;justify-content:space-between;width:100%}.mat-mdc-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;margin-bottom:16px;object-fit:cover}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title{line-height:normal}.mat-mdc-card-sm-image{width:80px;height:80px}.mat-mdc-card-md-image{width:112px;height:112px}.mat-mdc-card-lg-image{width:152px;height:152px}.mat-mdc-card-xl-image{width:240px;height:240px}.mat-mdc-card-subtitle~.mat-mdc-card-title,.mat-mdc-card-title~.mat-mdc-card-subtitle,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-title-group .mat-mdc-card-title,.mat-mdc-card-title-group .mat-mdc-card-subtitle{padding-top:0}.mat-mdc-card-content>:last-child:not(.mat-mdc-card-footer){margin-bottom:0}.mat-mdc-card-actions-align-end{justify-content:flex-end}'],encapsulation:2,changeDetection:0})}}return i})(),Km=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275dir=we({type:i,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-mdc-card-title"],standalone:!0})}}return i})();var Qm=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275dir=we({type:i,selectors:[["mat-card-content"]],hostAttrs:[1,"mat-mdc-card-content"],standalone:!0})}}return i})(),Mx=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275dir=we({type:i,selectors:[["mat-card-subtitle"],["","mat-card-subtitle",""],["","matCardSubtitle",""]],hostAttrs:[1,"mat-mdc-card-subtitle"],standalone:!0})}}return i})();var Jm=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275cmp=rt({type:i,selectors:[["mat-card-header"]],hostAttrs:[1,"mat-mdc-card-header"],standalone:!0,features:[Tt],ngContentSelectors:dle,decls:4,vars:0,consts:[[1,"mat-mdc-card-header-text"]],template:function(n,r){n&1&&(Ti(lle),ct(0),y(1,"div",0),ct(2,1),x(),ct(3,2))},encapsulation:2,changeDetection:0})}}return i})();var Cx=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275mod=$e({type:i})}static{this.\u0275inj=je({imports:[Ft,kr,Ft]})}}return i})();var hle=["*"],Sx;function mle(){if(Sx===void 0&&(Sx=null,typeof window<"u")){let i=window;i.trustedTypes!==void 0&&(Sx=i.trustedTypes.createPolicy("angular#components",{createHTML:t=>t}))}return Sx}function Qg(i){return mle()?.createHTML(i)||i}function jH(i){return Error(`Unable to find icon with the name "${i}"`)}function ple(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}function $H(i){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${i}".`)}function GH(i){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${i}".`)}var Xc=class{constructor(t,e,n){this.url=t,this.svgText=e,this.options=n}},fle=(()=>{class i{constructor(e,n,r,o){this._httpClient=e,this._sanitizer=n,this._errorHandler=o,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=r}addSvgIcon(e,n,r){return this.addSvgIconInNamespace("",e,n,r)}addSvgIconLiteral(e,n,r){return this.addSvgIconLiteralInNamespace("",e,n,r)}addSvgIconInNamespace(e,n,r,o){return this._addSvgIconConfig(e,n,new Xc(r,null,o))}addSvgIconResolver(e){return this._resolvers.push(e),this}addSvgIconLiteralInNamespace(e,n,r,o){let s=this._sanitizer.sanitize(Kr.HTML,r);if(!s)throw GH(r);let a=Qg(s);return this._addSvgIconConfig(e,n,new Xc("",a,o))}addSvgIconSet(e,n){return this.addSvgIconSetInNamespace("",e,n)}addSvgIconSetLiteral(e,n){return this.addSvgIconSetLiteralInNamespace("",e,n)}addSvgIconSetInNamespace(e,n,r){return this._addSvgIconSetConfig(e,new Xc(n,null,r))}addSvgIconSetLiteralInNamespace(e,n,r){let o=this._sanitizer.sanitize(Kr.HTML,n);if(!o)throw GH(n);let s=Qg(o);return this._addSvgIconSetConfig(e,new Xc("",s,r))}registerFontClassAlias(e,n=e){return this._fontCssClassesByAlias.set(e,n),this}classNameForFontAlias(e){return this._fontCssClassesByAlias.get(e)||e}setDefaultFontSetClass(...e){return this._defaultFontSetClass=e,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(e){let n=this._sanitizer.sanitize(Kr.RESOURCE_URL,e);if(!n)throw $H(e);let r=this._cachedIconsByUrl.get(n);return r?dt(Ex(r)):this._loadSvgIconFromConfig(new Xc(e,null)).pipe(Pn(o=>this._cachedIconsByUrl.set(n,o)),St(o=>Ex(o)))}getNamedSvgIcon(e,n=""){let r=WH(n,e),o=this._svgIconConfigs.get(r);if(o)return this._getSvgFromConfig(o);if(o=this._getIconConfigFromResolvers(n,e),o)return this._svgIconConfigs.set(r,o),this._getSvgFromConfig(o);let s=this._iconSetConfigs.get(n);return s?this._getSvgFromIconSetConfigs(e,s):kl(jH(r))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(e){return e.svgText?dt(Ex(this._svgElementFromConfig(e))):this._loadSvgIconFromConfig(e).pipe(St(n=>Ex(n)))}_getSvgFromIconSetConfigs(e,n){let r=this._extractIconWithNameFromAnySet(e,n);if(r)return dt(r);let o=n.filter(s=>!s.svgText).map(s=>this._loadSvgIconSetFromConfig(s).pipe(Na(a=>{let l=`Loading icon set URL: ${this._sanitizer.sanitize(Kr.RESOURCE_URL,s.url)} failed: ${a.message}`;return this._errorHandler.handleError(new Error(l)),dt(null)})));return Of(o).pipe(St(()=>{let s=this._extractIconWithNameFromAnySet(e,n);if(!s)throw jH(e);return s}))}_extractIconWithNameFromAnySet(e,n){for(let r=n.length-1;r>=0;r--){let o=n[r];if(o.svgText&&o.svgText.toString().indexOf(e)>-1){let s=this._svgElementFromConfig(o),a=this._extractSvgIconFromSet(s,e,o.options);if(a)return a}}return null}_loadSvgIconFromConfig(e){return this._fetchIcon(e).pipe(Pn(n=>e.svgText=n),St(()=>this._svgElementFromConfig(e)))}_loadSvgIconSetFromConfig(e){return e.svgText?dt(null):this._fetchIcon(e).pipe(Pn(n=>e.svgText=n))}_extractSvgIconFromSet(e,n,r){let o=e.querySelector(`[id="${n}"]`);if(!o)return null;let s=o.cloneNode(!0);if(s.removeAttribute("id"),s.nodeName.toLowerCase()==="svg")return this._setSvgAttributes(s,r);if(s.nodeName.toLowerCase()==="symbol")return this._setSvgAttributes(this._toSvgElement(s),r);let a=this._svgElementFromString(Qg("<svg></svg>"));return a.appendChild(s),this._setSvgAttributes(a,r)}_svgElementFromString(e){let n=this._document.createElement("DIV");n.innerHTML=e;let r=n.querySelector("svg");if(!r)throw Error("<svg> tag not found");return r}_toSvgElement(e){let n=this._svgElementFromString(Qg("<svg></svg>")),r=e.attributes;for(let o=0;o<r.length;o++){let{name:s,value:a}=r[o];s!=="id"&&n.setAttribute(s,a)}for(let o=0;o<e.childNodes.length;o++)e.childNodes[o].nodeType===this._document.ELEMENT_NODE&&n.appendChild(e.childNodes[o].cloneNode(!0));return n}_setSvgAttributes(e,n){return e.setAttribute("fit",""),e.setAttribute("height","100%"),e.setAttribute("width","100%"),e.setAttribute("preserveAspectRatio","xMidYMid meet"),e.setAttribute("focusable","false"),n&&n.viewBox&&e.setAttribute("viewBox",n.viewBox),e}_fetchIcon(e){let{url:n,options:r}=e,o=r?.withCredentials??!1;if(!this._httpClient)throw ple();if(n==null)throw Error(`Cannot fetch icon from URL "${n}".`);let s=this._sanitizer.sanitize(Kr.RESOURCE_URL,n);if(!s)throw $H(n);let a=this._inProgressUrlFetches.get(s);if(a)return a;let c=this._httpClient.get(s,{responseType:"text",withCredentials:o}).pipe(St(l=>Qg(l)),Ol(()=>this._inProgressUrlFetches.delete(s)),Lf());return this._inProgressUrlFetches.set(s,c),c}_addSvgIconConfig(e,n,r){return this._svgIconConfigs.set(WH(e,n),r),this}_addSvgIconSetConfig(e,n){let r=this._iconSetConfigs.get(e);return r?r.push(n):this._iconSetConfigs.set(e,[n]),this}_svgElementFromConfig(e){if(!e.svgElement){let n=this._svgElementFromString(e.svgText);this._setSvgAttributes(n,e.options),e.svgElement=n}return e.svgElement}_getIconConfigFromResolvers(e,n){for(let r=0;r<this._resolvers.length;r++){let o=this._resolvers[r](n,e);if(o)return gle(o)?new Xc(o.url,null,o.options):new Xc(o,null)}}static{this.\u0275fac=function(n){return new(n||i)(me(v5,8),me(Tg),me(It,8),me(xo))}}static{this.\u0275prov=xe({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();function Ex(i){return i.cloneNode(!0)}function WH(i,t){return i+":"+t}function gle(i){return!!(i.url&&i.options)}var _le=new ge("MAT_ICON_DEFAULT_OPTIONS"),ble=new ge("mat-icon-location",{providedIn:"root",factory:vle});function vle(){let i=be(It),t=i?i.location:null;return{getPathname:()=>t?t.pathname+t.search:""}}var qH=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],yle=qH.map(i=>`[${i}]`).join(", "),xle=/^url\(['"]?#(.*?)['"]?\)$/,sd=(()=>{class i{get color(){return this._color||this._defaultColor}set color(e){this._color=e}get svgIcon(){return this._svgIcon}set svgIcon(e){e!==this._svgIcon&&(e?this._updateSvgIcon(e):this._svgIcon&&this._clearSvgElement(),this._svgIcon=e)}get fontSet(){return this._fontSet}set fontSet(e){let n=this._cleanupFontValue(e);n!==this._fontSet&&(this._fontSet=n,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(e){let n=this._cleanupFontValue(e);n!==this._fontIcon&&(this._fontIcon=n,this._updateFontIconClasses())}constructor(e,n,r,o,s,a){this._elementRef=e,this._iconRegistry=n,this._location=o,this._errorHandler=s,this.inline=!1,this._previousFontSetClass=[],this._currentIconFetch=qt.EMPTY,a&&(a.color&&(this.color=this._defaultColor=a.color),a.fontSet&&(this.fontSet=a.fontSet)),r||e.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(e){if(!e)return["",""];let n=e.split(":");switch(n.length){case 1:return["",n[0]];case 2:return n;default:throw Error(`Invalid icon name: "${e}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){let e=this._elementsWithExternalReferences;if(e&&e.size){let n=this._location.getPathname();n!==this._previousPath&&(this._previousPath=n,this._prependPathToReferences(n))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(e){this._clearSvgElement();let n=this._location.getPathname();this._previousPath=n,this._cacheChildrenWithExternalReferences(e),this._prependPathToReferences(n),this._elementRef.nativeElement.appendChild(e)}_clearSvgElement(){let e=this._elementRef.nativeElement,n=e.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();n--;){let r=e.childNodes[n];(r.nodeType!==1||r.nodeName.toLowerCase()==="svg")&&r.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;let e=this._elementRef.nativeElement,n=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(r=>r.length>0);this._previousFontSetClass.forEach(r=>e.classList.remove(r)),n.forEach(r=>e.classList.add(r)),this._previousFontSetClass=n,this.fontIcon!==this._previousFontIconClass&&!n.includes("mat-ligature-font")&&(this._previousFontIconClass&&e.classList.remove(this._previousFontIconClass),this.fontIcon&&e.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(e){return typeof e=="string"?e.trim().split(" ")[0]:e}_prependPathToReferences(e){let n=this._elementsWithExternalReferences;n&&n.forEach((r,o)=>{r.forEach(s=>{o.setAttribute(s.name,`url('${e}#${s.value}')`)})})}_cacheChildrenWithExternalReferences(e){let n=e.querySelectorAll(yle),r=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let o=0;o<n.length;o++)qH.forEach(s=>{let a=n[o],c=a.getAttribute(s),l=c?c.match(xle):null;if(l){let d=r.get(a);d||(d=[],r.set(a,d)),d.push({name:s,value:l[1]})}})}_updateSvgIcon(e){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),e){let[n,r]=this._splitIconName(e);n&&(this._svgNamespace=n),r&&(this._svgName=r),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(r,n).pipe(nn(1)).subscribe(o=>this._setSvgElement(o),o=>{let s=`Error retrieving icon ${n}:${r}! ${o.message}`;this._errorHandler.handleError(new Error(s))})}}static{this.\u0275fac=function(n){return new(n||i)(O(Oe),O(fle),zr("aria-hidden"),O(ble),O(xo),O(_le,8))}}static{this.\u0275cmp=rt({type:i,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:10,hostBindings:function(n,r){n&2&&(wt("data-mat-icon-type",r._usingFontIcon()?"font":"svg")("data-mat-icon-name",r._svgName||r.fontIcon)("data-mat-icon-namespace",r._svgNamespace||r.fontSet)("fontIcon",r._usingFontIcon()?r.fontIcon:null),Dr(r.color?"mat-"+r.color:""),qe("mat-icon-inline",r.inline)("mat-icon-no-color",r.color!=="primary"&&r.color!=="accent"&&r.color!=="warn"))},inputs:{color:"color",inline:[J.HasDecoratorInputTransform,"inline","inline",Je],svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],standalone:!0,features:[Bt,Tt],ngContentSelectors:hle,decls:1,vars:0,template:function(n,r){n&1&&(Ti(),ct(0))},styles:["mat-icon,mat-icon.mat-primary,mat-icon.mat-accent,mat-icon.mat-warn{color:var(--mat-icon-color)}.mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0})}}return i})(),Tx=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275mod=$e({type:i})}static{this.\u0275inj=je({imports:[Ft,Ft]})}}return i})();var Jg=class{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;t!=null&&(this._attachedHost=null,t.detach())}get isAttached(){return this._attachedHost!=null}setAttachedHost(t){this._attachedHost=t}},ad=class extends Jg{constructor(t,e,n,r,o){super(),this.component=t,this.viewContainerRef=e,this.injector=n,this.componentFactoryResolver=r,this.projectableNodes=o}},Ns=class extends Jg{constructor(t,e,n,r){super(),this.templateRef=t,this.viewContainerRef=e,this.context=n,this.injector=r}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}},XD=class extends Jg{constructor(t){super(),this.element=t instanceof Oe?t.nativeElement:t}},ep=class{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){if(t instanceof ad)return this._attachedPortal=t,this.attachComponentPortal(t);if(t instanceof Ns)return this._attachedPortal=t,this.attachTemplatePortal(t);if(this.attachDomPortal&&t instanceof XD)return this._attachedPortal=t,this.attachDomPortal(t)}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}};var Dx=class extends ep{constructor(t,e,n,r,o){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=n,this._defaultInjector=r,this.attachDomPortal=s=>{this._document;let a=s.element;a.parentNode;let c=this._document.createComment("dom-portal");a.parentNode.insertBefore(c,a),this.outletElement.appendChild(a),this._attachedPortal=s,super.setDisposeFn(()=>{c.parentNode&&c.parentNode.replaceChild(a,c)})},this._document=o}attachComponentPortal(t){let n=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),r;return t.viewContainerRef?(r=t.viewContainerRef.createComponent(n,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector,t.projectableNodes||void 0),this.setDisposeFn(()=>r.destroy())):(r=n.create(t.injector||this._defaultInjector||Jn.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=t,r}attachTemplatePortal(t){let e=t.viewContainerRef,n=e.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return n.rootNodes.forEach(r=>this.outletElement.appendChild(r)),n.detectChanges(),this.setDisposeFn(()=>{let r=e.indexOf(n);r!==-1&&e.remove(r)}),this._attachedPortal=t,n}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(t){return t.hostView.rootNodes[0]}};var XH=(()=>{class i extends Ns{constructor(e,n){super(e,n)}static{this.\u0275fac=function(n){return new(n||i)(O(Hi),O(rn))}}static{this.\u0275dir=we({type:i,selectors:[["","cdkPortal",""]],exportAs:["cdkPortal"],standalone:!0,features:[Et]})}}return i})();var Yc=(()=>{class i extends ep{constructor(e,n,r){super(),this._componentFactoryResolver=e,this._viewContainerRef=n,this._isInitialized=!1,this.attached=new Qe,this.attachDomPortal=o=>{this._document;let s=o.element;s.parentNode;let a=this._document.createComment("dom-portal");o.setAttachedHost(this),s.parentNode.insertBefore(a,s),this._getRootNode().appendChild(s),this._attachedPortal=o,super.setDisposeFn(()=>{a.parentNode&&a.parentNode.replaceChild(s,a)})},this._document=r}get portal(){return this._attachedPortal}set portal(e){this.hasAttached()&&!e&&!this._isInitialized||(this.hasAttached()&&super.detach(),e&&super.attach(e),this._attachedPortal=e||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(e){e.setAttachedHost(this);let n=e.viewContainerRef!=null?e.viewContainerRef:this._viewContainerRef,o=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component),s=n.createComponent(o,n.length,e.injector||n.injector,e.projectableNodes||void 0);return n!==this._viewContainerRef&&this._getRootNode().appendChild(s.hostView.rootNodes[0]),super.setDisposeFn(()=>s.destroy()),this._attachedPortal=e,this._attachedRef=s,this.attached.emit(s),s}attachTemplatePortal(e){e.setAttachedHost(this);let n=this._viewContainerRef.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=e,this._attachedRef=n,this.attached.emit(n),n}_getRootNode(){let e=this._viewContainerRef.element.nativeElement;return e.nodeType===e.ELEMENT_NODE?e:e.parentNode}static{this.\u0275fac=function(n){return new(n||i)(O(ja),O(rn),O(It))}}static{this.\u0275dir=we({type:i,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:[J.None,"cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],standalone:!0,features:[Et]})}}return i})();var tp=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275mod=$e({type:i})}static{this.\u0275inj=je({})}}return i})();function Ax(i){return i&&typeof i.connect=="function"&&!(i instanceof Dl)}var ip=function(i){return i[i.REPLACED=0]="REPLACED",i[i.INSERTED=1]="INSERTED",i[i.MOVED=2]="MOVED",i[i.REMOVED=3]="REMOVED",i}(ip||{}),e_=new ge("_ViewRepeater"),np=class{applyChanges(t,e,n,r,o){t.forEachOperation((s,a,c)=>{let l,d;if(s.previousIndex==null){let u=n(s,a,c);l=e.createEmbeddedView(u.templateRef,u.context,u.index),d=ip.INSERTED}else c==null?(e.remove(a),d=ip.REMOVED):(l=e.get(a),e.move(l,c),d=ip.MOVED);o&&o({context:l?.context,operation:d,record:s})})}detach(){}};var kx=class{get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}constructor(t=!1,e,n=!0,r){this._multiple=t,this._emitChanges=n,this.compareWith=r,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new Fe,e&&e.length&&(t?e.forEach(o=>this._markSelected(o)):this._markSelected(e[0]),this._selectedToEmit.length=0)}select(...t){this._verifyValueAssignment(t),t.forEach(n=>this._markSelected(n));let e=this._hasQueuedChanges();return this._emitChangeEvent(),e}deselect(...t){this._verifyValueAssignment(t),t.forEach(n=>this._unmarkSelected(n));let e=this._hasQueuedChanges();return this._emitChangeEvent(),e}setSelection(...t){this._verifyValueAssignment(t);let e=this.selected,n=new Set(t);t.forEach(o=>this._markSelected(o)),e.filter(o=>!n.has(this._getConcreteValue(o,n))).forEach(o=>this._unmarkSelected(o));let r=this._hasQueuedChanges();return this._emitChangeEvent(),r}toggle(t){return this.isSelected(t)?this.deselect(t):this.select(t)}clear(t=!0){this._unmarkAll();let e=this._hasQueuedChanges();return t&&this._emitChangeEvent(),e}isSelected(t){return this._selection.has(this._getConcreteValue(t))}isEmpty(){return this._selection.size===0}hasValue(){return!this.isEmpty()}sort(t){this._multiple&&this.selected&&this._selected.sort(t)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(t){t=this._getConcreteValue(t),this.isSelected(t)||(this._multiple||this._unmarkAll(),this.isSelected(t)||this._selection.add(t),this._emitChanges&&this._selectedToEmit.push(t))}_unmarkSelected(t){t=this._getConcreteValue(t),this.isSelected(t)&&(this._selection.delete(t),this._emitChanges&&this._deselectedToEmit.push(t))}_unmarkAll(){this.isEmpty()||this._selection.forEach(t=>this._unmarkSelected(t))}_verifyValueAssignment(t){t.length>1&&this._multiple}_hasQueuedChanges(){return!!(this._deselectedToEmit.length||this._selectedToEmit.length)}_getConcreteValue(t,e){if(this.compareWith){e=e??this._selection;for(let n of e)if(this.compareWith(t,n))return n;return t}else return t}};var Px=(()=>{class i{constructor(){this._listeners=[]}notify(e,n){for(let r of this._listeners)r(e,n)}listen(e){return this._listeners.push(e),()=>{this._listeners=this._listeners.filter(n=>e!==n)}}ngOnDestroy(){this._listeners=[]}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275prov=xe({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();var wle=20,op=(()=>{class i{constructor(e,n,r){this._ngZone=e,this._platform=n,this._scrolled=new Fe,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){let n=this.scrollContainers.get(e);n&&(n.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=wle){return this._platform.isBrowser?new jt(n=>{this._globalSubscription||this._addGlobalListener();let r=e>0?this._scrolled.pipe(j0(e)).subscribe(n):this._scrolled.subscribe(n);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):dt()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,n)=>this.deregister(n)),this._scrolled.complete()}ancestorScrolled(e,n){let r=this.getAncestorScrollContainers(e);return this.scrolled(n).pipe(ki(o=>!o||r.indexOf(o)>-1))}getAncestorScrollContainers(e){let n=[];return this.scrollContainers.forEach((r,o)=>{this._scrollableContainsElement(o,e)&&n.push(o)}),n}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,n){let r=Ho(n),o=e.getElementRef().nativeElement;do if(r==o)return!0;while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>{let e=this._getWindow();return qs(e.document,"scroll").subscribe(()=>this._scrolled.next())})}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}static{this.\u0275fac=function(n){return new(n||i)(me(Ne),me(ri),me(It,8))}}static{this.\u0275prov=xe({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})(),YD=(()=>{class i{constructor(e,n,r,o){this.elementRef=e,this.scrollDispatcher=n,this.ngZone=r,this.dir=o,this._destroyed=new Fe,this._elementScrolled=new jt(s=>this.ngZone.runOutsideAngular(()=>qs(this.elementRef.nativeElement,"scroll").pipe(Pt(this._destroyed)).subscribe(s)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(e){let n=this.elementRef.nativeElement,r=this.dir&&this.dir.value=="rtl";e.left==null&&(e.left=r?e.end:e.start),e.right==null&&(e.right=r?e.start:e.end),e.bottom!=null&&(e.top=n.scrollHeight-n.clientHeight-e.bottom),r&&$m()!=na.NORMAL?(e.left!=null&&(e.right=n.scrollWidth-n.clientWidth-e.left),$m()==na.INVERTED?e.left=e.right:$m()==na.NEGATED&&(e.left=e.right?-e.right:e.right)):e.right!=null&&(e.left=n.scrollWidth-n.clientWidth-e.right),this._applyScrollToOptions(e)}_applyScrollToOptions(e){let n=this.elementRef.nativeElement;ax()?n.scrollTo(e):(e.top!=null&&(n.scrollTop=e.top),e.left!=null&&(n.scrollLeft=e.left))}measureScrollOffset(e){let n="left",r="right",o=this.elementRef.nativeElement;if(e=="top")return o.scrollTop;if(e=="bottom")return o.scrollHeight-o.clientHeight-o.scrollTop;let s=this.dir&&this.dir.value=="rtl";return e=="start"?e=s?r:n:e=="end"&&(e=s?n:r),s&&$m()==na.INVERTED?e==n?o.scrollWidth-o.clientWidth-o.scrollLeft:o.scrollLeft:s&&$m()==na.NEGATED?e==n?o.scrollLeft+o.scrollWidth-o.clientWidth:-o.scrollLeft:e==n?o.scrollLeft:o.scrollWidth-o.clientWidth-o.scrollLeft}static{this.\u0275fac=function(n){return new(n||i)(O(Oe),O(op),O(Ne),O(vr,8))}}static{this.\u0275dir=we({type:i,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]],standalone:!0})}}return i})(),Mle=20,oa=(()=>{class i{constructor(e,n,r){this._platform=e,this._change=new Fe,this._changeListener=o=>{this._change.next(o)},this._document=r,n.runOutsideAngular(()=>{if(e.isBrowser){let o=this._getWindow();o.addEventListener("resize",this._changeListener),o.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){let e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();let e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){let e=this.getViewportScrollPosition(),{width:n,height:r}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+r,right:e.left+n,height:r,width:n}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};let e=this._document,n=this._getWindow(),r=e.documentElement,o=r.getBoundingClientRect(),s=-o.top||e.body.scrollTop||n.scrollY||r.scrollTop||0,a=-o.left||e.body.scrollLeft||n.scrollX||r.scrollLeft||0;return{top:s,left:a}}change(e=Mle){return e>0?this._change.pipe(j0(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){let e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}static{this.\u0275fac=function(n){return new(n||i)(me(ri),me(Ne),me(It,8))}}static{this.\u0275prov=xe({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();var rp=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275mod=$e({type:i})}static{this.\u0275inj=je({})}}return i})(),t_=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275mod=$e({type:i})}static{this.\u0275inj=je({imports:[id,rp,id,rp]})}}return i})();var Zc=function(i){return i[i.State=0]="State",i[i.Transition=1]="Transition",i[i.Sequence=2]="Sequence",i[i.Group=3]="Group",i[i.Animate=4]="Animate",i[i.Keyframes=5]="Keyframes",i[i.Style=6]="Style",i[i.Trigger=7]="Trigger",i[i.Reference=8]="Reference",i[i.AnimateChild=9]="AnimateChild",i[i.AnimateRef=10]="AnimateRef",i[i.Query=11]="Query",i[i.Stagger=12]="Stagger",i}(Zc||{}),_3e="*";function Os(i,t){return{type:Zc.Trigger,name:i,definitions:t,options:{}}}function To(i,t=null){return{type:Zc.Animate,styles:t,timings:i}}function b3e(i,t=null){return{type:Zc.Sequence,steps:i,options:t}}function Wn(i){return{type:Zc.Style,styles:i,offset:null}}function Jr(i,t,e){return{type:Zc.State,name:i,styles:t,options:e}}function eo(i,t,e=null){return{type:Zc.Transition,expr:i,animation:t,options:e}}function QH(i=null){return{type:Zc.AnimateChild,options:i}}function JH(i,t,e=null){return{type:Zc.Query,selector:i,animation:t,options:e}}var ZH=class{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){let e=t=="start"?this._onStartFns:this._onDoneFns;e.forEach(n=>n()),e.length=0}},KH=class{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,n=0,r=0,o=this.players.length;o==0?queueMicrotask(()=>this._onFinish()):this.players.forEach(s=>{s.onDone(()=>{++e==o&&this._onFinish()}),s.onDestroy(()=>{++n==o&&this._onDestroy()}),s.onStart(()=>{++r==o&&this._onStart()})}),this.totalTime=this.players.reduce((s,a)=>Math.max(s,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){let e=t*this.totalTime;this.players.forEach(n=>{let r=n.totalTime?Math.min(1,e/n.totalTime):1;n.setPosition(r)})}getPosition(){let t=this.players.reduce((e,n)=>e===null||n.totalTime>e.totalTime?n:e,null);return t!=null?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){let e=t=="start"?this._onStartFns:this._onDoneFns;e.forEach(n=>n()),e.length=0}},v3e="!";var JD=["*"];function Cle(i,t){i&1&&ct(0)}var Sle=["tabListContainer"],Ele=["tabList"],Tle=["tabListInner"],Ile=["nextPaginator"],Dle=["previousPaginator"],kle=i=>({animationDuration:i}),Ale=(i,t)=>({value:i,params:t});function Ple(i,t){}var Rle=["tabBodyWrapper"],Nle=["tabHeader"];function Ole(i,t){}function Fle(i,t){if(i&1&&Ee(0,Ole,0,0,"ng-template",12),i&2){let e=Q().$implicit;ae("cdkPortalOutlet",e.templateLabel)}}function Lle(i,t){if(i&1&&P(0),i&2){let e=Q().$implicit;Xt(e.textLabel)}}function Ble(i,t){if(i&1){let e=ft();y(0,"div",7,2),fe("click",function(){let r=ce(e),o=r.$implicit,s=r.$index,a=Q(),c=Co(1);return le(a._handleClick(o,c,s))})("cdkFocusChange",function(r){let o=ce(e).$index,s=Q();return le(s._tabFocusChanged(r,o))}),Ue(2,"span",8)(3,"div",9),y(4,"span",10)(5,"span",11),Ee(6,Fle,1,1,null,12)(7,Lle,1,1),x()()()}if(i&2){let e=t.$implicit,n=t.$index,r=Co(1),o=Q();Dr(e.labelClass),qe("mdc-tab--active",o.selectedIndex===n),ae("id",o._getTabLabelId(n))("disabled",e.disabled)("fitInkBarToContent",o.fitInkBarToContent),wt("tabIndex",o._getTabIndex(n))("aria-posinset",n+1)("aria-setsize",o._tabs.length)("aria-controls",o._getTabContentId(n))("aria-selected",o.selectedIndex===n)("aria-label",e.ariaLabel||null)("aria-labelledby",!e.ariaLabel&&e.ariaLabelledby?e.ariaLabelledby:null),B(3),ae("matRippleTrigger",r)("matRippleDisabled",e.disabled||o.disableRipple),B(3),Yt(6,e.templateLabel?6:7)}}function Vle(i,t){i&1&&ct(0)}function Ule(i,t){if(i&1){let e=ft();y(0,"mat-tab-body",13),fe("_onCentered",function(){ce(e);let r=Q();return le(r._removeTabBodyWrapperHeight())})("_onCentering",function(r){ce(e);let o=Q();return le(o._setTabBodyWrapperHeight(r))}),x()}if(i&2){let e=t.$implicit,n=t.$index,r=Q();Dr(e.bodyClass),qe("mat-mdc-tab-body-active",r.selectedIndex===n),ae("id",r._getTabContentId(n))("content",e.content)("position",e.position)("origin",e.origin)("animationDuration",r.animationDuration)("preserveContent",r.preserveContent),wt("tabindex",r.contentTabIndex!=null&&r.selectedIndex===n?r.contentTabIndex:null)("aria-labelledby",r._getTabLabelId(n))("aria-hidden",r.selectedIndex!==n)}}var zle=new ge("MatTabContent"),Hle=(()=>{class i{constructor(e){this.template=e}static{this.\u0275fac=function(n){return new(n||i)(O(Hi))}}static{this.\u0275dir=we({type:i,selectors:[["","matTabContent",""]],standalone:!0,features:[Ot([{provide:zle,useExisting:i}])]})}}return i})(),jle=new ge("MatTabLabel"),ij=new ge("MAT_TAB"),ek=(()=>{class i extends XH{constructor(e,n,r){super(e,n),this._closestTab=r}static{this.\u0275fac=function(n){return new(n||i)(O(Hi),O(rn),O(ij,8))}}static{this.\u0275dir=we({type:i,selectors:[["","mat-tab-label",""],["","matTabLabel",""]],standalone:!0,features:[Ot([{provide:jle,useExisting:i}]),Et]})}}return i})(),nj=new ge("MAT_TAB_GROUP"),tk=(()=>{class i{get templateLabel(){return this._templateLabel}set templateLabel(e){this._setTemplateLabelInput(e)}get content(){return this._contentPortal}constructor(e,n){this._viewContainerRef=e,this._closestTabGroup=n,this.disabled=!1,this._explicitContent=void 0,this.textLabel="",this._contentPortal=null,this._stateChanges=new Fe,this.position=null,this.origin=null,this.isActive=!1}ngOnChanges(e){(e.hasOwnProperty("textLabel")||e.hasOwnProperty("disabled"))&&this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}ngOnInit(){this._contentPortal=new Ns(this._explicitContent||this._implicitContent,this._viewContainerRef)}_setTemplateLabelInput(e){e&&e._closestTab===this&&(this._templateLabel=e)}static{this.\u0275fac=function(n){return new(n||i)(O(rn),O(nj,8))}}static{this.\u0275cmp=rt({type:i,selectors:[["mat-tab"]],contentQueries:function(n,r,o){if(n&1&&(ni(o,ek,5),ni(o,Hle,7,Hi)),n&2){let s;Le(s=Be())&&(r.templateLabel=s.first),Le(s=Be())&&(r._explicitContent=s.first)}},viewQuery:function(n,r){if(n&1&&Nt(Hi,7),n&2){let o;Le(o=Be())&&(r._implicitContent=o.first)}},hostAttrs:["hidden",""],inputs:{disabled:[J.HasDecoratorInputTransform,"disabled","disabled",Je],textLabel:[J.None,"label","textLabel"],ariaLabel:[J.None,"aria-label","ariaLabel"],ariaLabelledby:[J.None,"aria-labelledby","ariaLabelledby"],labelClass:"labelClass",bodyClass:"bodyClass"},exportAs:["matTab"],standalone:!0,features:[Ot([{provide:ij,useExisting:i}]),Bt,Bi,Tt],ngContentSelectors:JD,decls:1,vars:0,template:function(n,r){n&1&&(Ti(),Ee(0,Cle,1,0,"ng-template"))},encapsulation:2})}}return i})(),ZD="mdc-tab-indicator--active",ej="mdc-tab-indicator--no-transition",KD=class{constructor(t){this._items=t}hide(){this._items.forEach(t=>t.deactivateInkBar())}alignToElement(t){let e=this._items.find(r=>r.elementRef.nativeElement===t),n=this._currentItem;if(e!==n&&(n?.deactivateInkBar(),e)){let r=n?.elementRef.nativeElement.getBoundingClientRect?.();e.activateInkBar(r),this._currentItem=e}}},$le=(()=>{class i{constructor(){this._elementRef=be(Oe),this._fitToContent=!1}get fitInkBarToContent(){return this._fitToContent}set fitInkBarToContent(e){this._fitToContent!==e&&(this._fitToContent=e,this._inkBarElement&&this._appendInkBarElement())}activateInkBar(e){let n=this._elementRef.nativeElement;if(!e||!n.getBoundingClientRect||!this._inkBarContentElement){n.classList.add(ZD);return}let r=n.getBoundingClientRect(),o=e.width/r.width,s=e.left-r.left;n.classList.add(ej),this._inkBarContentElement.style.setProperty("transform",`translateX(${s}px) scaleX(${o})`),n.getBoundingClientRect(),n.classList.remove(ej),n.classList.add(ZD),this._inkBarContentElement.style.setProperty("transform","")}deactivateInkBar(){this._elementRef.nativeElement.classList.remove(ZD)}ngOnInit(){this._createInkBarElement()}ngOnDestroy(){this._inkBarElement?.remove(),this._inkBarElement=this._inkBarContentElement=null}_createInkBarElement(){let e=this._elementRef.nativeElement.ownerDocument||document,n=this._inkBarElement=e.createElement("span"),r=this._inkBarContentElement=e.createElement("span");n.className="mdc-tab-indicator",r.className="mdc-tab-indicator__content mdc-tab-indicator__content--underline",n.appendChild(this._inkBarContentElement),this._appendInkBarElement()}_appendInkBarElement(){this._inkBarElement;let e=this._fitToContent?this._elementRef.nativeElement.querySelector(".mdc-tab__content"):this._elementRef.nativeElement;e.appendChild(this._inkBarElement)}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275dir=we({type:i,inputs:{fitInkBarToContent:[J.HasDecoratorInputTransform,"fitInkBarToContent","fitInkBarToContent",Je]},features:[Bt]})}}return i})();var rj=(()=>{class i extends $le{constructor(e){super(),this.elementRef=e,this.disabled=!1}focus(){this.elementRef.nativeElement.focus()}getOffsetLeft(){return this.elementRef.nativeElement.offsetLeft}getOffsetWidth(){return this.elementRef.nativeElement.offsetWidth}static{this.\u0275fac=function(n){return new(n||i)(O(Oe))}}static{this.\u0275dir=we({type:i,selectors:[["","matTabLabelWrapper",""]],hostVars:3,hostBindings:function(n,r){n&2&&(wt("aria-disabled",!!r.disabled),qe("mat-mdc-tab-disabled",r.disabled))},inputs:{disabled:[J.HasDecoratorInputTransform,"disabled","disabled",Je]},standalone:!0,features:[Bt,Et]})}}return i})(),tj=As({passive:!0}),Gle=650,Wle=100,qle=(()=>{class i{get selectedIndex(){return this._selectedIndex}set selectedIndex(e){let n=isNaN(e)?0:e;this._selectedIndex!=n&&(this._selectedIndexChanged=!0,this._selectedIndex=n,this._keyManager&&this._keyManager.updateActiveItem(n))}constructor(e,n,r,o,s,a,c){this._elementRef=e,this._changeDetectorRef=n,this._viewportRuler=r,this._dir=o,this._ngZone=s,this._platform=a,this._animationMode=c,this._scrollDistance=0,this._selectedIndexChanged=!1,this._destroyed=new Fe,this._showPaginationControls=!1,this._disableScrollAfter=!0,this._disableScrollBefore=!0,this._stopScrolling=new Fe,this.disablePagination=!1,this._selectedIndex=0,this.selectFocusedIndex=new Qe,this.indexFocused=new Qe,s.runOutsideAngular(()=>{qs(e.nativeElement,"mouseleave").pipe(Pt(this._destroyed)).subscribe(()=>{this._stopInterval()})})}ngAfterViewInit(){qs(this._previousPaginator.nativeElement,"touchstart",tj).pipe(Pt(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("before")}),qs(this._nextPaginator.nativeElement,"touchstart",tj).pipe(Pt(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("after")})}ngAfterContentInit(){let e=this._dir?this._dir.change:dt("ltr"),n=this._viewportRuler.change(150),r=()=>{this.updatePagination(),this._alignInkBarToSelectedTab()};this._keyManager=new td(this._items).withHorizontalOrientation(this._getLayoutDirection()).withHomeAndEnd().withWrap().skipPredicate(()=>!1),this._keyManager.updateActiveItem(this._selectedIndex),this._ngZone.onStable.pipe(nn(1)).subscribe(r),rr(e,n,this._items.changes,this._itemsResized()).pipe(Pt(this._destroyed)).subscribe(()=>{this._ngZone.run(()=>{Promise.resolve().then(()=>{this._scrollDistance=Math.max(0,Math.min(this._getMaxScrollDistance(),this._scrollDistance)),r()})}),this._keyManager.withHorizontalOrientation(this._getLayoutDirection())}),this._keyManager.change.subscribe(o=>{this.indexFocused.emit(o),this._setTabFocus(o)})}_itemsResized(){return typeof ResizeObserver!="function"?Zn:this._items.changes.pipe(or(this._items),Kn(e=>new jt(n=>this._ngZone.runOutsideAngular(()=>{let r=new ResizeObserver(o=>n.next(o));return e.forEach(o=>r.observe(o.elementRef.nativeElement)),()=>{r.disconnect()}}))),hu(1),ki(e=>e.some(n=>n.contentRect.width>0&&n.contentRect.height>0)))}ngAfterContentChecked(){this._tabLabelCount!=this._items.length&&(this.updatePagination(),this._tabLabelCount=this._items.length,this._changeDetectorRef.markForCheck()),this._selectedIndexChanged&&(this._scrollToLabel(this._selectedIndex),this._checkScrollingControls(),this._alignInkBarToSelectedTab(),this._selectedIndexChanged=!1,this._changeDetectorRef.markForCheck()),this._scrollDistanceChanged&&(this._updateTabScrollPosition(),this._scrollDistanceChanged=!1,this._changeDetectorRef.markForCheck())}ngOnDestroy(){this._keyManager?.destroy(),this._destroyed.next(),this._destroyed.complete(),this._stopScrolling.complete()}_handleKeydown(e){if(!Eo(e))switch(e.keyCode){case 13:case 32:if(this.focusIndex!==this.selectedIndex){let n=this._items.get(this.focusIndex);n&&!n.disabled&&(this.selectFocusedIndex.emit(this.focusIndex),this._itemSelected(e))}break;default:this._keyManager.onKeydown(e)}}_onContentChanges(){let e=this._elementRef.nativeElement.textContent;e!==this._currentTextContent&&(this._currentTextContent=e||"",this._ngZone.run(()=>{this.updatePagination(),this._alignInkBarToSelectedTab(),this._changeDetectorRef.markForCheck()}))}updatePagination(){this._checkPaginationEnabled(),this._checkScrollingControls(),this._updateTabScrollPosition()}get focusIndex(){return this._keyManager?this._keyManager.activeItemIndex:0}set focusIndex(e){!this._isValidIndex(e)||this.focusIndex===e||!this._keyManager||this._keyManager.setActiveItem(e)}_isValidIndex(e){return this._items?!!this._items.toArray()[e]:!0}_setTabFocus(e){if(this._showPaginationControls&&this._scrollToLabel(e),this._items&&this._items.length){this._items.toArray()[e].focus();let n=this._tabListContainer.nativeElement;this._getLayoutDirection()=="ltr"?n.scrollLeft=0:n.scrollLeft=n.scrollWidth-n.offsetWidth}}_getLayoutDirection(){return this._dir&&this._dir.value==="rtl"?"rtl":"ltr"}_updateTabScrollPosition(){if(this.disablePagination)return;let e=this.scrollDistance,n=this._getLayoutDirection()==="ltr"?-e:e;this._tabList.nativeElement.style.transform=`translateX(${Math.round(n)}px)`,(this._platform.TRIDENT||this._platform.EDGE)&&(this._tabListContainer.nativeElement.scrollLeft=0)}get scrollDistance(){return this._scrollDistance}set scrollDistance(e){this._scrollTo(e)}_scrollHeader(e){let n=this._tabListContainer.nativeElement.offsetWidth,r=(e=="before"?-1:1)*n/3;return this._scrollTo(this._scrollDistance+r)}_handlePaginatorClick(e){this._stopInterval(),this._scrollHeader(e)}_scrollToLabel(e){if(this.disablePagination)return;let n=this._items?this._items.toArray()[e]:null;if(!n)return;let r=this._tabListContainer.nativeElement.offsetWidth,{offsetLeft:o,offsetWidth:s}=n.elementRef.nativeElement,a,c;this._getLayoutDirection()=="ltr"?(a=o,c=a+s):(c=this._tabListInner.nativeElement.offsetWidth-o,a=c-s);let l=this.scrollDistance,d=this.scrollDistance+r;a<l?this.scrollDistance-=l-a:c>d&&(this.scrollDistance+=Math.min(c-d,a-l))}_checkPaginationEnabled(){if(this.disablePagination)this._showPaginationControls=!1;else{let e=this._tabListInner.nativeElement.scrollWidth>this._elementRef.nativeElement.offsetWidth;e||(this.scrollDistance=0),e!==this._showPaginationControls&&this._changeDetectorRef.markForCheck(),this._showPaginationControls=e}}_checkScrollingControls(){this.disablePagination?this._disableScrollAfter=this._disableScrollBefore=!0:(this._disableScrollBefore=this.scrollDistance==0,this._disableScrollAfter=this.scrollDistance==this._getMaxScrollDistance(),this._changeDetectorRef.markForCheck())}_getMaxScrollDistance(){let e=this._tabListInner.nativeElement.scrollWidth,n=this._tabListContainer.nativeElement.offsetWidth;return e-n||0}_alignInkBarToSelectedTab(){let e=this._items&&this._items.length?this._items.toArray()[this.selectedIndex]:null,n=e?e.elementRef.nativeElement:null;n?this._inkBar.alignToElement(n):this._inkBar.hide()}_stopInterval(){this._stopScrolling.next()}_handlePaginatorPress(e,n){n&&n.button!=null&&n.button!==0||(this._stopInterval(),Ff(Gle,Wle).pipe(Pt(rr(this._stopScrolling,this._destroyed))).subscribe(()=>{let{maxScrollDistance:r,distance:o}=this._scrollHeader(e);(o===0||o>=r)&&this._stopInterval()}))}_scrollTo(e){if(this.disablePagination)return{maxScrollDistance:0,distance:0};let n=this._getMaxScrollDistance();return this._scrollDistance=Math.max(0,Math.min(n,e)),this._scrollDistanceChanged=!0,this._checkScrollingControls(),{maxScrollDistance:n,distance:this._scrollDistance}}static{this.\u0275fac=function(n){return new(n||i)(O(Oe),O(ci),O(oa),O(vr,8),O(Ne),O(ri),O(Vi,8))}}static{this.\u0275dir=we({type:i,inputs:{disablePagination:[J.HasDecoratorInputTransform,"disablePagination","disablePagination",Je],selectedIndex:[J.HasDecoratorInputTransform,"selectedIndex","selectedIndex",on]},outputs:{selectFocusedIndex:"selectFocusedIndex",indexFocused:"indexFocused"},features:[Bt]})}}return i})(),Xle=(()=>{class i extends qle{constructor(e,n,r,o,s,a,c){super(e,n,r,o,s,a,c),this.disableRipple=!1}ngAfterContentInit(){this._inkBar=new KD(this._items),super.ngAfterContentInit()}_itemSelected(e){e.preventDefault()}static{this.\u0275fac=function(n){return new(n||i)(O(Oe),O(ci),O(oa),O(vr,8),O(Ne),O(ri),O(Vi,8))}}static{this.\u0275cmp=rt({type:i,selectors:[["mat-tab-header"]],contentQueries:function(n,r,o){if(n&1&&ni(o,rj,4),n&2){let s;Le(s=Be())&&(r._items=s)}},viewQuery:function(n,r){if(n&1&&(Nt(Sle,7),Nt(Ele,7),Nt(Tle,7),Nt(Ile,5),Nt(Dle,5)),n&2){let o;Le(o=Be())&&(r._tabListContainer=o.first),Le(o=Be())&&(r._tabList=o.first),Le(o=Be())&&(r._tabListInner=o.first),Le(o=Be())&&(r._nextPaginator=o.first),Le(o=Be())&&(r._previousPaginator=o.first)}},hostAttrs:[1,"mat-mdc-tab-header"],hostVars:4,hostBindings:function(n,r){n&2&&qe("mat-mdc-tab-header-pagination-controls-enabled",r._showPaginationControls)("mat-mdc-tab-header-rtl",r._getLayoutDirection()=="rtl")},inputs:{disableRipple:[J.HasDecoratorInputTransform,"disableRipple","disableRipple",Je]},standalone:!0,features:[Bt,Et,Tt],ngContentSelectors:JD,decls:13,vars:10,consts:[["previousPaginator",""],["tabListContainer",""],["tabList",""],["tabListInner",""],["nextPaginator",""],["aria-hidden","true","type","button","mat-ripple","","tabindex","-1",1,"mat-mdc-tab-header-pagination","mat-mdc-tab-header-pagination-before",3,"click","mousedown","touchend","matRippleDisabled","disabled"],[1,"mat-mdc-tab-header-pagination-chevron"],[1,"mat-mdc-tab-label-container",3,"keydown"],["role","tablist",1,"mat-mdc-tab-list",3,"cdkObserveContent"],[1,"mat-mdc-tab-labels"],["aria-hidden","true","type","button","mat-ripple","","tabindex","-1",1,"mat-mdc-tab-header-pagination","mat-mdc-tab-header-pagination-after",3,"mousedown","click","touchend","matRippleDisabled","disabled"]],template:function(n,r){if(n&1){let o=ft();Ti(),y(0,"button",5,0),fe("click",function(){return ce(o),le(r._handlePaginatorClick("before"))})("mousedown",function(a){return ce(o),le(r._handlePaginatorPress("before",a))})("touchend",function(){return ce(o),le(r._stopInterval())}),Ue(2,"div",6),x(),y(3,"div",7,1),fe("keydown",function(a){return ce(o),le(r._handleKeydown(a))}),y(5,"div",8,2),fe("cdkObserveContent",function(){return ce(o),le(r._onContentChanges())}),y(7,"div",9,3),ct(9),x()()(),y(10,"button",10,4),fe("mousedown",function(a){return ce(o),le(r._handlePaginatorPress("after",a))})("click",function(){return ce(o),le(r._handlePaginatorClick("after"))})("touchend",function(){return ce(o),le(r._stopInterval())}),Ue(12,"div",6),x()}n&2&&(qe("mat-mdc-tab-header-pagination-disabled",r._disableScrollBefore),ae("matRippleDisabled",r._disableScrollBefore||r.disableRipple)("disabled",r._disableScrollBefore||null),B(3),qe("_mat-animation-noopable",r._animationMode==="NoopAnimations"),B(7),qe("mat-mdc-tab-header-pagination-disabled",r._disableScrollAfter),ae("matRippleDisabled",r._disableScrollAfter||r.disableRipple)("disabled",r._disableScrollAfter||null))},dependencies:[od,cx],styles:[".mat-mdc-tab-header{display:flex;overflow:hidden;position:relative;flex-shrink:0}.mdc-tab-indicator .mdc-tab-indicator__content{transition-duration:var(--mat-tab-animation-duration, 250ms)}.mat-mdc-tab-header-pagination{-webkit-user-select:none;user-select:none;position:relative;display:none;justify-content:center;align-items:center;min-width:32px;cursor:pointer;z-index:2;-webkit-tap-highlight-color:rgba(0,0,0,0);touch-action:none;box-sizing:content-box;background:none;border:none;outline:0;padding:0}.mat-mdc-tab-header-pagination::-moz-focus-inner{border:0}.mat-mdc-tab-header-pagination .mat-ripple-element{opacity:.12;background-color:var(--mat-tab-header-inactive-ripple-color)}.mat-mdc-tab-header-pagination-controls-enabled .mat-mdc-tab-header-pagination{display:flex}.mat-mdc-tab-header-pagination-before,.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-after{padding-left:4px}.mat-mdc-tab-header-pagination-before .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-after .mat-mdc-tab-header-pagination-chevron{transform:rotate(-135deg)}.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-before,.mat-mdc-tab-header-pagination-after{padding-right:4px}.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-before .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-header-pagination-after .mat-mdc-tab-header-pagination-chevron{transform:rotate(45deg)}.mat-mdc-tab-header-pagination-chevron{border-style:solid;border-width:2px 2px 0 0;height:8px;width:8px;border-color:var(--mat-tab-header-pagination-icon-color)}.mat-mdc-tab-header-pagination-disabled{box-shadow:none;cursor:default;pointer-events:none}.mat-mdc-tab-header-pagination-disabled .mat-mdc-tab-header-pagination-chevron{opacity:.4}.mat-mdc-tab-list{flex-grow:1;position:relative;transition:transform 500ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-mdc-tab-list{transition:none}._mat-animation-noopable span.mdc-tab-indicator__content,._mat-animation-noopable span.mdc-tab__text-label{transition:none}.mat-mdc-tab-label-container{display:flex;flex-grow:1;overflow:hidden;z-index:1;border-bottom-style:solid;border-bottom-width:var(--mat-tab-header-divider-height);border-bottom-color:var(--mat-tab-header-divider-color)}.mat-mdc-tab-group-inverted-header .mat-mdc-tab-label-container{border-bottom:none;border-top-style:solid;border-top-width:var(--mat-tab-header-divider-height);border-top-color:var(--mat-tab-header-divider-color)}.mat-mdc-tab-labels{display:flex;flex:1 0 auto}[mat-align-tabs=center]>.mat-mdc-tab-header .mat-mdc-tab-labels{justify-content:center}[mat-align-tabs=end]>.mat-mdc-tab-header .mat-mdc-tab-labels{justify-content:flex-end}.mat-mdc-tab::before{margin:5px}.cdk-high-contrast-active .mat-mdc-tab[aria-disabled=true]{color:GrayText}"],encapsulation:2})}}return i})(),Yle=new ge("MAT_TABS_CONFIG"),Zle={translateTab:Os("translateTab",[Jr("center, void, left-origin-center, right-origin-center",Wn({transform:"none"})),Jr("left",Wn({transform:"translate3d(-100%, 0, 0)",minHeight:"1px",visibility:"hidden"})),Jr("right",Wn({transform:"translate3d(100%, 0, 0)",minHeight:"1px",visibility:"hidden"})),eo("* => left, * => right, left => center, right => center",To("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")),eo("void => left-origin-center",[Wn({transform:"translate3d(-100%, 0, 0)",visibility:"hidden"}),To("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")]),eo("void => right-origin-center",[Wn({transform:"translate3d(100%, 0, 0)",visibility:"hidden"}),To("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")])])},Kle=(()=>{class i extends Yc{constructor(e,n,r,o){super(e,n,o),this._host=r,this._centeringSub=qt.EMPTY,this._leavingSub=qt.EMPTY}ngOnInit(){super.ngOnInit(),this._centeringSub=this._host._beforeCentering.pipe(or(this._host._isCenterPosition(this._host._position))).subscribe(e=>{e&&!this.hasAttached()&&this.attach(this._host._content)}),this._leavingSub=this._host._afterLeavingCenter.subscribe(()=>{this._host.preserveContent||this.detach()})}ngOnDestroy(){super.ngOnDestroy(),this._centeringSub.unsubscribe(),this._leavingSub.unsubscribe()}static{this.\u0275fac=function(n){return new(n||i)(O(ja),O(rn),O(_r(()=>oj)),O(It))}}static{this.\u0275dir=we({type:i,selectors:[["","matTabBodyHost",""]],standalone:!0,features:[Et]})}}return i})(),oj=(()=>{class i{set position(e){this._positionIndex=e,this._computePositionAnimationState()}constructor(e,n,r){this._elementRef=e,this._dir=n,this._dirChangeSubscription=qt.EMPTY,this._translateTabComplete=new Fe,this._onCentering=new Qe,this._beforeCentering=new Qe,this._afterLeavingCenter=new Qe,this._onCentered=new Qe(!0),this.animationDuration="500ms",this.preserveContent=!1,n&&(this._dirChangeSubscription=n.change.subscribe(o=>{this._computePositionAnimationState(o),r.markForCheck()})),this._translateTabComplete.pipe(Nl((o,s)=>o.fromState===s.fromState&&o.toState===s.toState)).subscribe(o=>{this._isCenterPosition(o.toState)&&this._isCenterPosition(this._position)&&this._onCentered.emit(),this._isCenterPosition(o.fromState)&&!this._isCenterPosition(this._position)&&this._afterLeavingCenter.emit()})}ngOnInit(){this._position=="center"&&this.origin!=null&&(this._position=this._computePositionFromOrigin(this.origin))}ngOnDestroy(){this._dirChangeSubscription.unsubscribe(),this._translateTabComplete.complete()}_onTranslateTabStarted(e){let n=this._isCenterPosition(e.toState);this._beforeCentering.emit(n),n&&this._onCentering.emit(this._elementRef.nativeElement.clientHeight)}_getLayoutDirection(){return this._dir&&this._dir.value==="rtl"?"rtl":"ltr"}_isCenterPosition(e){return e=="center"||e=="left-origin-center"||e=="right-origin-center"}_computePositionAnimationState(e=this._getLayoutDirection()){this._positionIndex<0?this._position=e=="ltr"?"left":"right":this._positionIndex>0?this._position=e=="ltr"?"right":"left":this._position="center"}_computePositionFromOrigin(e){let n=this._getLayoutDirection();return n=="ltr"&&e<=0||n=="rtl"&&e>0?"left-origin-center":"right-origin-center"}static{this.\u0275fac=function(n){return new(n||i)(O(Oe),O(vr,8),O(ci))}}static{this.\u0275cmp=rt({type:i,selectors:[["mat-tab-body"]],viewQuery:function(n,r){if(n&1&&Nt(Yc,5),n&2){let o;Le(o=Be())&&(r._portalHost=o.first)}},hostAttrs:[1,"mat-mdc-tab-body"],inputs:{_content:[J.None,"content","_content"],origin:"origin",animationDuration:"animationDuration",preserveContent:"preserveContent",position:"position"},outputs:{_onCentering:"_onCentering",_beforeCentering:"_beforeCentering",_afterLeavingCenter:"_afterLeavingCenter",_onCentered:"_onCentered"},standalone:!0,features:[Tt],decls:3,vars:6,consts:[["content",""],["cdkScrollable","",1,"mat-mdc-tab-body-content"],["matTabBodyHost",""]],template:function(n,r){if(n&1){let o=ft();y(0,"div",1,0),fe("@translateTab.start",function(a){return ce(o),le(r._onTranslateTabStarted(a))})("@translateTab.done",function(a){return ce(o),le(r._translateTabComplete.next(a))}),Ee(2,Ple,0,0,"ng-template",2),x()}n&2&&ae("@translateTab",$U(3,Ale,r._position,jU(1,kle,r.animationDuration)))},dependencies:[Kle,YD],styles:['.mat-mdc-tab-body{top:0;left:0;right:0;bottom:0;position:absolute;display:block;overflow:hidden;outline:0;flex-basis:100%}.mat-mdc-tab-body.mat-mdc-tab-body-active{position:relative;overflow-x:hidden;overflow-y:auto;z-index:1;flex-grow:1}.mat-mdc-tab-group.mat-mdc-tab-group-dynamic-height .mat-mdc-tab-body.mat-mdc-tab-body-active{overflow-y:hidden}.mat-mdc-tab-body-content{height:100%;overflow:auto}.mat-mdc-tab-group-dynamic-height .mat-mdc-tab-body-content{overflow:hidden}.mat-mdc-tab-body-content[style*="visibility: hidden"]{display:none}'],encapsulation:2,data:{animation:[Zle.translateTab]}})}}return i})(),Qle=0,Jle=!0,sj=(()=>{class i{get fitInkBarToContent(){return this._fitInkBarToContent}set fitInkBarToContent(e){this._fitInkBarToContent=e,this._changeDetectorRef.markForCheck()}get selectedIndex(){return this._selectedIndex}set selectedIndex(e){this._indexToSelect=isNaN(e)?null:e}get animationDuration(){return this._animationDuration}set animationDuration(e){let n=e+"";this._animationDuration=/^\d+$/.test(n)?e+"ms":n}get contentTabIndex(){return this._contentTabIndex}set contentTabIndex(e){this._contentTabIndex=isNaN(e)?null:e}get backgroundColor(){return this._backgroundColor}set backgroundColor(e){if(!Jle)throw new Error("mat-tab-group background color must be set through the Sass theming API");let n=this._elementRef.nativeElement.classList;n.remove("mat-tabs-with-background",`mat-background-${this.backgroundColor}`),e&&n.add("mat-tabs-with-background",`mat-background-${e}`),this._backgroundColor=e}constructor(e,n,r,o){this._elementRef=e,this._changeDetectorRef=n,this._animationMode=o,this._tabs=new Ss,this._indexToSelect=0,this._lastFocusedTabIndex=null,this._tabBodyWrapperHeight=0,this._tabsSubscription=qt.EMPTY,this._tabLabelSubscription=qt.EMPTY,this._fitInkBarToContent=!1,this.stretchTabs=!0,this.dynamicHeight=!1,this._selectedIndex=null,this.headerPosition="above",this.disablePagination=!1,this.disableRipple=!1,this.preserveContent=!1,this.selectedIndexChange=new Qe,this.focusChange=new Qe,this.animationDone=new Qe,this.selectedTabChange=new Qe(!0),this._isServer=!be(ri).isBrowser,this._groupId=Qle++,this.animationDuration=r&&r.animationDuration?r.animationDuration:"500ms",this.disablePagination=r&&r.disablePagination!=null?r.disablePagination:!1,this.dynamicHeight=r&&r.dynamicHeight!=null?r.dynamicHeight:!1,r?.contentTabIndex!=null&&(this.contentTabIndex=r.contentTabIndex),this.preserveContent=!!r?.preserveContent,this.fitInkBarToContent=r&&r.fitInkBarToContent!=null?r.fitInkBarToContent:!1,this.stretchTabs=r&&r.stretchTabs!=null?r.stretchTabs:!0}ngAfterContentChecked(){let e=this._indexToSelect=this._clampTabIndex(this._indexToSelect);if(this._selectedIndex!=e){let n=this._selectedIndex==null;if(!n){this.selectedTabChange.emit(this._createChangeEvent(e));let r=this._tabBodyWrapper.nativeElement;r.style.minHeight=r.clientHeight+"px"}Promise.resolve().then(()=>{this._tabs.forEach((r,o)=>r.isActive=o===e),n||(this.selectedIndexChange.emit(e),this._tabBodyWrapper.nativeElement.style.minHeight="")})}this._tabs.forEach((n,r)=>{n.position=r-e,this._selectedIndex!=null&&n.position==0&&!n.origin&&(n.origin=e-this._selectedIndex)}),this._selectedIndex!==e&&(this._selectedIndex=e,this._lastFocusedTabIndex=null,this._changeDetectorRef.markForCheck())}ngAfterContentInit(){this._subscribeToAllTabChanges(),this._subscribeToTabLabels(),this._tabsSubscription=this._tabs.changes.subscribe(()=>{let e=this._clampTabIndex(this._indexToSelect);if(e===this._selectedIndex){let n=this._tabs.toArray(),r;for(let o=0;o<n.length;o++)if(n[o].isActive){this._indexToSelect=this._selectedIndex=o,this._lastFocusedTabIndex=null,r=n[o];break}!r&&n[e]&&Promise.resolve().then(()=>{n[e].isActive=!0,this.selectedTabChange.emit(this._createChangeEvent(e))})}this._changeDetectorRef.markForCheck()})}_subscribeToAllTabChanges(){this._allTabs.changes.pipe(or(this._allTabs)).subscribe(e=>{this._tabs.reset(e.filter(n=>n._closestTabGroup===this||!n._closestTabGroup)),this._tabs.notifyOnChanges()})}ngOnDestroy(){this._tabs.destroy(),this._tabsSubscription.unsubscribe(),this._tabLabelSubscription.unsubscribe()}realignInkBar(){this._tabHeader&&this._tabHeader._alignInkBarToSelectedTab()}updatePagination(){this._tabHeader&&this._tabHeader.updatePagination()}focusTab(e){let n=this._tabHeader;n&&(n.focusIndex=e)}_focusChanged(e){this._lastFocusedTabIndex=e,this.focusChange.emit(this._createChangeEvent(e))}_createChangeEvent(e){let n=new QD;return n.index=e,this._tabs&&this._tabs.length&&(n.tab=this._tabs.toArray()[e]),n}_subscribeToTabLabels(){this._tabLabelSubscription&&this._tabLabelSubscription.unsubscribe(),this._tabLabelSubscription=rr(...this._tabs.map(e=>e._stateChanges)).subscribe(()=>this._changeDetectorRef.markForCheck())}_clampTabIndex(e){return Math.min(this._tabs.length-1,Math.max(e||0,0))}_getTabLabelId(e){return`mat-tab-label-${this._groupId}-${e}`}_getTabContentId(e){return`mat-tab-content-${this._groupId}-${e}`}_setTabBodyWrapperHeight(e){if(!this.dynamicHeight||!this._tabBodyWrapperHeight)return;let n=this._tabBodyWrapper.nativeElement;n.style.height=this._tabBodyWrapperHeight+"px",this._tabBodyWrapper.nativeElement.offsetHeight&&(n.style.height=e+"px")}_removeTabBodyWrapperHeight(){let e=this._tabBodyWrapper.nativeElement;this._tabBodyWrapperHeight=e.clientHeight,e.style.height="",this.animationDone.emit()}_handleClick(e,n,r){n.focusIndex=r,e.disabled||(this.selectedIndex=r)}_getTabIndex(e){let n=this._lastFocusedTabIndex??this.selectedIndex;return e===n?0:-1}_tabFocusChanged(e,n){e&&e!=="mouse"&&e!=="touch"&&(this._tabHeader.focusIndex=n)}static{this.\u0275fac=function(n){return new(n||i)(O(Oe),O(ci),O(Yle,8),O(Vi,8))}}static{this.\u0275cmp=rt({type:i,selectors:[["mat-tab-group"]],contentQueries:function(n,r,o){if(n&1&&ni(o,tk,5),n&2){let s;Le(s=Be())&&(r._allTabs=s)}},viewQuery:function(n,r){if(n&1&&(Nt(Rle,5),Nt(Nle,5)),n&2){let o;Le(o=Be())&&(r._tabBodyWrapper=o.first),Le(o=Be())&&(r._tabHeader=o.first)}},hostAttrs:[1,"mat-mdc-tab-group"],hostVars:10,hostBindings:function(n,r){n&2&&(Dr("mat-"+(r.color||"primary")),$n("--mat-tab-animation-duration",r.animationDuration),qe("mat-mdc-tab-group-dynamic-height",r.dynamicHeight)("mat-mdc-tab-group-inverted-header",r.headerPosition==="below")("mat-mdc-tab-group-stretch-tabs",r.stretchTabs))},inputs:{color:"color",fitInkBarToContent:[J.HasDecoratorInputTransform,"fitInkBarToContent","fitInkBarToContent",Je],stretchTabs:[J.HasDecoratorInputTransform,"mat-stretch-tabs","stretchTabs",Je],dynamicHeight:[J.HasDecoratorInputTransform,"dynamicHeight","dynamicHeight",Je],selectedIndex:[J.HasDecoratorInputTransform,"selectedIndex","selectedIndex",on],headerPosition:"headerPosition",animationDuration:"animationDuration",contentTabIndex:[J.HasDecoratorInputTransform,"contentTabIndex","contentTabIndex",on],disablePagination:[J.HasDecoratorInputTransform,"disablePagination","disablePagination",Je],disableRipple:[J.HasDecoratorInputTransform,"disableRipple","disableRipple",Je],preserveContent:[J.HasDecoratorInputTransform,"preserveContent","preserveContent",Je],backgroundColor:"backgroundColor"},outputs:{selectedIndexChange:"selectedIndexChange",focusChange:"focusChange",animationDone:"animationDone",selectedTabChange:"selectedTabChange"},exportAs:["matTabGroup"],standalone:!0,features:[Ot([{provide:nj,useExisting:i}]),Bt,Tt],ngContentSelectors:JD,decls:9,vars:6,consts:[["tabHeader",""],["tabBodyWrapper",""],["tabNode",""],[3,"indexFocused","selectFocusedIndex","selectedIndex","disableRipple","disablePagination"],["role","tab","matTabLabelWrapper","","cdkMonitorElementFocus","",1,"mdc-tab","mat-mdc-tab","mat-mdc-focus-indicator",3,"id","mdc-tab--active","class","disabled","fitInkBarToContent"],[1,"mat-mdc-tab-body-wrapper"],["role","tabpanel",3,"id","mat-mdc-tab-body-active","class","content","position","origin","animationDuration","preserveContent"],["role","tab","matTabLabelWrapper","","cdkMonitorElementFocus","",1,"mdc-tab","mat-mdc-tab","mat-mdc-focus-indicator",3,"click","cdkFocusChange","id","disabled","fitInkBarToContent"],[1,"mdc-tab__ripple"],["mat-ripple","",1,"mat-mdc-tab-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mdc-tab__content"],[1,"mdc-tab__text-label"],[3,"cdkPortalOutlet"],["role","tabpanel",3,"_onCentered","_onCentering","id","content","position","origin","animationDuration","preserveContent"]],template:function(n,r){if(n&1){let o=ft();Ti(),y(0,"mat-tab-header",3,0),fe("indexFocused",function(a){return ce(o),le(r._focusChanged(a))})("selectFocusedIndex",function(a){return ce(o),le(r.selectedIndex=a)}),lg(2,Ble,8,17,"div",4,cg),x(),Ee(4,Vle,1,0),y(5,"div",5,1),lg(7,Ule,1,13,"mat-tab-body",6,cg),x()}n&2&&(ae("selectedIndex",r.selectedIndex||0)("disableRipple",r.disableRipple)("disablePagination",r.disablePagination),B(2),dg(r._tabs),B(2),Yt(4,r._isServer?4:-1),B(),qe("_mat-animation-noopable",r._animationMode==="NoopAnimations"),B(2),dg(r._tabs))},dependencies:[Xle,rj,DH,od,Yc,oj],styles:['.mdc-tab{min-width:90px;padding-right:24px;padding-left:24px;display:flex;flex:1 0 auto;justify-content:center;box-sizing:border-box;margin:0;padding-top:0;padding-bottom:0;border:none;outline:none;text-align:center;white-space:nowrap;cursor:pointer;-webkit-appearance:none;z-index:1}.mdc-tab::-moz-focus-inner{padding:0;border:0}.mdc-tab[hidden]{display:none}.mdc-tab--min-width{flex:0 1 auto}.mdc-tab__content{display:flex;align-items:center;justify-content:center;height:inherit;pointer-events:none}.mdc-tab__text-label{transition:150ms color linear;display:inline-block;line-height:1;z-index:2}.mdc-tab__icon{transition:150ms color linear;z-index:2}.mdc-tab--stacked .mdc-tab__content{flex-direction:column;align-items:center;justify-content:center}.mdc-tab--stacked .mdc-tab__text-label{padding-top:6px;padding-bottom:4px}.mdc-tab--active .mdc-tab__text-label,.mdc-tab--active .mdc-tab__icon{transition-delay:100ms}.mdc-tab:not(.mdc-tab--stacked) .mdc-tab__icon+.mdc-tab__text-label{padding-left:8px;padding-right:0}[dir=rtl] .mdc-tab:not(.mdc-tab--stacked) .mdc-tab__icon+.mdc-tab__text-label,.mdc-tab:not(.mdc-tab--stacked) .mdc-tab__icon+.mdc-tab__text-label[dir=rtl]{padding-left:0;padding-right:8px}.mdc-tab-indicator{display:flex;position:absolute;top:0;left:0;justify-content:center;width:100%;height:100%;pointer-events:none;z-index:1}.mdc-tab-indicator__content{transform-origin:left;opacity:0}.mdc-tab-indicator__content--underline{align-self:flex-end;box-sizing:border-box;width:100%;border-top-style:solid}.mdc-tab-indicator__content--icon{align-self:center;margin:0 auto}.mdc-tab-indicator--active .mdc-tab-indicator__content{opacity:1}.mdc-tab-indicator .mdc-tab-indicator__content{transition:250ms transform cubic-bezier(0.4, 0, 0.2, 1)}.mdc-tab-indicator--no-transition .mdc-tab-indicator__content{transition:none}.mdc-tab-indicator--fade .mdc-tab-indicator__content{transition:150ms opacity linear}.mdc-tab-indicator--active.mdc-tab-indicator--fade .mdc-tab-indicator__content{transition-delay:100ms}.mat-mdc-tab-ripple{position:absolute;top:0;left:0;bottom:0;right:0;pointer-events:none}.mat-mdc-tab{-webkit-tap-highlight-color:rgba(0,0,0,0);-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;text-decoration:none;background:none;font-family:var(--mat-tab-header-label-text-font);font-size:var(--mat-tab-header-label-text-size);letter-spacing:var(--mat-tab-header-label-text-tracking);line-height:var(--mat-tab-header-label-text-line-height);font-weight:var(--mat-tab-header-label-text-weight)}.mat-mdc-tab .mdc-tab-indicator__content--underline{border-color:var(--mdc-tab-indicator-active-indicator-color)}.mat-mdc-tab .mdc-tab-indicator__content--underline{border-top-width:var(--mdc-tab-indicator-active-indicator-height)}.mat-mdc-tab .mdc-tab-indicator__content--underline{border-radius:var(--mdc-tab-indicator-active-indicator-shape)}.mat-mdc-tab:not(.mdc-tab--stacked){height:var(--mdc-secondary-navigation-tab-container-height)}.mat-mdc-tab:not(:disabled).mdc-tab--active .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:not(:disabled):hover.mdc-tab--active .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:not(:disabled):focus.mdc-tab--active .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:not(:disabled):active.mdc-tab--active .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:disabled.mdc-tab--active .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:not(:disabled):not(.mdc-tab--active) .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:not(:disabled):hover:not(.mdc-tab--active) .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:not(:disabled):focus:not(.mdc-tab--active) .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:not(:disabled):active:not(.mdc-tab--active) .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:disabled:not(.mdc-tab--active) .mdc-tab__icon{fill:currentColor}.mat-mdc-tab.mdc-tab{flex-grow:0}.mat-mdc-tab:hover .mdc-tab__text-label{color:var(--mat-tab-header-inactive-hover-label-text-color)}.mat-mdc-tab:focus .mdc-tab__text-label{color:var(--mat-tab-header-inactive-focus-label-text-color)}.mat-mdc-tab.mdc-tab--active .mdc-tab__text-label{color:var(--mat-tab-header-active-label-text-color)}.mat-mdc-tab.mdc-tab--active .mdc-tab__ripple::before,.mat-mdc-tab.mdc-tab--active .mat-ripple-element{background-color:var(--mat-tab-header-active-ripple-color)}.mat-mdc-tab.mdc-tab--active:hover .mdc-tab__text-label{color:var(--mat-tab-header-active-hover-label-text-color)}.mat-mdc-tab.mdc-tab--active:hover .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-active-hover-indicator-color)}.mat-mdc-tab.mdc-tab--active:focus .mdc-tab__text-label{color:var(--mat-tab-header-active-focus-label-text-color)}.mat-mdc-tab.mdc-tab--active:focus .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-active-focus-indicator-color)}.mat-mdc-tab.mat-mdc-tab-disabled{opacity:.4;pointer-events:none}.mat-mdc-tab.mat-mdc-tab-disabled .mdc-tab__content{pointer-events:none}.mat-mdc-tab.mat-mdc-tab-disabled .mdc-tab__ripple::before,.mat-mdc-tab.mat-mdc-tab-disabled .mat-ripple-element{background-color:var(--mat-tab-header-disabled-ripple-color)}.mat-mdc-tab .mdc-tab__ripple::before{content:"";display:block;position:absolute;top:0;left:0;right:0;bottom:0;opacity:0;pointer-events:none;background-color:var(--mat-tab-header-inactive-ripple-color)}.mat-mdc-tab .mdc-tab__text-label{color:var(--mat-tab-header-inactive-label-text-color);display:inline-flex;align-items:center}.mat-mdc-tab .mdc-tab__content{position:relative;pointer-events:auto}.mat-mdc-tab:hover .mdc-tab__ripple::before{opacity:.04}.mat-mdc-tab.cdk-program-focused .mdc-tab__ripple::before,.mat-mdc-tab.cdk-keyboard-focused .mdc-tab__ripple::before{opacity:.12}.mat-mdc-tab .mat-ripple-element{opacity:.12;background-color:var(--mat-tab-header-inactive-ripple-color)}.mat-mdc-tab-group.mat-mdc-tab-group-stretch-tabs>.mat-mdc-tab-header .mat-mdc-tab{flex-grow:1}.mat-mdc-tab-group{display:flex;flex-direction:column;max-width:100%}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination{background-color:var(--mat-tab-header-with-background-background-color)}.mat-mdc-tab-group.mat-tabs-with-background.mat-primary>.mat-mdc-tab-header .mat-mdc-tab .mdc-tab__text-label{color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background.mat-primary>.mat-mdc-tab-header .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background:not(.mat-primary)>.mat-mdc-tab-header .mat-mdc-tab:not(.mdc-tab--active) .mdc-tab__text-label{color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background:not(.mat-primary)>.mat-mdc-tab-header .mat-mdc-tab:not(.mdc-tab--active) .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-mdc-focus-indicator::before,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-mdc-focus-indicator::before{border-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-ripple-element,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mdc-tab__ripple::before,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-ripple-element,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mdc-tab__ripple::before{background-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-mdc-tab-header-pagination-chevron{color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-mdc-tab-group-inverted-header{flex-direction:column-reverse}.mat-mdc-tab-group.mat-mdc-tab-group-inverted-header .mdc-tab-indicator__content--underline{align-self:flex-start}.mat-mdc-tab-body-wrapper{position:relative;overflow:hidden;display:flex;transition:height 500ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-mdc-tab-body-wrapper._mat-animation-noopable{transition:none !important;animation:none !important}'],encapsulation:2})}}return i})(),QD=class{};var aj=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275mod=$e({type:i})}static{this.\u0275inj=je({imports:[Ft,Ft]})}}return i})();var Zq=hE(Yq());var wM=(()=>{class i{constructor(){this.model=null,this.modelLoading=!1,this.modelFailed=!1,this.detectionResults=new Pi(null),this.isLoading=new Pi(!1),this.medicineKeywords=[{class:"bottle",medicines:["Aspirin","Ibuprofen","Paracetamol","Vitamin C","Omeprazole","Ranitidine"]},{class:"cup",medicines:["Tablet container","Pill cup","Medicine cup"]},{class:"box",medicines:["Amoxicillin","Loratadine","Metformin","Lisinopril","Atorvastatin"]},{class:"pill",medicines:["Diclofenac","Cetirizine","Folic Acid","Phenytoin"]},{class:"tablet",medicines:["Sertraline","Fluoxetine","Levothyroxine","Amlodipine"]}],this.initializeModel()}initializeModel(){return te(this,null,function*(){if(this.model||this.modelLoading||this.modelFailed){console.log("Model already loading, loaded, or failed");return}this.modelLoading=!0;let e=2;for(;e>0;)try{console.log(`Loading COCO-SSD model (attempt ${3-e}/3)...`),this.model=yield Zq.load(),console.log("\u2713 COCO-SSD model loaded successfully"),this.modelLoading=!1;return}catch(n){e--,console.error(`Model loading failed (${e} retries left):`,n),e>0&&(yield new Promise(r=>setTimeout(r,2e3)))}console.warn("\u26A0 COCO-SSD model failed to load, using fallback detection"),this.modelFailed=!0,this.modelLoading=!1})}detectMedicines(e){return te(this,null,function*(){this.isLoading.next(!0);try{!this.model&&!this.modelLoading&&!this.modelFailed&&(console.log("Model not loaded, initializing..."),yield this.initializeModel());let n,r="";typeof e=="string"?(r=e,n=yield this.loadImage(e)):(r=e.src||"",n=e);let o=[];console.log("\u26A0\uFE0F Using smart image detection..."),o=yield this.fallbackDetection(n),console.log("Detected objects:",o);let s={imageUrl:r||n.src,objects:o,timestamp:new Date,imageWidth:n.width,imageHeight:n.height};return this.detectionResults.next(s),s}catch(n){console.error("Error detecting medicines:",n),n instanceof Error&&(console.error("Error message:",n.message),console.error("Stack:",n.stack));let r={imageUrl:e instanceof HTMLImageElement?e.src:e,objects:[],timestamp:new Date,imageWidth:e instanceof HTMLImageElement?e.width:640,imageHeight:e instanceof HTMLImageElement?e.height:480};return console.log("Returning empty result due to error"),r}finally{this.isLoading.next(!1)}})}detectFromCanvas(e){return te(this,null,function*(){this.isLoading.next(!0);try{this.model||(yield this.initializeModel());let r=(yield this.model.detect(e)).map(s=>({class:s.class,score:Math.round(s.score*100)/100,bbox:s.bbox,x:s.bbox[0],y:s.bbox[1]})),o={imageUrl:e.toDataURL(),objects:r,timestamp:new Date,imageWidth:e.width,imageHeight:e.height};return this.detectionResults.next(o),o}catch(n){return console.error("Error detecting from canvas:",n),null}finally{this.isLoading.next(!1)}})}matchMedicineToObject(e,n,r){let o=e.toLowerCase();for(let a of this.medicineKeywords)if(o.includes(a.class)||a.class.includes(o))return{medicine:a.medicines[n%a.medicines.length],confidence:.85};if(o.includes("bottle")||o.includes("container")){let a=["Aspirin","Ibuprofen","Paracetamol","Vitamin C","Omeprazole"];return{medicine:a[n%a.length],confidence:.75}}if(o.includes("box")||o.includes("package")){let a=["Amoxicillin","Loratadine","Metformin","Lisinopril","Atorvastatin"];return{medicine:a[n%a.length],confidence:.75}}let s=["Aspirin","Vitamin C","Ibuprofen","Paracetamol","Amoxicillin","Loratadine","Omeprazole","Metformin","Lisinopril","Atorvastatin","Sertraline","Fluoxetine","Amlodipine","Cetirizine","Diclofenac"];return{medicine:s[n%s.length],confidence:.65}}loadImage(e){return new Promise((n,r)=>{let o=new Image;o.crossOrigin="anonymous",o.onload=()=>n(o),o.onerror=r,o.src=e})}fallbackDetection(e){return te(this,null,function*(){console.log("Using fallback detection (image analysis)...");try{let n=document.createElement("canvas");n.width=e.width||640,n.height=e.height||480;let r=n.getContext("2d");if(!r)return console.log("Could not get canvas context, returning default medicines"),this.getDefaultMedicines();try{r.drawImage(e,0,0)}catch(u){return console.warn("Could not draw image to canvas:",u),this.getDefaultMedicines()}let s=r.getImageData(0,0,n.width,n.height).data,a={white:0,brown:0,blue:0,green:0,red:0,other:0};for(let u=0;u<s.length;u+=4){let h=s[u],m=s[u+1],p=s[u+2];h>180&&m>180&&p>180?a.white++:h>140&&m>100&&p<120?a.brown++:p>140&&h<140&&m<140?a.blue++:m>150&&h<150&&p<150?a.green++:h>150&&m<100&&p<100?a.red++:a.other++}let c=s.length/4,l=[],d={white:a.white/c*100,brown:a.brown/c*100,blue:a.blue/c*100,green:a.green/c*100,red:a.red/c*100};if(console.log("Color analysis:",{colorCount:a,totalPixels:c,percentages:d}),d.white>.5){let u=this.matchMedicineToObject("bottle",0,4);l.push({class:"bottle",score:.72,bbox:[100,100,200,300],x:100,y:100,matchedMedicine:u.medicine,confidence:u.confidence})}if(d.brown>.3){let u=l.length,h=this.matchMedicineToObject("box",u,4);l.push({class:"box",score:.68,bbox:[350,150,200,250],x:350,y:150,matchedMedicine:h.medicine,confidence:h.confidence})}if(d.blue>.3){let u=l.length,h=this.matchMedicineToObject("pill",u,4);l.push({class:"pill container",score:.65,bbox:[200,350,150,150],x:200,y:350,matchedMedicine:h.medicine,confidence:h.confidence})}if(d.green>.3){let u=l.length,h=this.matchMedicineToObject("bottle",u,4);l.push({class:"bottle (green)",score:.7,bbox:[250,200,180,280],x:250,y:200,matchedMedicine:h.medicine,confidence:h.confidence})}if(d.red>.1){let u=l.length,h=this.matchMedicineToObject("box",u,4);l.push({class:"medicine box",score:.63,bbox:[320,280,160,200],x:320,y:280,matchedMedicine:h.medicine,confidence:h.confidence})}return l.length===0?(console.log("No pharmacy colors detected in image - return empty list"),[]):(console.log("Fallback detection found",l.length,"objects:",l),l)}catch(n){return console.error("Fallback detection error:",n),[]}})}getDefaultMedicines(){return console.log("Returning default medicines"),[{class:"bottle",score:.6,bbox:[100,100,200,300],x:100,y:100,matchedMedicine:"Aspirin",confidence:.7},{class:"box",score:.58,bbox:[350,150,200,250],x:350,y:150,matchedMedicine:"Amoxicillin",confidence:.7},{class:"pill",score:.55,bbox:[200,350,150,150],x:200,y:350,matchedMedicine:"Ibuprofen",confidence:.7}]}getDetectionResults(){return this.detectionResults.asObservable()}getLoadingState(){return this.isLoading.asObservable()}filterDetectionsByClass(e,n){return e.objects.filter(r=>r.class.toLowerCase().includes(n.toLowerCase()))}getMedicineConfidence(e,n=.5){return e.objects.filter(r=>r.score>=n)}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275prov=xe({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();var Qq=(()=>{class i{constructor(){}detectMedicines(e){return te(this,null,function*(){try{return console.log("Advanced detection disabled - using fallback only"),{objects:[],medicines:[]}}catch(n){return console.error("Error in advanced detection:",n),{objects:[],medicines:[]}}})}isModelReady(){return te(this,null,function*(){return!0})}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275prov=xe({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();var Jq=(()=>{class i{constructor(){this.scannedBarcode=new Pi(null),this.isScanning=new Pi(!1),this.medicineDatabase={"5012254500012":{name:"Aspirin",strength:"500mg",manufacturer:"Generic"},"5014496014175":{name:"Ibuprofen",strength:"200mg",manufacturer:"Generic"},"5000017000049":{name:"Paracetamol",strength:"500mg",manufacturer:"Generic"},"5012254300013":{name:"Vitamin C",strength:"1000mg",manufacturer:"Generic"},"5000456000127":{name:"Amoxicillin",strength:"500mg",manufacturer:"Generic"},"5010415000081":{name:"Cetirizine",strength:"10mg",manufacturer:"Generic"},"5014496011156":{name:"Loratadine",strength:"10mg",manufacturer:"Generic"},"5015687000129":{name:"Omeprazole",strength:"20mg",manufacturer:"Generic"},"5010415000463":{name:"Metformin",strength:"500mg",manufacturer:"Generic"},"5010887010316":{name:"Lisinopril",strength:"10mg",manufacturer:"Generic"}},this.currentStream=null}startScanning(e){return te(this,null,function*(){return new Promise((n,r)=>{try{console.log("Starting camera for barcode scanning..."),this.isScanning.next(!0),navigator.mediaDevices.getUserMedia({video:{facingMode:"environment"}}).then(o=>{console.log("Camera stream obtained"),this.currentStream=o,e.srcObject=o;let s=e.play();s!==void 0?s.then(()=>{console.log("Video playback started successfully"),n()}).catch(a=>{console.error("Video playback error:",a),r(new Error("Failed to play video stream"))}):(console.log("Video playback initiated"),n())}).catch(o=>{console.error("Camera access denied:",o),this.isScanning.next(!1),r(new Error(`Camera access denied: ${o.message}`))})}catch(o){console.error("Error starting camera:",o),this.isScanning.next(!1),r(o)}})})}stopScanning(){try{this.currentStream&&(this.currentStream.getTracks().forEach(e=>e.stop()),this.currentStream=null),this.isScanning.next(!1),console.log("Camera stopped")}catch(e){console.error("Error stopping camera:",e)}}setScannedBarcode(e){console.log("Barcode set:",e),this.scannedBarcode.next(e),this.isScanning.next(!1)}getScannedBarcode(){return this.scannedBarcode.asObservable()}getIsScanning(){return this.isScanning.asObservable()}lookupMedicine(e){return te(this,null,function*(){if(console.log("Looking up medicine for barcode:",e),this.medicineDatabase[e])return mi(ye({},this.medicineDatabase[e]),{barcode:e});let n=yield this.lookupOpenFda(e);return n||{name:`Medicine (Barcode: ${e})`,strength:"Unknown",manufacturer:"Unknown",barcode:e}})}resetBarcode(){this.scannedBarcode.next(null)}lookupOpenFda(e){return te(this,null,function*(){try{let n=this.buildNdcSearchTerms(e);for(let r of n){let o=[`package_ndc:"${r}"`,`product_ndc:"${r}"`];for(let s of o){let a=`https://api.fda.gov/drug/ndc.json?search=${encodeURIComponent(s)}&limit=1`,c=yield fetch(a);if(!c.ok)continue;let d=(yield c.json())?.results?.[0];if(d){let u=d.active_ingredients?.[0];return{name:d.brand_name||d.generic_name||`Medicine (Barcode: ${e})`,strength:u?.strength||"Unknown",manufacturer:d.labeler_name||"Unknown",genericName:d.generic_name||"",ndc:d.product_ndc||d.package_ndc||"",barcode:e}}}}}catch(n){console.warn("OpenFDA lookup failed:",n)}return null})}buildNdcSearchTerms(e){let n=(e||"").replace(/\D/g,"");if(!n)return[];let r=[n];return n.length===11&&r.push(`${n.slice(0,5)}-${n.slice(5,9)}-${n.slice(9)}`),n.length===10&&(r.push(`${n.slice(0,4)}-${n.slice(4,8)}-${n.slice(8)}`),r.push(`${n.slice(0,5)}-${n.slice(5,8)}-${n.slice(8)}`),r.push(`${n.slice(0,5)}-${n.slice(5,9)}-${n.slice(9)}`)),Array.from(new Set(r))}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275prov=xe({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();var eX=(()=>{class i{constructor(){this.isAvailable=!1,this.checkTesseractAvailability()}checkTesseractAvailability(){try{typeof Tesseract<"u"?(this.isAvailable=!0,console.log("\u2705 Tesseract.js is available")):(console.warn("\u26A0\uFE0F Tesseract.js not found - OCR disabled"),this.isAvailable=!1)}catch(e){console.warn("\u26A0\uFE0F Tesseract.js error:",e),this.isAvailable=!1}}extractTextFromImage(e){return te(this,null,function*(){return new Promise((n,r)=>te(this,null,function*(){try{if(!this.isAvailable||typeof Tesseract>"u"){r(new Error("Tesseract.js not available"));return}console.log("\u{1F504} Starting OCR text extraction...");let o=yield Tesseract.createWorker("eng");yield o.setParameters({tessedit_char_whitelist:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-+/. ",preserve_interword_spaces:"1"});let{data:{text:s}}=yield o.recognize(e);console.log("\u2705 OCR extraction complete"),console.log("\u{1F4DD} Extracted text:",s.substring(0,100)+"..."),yield o.terminate(),n(s)}catch(o){console.error("\u274C OCR extraction error:",o),r(o)}}))})}extractMedicineDetails(e){return te(this,null,function*(){try{console.log("\u{1F50D} Attempting to extract medicine details from image...");let n=yield this.extractTextFromImage(e),r=this.parseExtractedText(n);return console.log("\u{1F4CB} Parsed medicine details:",r),{success:!0,rawText:n,medicineDetails:r}}catch(n){return console.error("\u274C Error extracting medicine details:",n),{success:!1,error:n instanceof Error?n.message:"OCR failed",rawText:"",medicineDetails:{}}}})}parseExtractedText(e){let n=e.split(`
`).filter(d=>d.trim().length>0),r={name:"",strength:"",manufacturer:"",genericName:""},s=n.map(d=>d.replace(/\s+/g," ").trim()).filter(d=>d.length>3&&!/^[\d\s]+$/.test(d)).map(d=>{let u=(d.match(/[A-Za-z]/g)||[]).length,h=(d.match(/[0-9]/g)||[]).length,m=u*2+h-Math.abs(d.length-20);return{line:d,score:m}});s.sort((d,u)=>u.score-d.score),s.length>0&&(r.name=s[0].line.substring(0,50));let a=/(\d+(?:\.\d+)?)\s*(mg|g|ml|%|mcg|iu|units?)/gi,c=e.match(a);c&&c.length>0&&(r.strength=c[0]);let l=["Ltd","Inc","Corp","Pharma","Pharmaceutical","Laboratories","Labs","Pvt"];for(let d of l){let u=new RegExp(`([A-Za-z\\s&]+${d}[A-Za-z\\s&]*)`,"i"),h=e.match(u);if(h){r.manufacturer=h[1].trim().substring(0,40);break}}return r}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275prov=xe({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();var tX=(()=>{class i{constructor(){this.defaultBaseUrl="https://api.openai.com/v1",this.defaultModel="gpt-4o-mini"}extractMedicineDetails(e){return te(this,null,function*(){let n=(e||"").trim();if(!n)return null;let r=this.getConfigValue("LLM_API_KEY");if(!r)return console.warn("LLM API key not set; skipping LLM extraction"),null;let o=this.getConfigValue("LLM_API_BASE_URL")||this.defaultBaseUrl,s=this.getConfigValue("LLM_MODEL")||this.defaultModel,a=["Extract medicine details from the OCR text.","Return ONLY valid JSON with keys: name, strength, manufacturer, genericName.","Use empty string for unknown values."].join(" "),c={model:s,messages:[{role:"system",content:a},{role:"user",content:n}],temperature:.1,response_format:{type:"json_object"}};try{let l=yield fetch(`${o}/chat/completions`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify(c)});if(!l.ok)return console.warn("LLM extraction failed:",l.status,l.statusText),null;let u=(yield l.json())?.choices?.[0]?.message?.content;if(!u)return null;let h=JSON.parse(u);return{name:this.cleanValue(h?.name),strength:this.cleanValue(h?.strength),manufacturer:this.cleanValue(h?.manufacturer),genericName:this.cleanValue(h?.genericName)}}catch(l){return console.warn("LLM extraction error:",l),null}})}getConfigValue(e){try{return window.localStorage.getItem(e)}catch{return null}}cleanValue(e){return typeof e!="string"?"":e.trim()}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275prov=xe({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();var MM=(()=>{class i{constructor(){this.medicines=new Pi([]),this.storageKey="buildaq.pharmacy.medicineCatalog",this.seedCatalog=[{id:"1",name:"Aspirin",barcode:"8901234567890",genericName:"Acetylsalicylic Acid",manufacturer:"Generic Pharma",strength:"500mg",category:"Pain Relief"},{id:"2",name:"Paracetamol",barcode:"8901234567891",genericName:"Acetaminophen",manufacturer:"Generic Pharma",strength:"500mg",category:"Pain Relief"},{id:"3",name:"Amoxicillin",barcode:"8901234567892",genericName:"Amoxicillin",manufacturer:"Antibiotic Labs",strength:"250mg",category:"Antibiotics"},{id:"4",name:"Ibuprofen",barcode:"8901234567893",genericName:"Ibuprofen",manufacturer:"Generic Pharma",strength:"400mg",category:"Pain Relief"},{id:"5",name:"Metformin",barcode:"8901234567894",genericName:"Metformin",manufacturer:"Diabetes Care",strength:"500mg",category:"Diabetes"},{id:"6",name:"Lisinopril",barcode:"8901234567895",genericName:"Lisinopril",manufacturer:"Cardio Labs",strength:"10mg",category:"Cardiovascular"},{id:"7",name:"Atorvastatin",barcode:"8901234567896",genericName:"Atorvastatin",manufacturer:"Cardio Labs",strength:"20mg",category:"Cholesterol"},{id:"8",name:"Omeprazole",barcode:"8901234567897",genericName:"Omeprazole",manufacturer:"GI Health",strength:"20mg",category:"Gastric"}],this.medicineCatalog=[],this.loadFromStorage()}getMedicines(){return[...this.medicineCatalog]}getMedicinesObservable(){return this.medicines.asObservable()}getMedicinesByCategory(e){return this.medicineCatalog.filter(n=>n.category===e)}searchMedicines(e){let n=e.toLowerCase();return this.medicineCatalog.filter(r=>r.name.toLowerCase().includes(n)||r.genericName?.toLowerCase().includes(n)||r.barcode.includes(e))}getMedicineByBarcode(e){return this.medicineCatalog.find(n=>n.barcode===e)}getMedicineById(e){return this.medicineCatalog.find(n=>n.id===e)}addMedicine(e){this.medicineCatalog.push(e),this.medicines.next([...this.medicineCatalog]),this.saveToStorage()}updateMedicine(e,n){let r=this.medicineCatalog.findIndex(o=>o.id===e);r!==-1&&(this.medicineCatalog[r]=ye(ye({},this.medicineCatalog[r]),n),this.medicines.next([...this.medicineCatalog]),this.saveToStorage())}deleteMedicine(e){this.medicineCatalog=this.medicineCatalog.filter(n=>n.id!==e),this.medicines.next([...this.medicineCatalog]),this.saveToStorage()}getCategories(){let e=new Set(this.medicineCatalog.map(n=>n.category).filter(n=>!!n));return Array.from(e).sort()}importMedicines(e){let n=0,r=0,o=0;return e.forEach(s=>{if(!s?.name){o++;return}let a=(s.barcode||"").trim(),c=s.name.trim().toLowerCase(),l=this.medicineCatalog.find(u=>a&&u.barcode?u.barcode.trim()===a:u.name.trim().toLowerCase()===c);if(l){this.mergeMedicine(l,s),r++;return}let d={id:s.id||(this.medicineCatalog.length+1).toString(),name:s.name,barcode:a,genericName:s.genericName||"",manufacturer:s.manufacturer||"",strength:s.strength||"",quantity:s.quantity??0,expiryDate:s.expiryDate,category:s.category||""};this.medicineCatalog.push(d),n++}),this.medicines.next([...this.medicineCatalog]),this.saveToStorage(),{added:n,updated:r,skipped:o,total:e.length}}mergeMedicine(e,n){e.name=n.name||e.name,e.barcode=(n.barcode||e.barcode||"").trim(),e.genericName=n.genericName||e.genericName,e.manufacturer=n.manufacturer||e.manufacturer,e.strength=n.strength||e.strength,e.quantity=n.quantity??e.quantity,e.expiryDate=n.expiryDate||e.expiryDate,e.category=n.category||e.category}loadFromStorage(){try{let e=window.localStorage.getItem(this.storageKey);if(e){let n=JSON.parse(e);Array.isArray(n)&&(this.medicineCatalog=n)}}catch{}this.medicineCatalog.length||(this.medicineCatalog=[...this.seedCatalog]),this.medicines.next([...this.medicineCatalog]),this.saveToStorage()}saveToStorage(){try{window.localStorage.setItem(this.storageKey,JSON.stringify(this.medicineCatalog))}catch{}}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275prov=xe({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();var k0e=["mat-button",""],rX=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],oX=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"];var A0e=".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}";var P0e=["mat-mini-fab",""],R0e='.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-fab{position:relative;display:inline-flex;position:relative;align-items:center;justify-content:center;box-sizing:border-box;width:56px;height:56px;padding:0;border:none;fill:currentColor;text-decoration:none;cursor:pointer;user-select:none;-moz-appearance:none;-webkit-appearance:none;overflow:visible;transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1),opacity 15ms linear 30ms,transform 270ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-fab .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-fab[hidden]{display:none}.mdc-fab::-moz-focus-inner{padding:0;border:0}.mdc-fab .mdc-fab__focus-ring{position:absolute}.mdc-fab.mdc-ripple-upgraded--background-focused .mdc-fab__focus-ring,.mdc-fab:not(.mdc-ripple-upgraded):focus .mdc-fab__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-fab.mdc-ripple-upgraded--background-focused .mdc-fab__focus-ring,.mdc-fab:not(.mdc-ripple-upgraded):focus .mdc-fab__focus-ring{border-color:CanvasText}}.mdc-fab.mdc-ripple-upgraded--background-focused .mdc-fab__focus-ring::after,.mdc-fab:not(.mdc-ripple-upgraded):focus .mdc-fab__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-fab.mdc-ripple-upgraded--background-focused .mdc-fab__focus-ring::after,.mdc-fab:not(.mdc-ripple-upgraded):focus .mdc-fab__focus-ring::after{border-color:CanvasText}}.mdc-fab:active,.mdc-fab:focus{outline:none}.mdc-fab:hover{cursor:pointer}.mdc-fab>svg{width:100%}.mdc-fab--mini{width:40px;height:40px}.mdc-fab--extended{border-radius:24px;padding-left:20px;padding-right:20px;width:auto;max-width:100%;height:48px;line-height:normal}.mdc-fab--extended .mdc-fab__ripple{border-radius:24px}.mdc-fab--extended .mdc-fab__icon{margin-left:calc(12px - 20px);margin-right:12px}[dir=rtl] .mdc-fab--extended .mdc-fab__icon,.mdc-fab--extended .mdc-fab__icon[dir=rtl]{margin-left:12px;margin-right:calc(12px - 20px)}.mdc-fab--extended .mdc-fab__label+.mdc-fab__icon{margin-left:12px;margin-right:calc(12px - 20px)}[dir=rtl] .mdc-fab--extended .mdc-fab__label+.mdc-fab__icon,.mdc-fab--extended .mdc-fab__label+.mdc-fab__icon[dir=rtl]{margin-left:calc(12px - 20px);margin-right:12px}.mdc-fab--touch{margin-top:4px;margin-bottom:4px;margin-right:4px;margin-left:4px}.mdc-fab--touch .mdc-fab__touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mdc-fab::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-fab::before{border-color:CanvasText}}.mdc-fab__label{justify-content:flex-start;text-overflow:ellipsis;white-space:nowrap;overflow-x:hidden;overflow-y:visible}.mdc-fab__icon{transition:transform 180ms 90ms cubic-bezier(0, 0, 0.2, 1);fill:currentColor;will-change:transform}.mdc-fab .mdc-fab__icon{display:inline-flex;align-items:center;justify-content:center}.mdc-fab--exited{transform:scale(0);opacity:0;transition:opacity 15ms linear 150ms,transform 180ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-fab--exited .mdc-fab__icon{transform:scale(0);transition:transform 135ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mat-mdc-fab{background-color:var(--mdc-fab-container-color)}.mat-mdc-fab .mdc-fab__icon{width:var(--mdc-fab-icon-size);height:var(--mdc-fab-icon-size);font-size:var(--mdc-fab-icon-size)}.mat-mdc-fab:not(.mdc-fab--extended){border-radius:var(--mdc-fab-container-shape)}.mat-mdc-fab:not(.mdc-fab--extended) .mdc-fab__ripple{border-radius:var(--mdc-fab-container-shape)}.mat-mdc-mini-fab{background-color:var(--mdc-fab-small-container-color)}.mat-mdc-mini-fab .mdc-fab__icon{width:var(--mdc-fab-small-icon-size);height:var(--mdc-fab-small-icon-size);font-size:var(--mdc-fab-small-icon-size)}.mat-mdc-mini-fab:not(.mdc-fab--extended){border-radius:var(--mdc-fab-small-container-shape)}.mat-mdc-mini-fab:not(.mdc-fab--extended) .mdc-fab__ripple{border-radius:var(--mdc-fab-small-container-shape)}.mat-mdc-extended-fab{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;height:var(--mdc-extended-fab-container-height);border-radius:var(--mdc-extended-fab-container-shape);font-family:var(--mdc-extended-fab-label-text-font);font-size:var(--mdc-extended-fab-label-text-size);font-weight:var(--mdc-extended-fab-label-text-weight);letter-spacing:var(--mdc-extended-fab-label-text-tracking)}.mat-mdc-extended-fab .mdc-fab__ripple{border-radius:var(--mdc-extended-fab-container-shape)}.mat-mdc-fab,.mat-mdc-mini-fab{-webkit-tap-highlight-color:rgba(0,0,0,0);flex-shrink:0}.mat-mdc-fab .mat-mdc-button-ripple,.mat-mdc-fab .mat-mdc-button-persistent-ripple,.mat-mdc-fab .mat-mdc-button-persistent-ripple::before,.mat-mdc-mini-fab .mat-mdc-button-ripple,.mat-mdc-mini-fab .mat-mdc-button-persistent-ripple,.mat-mdc-mini-fab .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-fab .mat-mdc-button-ripple,.mat-mdc-mini-fab .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-fab .mat-mdc-button-persistent-ripple::before,.mat-mdc-mini-fab .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-fab .mdc-button__label,.mat-mdc-mini-fab .mdc-button__label{z-index:1}.mat-mdc-fab .mat-mdc-focus-indicator,.mat-mdc-mini-fab .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-fab:focus .mat-mdc-focus-indicator::before,.mat-mdc-mini-fab:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-fab._mat-animation-noopable,.mat-mdc-mini-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-fab:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-mini-fab:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}.mat-mdc-fab .mat-icon,.mat-mdc-fab .material-icons,.mat-mdc-mini-fab .mat-icon,.mat-mdc-mini-fab .material-icons{transition:transform 180ms 90ms cubic-bezier(0, 0, 0.2, 1);fill:currentColor;will-change:transform}.mat-mdc-fab .mat-mdc-focus-indicator::before,.mat-mdc-mini-fab .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-fab[disabled],.mat-mdc-fab.mat-mdc-button-disabled,.mat-mdc-mini-fab[disabled],.mat-mdc-mini-fab.mat-mdc-button-disabled{cursor:default;pointer-events:none}.mat-mdc-fab[disabled],.mat-mdc-fab[disabled]:focus,.mat-mdc-fab.mat-mdc-button-disabled,.mat-mdc-fab.mat-mdc-button-disabled:focus,.mat-mdc-mini-fab[disabled],.mat-mdc-mini-fab[disabled]:focus,.mat-mdc-mini-fab.mat-mdc-button-disabled,.mat-mdc-mini-fab.mat-mdc-button-disabled:focus{box-shadow:none}.mat-mdc-fab.mat-mdc-button-disabled-interactive,.mat-mdc-mini-fab.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-fab{color:var(--mat-fab-foreground-color, inherit);box-shadow:var(--mdc-fab-container-elevation-shadow)}.mat-mdc-fab .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%);display:var(--mat-fab-touch-target-display)}.mat-mdc-fab .mat-ripple-element{background-color:var(--mat-fab-ripple-color)}.mat-mdc-fab .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-fab-state-layer-color)}.mat-mdc-fab.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-fab-disabled-state-layer-color)}.mat-mdc-fab:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-fab-hover-state-layer-opacity)}.mat-mdc-fab.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-fab.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-fab.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-fab-focus-state-layer-opacity)}.mat-mdc-fab:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-fab-pressed-state-layer-opacity)}.mat-mdc-fab:hover{box-shadow:var(--mdc-fab-hover-container-elevation-shadow)}.mat-mdc-fab:focus{box-shadow:var(--mdc-fab-focus-container-elevation-shadow)}.mat-mdc-fab:active,.mat-mdc-fab:focus:active{box-shadow:var(--mdc-fab-pressed-container-elevation-shadow)}.mat-mdc-fab[disabled],.mat-mdc-fab.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mat-fab-disabled-state-foreground-color);background-color:var(--mat-fab-disabled-state-container-color)}.mat-mdc-fab.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-mini-fab{color:var(--mat-fab-small-foreground-color, inherit);box-shadow:var(--mdc-fab-small-container-elevation-shadow)}.mat-mdc-mini-fab .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%);display:var(--mat-fab-small-touch-target-display)}.mat-mdc-mini-fab .mat-ripple-element{background-color:var(--mat-fab-small-ripple-color)}.mat-mdc-mini-fab .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-fab-small-state-layer-color)}.mat-mdc-mini-fab.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-fab-small-disabled-state-layer-color)}.mat-mdc-mini-fab:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-fab-small-hover-state-layer-opacity)}.mat-mdc-mini-fab.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-mini-fab.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-mini-fab.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-fab-small-focus-state-layer-opacity)}.mat-mdc-mini-fab:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-fab-small-pressed-state-layer-opacity)}.mat-mdc-mini-fab:hover{box-shadow:var(--mdc-fab-small-hover-container-elevation-shadow)}.mat-mdc-mini-fab:focus{box-shadow:var(--mdc-fab-small-focus-container-elevation-shadow)}.mat-mdc-mini-fab:active,.mat-mdc-mini-fab:focus:active{box-shadow:var(--mdc-fab-small-pressed-container-elevation-shadow)}.mat-mdc-mini-fab[disabled],.mat-mdc-mini-fab.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mat-fab-small-disabled-state-foreground-color);background-color:var(--mat-fab-small-disabled-state-container-color)}.mat-mdc-mini-fab.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-extended-fab{box-shadow:var(--mdc-extended-fab-container-elevation-shadow)}.mat-mdc-extended-fab:hover{box-shadow:var(--mdc-extended-fab-hover-container-elevation-shadow)}.mat-mdc-extended-fab:focus{box-shadow:var(--mdc-extended-fab-focus-container-elevation-shadow)}.mat-mdc-extended-fab:active,.mat-mdc-extended-fab:focus:active{box-shadow:var(--mdc-extended-fab-pressed-container-elevation-shadow)}.mat-mdc-extended-fab[disabled],.mat-mdc-extended-fab.mat-mdc-button-disabled{cursor:default;pointer-events:none}.mat-mdc-extended-fab[disabled],.mat-mdc-extended-fab[disabled]:focus,.mat-mdc-extended-fab.mat-mdc-button-disabled,.mat-mdc-extended-fab.mat-mdc-button-disabled:focus{box-shadow:none}.mat-mdc-extended-fab.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-extended-fab>.mat-icon,.mat-mdc-extended-fab>.material-icons{margin-left:calc(12px - 20px);margin-right:12px}[dir=rtl] .mat-mdc-extended-fab>.mat-icon,[dir=rtl] .mat-mdc-extended-fab>.material-icons,.mat-mdc-extended-fab>.mat-icon[dir=rtl],.mat-mdc-extended-fab>.material-icons[dir=rtl]{margin-left:12px;margin-right:calc(12px - 20px)}.mat-mdc-extended-fab .mat-mdc-button-touch-target{width:100%}.mat-mdc-extended-fab .mdc-button__label+.mat-icon,.mat-mdc-extended-fab .mdc-button__label+.material-icons{margin-left:12px;margin-right:calc(12px - 20px)}[dir=rtl] .mat-mdc-extended-fab .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-extended-fab .mdc-button__label+.material-icons,.mat-mdc-extended-fab .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-extended-fab .mdc-button__label+.material-icons[dir=rtl]{margin-left:calc(12px - 20px);margin-right:12px}',N0e=["mat-icon-button",""],O0e=["*"];var F0e=new ge("MAT_BUTTON_CONFIG");var L0e=[{attribute:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{attribute:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{attribute:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{attribute:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{attribute:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab"]},{attribute:"mat-mini-fab",mdcClasses:["mdc-fab","mdc-fab--mini","mat-mdc-mini-fab"]},{attribute:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],TF=(()=>{class i{get ripple(){return this._rippleLoader?.getRipple(this._elementRef.nativeElement)}set ripple(e){this._rippleLoader?.attachRipple(this._elementRef.nativeElement,e)}get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=e,this._updateRippleDisabled()}get disabled(){return this._disabled}set disabled(e){this._disabled=e,this._updateRippleDisabled()}constructor(e,n,r,o){this._elementRef=e,this._platform=n,this._ngZone=r,this._animationMode=o,this._focusMonitor=be(Wc),this._rippleLoader=be(wx),this._isFab=!1,this._disableRipple=!1,this._disabled=!1;let s=be(F0e,{optional:!0}),a=e.nativeElement,c=a.classList;this.disabledInteractive=s?.disabledInteractive??!1,this._rippleLoader?.configureRipple(a,{className:"mat-mdc-button-ripple"});for(let{attribute:l,mdcClasses:d}of L0e)a.hasAttribute(l)&&c.add(...d)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._rippleLoader?.destroyRipple(this._elementRef.nativeElement)}focus(e="program",n){e?this._focusMonitor.focusVia(this._elementRef.nativeElement,e,n):this._elementRef.nativeElement.focus(n)}_getAriaDisabled(){return this.ariaDisabled!=null?this.ariaDisabled:this.disabled&&this.disabledInteractive?!0:null}_getDisabledAttribute(){return this.disabledInteractive||!this.disabled?null:!0}_updateRippleDisabled(){this._rippleLoader?.setDisabled(this._elementRef.nativeElement,this.disableRipple||this.disabled)}static{this.\u0275fac=function(n){qv()}}static{this.\u0275dir=we({type:i,inputs:{color:"color",disableRipple:[J.HasDecoratorInputTransform,"disableRipple","disableRipple",Je],disabled:[J.HasDecoratorInputTransform,"disabled","disabled",Je],ariaDisabled:[J.HasDecoratorInputTransform,"aria-disabled","ariaDisabled",Je],disabledInteractive:[J.HasDecoratorInputTransform,"disabledInteractive","disabledInteractive",Je]},features:[Bt]})}}return i})();var uc=(()=>{class i extends TF{constructor(e,n,r,o){super(e,n,r,o)}static{this.\u0275fac=function(n){return new(n||i)(O(Oe),O(ri),O(Ne),O(Vi,8))}}static{this.\u0275cmp=rt({type:i,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:14,hostBindings:function(n,r){n&2&&(wt("disabled",r._getDisabledAttribute())("aria-disabled",r._getAriaDisabled()),Dr(r.color?"mat-"+r.color:""),qe("mat-mdc-button-disabled",r.disabled)("mat-mdc-button-disabled-interactive",r.disabledInteractive)("_mat-animation-noopable",r._animationMode==="NoopAnimations")("mat-unthemed",!r.color)("mat-mdc-button-base",!0))},exportAs:["matButton"],standalone:!0,features:[Et,Tt],attrs:k0e,ngContentSelectors:oX,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(n,r){n&1&&(Ti(rX),Ue(0,"span",0),ct(1),y(2,"span",1),ct(3,1),x(),ct(4,2),Ue(5,"span",2)(6,"span",3)),n&2&&qe("mdc-button__ripple",!r._isFab)("mdc-fab__ripple",r._isFab)},styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px);display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{font-family:var(--mdc-text-button-label-text-font);font-size:var(--mdc-text-button-label-text-size);letter-spacing:var(--mdc-text-button-label-text-tracking);font-weight:var(--mdc-text-button-label-text-weight);text-transform:var(--mdc-text-button-label-text-transform);height:var(--mdc-text-button-container-height);border-radius:var(--mdc-text-button-container-shape);padding:0 var(--mat-text-button-horizontal-padding, 8px)}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color)}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape)}.mat-mdc-button:has(.material-icons,mat-icon,[matButtonIcon]){padding:0 var(--mat-text-button-with-icon-horizontal-padding, 8px)}.mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}[dir=rtl] .mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}.mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}.mat-mdc-button .mat-ripple-element{background-color:var(--mat-text-button-ripple-color)}.mat-mdc-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-state-layer-color)}.mat-mdc-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-disabled-state-layer-color)}.mat-mdc-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-hover-state-layer-opacity)}.mat-mdc-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-focus-state-layer-opacity)}.mat-mdc-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-pressed-state-layer-opacity)}.mat-mdc-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-text-button-touch-target-display)}.mat-mdc-button[disabled],.mat-mdc-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-text-button-disabled-label-text-color)}.mat-mdc-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-unelevated-button{font-family:var(--mdc-filled-button-label-text-font);font-size:var(--mdc-filled-button-label-text-size);letter-spacing:var(--mdc-filled-button-label-text-tracking);font-weight:var(--mdc-filled-button-label-text-weight);text-transform:var(--mdc-filled-button-label-text-transform);height:var(--mdc-filled-button-container-height);border-radius:var(--mdc-filled-button-container-shape);padding:0 var(--mat-filled-button-horizontal-padding, 16px)}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color)}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color)}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape)}.mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}.mat-mdc-unelevated-button .mat-ripple-element{background-color:var(--mat-filled-button-ripple-color)}.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-state-layer-color)}.mat-mdc-unelevated-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-disabled-state-layer-color)}.mat-mdc-unelevated-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-hover-state-layer-opacity)}.mat-mdc-unelevated-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-focus-state-layer-opacity)}.mat-mdc-unelevated-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-pressed-state-layer-opacity)}.mat-mdc-unelevated-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-filled-button-touch-target-display)}.mat-mdc-unelevated-button[disabled],.mat-mdc-unelevated-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-filled-button-disabled-label-text-color);background-color:var(--mdc-filled-button-disabled-container-color)}.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-raised-button{font-family:var(--mdc-protected-button-label-text-font);font-size:var(--mdc-protected-button-label-text-size);letter-spacing:var(--mdc-protected-button-label-text-tracking);font-weight:var(--mdc-protected-button-label-text-weight);text-transform:var(--mdc-protected-button-label-text-transform);height:var(--mdc-protected-button-container-height);border-radius:var(--mdc-protected-button-container-shape);padding:0 var(--mat-protected-button-horizontal-padding, 16px);box-shadow:var(--mdc-protected-button-container-elevation-shadow)}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color)}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color)}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape)}.mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}.mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}.mat-mdc-raised-button .mat-ripple-element{background-color:var(--mat-protected-button-ripple-color)}.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-state-layer-color)}.mat-mdc-raised-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-disabled-state-layer-color)}.mat-mdc-raised-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-hover-state-layer-opacity)}.mat-mdc-raised-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-focus-state-layer-opacity)}.mat-mdc-raised-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-pressed-state-layer-opacity)}.mat-mdc-raised-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-protected-button-touch-target-display)}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation-shadow)}.mat-mdc-raised-button:focus{box-shadow:var(--mdc-protected-button-focus-container-elevation-shadow)}.mat-mdc-raised-button:active,.mat-mdc-raised-button:focus:active{box-shadow:var(--mdc-protected-button-pressed-container-elevation-shadow)}.mat-mdc-raised-button[disabled],.mat-mdc-raised-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-protected-button-disabled-label-text-color);background-color:var(--mdc-protected-button-disabled-container-color)}.mat-mdc-raised-button[disabled].mat-mdc-button-disabled,.mat-mdc-raised-button.mat-mdc-button-disabled.mat-mdc-button-disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation-shadow)}.mat-mdc-raised-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button{font-family:var(--mdc-outlined-button-label-text-font);font-size:var(--mdc-outlined-button-label-text-size);letter-spacing:var(--mdc-outlined-button-label-text-tracking);font-weight:var(--mdc-outlined-button-label-text-weight);text-transform:var(--mdc-outlined-button-label-text-transform);height:var(--mdc-outlined-button-container-height);border-radius:var(--mdc-outlined-button-container-shape);padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width);padding:0 var(--mat-outlined-button-horizontal-padding, 15px)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color)}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape)}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color)}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color)}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width))}.mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-outlined-button-ripple-color)}.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-state-layer-color)}.mat-mdc-outlined-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-disabled-state-layer-color)}.mat-mdc-outlined-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-hover-state-layer-opacity)}.mat-mdc-outlined-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-focus-state-layer-opacity)}.mat-mdc-outlined-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-pressed-state-layer-opacity)}.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-outlined-button-touch-target-display)}.mat-mdc-outlined-button[disabled],.mat-mdc-outlined-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-outlined-button-disabled-label-text-color);border-color:var(--mdc-outlined-button-disabled-outline-color)}.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-button-base{text-decoration:none}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px)*-1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0})}}return i})();var B0e=new ge("mat-mdc-fab-default-options",{providedIn:"root",factory:sX});function sX(){return{color:"accent"}}var nX=sX();var aX=(()=>{class i extends TF{constructor(e,n,r,o,s){super(e,n,r,o),this._options=s,this._isFab=!0,this._options=this._options||nX,this.color=this._options.color||nX.color}static{this.\u0275fac=function(n){return new(n||i)(O(Oe),O(ri),O(Ne),O(Vi,8),O(B0e,8))}}static{this.\u0275cmp=rt({type:i,selectors:[["button","mat-mini-fab",""]],hostVars:14,hostBindings:function(n,r){n&2&&(wt("disabled",r._getDisabledAttribute())("aria-disabled",r._getAriaDisabled()),Dr(r.color?"mat-"+r.color:""),qe("mat-mdc-button-disabled",r.disabled)("mat-mdc-button-disabled-interactive",r.disabledInteractive)("_mat-animation-noopable",r._animationMode==="NoopAnimations")("mat-unthemed",!r.color)("mat-mdc-button-base",!0))},exportAs:["matButton"],standalone:!0,features:[Et,Tt],attrs:P0e,ngContentSelectors:oX,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(n,r){n&1&&(Ti(rX),Ue(0,"span",0),ct(1),y(2,"span",1),ct(3,1),x(),ct(4,2),Ue(5,"span",2)(6,"span",3)),n&2&&qe("mdc-button__ripple",!r._isFab)("mdc-fab__ripple",r._isFab)},styles:[R0e],encapsulation:2,changeDetection:0})}}return i})();var Pd=(()=>{class i extends TF{constructor(e,n,r,o){super(e,n,r,o),this._rippleLoader.configureRipple(this._elementRef.nativeElement,{centered:!0})}static{this.\u0275fac=function(n){return new(n||i)(O(Oe),O(ri),O(Ne),O(Vi,8))}}static{this.\u0275cmp=rt({type:i,selectors:[["button","mat-icon-button",""]],hostVars:14,hostBindings:function(n,r){n&2&&(wt("disabled",r._getDisabledAttribute())("aria-disabled",r._getAriaDisabled()),Dr(r.color?"mat-"+r.color:""),qe("mat-mdc-button-disabled",r.disabled)("mat-mdc-button-disabled-interactive",r.disabledInteractive)("_mat-animation-noopable",r._animationMode==="NoopAnimations")("mat-unthemed",!r.color)("mat-mdc-button-base",!0))},exportAs:["matButton"],standalone:!0,features:[Et,Tt],attrs:N0e,ngContentSelectors:O0e,decls:4,vars:0,consts:[[1,"mat-mdc-button-persistent-ripple","mdc-icon-button__ripple"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(n,r){n&1&&(Ti(),Ue(0,"span",0),ct(1),Ue(2,"span",1)(3,"span",2))},styles:['.mdc-icon-button{display:inline-block;position:relative;box-sizing:border-box;border:none;outline:none;background-color:rgba(0,0,0,0);fill:currentColor;color:inherit;text-decoration:none;cursor:pointer;user-select:none;z-index:0;overflow:visible}.mdc-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}@media screen and (forced-colors: active){.mdc-icon-button.mdc-ripple-upgraded--background-focused .mdc-icon-button__focus-ring,.mdc-icon-button:not(.mdc-ripple-upgraded):focus .mdc-icon-button__focus-ring{display:block}}.mdc-icon-button:disabled{cursor:default;pointer-events:none}.mdc-icon-button[hidden]{display:none}.mdc-icon-button--display-flex{align-items:center;display:inline-flex;justify-content:center}.mdc-icon-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%;display:none}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring{border-color:CanvasText}}.mdc-icon-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring::after{border-color:CanvasText}}.mdc-icon-button__icon{display:inline-block}.mdc-icon-button__icon.mdc-icon-button__icon--on{display:none}.mdc-icon-button--on .mdc-icon-button__icon{display:none}.mdc-icon-button--on .mdc-icon-button__icon.mdc-icon-button__icon--on{display:inline-block}.mdc-icon-button__link{height:100%;left:0;outline:none;position:absolute;top:0;width:100%}.mat-mdc-icon-button{color:var(--mdc-icon-button-icon-color)}.mat-mdc-icon-button .mdc-button__icon{font-size:var(--mdc-icon-button-icon-size)}.mat-mdc-icon-button svg,.mat-mdc-icon-button img{width:var(--mdc-icon-button-icon-size);height:var(--mdc-icon-button-icon-size)}.mat-mdc-icon-button:disabled{color:var(--mdc-icon-button-disabled-icon-color)}.mat-mdc-icon-button{border-radius:50%;flex-shrink:0;text-align:center;width:var(--mdc-icon-button-state-layer-size, 48px);height:var(--mdc-icon-button-state-layer-size, 48px);padding:calc(calc(var(--mdc-icon-button-state-layer-size, 48px) - var(--mdc-icon-button-icon-size, 24px)) / 2);font-size:var(--mdc-icon-button-icon-size);-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-icon-button svg{vertical-align:baseline}.mat-mdc-icon-button[disabled],.mat-mdc-icon-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-icon-button-disabled-icon-color)}.mat-mdc-icon-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-icon-button .mat-mdc-button-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-icon-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-icon-button .mdc-button__label{z-index:1}.mat-mdc-icon-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-icon-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-icon-button .mat-ripple-element{background-color:var(--mat-icon-button-ripple-color)}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-icon-button-state-layer-color)}.mat-mdc-icon-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-icon-button-disabled-state-layer-color)}.mat-mdc-icon-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-hover-state-layer-opacity)}.mat-mdc-icon-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-icon-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-icon-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-focus-state-layer-opacity)}.mat-mdc-icon-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-pressed-state-layer-opacity)}.mat-mdc-icon-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%);display:var(--mat-icon-button-touch-target-display)}.mat-mdc-icon-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple{border-radius:50%}.mat-mdc-icon-button.mat-unthemed:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-primary:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-accent:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-warn:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}',A0e],encapsulation:2,changeDetection:0})}}return i})();var Rd=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275mod=$e({type:i})}static{this.\u0275inj=je({imports:[Ft,Vu,Ft]})}}return i})();var IF=class{constructor(t){this._box=t,this._destroyed=new Fe,this._resizeSubject=new Fe,this._elementObservables=new Map,typeof ResizeObserver<"u"&&(this._resizeObserver=new ResizeObserver(e=>this._resizeSubject.next(e)))}observe(t){return this._elementObservables.has(t)||this._elementObservables.set(t,new jt(e=>{let n=this._resizeSubject.subscribe(e);return this._resizeObserver?.observe(t,{box:this._box}),()=>{this._resizeObserver?.unobserve(t),n.unsubscribe(),this._elementObservables.delete(t)}}).pipe(ki(e=>e.some(n=>n.target===t)),G0({bufferSize:1,refCount:!0}),Pt(this._destroyed))),this._elementObservables.get(t)}destroy(){this._destroyed.next(),this._destroyed.complete(),this._resizeSubject.complete(),this._elementObservables.clear()}},cX=(()=>{class i{constructor(){this._observers=new Map,this._ngZone=be(Ne),typeof ResizeObserver<"u"}ngOnDestroy(){for(let[,e]of this._observers)e.destroy();this._observers.clear(),typeof ResizeObserver<"u"}observe(e,n){let r=n?.box||"content-box";return this._observers.has(r)||this._observers.set(r,new IF(r)),this._observers.get(r).observe(e)}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275prov=xe({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();var V0e=["notch"],U0e=["matFormFieldNotchedOutline",""],z0e=["*"],H0e=["textField"],j0e=["iconPrefixContainer"],$0e=["textPrefixContainer"],G0e=["*",[["mat-label"]],[["","matPrefix",""],["","matIconPrefix",""]],[["","matTextPrefix",""]],[["","matTextSuffix",""]],[["","matSuffix",""],["","matIconSuffix",""]],[["mat-error"],["","matError",""]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],W0e=["*","mat-label","[matPrefix], [matIconPrefix]","[matTextPrefix]","[matTextSuffix]","[matSuffix], [matIconSuffix]","mat-error, [matError]","mat-hint:not([align='end'])","mat-hint[align='end']"];function q0e(i,t){i&1&&Ue(0,"span",17)}function X0e(i,t){if(i&1&&(y(0,"label",16),ct(1,1),Ee(2,q0e,1,0,"span",17),x()),i&2){let e=Q(2);ae("floating",e._shouldLabelFloat())("monitorResize",e._hasOutline())("id",e._labelId),wt("for",e._control.disableAutomaticLabeling?null:e._control.id),B(2),Yt(2,!e.hideRequiredMarker&&e._control.required?2:-1)}}function Y0e(i,t){if(i&1&&Ee(0,X0e,3,5,"label",16),i&2){let e=Q();Yt(0,e._hasFloatingLabel()?0:-1)}}function Z0e(i,t){i&1&&Ue(0,"div",5)}function K0e(i,t){}function Q0e(i,t){if(i&1&&Ee(0,K0e,0,0,"ng-template",11),i&2){Q(2);let e=Co(1);ae("ngTemplateOutlet",e)}}function J0e(i,t){if(i&1&&(y(0,"div",7),Ee(1,Q0e,1,1,null,11),x()),i&2){let e=Q();ae("matFormFieldNotchedOutlineOpen",e._shouldLabelFloat()),B(),Yt(1,e._forceDisplayInfixLabel()?-1:1)}}function eve(i,t){i&1&&(y(0,"div",8,2),ct(2,2),x())}function tve(i,t){i&1&&(y(0,"div",9,3),ct(2,3),x())}function ive(i,t){}function nve(i,t){if(i&1&&Ee(0,ive,0,0,"ng-template",11),i&2){Q();let e=Co(1);ae("ngTemplateOutlet",e)}}function rve(i,t){i&1&&(y(0,"div",12),ct(1,4),x())}function ove(i,t){i&1&&(y(0,"div",13),ct(1,5),x())}function sve(i,t){i&1&&Ue(0,"div",14)}function ave(i,t){if(i&1&&(y(0,"div",18),ct(1,6),x()),i&2){let e=Q();ae("@transitionMessages",e._subscriptAnimationState)}}function cve(i,t){if(i&1&&(y(0,"mat-hint",20),P(1),x()),i&2){let e=Q(2);ae("id",e._hintLabelId),B(),Xt(e.hintLabel)}}function lve(i,t){if(i&1&&(y(0,"div",19),Ee(1,cve,2,2,"mat-hint",20),ct(2,7),Ue(3,"div",21),ct(4,8),x()),i&2){let e=Q();ae("@transitionMessages",e._subscriptAnimationState),B(),Yt(1,e.hintLabel?1:-1)}}var Nd=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275dir=we({type:i,selectors:[["mat-label"]],standalone:!0})}}return i})(),dve=0,gX=new ge("MatError"),_X=(()=>{class i{constructor(e,n){this.id=`mat-mdc-error-${dve++}`,e||n.nativeElement.setAttribute("aria-live","polite")}static{this.\u0275fac=function(n){return new(n||i)(zr("aria-live"),O(Oe))}}static{this.\u0275dir=we({type:i,selectors:[["mat-error"],["","matError",""]],hostAttrs:["aria-atomic","true",1,"mat-mdc-form-field-error","mat-mdc-form-field-bottom-align"],hostVars:1,hostBindings:function(n,r){n&2&&Ts("id",r.id)},inputs:{id:"id"},standalone:!0,features:[Ot([{provide:gX,useExisting:i}])]})}}return i})(),uve=0,EM=(()=>{class i{constructor(){this.align="start",this.id=`mat-mdc-hint-${uve++}`}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275dir=we({type:i,selectors:[["mat-hint"]],hostAttrs:[1,"mat-mdc-form-field-hint","mat-mdc-form-field-bottom-align"],hostVars:4,hostBindings:function(n,r){n&2&&(Ts("id",r.id),wt("align",null),qe("mat-mdc-form-field-hint-end",r.align==="end"))},inputs:{align:"align",id:"id"},standalone:!0})}}return i})(),hve=new ge("MatPrefix");var mve=new ge("MatSuffix");var bX=new ge("FloatingLabelParent"),lX=(()=>{class i{get floating(){return this._floating}set floating(e){this._floating=e,this.monitorResize&&this._handleResize()}get monitorResize(){return this._monitorResize}set monitorResize(e){this._monitorResize=e,this._monitorResize?this._subscribeToResize():this._resizeSubscription.unsubscribe()}constructor(e){this._elementRef=e,this._floating=!1,this._monitorResize=!1,this._resizeObserver=be(cX),this._ngZone=be(Ne),this._parent=be(bX),this._resizeSubscription=new qt}ngOnDestroy(){this._resizeSubscription.unsubscribe()}getWidth(){return pve(this._elementRef.nativeElement)}get element(){return this._elementRef.nativeElement}_handleResize(){setTimeout(()=>this._parent._handleLabelResized())}_subscribeToResize(){this._resizeSubscription.unsubscribe(),this._ngZone.runOutsideAngular(()=>{this._resizeSubscription=this._resizeObserver.observe(this._elementRef.nativeElement,{box:"border-box"}).subscribe(()=>this._handleResize())})}static{this.\u0275fac=function(n){return new(n||i)(O(Oe))}}static{this.\u0275dir=we({type:i,selectors:[["label","matFormFieldFloatingLabel",""]],hostAttrs:[1,"mdc-floating-label","mat-mdc-floating-label"],hostVars:2,hostBindings:function(n,r){n&2&&qe("mdc-floating-label--float-above",r.floating)},inputs:{floating:"floating",monitorResize:"monitorResize"},standalone:!0})}}return i})();function pve(i){let t=i;if(t.offsetParent!==null)return t.scrollWidth;let e=t.cloneNode(!0);e.style.setProperty("position","absolute"),e.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(e);let n=e.scrollWidth;return e.remove(),n}var dX="mdc-line-ripple--active",SM="mdc-line-ripple--deactivating",uX=(()=>{class i{constructor(e,n){this._elementRef=e,this._handleTransitionEnd=r=>{let o=this._elementRef.nativeElement.classList,s=o.contains(SM);r.propertyName==="opacity"&&s&&o.remove(dX,SM)},n.runOutsideAngular(()=>{e.nativeElement.addEventListener("transitionend",this._handleTransitionEnd)})}activate(){let e=this._elementRef.nativeElement.classList;e.remove(SM),e.add(dX)}deactivate(){this._elementRef.nativeElement.classList.add(SM)}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._handleTransitionEnd)}static{this.\u0275fac=function(n){return new(n||i)(O(Oe),O(Ne))}}static{this.\u0275dir=we({type:i,selectors:[["div","matFormFieldLineRipple",""]],hostAttrs:[1,"mdc-line-ripple"],standalone:!0})}}return i})(),hX=(()=>{class i{constructor(e,n){this._elementRef=e,this._ngZone=n,this.open=!1}ngAfterViewInit(){let e=this._elementRef.nativeElement.querySelector(".mdc-floating-label");e?(this._elementRef.nativeElement.classList.add("mdc-notched-outline--upgraded"),typeof requestAnimationFrame=="function"&&(e.style.transitionDuration="0s",this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>e.style.transitionDuration="")}))):this._elementRef.nativeElement.classList.add("mdc-notched-outline--no-label")}_setNotchWidth(e){!this.open||!e?this._notch.nativeElement.style.width="":this._notch.nativeElement.style.width=`calc(${e}px * var(--mat-mdc-form-field-floating-label-scale, 0.75) + 9px)`}static{this.\u0275fac=function(n){return new(n||i)(O(Oe),O(Ne))}}static{this.\u0275cmp=rt({type:i,selectors:[["div","matFormFieldNotchedOutline",""]],viewQuery:function(n,r){if(n&1&&Nt(V0e,5),n&2){let o;Le(o=Be())&&(r._notch=o.first)}},hostAttrs:[1,"mdc-notched-outline"],hostVars:2,hostBindings:function(n,r){n&2&&qe("mdc-notched-outline--notched",r.open)},inputs:{open:[J.None,"matFormFieldNotchedOutlineOpen","open"]},standalone:!0,features:[Tt],attrs:U0e,ngContentSelectors:z0e,decls:5,vars:0,consts:[["notch",""],[1,"mdc-notched-outline__leading"],[1,"mdc-notched-outline__notch"],[1,"mdc-notched-outline__trailing"]],template:function(n,r){n&1&&(Ti(),Ue(0,"div",1),y(1,"div",2,0),ct(3),x(),Ue(4,"div",3))},encapsulation:2,changeDetection:0})}}return i})(),fve={transitionMessages:Os("transitionMessages",[Jr("enter",Wn({opacity:1,transform:"translateY(0%)"})),eo("void => enter",[Wn({opacity:0,transform:"translateY(-5px)"}),To("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])},Mb=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275dir=we({type:i})}}return i})();var Cb=new ge("MatFormField"),gve=new ge("MAT_FORM_FIELD_DEFAULT_OPTIONS"),mX=0,pX="fill",_ve="auto",fX="fixed",bve="translateY(-50%)",Od=(()=>{class i{get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(e){this._hideRequiredMarker=Qr(e)}get floatLabel(){return this._floatLabel||this._defaults?.floatLabel||_ve}set floatLabel(e){e!==this._floatLabel&&(this._floatLabel=e,this._changeDetectorRef.markForCheck())}get appearance(){return this._appearance}set appearance(e){let n=this._appearance,r=e||this._defaults?.appearance||pX;this._appearance=r,this._appearance==="outline"&&this._appearance!==n&&(this._needsOutlineLabelOffsetUpdateOnStable=!0)}get subscriptSizing(){return this._subscriptSizing||this._defaults?.subscriptSizing||fX}set subscriptSizing(e){this._subscriptSizing=e||this._defaults?.subscriptSizing||fX}get hintLabel(){return this._hintLabel}set hintLabel(e){this._hintLabel=e,this._processHints()}get _control(){return this._explicitFormFieldControl||this._formFieldControl}set _control(e){this._explicitFormFieldControl=e}constructor(e,n,r,o,s,a,c,l){this._elementRef=e,this._changeDetectorRef=n,this._ngZone=r,this._dir=o,this._platform=s,this._defaults=a,this._animationMode=c,this._hideRequiredMarker=!1,this.color="primary",this._appearance=pX,this._subscriptSizing=null,this._hintLabel="",this._hasIconPrefix=!1,this._hasTextPrefix=!1,this._hasIconSuffix=!1,this._hasTextSuffix=!1,this._labelId=`mat-mdc-form-field-label-${mX++}`,this._hintLabelId=`mat-mdc-hint-${mX++}`,this._subscriptAnimationState="",this._destroyed=new Fe,this._isFocused=null,this._needsOutlineLabelOffsetUpdateOnStable=!1,a&&(a.appearance&&(this.appearance=a.appearance),this._hideRequiredMarker=!!a?.hideRequiredMarker,a.color&&(this.color=a.color))}ngAfterViewInit(){this._updateFocusState(),this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngAfterContentInit(){this._assertFormFieldControl(),this._initializeControl(),this._initializeSubscript(),this._initializePrefixAndSuffix(),this._initializeOutlineLabelOffsetSubscriptions()}ngAfterContentChecked(){this._assertFormFieldControl()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._textField||this._elementRef}_animateAndLockLabel(){this._hasFloatingLabel()&&(this.floatLabel="always")}_initializeControl(){let e=this._control;e.controlType&&this._elementRef.nativeElement.classList.add(`mat-mdc-form-field-type-${e.controlType}`),e.stateChanges.subscribe(()=>{this._updateFocusState(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),e.ngControl&&e.ngControl.valueChanges&&e.ngControl.valueChanges.pipe(Pt(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck())}_checkPrefixAndSuffixTypes(){this._hasIconPrefix=!!this._prefixChildren.find(e=>!e._isText),this._hasTextPrefix=!!this._prefixChildren.find(e=>e._isText),this._hasIconSuffix=!!this._suffixChildren.find(e=>!e._isText),this._hasTextSuffix=!!this._suffixChildren.find(e=>e._isText)}_initializePrefixAndSuffix(){this._checkPrefixAndSuffixTypes(),rr(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._checkPrefixAndSuffixTypes(),this._changeDetectorRef.markForCheck()})}_initializeSubscript(){this._hintChildren.changes.subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._validateHints(),this._syncDescribedByIds()}_assertFormFieldControl(){this._control}_updateFocusState(){this._control.focused&&!this._isFocused?(this._isFocused=!0,this._lineRipple?.activate()):!this._control.focused&&(this._isFocused||this._isFocused===null)&&(this._isFocused=!1,this._lineRipple?.deactivate()),this._textField?.nativeElement.classList.toggle("mdc-text-field--focused",this._control.focused)}_initializeOutlineLabelOffsetSubscriptions(){this._prefixChildren.changes.subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(Pt(this._destroyed)).subscribe(()=>{this._needsOutlineLabelOffsetUpdateOnStable&&(this._needsOutlineLabelOffsetUpdateOnStable=!1,this._updateOutlineLabelOffset())})}),this._dir.change.pipe(Pt(this._destroyed)).subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0)}_shouldAlwaysFloat(){return this.floatLabel==="always"}_hasOutline(){return this.appearance==="outline"}_forceDisplayInfixLabel(){return!this._platform.isBrowser&&this._prefixChildren.length&&!this._shouldLabelFloat()}_hasFloatingLabel(){return!!this._labelChildNonStatic||!!this._labelChildStatic}_shouldLabelFloat(){return this._control.shouldLabelFloat||this._shouldAlwaysFloat()}_shouldForward(e){let n=this._control?this._control.ngControl:null;return n&&n[e]}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_handleLabelResized(){this._refreshOutlineNotchWidth()}_refreshOutlineNotchWidth(){!this._hasOutline()||!this._floatingLabel||!this._shouldLabelFloat()?this._notchedOutline?._setNotchWidth(0):this._notchedOutline?._setNotchWidth(this._floatingLabel.getWidth())}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){this._hintChildren}_syncDescribedByIds(){if(this._control){let e=[];if(this._control.userAriaDescribedBy&&typeof this._control.userAriaDescribedBy=="string"&&e.push(...this._control.userAriaDescribedBy.split(" ")),this._getDisplayedMessages()==="hint"){let n=this._hintChildren?this._hintChildren.find(o=>o.align==="start"):null,r=this._hintChildren?this._hintChildren.find(o=>o.align==="end"):null;n?e.push(n.id):this._hintLabel&&e.push(this._hintLabelId),r&&e.push(r.id)}else this._errorChildren&&e.push(...this._errorChildren.map(n=>n.id));this._control.setDescribedByIds(e)}}_updateOutlineLabelOffset(){if(!this._platform.isBrowser||!this._hasOutline()||!this._floatingLabel)return;let e=this._floatingLabel.element;if(!(this._iconPrefixContainer||this._textPrefixContainer)){e.style.transform="";return}if(!this._isAttachedToDom()){this._needsOutlineLabelOffsetUpdateOnStable=!0;return}let n=this._iconPrefixContainer?.nativeElement,r=this._textPrefixContainer?.nativeElement,o=n?.getBoundingClientRect().width??0,s=r?.getBoundingClientRect().width??0,a=this._dir.value==="rtl"?"-1":"1",c=`${o+s}px`,d=`calc(${a} * (${c} + var(--mat-mdc-form-field-label-offset-x, 0px)))`;e.style.transform=`var(
        --mat-mdc-form-field-label-transform,
        ${bve} translateX(${d})
    )`}_isAttachedToDom(){let e=this._elementRef.nativeElement;if(e.getRootNode){let n=e.getRootNode();return n&&n!==e}return document.documentElement.contains(e)}static{this.\u0275fac=function(n){return new(n||i)(O(Oe),O(ci),O(Ne),O(vr),O(ri),O(gve,8),O(Vi,8),O(It))}}static{this.\u0275cmp=rt({type:i,selectors:[["mat-form-field"]],contentQueries:function(n,r,o){if(n&1&&(ni(o,Nd,5),ni(o,Nd,7),ni(o,Mb,5),ni(o,hve,5),ni(o,mve,5),ni(o,gX,5),ni(o,EM,5)),n&2){let s;Le(s=Be())&&(r._labelChildNonStatic=s.first),Le(s=Be())&&(r._labelChildStatic=s.first),Le(s=Be())&&(r._formFieldControl=s.first),Le(s=Be())&&(r._prefixChildren=s),Le(s=Be())&&(r._suffixChildren=s),Le(s=Be())&&(r._errorChildren=s),Le(s=Be())&&(r._hintChildren=s)}},viewQuery:function(n,r){if(n&1&&(Nt(H0e,5),Nt(j0e,5),Nt($0e,5),Nt(lX,5),Nt(hX,5),Nt(uX,5)),n&2){let o;Le(o=Be())&&(r._textField=o.first),Le(o=Be())&&(r._iconPrefixContainer=o.first),Le(o=Be())&&(r._textPrefixContainer=o.first),Le(o=Be())&&(r._floatingLabel=o.first),Le(o=Be())&&(r._notchedOutline=o.first),Le(o=Be())&&(r._lineRipple=o.first)}},hostAttrs:[1,"mat-mdc-form-field"],hostVars:42,hostBindings:function(n,r){n&2&&qe("mat-mdc-form-field-label-always-float",r._shouldAlwaysFloat())("mat-mdc-form-field-has-icon-prefix",r._hasIconPrefix)("mat-mdc-form-field-has-icon-suffix",r._hasIconSuffix)("mat-form-field-invalid",r._control.errorState)("mat-form-field-disabled",r._control.disabled)("mat-form-field-autofilled",r._control.autofilled)("mat-form-field-no-animations",r._animationMode==="NoopAnimations")("mat-form-field-appearance-fill",r.appearance=="fill")("mat-form-field-appearance-outline",r.appearance=="outline")("mat-form-field-hide-placeholder",r._hasFloatingLabel()&&!r._shouldLabelFloat())("mat-focused",r._control.focused)("mat-primary",r.color!=="accent"&&r.color!=="warn")("mat-accent",r.color==="accent")("mat-warn",r.color==="warn")("ng-untouched",r._shouldForward("untouched"))("ng-touched",r._shouldForward("touched"))("ng-pristine",r._shouldForward("pristine"))("ng-dirty",r._shouldForward("dirty"))("ng-valid",r._shouldForward("valid"))("ng-invalid",r._shouldForward("invalid"))("ng-pending",r._shouldForward("pending"))},inputs:{hideRequiredMarker:"hideRequiredMarker",color:"color",floatLabel:"floatLabel",appearance:"appearance",subscriptSizing:"subscriptSizing",hintLabel:"hintLabel"},exportAs:["matFormField"],standalone:!0,features:[Ot([{provide:Cb,useExisting:i},{provide:bX,useExisting:i}]),Tt],ngContentSelectors:W0e,decls:18,vars:21,consts:[["labelTemplate",""],["textField",""],["iconPrefixContainer",""],["textPrefixContainer",""],[1,"mat-mdc-text-field-wrapper","mdc-text-field",3,"click"],[1,"mat-mdc-form-field-focus-overlay"],[1,"mat-mdc-form-field-flex"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen"],[1,"mat-mdc-form-field-icon-prefix"],[1,"mat-mdc-form-field-text-prefix"],[1,"mat-mdc-form-field-infix"],[3,"ngTemplateOutlet"],[1,"mat-mdc-form-field-text-suffix"],[1,"mat-mdc-form-field-icon-suffix"],["matFormFieldLineRipple",""],[1,"mat-mdc-form-field-subscript-wrapper","mat-mdc-form-field-bottom-align"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id"],["aria-hidden","true",1,"mat-mdc-form-field-required-marker","mdc-floating-label--required"],[1,"mat-mdc-form-field-error-wrapper"],[1,"mat-mdc-form-field-hint-wrapper"],[3,"id"],[1,"mat-mdc-form-field-hint-spacer"]],template:function(n,r){if(n&1){let o=ft();Ti(G0e),Ee(0,Y0e,1,1,"ng-template",null,0,hg),y(2,"div",4,1),fe("click",function(a){return ce(o),le(r._control.onContainerClick(a))}),Ee(4,Z0e,1,0,"div",5),y(5,"div",6),Ee(6,J0e,2,2,"div",7)(7,eve,3,0,"div",8)(8,tve,3,0,"div",9),y(9,"div",10),Ee(10,nve,1,1,null,11),ct(11),x(),Ee(12,rve,2,0,"div",12)(13,ove,2,0,"div",13),x(),Ee(14,sve,1,0,"div",14),x(),y(15,"div",15),Ee(16,ave,2,1)(17,lve,5,2),x()}if(n&2){let o;B(2),qe("mdc-text-field--filled",!r._hasOutline())("mdc-text-field--outlined",r._hasOutline())("mdc-text-field--no-label",!r._hasFloatingLabel())("mdc-text-field--disabled",r._control.disabled)("mdc-text-field--invalid",r._control.errorState),B(2),Yt(4,!r._hasOutline()&&!r._control.disabled?4:-1),B(2),Yt(6,r._hasOutline()?6:-1),B(),Yt(7,r._hasIconPrefix?7:-1),B(),Yt(8,r._hasTextPrefix?8:-1),B(2),Yt(10,!r._hasOutline()||r._forceDisplayInfixLabel()?10:-1),B(2),Yt(12,r._hasTextSuffix?12:-1),B(),Yt(13,r._hasIconSuffix?13:-1),B(),Yt(14,r._hasOutline()?-1:14),B(),qe("mat-mdc-form-field-subscript-dynamic-size",r.subscriptSizing==="dynamic"),B(),Yt(16,(o=r._getDisplayedMessages())==="error"?16:o==="hint"?17:-1)}},dependencies:[lX,hX,fg,uX,EM],styles:['.mdc-text-field{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:0;border-bottom-left-radius:0;display:inline-flex;align-items:baseline;padding:0 16px;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-text-field__input{height:28px;width:100%;min-width:0;border:none;border-radius:0;background:none;appearance:none;padding:0}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input::-webkit-calendar-picker-indicator{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}@media all{.mdc-text-field__input::placeholder{opacity:0}}@media all{.mdc-text-field__input:-ms-input-placeholder{opacity:0}}@media all{.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{opacity:1}}@media all{.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{opacity:1}}.mdc-text-field__affix{height:28px;opacity:0;white-space:nowrap}.mdc-text-field--label-floating .mdc-text-field__affix,.mdc-text-field--no-label .mdc-text-field__affix{opacity:1}@supports(-webkit-hyphens: none){.mdc-text-field--outlined .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field__affix--prefix,.mdc-text-field__affix--prefix[dir=rtl]{padding-left:2px;padding-right:0}.mdc-text-field--end-aligned .mdc-text-field__affix--prefix{padding-left:0;padding-right:12px}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--end-aligned .mdc-text-field__affix--prefix[dir=rtl]{padding-left:12px;padding-right:0}.mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field__affix--suffix,.mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:12px}.mdc-text-field--end-aligned .mdc-text-field__affix--suffix{padding-left:2px;padding-right:0}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--end-aligned .mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:2px}.mdc-text-field--filled{height:56px}.mdc-text-field--filled::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}.mdc-text-field--filled .mdc-floating-label{left:16px;right:initial}[dir=rtl] .mdc-text-field--filled .mdc-floating-label,.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:16px}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled.mdc-text-field--no-label::before{display:none}@supports(-webkit-hyphens: none){.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field--outlined{height:56px;overflow:visible}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--outlined .mdc-text-field__input{height:100%}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:4px;border-bottom-left-radius:var(--mdc-shape-small, 4px)}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:4px;border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px,var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px,var(--mdc-shape-small, 4px))*2)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:4px;border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:4px;border-bottom-left-radius:var(--mdc-shape-small, 4px)}@supports(top: max(0%)){.mdc-text-field--outlined{padding-left:max(16px,calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px,var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-left:max(16px,calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-right:max(16px,var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-left:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-right:max(16px,var(--mdc-shape-small, 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-right:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:max(16px,var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-right:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-left:max(16px,calc(var(--mdc-shape-small, 4px) + 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-right:max(16px,calc(var(--mdc-shape-small, 4px) + 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:initial}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:4px}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:rgba(0,0,0,0)}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mdc-text-field--textarea{flex-direction:column;align-items:center;width:auto;height:auto;padding:0}.mdc-text-field--textarea .mdc-floating-label{top:19px}.mdc-text-field--textarea .mdc-floating-label:not(.mdc-floating-label--float-above){transform:none}.mdc-text-field--textarea .mdc-text-field__input{flex-grow:1;height:auto;min-height:1.5rem;overflow-x:hidden;overflow-y:auto;box-sizing:border-box;resize:none;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--filled::before{display:none}.mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-10.25px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--filled .mdc-text-field__input{margin-top:23px;margin-bottom:9px}.mdc-text-field--textarea.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-27.25px) scale(1)}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-24.75px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label{top:18px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field__input{margin-bottom:2px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter{align-self:flex-end;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::after{display:inline-block;width:0;height:16px;content:"";vertical-align:-16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::before{display:none}.mdc-text-field__resizer{align-self:stretch;display:inline-flex;flex-direction:column;flex-grow:1;max-height:100%;max-width:100%;min-height:56px;min-width:fit-content;min-width:-moz-available;min-width:-webkit-fill-available;overflow:hidden;resize:both}.mdc-text-field--filled .mdc-text-field__resizer{transform:translateY(-1px)}.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateY(1px)}.mdc-text-field--outlined .mdc-text-field__resizer{transform:translateX(-1px) translateY(-1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer,.mdc-text-field--outlined .mdc-text-field__resizer[dir=rtl]{transform:translateX(1px) translateY(-1px)}.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateX(1px) translateY(1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input[dir=rtl],.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter[dir=rtl]{transform:translateX(-1px) translateY(1px)}.mdc-text-field--with-leading-icon{padding-left:0;padding-right:16px}[dir=rtl] .mdc-text-field--with-leading-icon,.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:16px;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 48px);left:48px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:48px}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100%/0.75 - 64px/0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label{left:36px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:36px}.mdc-text-field--with-leading-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) translateX(-32px) scale(1)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-37.25px) translateX(32px) scale(1)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) translateX(-32px) scale(0.75)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl],.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-34.75px) translateX(32px) scale(0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--with-trailing-icon{padding-left:16px;padding-right:0}[dir=rtl] .mdc-text-field--with-trailing-icon,.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0;padding-right:16px}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 64px)}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100%/0.75 - 64px/0.75)}.mdc-text-field--with-trailing-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 96px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100%/0.75 - 96px/0.75)}.mdc-text-field-helper-line{display:flex;justify-content:space-between;box-sizing:border-box}.mdc-text-field+.mdc-text-field-helper-line{padding-right:16px;padding-left:16px}.mdc-form-field>.mdc-text-field+label{align-self:flex-start}.mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--focused .mdc-notched-outline__trailing{border-width:2px}.mdc-text-field--focused+.mdc-text-field-helper-line .mdc-text-field-helper-text:not(.mdc-text-field-helper-text--validation-msg){opacity:1}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-text-field--focused.mdc-text-field--outlined.mdc-text-field--textarea .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--invalid+.mdc-text-field-helper-line .mdc-text-field-helper-text--validation-msg{opacity:1}.mdc-text-field--disabled{pointer-events:none}@media screen and (forced-colors: active){.mdc-text-field--disabled .mdc-text-field__input{background-color:Window}.mdc-text-field--disabled .mdc-floating-label{z-index:1}}.mdc-text-field--disabled .mdc-floating-label{cursor:default}.mdc-text-field--disabled.mdc-text-field--filled .mdc-text-field__ripple{display:none}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--end-aligned .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--end-aligned .mdc-text-field__input[dir=rtl]{text-align:left}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix{direction:ltr}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--leading,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--leading{order:1}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{order:2}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input{order:3}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{order:4}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--trailing,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--trailing{order:5}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--prefix{padding-right:12px}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--suffix{padding-left:2px}.mdc-floating-label{position:absolute;left:0;-webkit-transform-origin:left top;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform}[dir=rtl] .mdc-floating-label,.mdc-floating-label[dir=rtl]{right:0;left:auto;-webkit-transform-origin:right top;transform-origin:right top;text-align:right}.mdc-floating-label--float-above{cursor:auto}.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:1px;margin-right:0px;content:"*"}[dir=rtl] .mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after,.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)[dir=rtl]::after{margin-left:0;margin-right:1px}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline,.mdc-notched-outline[dir=rtl]{text-align:right}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{box-sizing:border-box;height:100%;pointer-events:none}.mdc-notched-outline__trailing{flex-grow:1}.mdc-notched-outline__notch{flex:0 0 auto;width:auto}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:133.3333333333%}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch,.mdc-notched-outline--notched .mdc-notched-outline__notch[dir=rtl]{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{z-index:1}.mdc-line-ripple::after{transform:scaleX(0);opacity:0;z-index:2}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{border-top:1px solid;border-bottom:1px solid}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;width:12px}[dir=rtl] .mdc-notched-outline__leading,.mdc-notched-outline__leading[dir=rtl]{border-left:none;border-right:1px solid}.mdc-notched-outline__trailing{border-left:none;border-right:1px solid}[dir=rtl] .mdc-notched-outline__trailing,.mdc-notched-outline__trailing[dir=rtl]{border-left:1px solid;border-right:none}.mdc-notched-outline__notch{max-width:calc(100% - 12px*2)}.mdc-line-ripple::before{border-bottom-width:1px}.mdc-line-ripple::after{border-bottom-width:2px}.mdc-text-field--filled{border-top-left-radius:var(--mdc-filled-text-field-container-shape);border-top-right-radius:var(--mdc-filled-text-field-container-shape);border-bottom-right-radius:0;border-bottom-left-radius:0}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-filled-text-field-caret-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-filled-text-field-error-caret-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-filled-text-field-input-text-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-filled-text-field-disabled-input-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-label-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-focus-label-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label,.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-hover-label-text-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-disabled-label-text-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-error-label-text-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-error-focus-label-text-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-error-hover-label-text-color)}.mdc-text-field--filled .mdc-floating-label{font-family:var(--mdc-filled-text-field-label-text-font);font-size:var(--mdc-filled-text-field-label-text-size);font-weight:var(--mdc-filled-text-field-label-text-weight);letter-spacing:var(--mdc-filled-text-field-label-text-tracking)}@media all{.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color)}}@media all{.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color)}}.mdc-text-field--filled:not(.mdc-text-field--disabled){background-color:var(--mdc-filled-text-field-container-color)}.mdc-text-field--filled.mdc-text-field--disabled{background-color:var(--mdc-filled-text-field-disabled-container-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-active-indicator-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-hover-active-indicator-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-focus-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-disabled-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-hover-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-error-focus-active-indicator-color)}.mdc-text-field--filled .mdc-line-ripple::before{border-bottom-width:var(--mdc-filled-text-field-active-indicator-height)}.mdc-text-field--filled .mdc-line-ripple::after{border-bottom-width:var(--mdc-filled-text-field-focus-active-indicator-height)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-outlined-text-field-caret-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-outlined-text-field-error-caret-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-outlined-text-field-input-text-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-outlined-text-field-disabled-input-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-label-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-focus-label-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label,.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-hover-label-text-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--disabled .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-disabled-label-text-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-error-label-text-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-error-focus-label-text-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-error-hover-label-text-color)}.mdc-text-field--outlined .mdc-floating-label{font-family:var(--mdc-outlined-text-field-label-text-font);font-size:var(--mdc-outlined-text-field-label-text-size);font-weight:var(--mdc-outlined-text-field-label-text-weight);letter-spacing:var(--mdc-outlined-text-field-label-text-tracking)}@media all{.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color)}}@media all{.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color)}}.mdc-text-field--outlined.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:calc(.75*var(--mdc-outlined-text-field-label-text-size))}.mdc-text-field--outlined.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:var(--mdc-outlined-text-field-label-text-size)}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:var(--mdc-outlined-text-field-container-shape);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape)}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-left-radius:0}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px,var(--mdc-outlined-text-field-container-shape))}}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px,var(--mdc-outlined-text-field-container-shape))*2)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-left-radius:0}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:var(--mdc-outlined-text-field-container-shape);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape)}@supports(top: max(0%)){.mdc-text-field--outlined{padding-left:max(16px,calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px,var(--mdc-outlined-text-field-container-shape))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-left:max(16px,calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-right:max(16px,var(--mdc-outlined-text-field-container-shape))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-left:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-right:max(16px,var(--mdc-outlined-text-field-container-shape))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-right:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:max(16px,var(--mdc-outlined-text-field-container-shape))}}.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-right:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-left:max(16px,calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-right:max(16px,calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-hover-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-focus-outline-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--disabled .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--disabled .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-disabled-outline-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-error-outline-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-error-hover-outline-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-error-focus-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__trailing{border-width:var(--mdc-outlined-text-field-outline-width)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__trailing{border-width:var(--mdc-outlined-text-field-focus-outline-width)}.mat-mdc-form-field-textarea-control{vertical-align:middle;resize:vertical;box-sizing:border-box;height:auto;margin:0;padding:0;border:none;overflow:auto}.mat-mdc-form-field-input-control.mat-mdc-form-field-input-control{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font:inherit;letter-spacing:inherit;text-decoration:inherit;text-transform:inherit;border:none}.mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;line-height:normal;pointer-events:all;will-change:auto}.mat-mdc-form-field:not(.mat-form-field-disabled) .mat-mdc-floating-label.mdc-floating-label{cursor:inherit}.mdc-text-field--no-label:not(.mdc-text-field--textarea) .mat-mdc-form-field-input-control.mdc-text-field__input,.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control{height:auto}.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control.mdc-text-field__input[type=color]{height:23px}.mat-mdc-text-field-wrapper{height:auto;flex:auto;will-change:auto}.mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-left:0;--mat-mdc-form-field-label-offset-x: -16px}.mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-right:0}[dir=rtl] .mat-mdc-text-field-wrapper{padding-left:16px;padding-right:16px}[dir=rtl] .mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-left:0}[dir=rtl] .mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-right:0}.mat-form-field-disabled .mdc-text-field__input::placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-moz-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-webkit-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input:-ms-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-mdc-form-field-label-always-float .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}.mat-mdc-text-field-wrapper .mat-mdc-form-field-infix .mat-mdc-floating-label{left:auto;right:auto}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-text-field__input{display:inline-block}.mat-mdc-form-field .mat-mdc-text-field-wrapper.mdc-text-field .mdc-notched-outline__notch{padding-top:0}.mat-mdc-text-field-wrapper::before{content:none}.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field .mdc-notched-outline__notch{border-left:1px solid rgba(0,0,0,0)}[dir=rtl] .mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field .mdc-notched-outline__notch{border-left:none;border-right:1px solid rgba(0,0,0,0)}.mat-mdc-form-field-infix{min-height:var(--mat-form-field-container-height);padding-top:var(--mat-form-field-filled-with-label-container-padding-top);padding-bottom:var(--mat-form-field-filled-with-label-container-padding-bottom)}.mdc-text-field--outlined .mat-mdc-form-field-infix,.mdc-text-field--no-label .mat-mdc-form-field-infix{padding-top:var(--mat-form-field-container-vertical-padding);padding-bottom:var(--mat-form-field-container-vertical-padding)}.mat-mdc-text-field-wrapper .mat-mdc-form-field-flex .mat-mdc-floating-label{top:calc(var(--mat-form-field-container-height)/2)}.mdc-text-field--filled .mat-mdc-floating-label{display:var(--mat-form-field-filled-label-display, block)}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{--mat-mdc-form-field-label-transform: translateY(calc(calc(6.75px + var(--mat-form-field-container-height) / 2) * -1)) scale(var(--mat-mdc-form-field-floating-label-scale, 0.75));transform:var(--mat-mdc-form-field-label-transform)}.mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative}.mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-error-wrapper{position:absolute;top:0;left:0;right:0;padding:0 16px}.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-error-wrapper{position:static}.mat-mdc-form-field-bottom-align::before{content:"";display:inline-block;height:16px}.mat-mdc-form-field-bottom-align.mat-mdc-form-field-subscript-dynamic-size::before{content:unset}.mat-mdc-form-field-hint-end{order:1}.mat-mdc-form-field-hint-wrapper{display:flex}.mat-mdc-form-field-hint-spacer{flex:1 0 1em}.mat-mdc-form-field-error{display:block;color:var(--mat-form-field-error-text-color)}.mat-mdc-form-field-subscript-wrapper,.mat-mdc-form-field-bottom-align::before{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-subscript-text-font);line-height:var(--mat-form-field-subscript-text-line-height);font-size:var(--mat-form-field-subscript-text-size);letter-spacing:var(--mat-form-field-subscript-text-tracking);font-weight:var(--mat-form-field-subscript-text-weight)}.mat-mdc-form-field-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;opacity:0;pointer-events:none;background-color:var(--mat-form-field-state-layer-color)}.mat-mdc-text-field-wrapper:hover .mat-mdc-form-field-focus-overlay{opacity:var(--mat-form-field-hover-state-layer-opacity)}.mat-mdc-form-field.mat-focused .mat-mdc-form-field-focus-overlay{opacity:var(--mat-form-field-focus-state-layer-opacity)}select.mat-mdc-form-field-input-control{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box}select.mat-mdc-form-field-input-control:not(:disabled){cursor:pointer}select.mat-mdc-form-field-input-control:not(.mat-mdc-native-select-inline) option{color:var(--mat-form-field-select-option-text-color)}select.mat-mdc-form-field-input-control:not(.mat-mdc-native-select-inline) option:disabled{color:var(--mat-form-field-select-disabled-option-text-color)}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;right:0;top:50%;margin-top:-2.5px;pointer-events:none;color:var(--mat-form-field-enabled-select-arrow-color)}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{right:auto;left:0}.mat-mdc-form-field-type-mat-native-select.mat-focused .mat-mdc-form-field-infix::after{color:var(--mat-form-field-focus-select-arrow-color)}.mat-mdc-form-field-type-mat-native-select.mat-form-field-disabled .mat-mdc-form-field-infix::after{color:var(--mat-form-field-disabled-select-arrow-color)}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:15px}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:0;padding-left:15px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-mdc-text-field-wrapper{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-mdc-text-field-wrapper{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-mdc-text-field-wrapper{outline:dashed 3px}.cdk-high-contrast-active .mat-mdc-form-field.mat-focused .mdc-notched-outline{border:dashed 3px}.mat-mdc-form-field-input-control[type=date],.mat-mdc-form-field-input-control[type=datetime],.mat-mdc-form-field-input-control[type=datetime-local],.mat-mdc-form-field-input-control[type=month],.mat-mdc-form-field-input-control[type=week],.mat-mdc-form-field-input-control[type=time]{line-height:1}.mat-mdc-form-field-input-control::-webkit-datetime-edit{line-height:1;padding:0;margin-bottom:-2px}.mat-mdc-form-field{--mat-mdc-form-field-floating-label-scale: 0.75;display:inline-flex;flex-direction:column;min-width:0;text-align:left;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-container-text-font);line-height:var(--mat-form-field-container-text-line-height);font-size:var(--mat-form-field-container-text-size);letter-spacing:var(--mat-form-field-container-text-tracking);font-weight:var(--mat-form-field-container-text-weight)}[dir=rtl] .mat-mdc-form-field{text-align:right}.mat-mdc-form-field .mdc-text-field--outlined .mdc-floating-label--float-above{font-size:calc(var(--mat-form-field-outlined-label-text-populated-size)*var(--mat-mdc-form-field-floating-label-scale))}.mat-mdc-form-field .mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:var(--mat-form-field-outlined-label-text-populated-size)}.mat-mdc-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-mdc-text-field-wrapper{width:100%;z-index:0}.mat-mdc-form-field-icon-prefix,.mat-mdc-form-field-icon-suffix{align-self:center;line-height:0;pointer-events:auto;position:relative;z-index:1}.mat-mdc-form-field-icon-prefix>.mat-icon,.mat-mdc-form-field-icon-suffix>.mat-icon{padding:0 12px;box-sizing:content-box}.mat-mdc-form-field-icon-prefix{color:var(--mat-form-field-leading-icon-color)}.mat-form-field-disabled .mat-mdc-form-field-icon-prefix{color:var(--mat-form-field-disabled-leading-icon-color)}.mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-trailing-icon-color)}.mat-form-field-disabled .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-disabled-trailing-icon-color)}.mat-form-field-invalid .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-trailing-icon-color)}.mat-form-field-invalid:not(.mat-focused):not(.mat-form-field-disabled) .mat-mdc-text-field-wrapper:hover .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-hover-trailing-icon-color)}.mat-form-field-invalid.mat-focused .mat-mdc-text-field-wrapper .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-focus-trailing-icon-color)}.mat-mdc-form-field-icon-prefix,[dir=rtl] .mat-mdc-form-field-icon-suffix{padding:0 4px 0 0}.mat-mdc-form-field-icon-suffix,[dir=rtl] .mat-mdc-form-field-icon-prefix{padding:0 0 0 4px}.mat-mdc-form-field-subscript-wrapper .mat-icon,.mat-mdc-form-field label .mat-icon{width:1em;height:1em;font-size:inherit}.mat-mdc-form-field-infix{flex:auto;min-width:0;width:180px;position:relative;box-sizing:border-box}.mat-mdc-form-field .mdc-notched-outline__notch{margin-left:-1px;-webkit-clip-path:inset(-9em -999em -9em 1px);clip-path:inset(-9em -999em -9em 1px)}[dir=rtl] .mat-mdc-form-field .mdc-notched-outline__notch{margin-left:0;margin-right:-1px;-webkit-clip-path:inset(-9em 1px -9em -999em);clip-path:inset(-9em 1px -9em -999em)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__affix{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled.mdc-ripple-upgraded--background-focused .mdc-text-field__ripple::before,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea{transition:none}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-filled 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-filled{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-outlined{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon{0%{transform:translateX(calc(0% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}}[dir=rtl] .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined[dir=rtl] .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon-rtl{0%{transform:translateX(calc(0% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-floating-label{transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-standard 250ms 1}@keyframes mdc-floating-label-shake-float-above-standard{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-notched-outline .mdc-floating-label{max-width:calc(100% + 1px)}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:calc(133.3333333333% + 1px)}'],encapsulation:2,data:{animation:[fve.transitionMessages]},changeDetection:0})}}return i})(),wh=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275mod=$e({type:i})}static{this.\u0275inj=je({imports:[Ft,kr,Wm,Ft]})}}return i})();var vX=As({passive:!0}),yX=(()=>{class i{constructor(e,n){this._platform=e,this._ngZone=n,this._monitoredElements=new Map}monitor(e){if(!this._platform.isBrowser)return Zn;let n=Ho(e),r=this._monitoredElements.get(n);if(r)return r.subject;let o=new Fe,s="cdk-text-field-autofilled",a=c=>{c.animationName==="cdk-text-field-autofill-start"&&!n.classList.contains(s)?(n.classList.add(s),this._ngZone.run(()=>o.next({target:c.target,isAutofilled:!0}))):c.animationName==="cdk-text-field-autofill-end"&&n.classList.contains(s)&&(n.classList.remove(s),this._ngZone.run(()=>o.next({target:c.target,isAutofilled:!1})))};return this._ngZone.runOutsideAngular(()=>{n.addEventListener("animationstart",a,vX),n.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(n,{subject:o,unlisten:()=>{n.removeEventListener("animationstart",a,vX)}}),o}stopMonitoring(e){let n=Ho(e),r=this._monitoredElements.get(n);r&&(r.unlisten(),r.subject.complete(),n.classList.remove("cdk-text-field-autofill-monitored"),n.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(n))}ngOnDestroy(){this._monitoredElements.forEach((e,n)=>this.stopMonitoring(n))}static{this.\u0275fac=function(n){return new(n||i)(me(ri),me(Ne))}}static{this.\u0275prov=xe({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();var xX=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275mod=$e({type:i})}static{this.\u0275inj=je({})}}return i})();var yve=new ge("MAT_INPUT_VALUE_ACCESSOR"),xve=["button","checkbox","file","hidden","image","radio","range","reset","submit"],wve=0,Gp=(()=>{class i{get disabled(){return this._disabled}set disabled(e){this._disabled=Qr(e),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(e){this._id=e||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(ta.required)??!1}set required(e){this._required=Qr(e)}get type(){return this._type}set type(e){this._type=e||"text",this._validateType(),!this._isTextarea&&TD().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get errorStateMatcher(){return this._errorStateTracker.matcher}set errorStateMatcher(e){this._errorStateTracker.matcher=e}get value(){return this._inputValueAccessor.value}set value(e){e!==this.value&&(this._inputValueAccessor.value=e,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(e){this._readonly=Qr(e)}get errorState(){return this._errorStateTracker.errorState}set errorState(e){this._errorStateTracker.errorState=e}constructor(e,n,r,o,s,a,c,l,d,u){this._elementRef=e,this._platform=n,this.ngControl=r,this._autofillMonitor=l,this._formField=u,this._uid=`mat-input-${wve++}`,this.focused=!1,this.stateChanges=new Fe,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(p=>TD().has(p)),this._iOSKeyupListener=p=>{let _=p.target;!_.value&&_.selectionStart===0&&_.selectionEnd===0&&(_.setSelectionRange(1,1),_.setSelectionRange(0,0))};let h=this._elementRef.nativeElement,m=h.nodeName.toLowerCase();this._inputValueAccessor=c||h,this._previousNativeValue=this.value,this.id=this.id,n.IOS&&d.runOutsideAngular(()=>{e.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._errorStateTracker=new Bu(a,r,s,o,this.stateChanges),this._isServer=!this._platform.isBrowser,this._isNativeSelect=m==="select",this._isTextarea=m==="textarea",this._isInFormField=!!u,this._isNativeSelect&&(this.controlType=h.multiple?"mat-native-select-multiple":"mat-native-select")}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(e=>{this.autofilled=e.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&(this.updateErrorState(),this.ngControl.disabled!==null&&this.ngControl.disabled!==this.disabled&&(this.disabled=this.ngControl.disabled,this.stateChanges.next())),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(e){this._elementRef.nativeElement.focus(e)}updateErrorState(){this._errorStateTracker.updateErrorState()}_focusChanged(e){e!==this.focused&&(this.focused=e,this.stateChanges.next())}_onInput(){}_dirtyCheckNativeValue(){let e=this._elementRef.nativeElement.value;this._previousNativeValue!==e&&(this._previousNativeValue=e,this.stateChanges.next())}_dirtyCheckPlaceholder(){let e=this._getPlaceholder();if(e!==this._previousPlaceholder){let n=this._elementRef.nativeElement;this._previousPlaceholder=e,e?n.setAttribute("placeholder",e):n.removeAttribute("placeholder")}}_getPlaceholder(){return this.placeholder||null}_validateType(){xve.indexOf(this._type)>-1}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let e=this._elementRef.nativeElement.validity;return e&&e.badInput}get empty(){return!this._isNeverEmpty()&&!this._elementRef.nativeElement.value&&!this._isBadInput()&&!this.autofilled}get shouldLabelFloat(){if(this._isNativeSelect){let e=this._elementRef.nativeElement,n=e.options[0];return this.focused||e.multiple||!this.empty||!!(e.selectedIndex>-1&&n&&n.label)}else return this.focused||!this.empty}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){let e=this._elementRef.nativeElement;return this._isNativeSelect&&(e.multiple||e.size>1)}static{this.\u0275fac=function(n){return new(n||i)(O(Oe),O(ri),O(ia,10),O(xg,8),O(Au,8),O(Ym),O(yve,10),O(yX),O(Ne),O(Cb,8))}}static{this.\u0275dir=we({type:i,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-mdc-input-element"],hostVars:18,hostBindings:function(n,r){n&1&&fe("focus",function(){return r._focusChanged(!0)})("blur",function(){return r._focusChanged(!1)})("input",function(){return r._onInput()}),n&2&&(Ts("id",r.id)("disabled",r.disabled)("required",r.required),wt("name",r.name||null)("readonly",r.readonly&&!r._isNativeSelect||null)("aria-invalid",r.empty&&r.required?null:r.errorState)("aria-required",r.required)("id",r.id),qe("mat-input-server",r._isServer)("mat-mdc-form-field-textarea-control",r._isInFormField&&r._isTextarea)("mat-mdc-form-field-input-control",r._isInFormField)("mdc-text-field__input",r._isInFormField)("mat-mdc-native-select-inline",r._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:[J.None,"aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],standalone:!0,features:[Ot([{provide:Mb,useExisting:i}]),Bi]})}}return i})(),wX=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275mod=$e({type:i})}static{this.\u0275inj=je({imports:[Ft,wh,wh,xX,Ft]})}}return i})();var Mve=["determinateSpinner"];function Cve(i,t){if(i&1&&(Zr(),y(0,"svg",11),Ue(1,"circle",12),x()),i&2){let e=Q();wt("viewBox",e._viewBox()),B(),$n("stroke-dasharray",e._strokeCircumference(),"px")("stroke-dashoffset",e._strokeCircumference()/2,"px")("stroke-width",e._circleStrokeWidth(),"%"),wt("r",e._circleRadius())}}var Sve=new ge("mat-progress-spinner-default-options",{providedIn:"root",factory:Eve});function Eve(){return{diameter:MX}}var MX=100,Tve=10,CX=(()=>{class i{get color(){return this._color||this._defaultColor}set color(e){this._color=e}constructor(e,n,r){this._elementRef=e,this._defaultColor="primary",this._value=0,this._diameter=MX,this._noopAnimations=n==="NoopAnimations"&&!!r&&!r._forceAnimations,this.mode=e.nativeElement.nodeName.toLowerCase()==="mat-spinner"?"indeterminate":"determinate",r&&(r.color&&(this.color=this._defaultColor=r.color),r.diameter&&(this.diameter=r.diameter),r.strokeWidth&&(this.strokeWidth=r.strokeWidth))}get value(){return this.mode==="determinate"?this._value:0}set value(e){this._value=Math.max(0,Math.min(100,e||0))}get diameter(){return this._diameter}set diameter(e){this._diameter=e||0}get strokeWidth(){return this._strokeWidth??this.diameter/10}set strokeWidth(e){this._strokeWidth=e||0}_circleRadius(){return(this.diameter-Tve)/2}_viewBox(){let e=this._circleRadius()*2+this.strokeWidth;return`0 0 ${e} ${e}`}_strokeCircumference(){return 2*Math.PI*this._circleRadius()}_strokeDashOffset(){return this.mode==="determinate"?this._strokeCircumference()*(100-this._value)/100:null}_circleStrokeWidth(){return this.strokeWidth/this.diameter*100}static{this.\u0275fac=function(n){return new(n||i)(O(Oe),O(Vi,8),O(Sve))}}static{this.\u0275cmp=rt({type:i,selectors:[["mat-progress-spinner"],["mat-spinner"]],viewQuery:function(n,r){if(n&1&&Nt(Mve,5),n&2){let o;Le(o=Be())&&(r._determinateCircle=o.first)}},hostAttrs:["role","progressbar","tabindex","-1",1,"mat-mdc-progress-spinner","mdc-circular-progress"],hostVars:18,hostBindings:function(n,r){n&2&&(wt("aria-valuemin",0)("aria-valuemax",100)("aria-valuenow",r.mode==="determinate"?r.value:null)("mode",r.mode),Dr("mat-"+r.color),$n("width",r.diameter,"px")("height",r.diameter,"px")("--mdc-circular-progress-size",r.diameter+"px")("--mdc-circular-progress-active-indicator-width",r.diameter+"px"),qe("_mat-animation-noopable",r._noopAnimations)("mdc-circular-progress--indeterminate",r.mode==="indeterminate"))},inputs:{color:"color",mode:"mode",value:[J.HasDecoratorInputTransform,"value","value",on],diameter:[J.HasDecoratorInputTransform,"diameter","diameter",on],strokeWidth:[J.HasDecoratorInputTransform,"strokeWidth","strokeWidth",on]},exportAs:["matProgressSpinner"],standalone:!0,features:[Bt,Tt],decls:14,vars:11,consts:[["circle",""],["determinateSpinner",""],["aria-hidden","true",1,"mdc-circular-progress__determinate-container"],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__determinate-circle-graphic"],["cx","50%","cy","50%",1,"mdc-circular-progress__determinate-circle"],["aria-hidden","true",1,"mdc-circular-progress__indeterminate-container"],[1,"mdc-circular-progress__spinner-layer"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-left"],[3,"ngTemplateOutlet"],[1,"mdc-circular-progress__gap-patch"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-right"],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__indeterminate-circle-graphic"],["cx","50%","cy","50%"]],template:function(n,r){if(n&1&&(Ee(0,Cve,2,8,"ng-template",null,0,hg),y(2,"div",2,1),Zr(),y(4,"svg",3),Ue(5,"circle",4),x()(),Eu(),y(6,"div",5)(7,"div",6)(8,"div",7),br(9,8),x(),y(10,"div",9),br(11,8),x(),y(12,"div",10),br(13,8),x()()()),n&2){let o=Co(1);B(4),wt("viewBox",r._viewBox()),B(),$n("stroke-dasharray",r._strokeCircumference(),"px")("stroke-dashoffset",r._strokeDashOffset(),"px")("stroke-width",r._circleStrokeWidth(),"%"),wt("r",r._circleRadius()),B(4),ae("ngTemplateOutlet",o),B(2),ae("ngTemplateOutlet",o),B(2),ae("ngTemplateOutlet",o)}},dependencies:[fg],styles:["@keyframes mdc-circular-progress-container-rotate{to{transform:rotate(360deg)}}@keyframes mdc-circular-progress-spinner-layer-rotate{12.5%{transform:rotate(135deg)}25%{transform:rotate(270deg)}37.5%{transform:rotate(405deg)}50%{transform:rotate(540deg)}62.5%{transform:rotate(675deg)}75%{transform:rotate(810deg)}87.5%{transform:rotate(945deg)}100%{transform:rotate(1080deg)}}@keyframes mdc-circular-progress-color-1-fade-in-out{from{opacity:.99}25%{opacity:.99}26%{opacity:0}89%{opacity:0}90%{opacity:.99}to{opacity:.99}}@keyframes mdc-circular-progress-color-2-fade-in-out{from{opacity:0}15%{opacity:0}25%{opacity:.99}50%{opacity:.99}51%{opacity:0}to{opacity:0}}@keyframes mdc-circular-progress-color-3-fade-in-out{from{opacity:0}40%{opacity:0}50%{opacity:.99}75%{opacity:.99}76%{opacity:0}to{opacity:0}}@keyframes mdc-circular-progress-color-4-fade-in-out{from{opacity:0}65%{opacity:0}75%{opacity:.99}90%{opacity:.99}to{opacity:0}}@keyframes mdc-circular-progress-left-spin{from{transform:rotate(265deg)}50%{transform:rotate(130deg)}to{transform:rotate(265deg)}}@keyframes mdc-circular-progress-right-spin{from{transform:rotate(-265deg)}50%{transform:rotate(-130deg)}to{transform:rotate(-265deg)}}.mdc-circular-progress{display:inline-flex;position:relative;direction:ltr;line-height:0;transition:opacity 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-circular-progress__determinate-container,.mdc-circular-progress__indeterminate-circle-graphic,.mdc-circular-progress__indeterminate-container,.mdc-circular-progress__spinner-layer{position:absolute;width:100%;height:100%}.mdc-circular-progress__determinate-container{transform:rotate(-90deg)}.mdc-circular-progress__indeterminate-container{font-size:0;letter-spacing:0;white-space:nowrap;opacity:0}.mdc-circular-progress__determinate-circle-graphic,.mdc-circular-progress__indeterminate-circle-graphic{fill:rgba(0,0,0,0)}.mdc-circular-progress__determinate-circle{transition:stroke-dashoffset 500ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-circular-progress__gap-patch{position:absolute;top:0;left:47.5%;box-sizing:border-box;width:5%;height:100%;overflow:hidden}.mdc-circular-progress__gap-patch .mdc-circular-progress__indeterminate-circle-graphic{left:-900%;width:2000%;transform:rotate(180deg)}.mdc-circular-progress__circle-clipper{display:inline-flex;position:relative;width:50%;height:100%;overflow:hidden}.mdc-circular-progress__circle-clipper .mdc-circular-progress__indeterminate-circle-graphic{width:200%}.mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{left:-100%}.mdc-circular-progress--indeterminate .mdc-circular-progress__determinate-container{opacity:0}.mdc-circular-progress--indeterminate .mdc-circular-progress__indeterminate-container{opacity:1}.mdc-circular-progress--indeterminate .mdc-circular-progress__indeterminate-container{animation:mdc-circular-progress-container-rotate 1568.2352941176ms linear infinite}.mdc-circular-progress--indeterminate .mdc-circular-progress__spinner-layer{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-1{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-1-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-2{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-2-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-3{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-3-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-4{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-4-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-left .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-left-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-right-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--closed{opacity:0}.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:var(--mdc-circular-progress-active-indicator-color)}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}.mat-mdc-progress-spinner circle{stroke-width:var(--mdc-circular-progress-active-indicator-width)}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-1 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-2 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-3 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-4 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}.mat-mdc-progress-spinner .mdc-circular-progress{width:var(--mdc-circular-progress-size) !important;height:var(--mdc-circular-progress-size) !important}.mat-mdc-progress-spinner{display:block;overflow:hidden;line-height:0}.mat-mdc-progress-spinner._mat-animation-noopable,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__determinate-circle{transition:none}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-circle-graphic,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__spinner-layer,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container{animation:none}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container circle{stroke-dasharray:0 !important}.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic,.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle{stroke:currentColor;stroke:CanvasText}"],encapsulation:2,changeDetection:0})}}return i})();var SX=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275mod=$e({type:i})}static{this.\u0275inj=je({imports:[kr,Ft]})}}return i})();var Dve=["input"],kve=["label"],Ave=["*"],Pve=new ge("mat-checkbox-default-options",{providedIn:"root",factory:TX});function TX(){return{color:"accent",clickAction:"check-indeterminate"}}var co=function(i){return i[i.Init=0]="Init",i[i.Checked=1]="Checked",i[i.Unchecked=2]="Unchecked",i[i.Indeterminate=3]="Indeterminate",i}(co||{}),Rve={provide:ql,useExisting:_r(()=>TM),multi:!0},AF=class{},Nve=0,EX=TX(),TM=(()=>{class i{focus(){this._inputElement.nativeElement.focus()}_createChangeEvent(e){let n=new AF;return n.source=this,n.checked=e,n}_getAnimationTargetElement(){return this._inputElement?.nativeElement}get inputId(){return`${this.id||this._uniqueId}-input`}constructor(e,n,r,o,s,a){this._elementRef=e,this._changeDetectorRef=n,this._ngZone=r,this._animationMode=s,this._options=a,this._animationClasses={uncheckedToChecked:"mdc-checkbox--anim-unchecked-checked",uncheckedToIndeterminate:"mdc-checkbox--anim-unchecked-indeterminate",checkedToUnchecked:"mdc-checkbox--anim-checked-unchecked",checkedToIndeterminate:"mdc-checkbox--anim-checked-indeterminate",indeterminateToChecked:"mdc-checkbox--anim-indeterminate-checked",indeterminateToUnchecked:"mdc-checkbox--anim-indeterminate-unchecked"},this.ariaLabel="",this.ariaLabelledby=null,this.labelPosition="after",this.name=null,this.change=new Qe,this.indeterminateChange=new Qe,this._onTouched=()=>{},this._currentAnimationClass="",this._currentCheckState=co.Init,this._controlValueAccessorChangeFn=()=>{},this._validatorChangeFn=()=>{},this._checked=!1,this._disabled=!1,this._indeterminate=!1,this._options=this._options||EX,this.color=this._options.color||EX.color,this.tabIndex=parseInt(o)||0,this.id=this._uniqueId=`mat-mdc-checkbox-${++Nve}`}ngOnChanges(e){e.required&&this._validatorChangeFn()}ngAfterViewInit(){this._syncIndeterminate(this._indeterminate)}get checked(){return this._checked}set checked(e){e!=this.checked&&(this._checked=e,this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(e){e!==this.disabled&&(this._disabled=e,this._changeDetectorRef.markForCheck())}get indeterminate(){return this._indeterminate}set indeterminate(e){let n=e!=this._indeterminate;this._indeterminate=e,n&&(this._indeterminate?this._transitionCheckState(co.Indeterminate):this._transitionCheckState(this.checked?co.Checked:co.Unchecked),this.indeterminateChange.emit(this._indeterminate)),this._syncIndeterminate(this._indeterminate)}_isRippleDisabled(){return this.disableRipple||this.disabled}_onLabelTextChange(){this._changeDetectorRef.detectChanges()}writeValue(e){this.checked=!!e}registerOnChange(e){this._controlValueAccessorChangeFn=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e}validate(e){return this.required&&e.value!==!0?{required:!0}:null}registerOnValidatorChange(e){this._validatorChangeFn=e}_transitionCheckState(e){let n=this._currentCheckState,r=this._getAnimationTargetElement();if(!(n===e||!r)&&(this._currentAnimationClass&&r.classList.remove(this._currentAnimationClass),this._currentAnimationClass=this._getAnimationClassForCheckStateTransition(n,e),this._currentCheckState=e,this._currentAnimationClass.length>0)){r.classList.add(this._currentAnimationClass);let o=this._currentAnimationClass;this._ngZone.runOutsideAngular(()=>{setTimeout(()=>{r.classList.remove(o)},1e3)})}}_emitChangeEvent(){this._controlValueAccessorChangeFn(this.checked),this.change.emit(this._createChangeEvent(this.checked)),this._inputElement&&(this._inputElement.nativeElement.checked=this.checked)}toggle(){this.checked=!this.checked,this._controlValueAccessorChangeFn(this.checked)}_handleInputClick(){let e=this._options?.clickAction;!this.disabled&&e!=="noop"?(this.indeterminate&&e!=="check"&&Promise.resolve().then(()=>{this._indeterminate=!1,this.indeterminateChange.emit(this._indeterminate)}),this._checked=!this._checked,this._transitionCheckState(this._checked?co.Checked:co.Unchecked),this._emitChangeEvent()):!this.disabled&&e==="noop"&&(this._inputElement.nativeElement.checked=this.checked,this._inputElement.nativeElement.indeterminate=this.indeterminate)}_onInteractionEvent(e){e.stopPropagation()}_onBlur(){Promise.resolve().then(()=>{this._onTouched(),this._changeDetectorRef.markForCheck()})}_getAnimationClassForCheckStateTransition(e,n){if(this._animationMode==="NoopAnimations")return"";switch(e){case co.Init:if(n===co.Checked)return this._animationClasses.uncheckedToChecked;if(n==co.Indeterminate)return this._checked?this._animationClasses.checkedToIndeterminate:this._animationClasses.uncheckedToIndeterminate;break;case co.Unchecked:return n===co.Checked?this._animationClasses.uncheckedToChecked:this._animationClasses.uncheckedToIndeterminate;case co.Checked:return n===co.Unchecked?this._animationClasses.checkedToUnchecked:this._animationClasses.checkedToIndeterminate;case co.Indeterminate:return n===co.Checked?this._animationClasses.indeterminateToChecked:this._animationClasses.indeterminateToUnchecked}return""}_syncIndeterminate(e){let n=this._inputElement;n&&(n.nativeElement.indeterminate=e)}_onInputClick(){this._handleInputClick()}_onTouchTargetClick(){this._handleInputClick(),this.disabled||this._inputElement.nativeElement.focus()}_preventBubblingFromLabel(e){e.target&&this._labelElement.nativeElement.contains(e.target)&&e.stopPropagation()}static{this.\u0275fac=function(n){return new(n||i)(O(Oe),O(ci),O(Ne),zr("tabindex"),O(Vi,8),O(Pve,8))}}static{this.\u0275cmp=rt({type:i,selectors:[["mat-checkbox"]],viewQuery:function(n,r){if(n&1&&(Nt(Dve,5),Nt(kve,5),Nt(od,5)),n&2){let o;Le(o=Be())&&(r._inputElement=o.first),Le(o=Be())&&(r._labelElement=o.first),Le(o=Be())&&(r.ripple=o.first)}},hostAttrs:[1,"mat-mdc-checkbox"],hostVars:14,hostBindings:function(n,r){n&2&&(Ts("id",r.id),wt("tabindex",null)("aria-label",null)("aria-labelledby",null),Dr(r.color?"mat-"+r.color:"mat-accent"),qe("_mat-animation-noopable",r._animationMode==="NoopAnimations")("mdc-checkbox--disabled",r.disabled)("mat-mdc-checkbox-disabled",r.disabled)("mat-mdc-checkbox-checked",r.checked))},inputs:{ariaLabel:[J.None,"aria-label","ariaLabel"],ariaLabelledby:[J.None,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[J.None,"aria-describedby","ariaDescribedby"],id:"id",required:[J.HasDecoratorInputTransform,"required","required",Je],labelPosition:"labelPosition",name:"name",value:"value",disableRipple:[J.HasDecoratorInputTransform,"disableRipple","disableRipple",Je],tabIndex:[J.HasDecoratorInputTransform,"tabIndex","tabIndex",e=>e==null?void 0:on(e)],color:"color",checked:[J.HasDecoratorInputTransform,"checked","checked",Je],disabled:[J.HasDecoratorInputTransform,"disabled","disabled",Je],indeterminate:[J.HasDecoratorInputTransform,"indeterminate","indeterminate",Je]},outputs:{change:"change",indeterminateChange:"indeterminateChange"},exportAs:["matCheckbox"],standalone:!0,features:[Ot([Rve,{provide:Xl,useExisting:i,multi:!0}]),Bt,Bi,Tt],ngContentSelectors:Ave,decls:15,vars:19,consts:[["checkbox",""],["input",""],["label",""],["mat-internal-form-field","",3,"click","labelPosition"],[1,"mdc-checkbox"],[1,"mat-mdc-checkbox-touch-target",3,"click"],["type","checkbox",1,"mdc-checkbox__native-control",3,"blur","click","change","checked","indeterminate","disabled","id","required","tabIndex"],[1,"mdc-checkbox__ripple"],[1,"mdc-checkbox__background"],["focusable","false","viewBox","0 0 24 24","aria-hidden","true",1,"mdc-checkbox__checkmark"],["fill","none","d","M1.73,12.91 8.1,19.28 22.79,4.59",1,"mdc-checkbox__checkmark-path"],[1,"mdc-checkbox__mixedmark"],["mat-ripple","",1,"mat-mdc-checkbox-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mdc-label",3,"for"]],template:function(n,r){if(n&1){let o=ft();Ti(),y(0,"div",3),fe("click",function(a){return ce(o),le(r._preventBubblingFromLabel(a))}),y(1,"div",4,0)(3,"div",5),fe("click",function(){return ce(o),le(r._onTouchTargetClick())}),x(),y(4,"input",6,1),fe("blur",function(){return ce(o),le(r._onBlur())})("click",function(){return ce(o),le(r._onInputClick())})("change",function(a){return ce(o),le(r._onInteractionEvent(a))}),x(),Ue(6,"div",7),y(7,"div",8),Zr(),y(8,"svg",9),Ue(9,"path",10),x(),Eu(),Ue(10,"div",11),x(),Ue(11,"div",12),x(),y(12,"label",13,2),ct(14),x()()}if(n&2){let o=Co(2);ae("labelPosition",r.labelPosition),B(4),qe("mdc-checkbox--selected",r.checked),ae("checked",r.checked)("indeterminate",r.indeterminate)("disabled",r.disabled)("id",r.inputId)("required",r.required)("tabIndex",r.disabled?-1:r.tabIndex),wt("aria-label",r.ariaLabel||null)("aria-labelledby",r.ariaLabelledby)("aria-describedby",r.ariaDescribedby)("aria-checked",r.indeterminate?"mixed":null)("name",r.name)("value",r.value),B(7),ae("matRippleTrigger",o)("matRippleDisabled",r.disableRipple||r.disabled)("matRippleCentered",!0),B(),ae("for",r.inputId)}},dependencies:[od,zH],styles:['.mdc-touch-target-wrapper{display:inline}@keyframes mdc-checkbox-unchecked-checked-checkmark-path{0%,50%{stroke-dashoffset:29.7833385}50%{animation-timing-function:cubic-bezier(0, 0, 0.2, 1)}100%{stroke-dashoffset:0}}@keyframes mdc-checkbox-unchecked-indeterminate-mixedmark{0%,68.2%{transform:scaleX(0)}68.2%{animation-timing-function:cubic-bezier(0, 0, 0, 1)}100%{transform:scaleX(1)}}@keyframes mdc-checkbox-checked-unchecked-checkmark-path{from{animation-timing-function:cubic-bezier(0.4, 0, 1, 1);opacity:1;stroke-dashoffset:0}to{opacity:0;stroke-dashoffset:-29.7833385}}@keyframes mdc-checkbox-checked-indeterminate-checkmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 1);transform:rotate(0deg);opacity:1}to{transform:rotate(45deg);opacity:0}}@keyframes mdc-checkbox-indeterminate-checked-checkmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);transform:rotate(45deg);opacity:0}to{transform:rotate(360deg);opacity:1}}@keyframes mdc-checkbox-checked-indeterminate-mixedmark{from{animation-timing-function:mdc-animation-deceleration-curve-timing-function;transform:rotate(-45deg);opacity:0}to{transform:rotate(0deg);opacity:1}}@keyframes mdc-checkbox-indeterminate-checked-mixedmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);transform:rotate(0deg);opacity:1}to{transform:rotate(315deg);opacity:0}}@keyframes mdc-checkbox-indeterminate-unchecked-mixedmark{0%{animation-timing-function:linear;transform:scaleX(1);opacity:1}32.8%,100%{transform:scaleX(0);opacity:0}}.mdc-checkbox{display:inline-block;position:relative;flex:0 0 18px;box-sizing:content-box;width:18px;height:18px;line-height:0;white-space:nowrap;cursor:pointer;vertical-align:bottom}.mdc-checkbox[hidden]{display:none}.mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__focus-ring,.mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%}@media screen and (forced-colors: active){.mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__focus-ring,.mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__focus-ring{border-color:CanvasText}}.mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__focus-ring::after,.mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__focus-ring::after,.mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__focus-ring::after{border-color:CanvasText}}@media all and (-ms-high-contrast: none){.mdc-checkbox .mdc-checkbox__focus-ring{display:none}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mdc-checkbox__mixedmark{margin:0 1px}}.mdc-checkbox--disabled{cursor:default;pointer-events:none}.mdc-checkbox__background{display:inline-flex;position:absolute;align-items:center;justify-content:center;box-sizing:border-box;width:18px;height:18px;border:2px solid currentColor;border-radius:2px;background-color:rgba(0,0,0,0);pointer-events:none;will-change:background-color,border-color;transition:background-color 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1),border-color 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox__checkmark{position:absolute;top:0;right:0;bottom:0;left:0;width:100%;opacity:0;transition:opacity 180ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox--upgraded .mdc-checkbox__checkmark{opacity:1}.mdc-checkbox__checkmark-path{transition:stroke-dashoffset 180ms 0ms cubic-bezier(0.4, 0, 0.6, 1);stroke:currentColor;stroke-width:3.12px;stroke-dashoffset:29.7833385;stroke-dasharray:29.7833385}.mdc-checkbox__mixedmark{width:100%;height:0;transform:scaleX(0) rotate(0deg);border-width:1px;border-style:solid;opacity:0;transition:opacity 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__background,.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__background,.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__background,.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__background{animation-duration:180ms;animation-timing-function:linear}.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__checkmark-path{animation:mdc-checkbox-unchecked-checked-checkmark-path 180ms linear 0s;transition:none}.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__mixedmark{animation:mdc-checkbox-unchecked-indeterminate-mixedmark 90ms linear 0s;transition:none}.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__checkmark-path{animation:mdc-checkbox-checked-unchecked-checkmark-path 90ms linear 0s;transition:none}.mdc-checkbox--anim-checked-indeterminate .mdc-checkbox__checkmark{animation:mdc-checkbox-checked-indeterminate-checkmark 90ms linear 0s;transition:none}.mdc-checkbox--anim-checked-indeterminate .mdc-checkbox__mixedmark{animation:mdc-checkbox-checked-indeterminate-mixedmark 90ms linear 0s;transition:none}.mdc-checkbox--anim-indeterminate-checked .mdc-checkbox__checkmark{animation:mdc-checkbox-indeterminate-checked-checkmark 500ms linear 0s;transition:none}.mdc-checkbox--anim-indeterminate-checked .mdc-checkbox__mixedmark{animation:mdc-checkbox-indeterminate-checked-mixedmark 500ms linear 0s;transition:none}.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__mixedmark{animation:mdc-checkbox-indeterminate-unchecked-mixedmark 300ms linear 0s;transition:none}.mdc-checkbox__native-control:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background,.mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background{transition:border-color 90ms 0ms cubic-bezier(0, 0, 0.2, 1),background-color 90ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__checkmark-path,.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__checkmark-path,.mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background .mdc-checkbox__checkmark-path{stroke-dashoffset:0}.mdc-checkbox__native-control{position:absolute;margin:0;padding:0;opacity:0;cursor:inherit}.mdc-checkbox__native-control:disabled{cursor:default;pointer-events:none}.mdc-checkbox--touch{margin:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2)}.mdc-checkbox--touch .mdc-checkbox__native-control{top:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);right:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);left:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);width:var(--mdc-checkbox-state-layer-size);height:var(--mdc-checkbox-state-layer-size)}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__checkmark{transition:opacity 180ms 0ms cubic-bezier(0, 0, 0.2, 1),transform 180ms 0ms cubic-bezier(0, 0, 0.2, 1);opacity:1}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__mixedmark{transform:scaleX(1) rotate(-45deg)}.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__checkmark,.mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background .mdc-checkbox__checkmark{transform:rotate(45deg);opacity:0;transition:opacity 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__mixedmark,.mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background .mdc-checkbox__mixedmark{transform:scaleX(1) rotate(0deg);opacity:1}.mdc-checkbox.mdc-checkbox--upgraded .mdc-checkbox__background,.mdc-checkbox.mdc-checkbox--upgraded .mdc-checkbox__checkmark,.mdc-checkbox.mdc-checkbox--upgraded .mdc-checkbox__checkmark-path,.mdc-checkbox.mdc-checkbox--upgraded .mdc-checkbox__mixedmark{transition:none}.mdc-checkbox{padding:calc((var(--mdc-checkbox-state-layer-size) - 18px) / 2);margin:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2)}.mdc-checkbox .mdc-checkbox__native-control[disabled]:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:var(--mdc-checkbox-disabled-unselected-icon-color);background-color:transparent}.mdc-checkbox .mdc-checkbox__native-control[disabled]:checked~.mdc-checkbox__background,.mdc-checkbox .mdc-checkbox__native-control[disabled]:indeterminate~.mdc-checkbox__background,.mdc-checkbox .mdc-checkbox__native-control[data-indeterminate=true][disabled]~.mdc-checkbox__background{border-color:transparent;background-color:var(--mdc-checkbox-disabled-selected-icon-color)}.mdc-checkbox .mdc-checkbox__native-control:enabled~.mdc-checkbox__background .mdc-checkbox__checkmark{color:var(--mdc-checkbox-selected-checkmark-color)}.mdc-checkbox .mdc-checkbox__native-control:enabled~.mdc-checkbox__background .mdc-checkbox__mixedmark{border-color:var(--mdc-checkbox-selected-checkmark-color)}.mdc-checkbox .mdc-checkbox__native-control:disabled~.mdc-checkbox__background .mdc-checkbox__checkmark{color:var(--mdc-checkbox-disabled-selected-checkmark-color)}.mdc-checkbox .mdc-checkbox__native-control:disabled~.mdc-checkbox__background .mdc-checkbox__mixedmark{border-color:var(--mdc-checkbox-disabled-selected-checkmark-color)}.mdc-checkbox .mdc-checkbox__native-control:enabled:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-icon-color);background-color:transparent}.mdc-checkbox .mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mdc-checkbox .mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background,.mdc-checkbox .mdc-checkbox__native-control[data-indeterminate=true]:enabled~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-icon-color);background-color:var(--mdc-checkbox-selected-icon-color)}@keyframes mdc-checkbox-fade-in-background-8A000000FFF4433600000000FFF44336{0%{border-color:var(--mdc-checkbox-unselected-icon-color);background-color:transparent}50%{border-color:var(--mdc-checkbox-selected-icon-color);background-color:var(--mdc-checkbox-selected-icon-color)}}@keyframes mdc-checkbox-fade-out-background-8A000000FFF4433600000000FFF44336{0%,80%{border-color:var(--mdc-checkbox-selected-icon-color);background-color:var(--mdc-checkbox-selected-icon-color)}100%{border-color:var(--mdc-checkbox-unselected-icon-color);background-color:transparent}}.mdc-checkbox.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-in-background-8A000000FFF4433600000000FFF44336}.mdc-checkbox.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-out-background-8A000000FFF4433600000000FFF44336}.mdc-checkbox:hover .mdc-checkbox__native-control:enabled:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-hover-icon-color);background-color:transparent}.mdc-checkbox:hover .mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mdc-checkbox:hover .mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background,.mdc-checkbox:hover .mdc-checkbox__native-control[data-indeterminate=true]:enabled~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-hover-icon-color);background-color:var(--mdc-checkbox-selected-hover-icon-color)}@keyframes mdc-checkbox-fade-in-background-FF212121FFF4433600000000FFF44336{0%{border-color:var(--mdc-checkbox-unselected-hover-icon-color);background-color:transparent}50%{border-color:var(--mdc-checkbox-selected-hover-icon-color);background-color:var(--mdc-checkbox-selected-hover-icon-color)}}@keyframes mdc-checkbox-fade-out-background-FF212121FFF4433600000000FFF44336{0%,80%{border-color:var(--mdc-checkbox-selected-hover-icon-color);background-color:var(--mdc-checkbox-selected-hover-icon-color)}100%{border-color:var(--mdc-checkbox-unselected-hover-icon-color);background-color:transparent}}.mdc-checkbox:hover.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox:hover.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-in-background-FF212121FFF4433600000000FFF44336}.mdc-checkbox:hover.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox:hover.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-out-background-FF212121FFF4433600000000FFF44336}.mdc-checkbox:not(:disabled):active .mdc-checkbox__native-control:enabled:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-pressed-icon-color);background-color:transparent}.mdc-checkbox:not(:disabled):active .mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mdc-checkbox:not(:disabled):active .mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background,.mdc-checkbox:not(:disabled):active .mdc-checkbox__native-control[data-indeterminate=true]:enabled~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-pressed-icon-color);background-color:var(--mdc-checkbox-selected-pressed-icon-color)}@keyframes mdc-checkbox-fade-in-background-8A000000FFF4433600000000FFF44336{0%{border-color:var(--mdc-checkbox-unselected-pressed-icon-color);background-color:transparent}50%{border-color:var(--mdc-checkbox-selected-pressed-icon-color);background-color:var(--mdc-checkbox-selected-pressed-icon-color)}}@keyframes mdc-checkbox-fade-out-background-8A000000FFF4433600000000FFF44336{0%,80%{border-color:var(--mdc-checkbox-selected-pressed-icon-color);background-color:var(--mdc-checkbox-selected-pressed-icon-color)}100%{border-color:var(--mdc-checkbox-unselected-pressed-icon-color);background-color:transparent}}.mdc-checkbox:not(:disabled):active.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox:not(:disabled):active.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-in-background-8A000000FFF4433600000000FFF44336}.mdc-checkbox:not(:disabled):active.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox:not(:disabled):active.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-out-background-8A000000FFF4433600000000FFF44336}.mdc-checkbox .mdc-checkbox__background{top:calc((var(--mdc-checkbox-state-layer-size) - 18px) / 2);left:calc((var(--mdc-checkbox-state-layer-size) - 18px) / 2)}.mdc-checkbox .mdc-checkbox__native-control{top:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);right:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);left:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);width:var(--mdc-checkbox-state-layer-size);height:var(--mdc-checkbox-state-layer-size)}.mdc-checkbox .mdc-checkbox__native-control:enabled:focus:focus:not(:checked):not(:indeterminate)~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-focus-icon-color)}.mdc-checkbox .mdc-checkbox__native-control:enabled:focus:checked~.mdc-checkbox__background,.mdc-checkbox .mdc-checkbox__native-control:enabled:focus:indeterminate~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-focus-icon-color);background-color:var(--mdc-checkbox-selected-focus-icon-color)}.mdc-checkbox:hover .mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-hover-state-layer-opacity);background-color:var(--mdc-checkbox-unselected-hover-state-layer-color)}.mdc-checkbox:hover .mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-hover-state-layer-color)}.mdc-checkbox .mdc-checkbox__native-control:focus~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-focus-state-layer-opacity);background-color:var(--mdc-checkbox-unselected-focus-state-layer-color)}.mdc-checkbox .mdc-checkbox__native-control:focus~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-focus-state-layer-color)}.mdc-checkbox:active .mdc-checkbox__native-control~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-pressed-state-layer-opacity);background-color:var(--mdc-checkbox-unselected-pressed-state-layer-color)}.mdc-checkbox:active .mdc-checkbox__native-control~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-pressed-state-layer-color)}.mdc-checkbox:hover .mdc-checkbox__native-control:checked~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-hover-state-layer-opacity);background-color:var(--mdc-checkbox-selected-hover-state-layer-color)}.mdc-checkbox:hover .mdc-checkbox__native-control:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-hover-state-layer-color)}.mdc-checkbox .mdc-checkbox__native-control:focus:checked~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-focus-state-layer-opacity);background-color:var(--mdc-checkbox-selected-focus-state-layer-color)}.mdc-checkbox .mdc-checkbox__native-control:focus:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-focus-state-layer-color)}.mdc-checkbox:active .mdc-checkbox__native-control:checked~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-pressed-state-layer-opacity);background-color:var(--mdc-checkbox-selected-pressed-state-layer-color)}.mdc-checkbox:active .mdc-checkbox__native-control:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-pressed-state-layer-color)}.mat-mdc-checkbox{display:inline-block;position:relative;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-checkbox .mdc-checkbox__background{-webkit-print-color-adjust:exact;color-adjust:exact}.mat-mdc-checkbox._mat-animation-noopable *,.mat-mdc-checkbox._mat-animation-noopable *::before{transition:none !important;animation:none !important}.mat-mdc-checkbox label{cursor:pointer}.mat-mdc-checkbox.mat-mdc-checkbox-disabled label{cursor:default;color:var(--mat-checkbox-disabled-label-color)}.mat-mdc-checkbox label:empty{display:none}.cdk-high-contrast-active .mat-mdc-checkbox.mat-mdc-checkbox-disabled{opacity:.5}.cdk-high-contrast-active .mat-mdc-checkbox .mdc-checkbox__checkmark{--mdc-checkbox-selected-checkmark-color: CanvasText;--mdc-checkbox-disabled-selected-checkmark-color: CanvasText}.mat-mdc-checkbox .mdc-checkbox__ripple{opacity:0}.mat-mdc-checkbox-ripple,.mdc-checkbox__ripple{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:50%;pointer-events:none}.mat-mdc-checkbox-ripple:not(:empty),.mdc-checkbox__ripple:not(:empty){transform:translateZ(0)}.mat-mdc-checkbox-ripple .mat-ripple-element{opacity:.1}.mat-mdc-checkbox-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%);display:var(--mat-checkbox-touch-target-display)}.mat-mdc-checkbox-ripple::before{border-radius:50%}.mdc-checkbox__native-control:focus~.mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0})}}return i})();var IX=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275mod=$e({type:i})}static{this.\u0275inj=je({imports:[TM,Ft,Ft]})}}return i})();var DX=ax(),PF=class{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){let t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=er(-this._previousScrollPosition.left),t.style.top=er(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){let t=this._document.documentElement,e=this._document.body,n=t.style,r=e.style,o=n.scrollBehavior||"",s=r.scrollBehavior||"";this._isEnabled=!1,n.left=this._previousHTMLStyles.left,n.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),DX&&(n.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),DX&&(n.scrollBehavior=o,r.scrollBehavior=s)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;let e=this._document.body,n=this._viewportRuler.getViewportSize();return e.scrollHeight>n.height||e.scrollWidth>n.width}};var RF=class{constructor(t,e,n,r){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=n,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef,this._overlayRef=t}enable(){if(this._scrollSubscription)return;let t=this._scrollDispatcher.scrolled(0).pipe(ki(e=>!e||!this._overlayRef.overlayElement.contains(e.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{let e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}},IM=class{enable(){}disable(){}attach(){}};function NF(i,t){return t.some(e=>{let n=i.bottom<e.top,r=i.top>e.bottom,o=i.right<e.left,s=i.left>e.right;return n||r||o||s})}function kX(i,t){return t.some(e=>{let n=i.top<e.top,r=i.bottom>e.bottom,o=i.left<e.left,s=i.right>e.right;return n||r||o||s})}var OF=class{constructor(t,e,n,r){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=n,this._config=r,this._scrollSubscription=null}attach(t){this._overlayRef,this._overlayRef=t}enable(){if(!this._scrollSubscription){let t=this._config?this._config.scrollThrottle:0;this._scrollSubscription=this._scrollDispatcher.scrolled(t).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){let e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:n,height:r}=this._viewportRuler.getViewportSize();NF(e,[{width:n,height:r,bottom:r,right:n,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}})}}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}},Fve=(()=>{class i{constructor(e,n,r,o){this._scrollDispatcher=e,this._viewportRuler=n,this._ngZone=r,this.noop=()=>new IM,this.close=s=>new RF(this._scrollDispatcher,this._ngZone,this._viewportRuler,s),this.block=()=>new PF(this._viewportRuler,this._document),this.reposition=s=>new OF(this._scrollDispatcher,this._viewportRuler,this._ngZone,s),this._document=o}static{this.\u0275fac=function(n){return new(n||i)(me(op),me(oa),me(Ne),me(It))}}static{this.\u0275prov=xe({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})(),Wp=class{constructor(t){if(this.scrollStrategy=new IM,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){let e=Object.keys(t);for(let n of e)t[n]!==void 0&&(this[n]=t[n])}}};var FF=class{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}};var OX=(()=>{class i{constructor(e){this._attachedOverlays=[],this._document=e}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){let n=this._attachedOverlays.indexOf(e);n>-1&&this._attachedOverlays.splice(n,1),this._attachedOverlays.length===0&&this.detach()}static{this.\u0275fac=function(n){return new(n||i)(me(It))}}static{this.\u0275prov=xe({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})(),Lve=(()=>{class i extends OX{constructor(e,n){super(e),this._ngZone=n,this._keydownListener=r=>{let o=this._attachedOverlays;for(let s=o.length-1;s>-1;s--)if(o[s]._keydownEvents.observers.length>0){let a=o[s]._keydownEvents;this._ngZone?this._ngZone.run(()=>a.next(r)):a.next(r);break}}}add(e){super.add(e),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}static{this.\u0275fac=function(n){return new(n||i)(me(It),me(Ne,8))}}static{this.\u0275prov=xe({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})(),Bve=(()=>{class i extends OX{constructor(e,n,r){super(e),this._platform=n,this._ngZone=r,this._cursorStyleIsSet=!1,this._pointerDownListener=o=>{this._pointerDownEventTarget=Ps(o)},this._clickListener=o=>{let s=Ps(o),a=o.type==="click"&&this._pointerDownEventTarget?this._pointerDownEventTarget:s;this._pointerDownEventTarget=null;let c=this._attachedOverlays.slice();for(let l=c.length-1;l>-1;l--){let d=c[l];if(d._outsidePointerEvents.observers.length<1||!d.hasAttached())continue;if(d.overlayElement.contains(s)||d.overlayElement.contains(a))break;let u=d._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>u.next(o)):u.next(o)}}}add(e){if(super.add(e),!this._isAttached){let n=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(n)):this._addEventListeners(n),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=n.style.cursor,n.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){let e=this._document.body;e.removeEventListener("pointerdown",this._pointerDownListener,!0),e.removeEventListener("click",this._clickListener,!0),e.removeEventListener("auxclick",this._clickListener,!0),e.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(e.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(e){e.addEventListener("pointerdown",this._pointerDownListener,!0),e.addEventListener("click",this._clickListener,!0),e.addEventListener("auxclick",this._clickListener,!0),e.addEventListener("contextmenu",this._clickListener,!0)}static{this.\u0275fac=function(n){return new(n||i)(me(It),me(ri),me(Ne,8))}}static{this.\u0275prov=xe({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})(),FX=(()=>{class i{constructor(e,n){this._platform=n,this._document=e}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){let e="cdk-overlay-container";if(this._platform.isBrowser||Zg()){let r=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let o=0;o<r.length;o++)r[o].remove()}let n=this._document.createElement("div");n.classList.add(e),Zg()?n.setAttribute("platform","test"):this._platform.isBrowser||n.setAttribute("platform","server"),this._document.body.appendChild(n),this._containerElement=n}static{this.\u0275fac=function(n){return new(n||i)(me(It),me(ri))}}static{this.\u0275prov=xe({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})(),LF=class{constructor(t,e,n,r,o,s,a,c,l,d=!1){this._portalOutlet=t,this._host=e,this._pane=n,this._config=r,this._ngZone=o,this._keyboardDispatcher=s,this._document=a,this._location=c,this._outsideClickDispatcher=l,this._animationsDisabled=d,this._backdropElement=null,this._backdropClick=new Fe,this._attachments=new Fe,this._detachments=new Fe,this._locationChanges=qt.EMPTY,this._backdropClickHandler=u=>this._backdropClick.next(u),this._backdropTransitionendHandler=u=>{this._disposeBackdrop(u.target)},this._keydownEvents=new Fe,this._outsidePointerEvents=new Fe,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);let e=this._portalOutlet.attach(t);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(nn(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),typeof e?.onDestroy=="function"&&e.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();let t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){let t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config=ye(ye({},this._config),t),this._updateElementSize()}setDirection(t){this._config=mi(ye({},this._config),{direction:t}),this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){let t=this._config.direction;return t?typeof t=="string"?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;let t=this._pane.style;t.width=er(this._config.width),t.height=er(this._config.height),t.minWidth=er(this._config.minWidth),t.minHeight=er(this._config.minHeight),t.maxWidth=er(this._config.maxWidth),t.maxHeight=er(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){let t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){let t=this._backdropElement;if(t){if(this._animationsDisabled){this._disposeBackdrop(t);return}t.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{t.addEventListener("transitionend",this._backdropTransitionendHandler)}),t.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(t)},500))}}_toggleClasses(t,e,n){let r=Gm(e||[]).filter(o=>!!o);r.length&&(n?t.classList.add(...r):t.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{let t=this._ngZone.onStable.pipe(Pt(rr(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||this._pane.children.length===0)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),t.unsubscribe())})})}_disposeScrollStrategy(){let t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}_disposeBackdrop(t){t&&(t.removeEventListener("click",this._backdropClickHandler),t.removeEventListener("transitionend",this._backdropTransitionendHandler),t.remove(),this._backdropElement===t&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}},AX="cdk-overlay-connected-position-bounding-box",Vve=/([A-Za-z%]+)$/,BF=class{get positions(){return this._preferredPositions}constructor(t,e,n,r,o){this._viewportRuler=e,this._document=n,this._platform=r,this._overlayContainer=o,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new Fe,this._resizeSubscription=qt.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}attach(t){this._overlayRef&&this._overlayRef,this._validatePositions(),t.hostElement.classList.add(AX),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition){this.reapplyLastPosition();return}this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let t=this._originRect,e=this._overlayRect,n=this._viewportRect,r=this._containerRect,o=[],s;for(let a of this._preferredPositions){let c=this._getOriginPoint(t,r,a),l=this._getOverlayPoint(c,e,a),d=this._getOverlayFit(l,e,n,a);if(d.isCompletelyWithinViewport){this._isPushed=!1,this._applyPosition(a,c);return}if(this._canFitWithFlexibleDimensions(d,l,n)){o.push({position:a,origin:c,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(c,a)});continue}(!s||s.overlayFit.visibleArea<d.visibleArea)&&(s={overlayFit:d,overlayPoint:l,originPoint:c,position:a,overlayRect:e})}if(o.length){let a=null,c=-1;for(let l of o){let d=l.boundingBoxRect.width*l.boundingBoxRect.height*(l.position.weight||1);d>c&&(c=d,a=l)}this._isPushed=!1,this._applyPosition(a.position,a.origin);return}if(this._canPush){this._isPushed=!0,this._applyPosition(s.position,s.originPoint);return}this._applyPosition(s.position,s.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Mh(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(AX),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;let t=this._lastPosition;if(t){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let e=this._getOriginPoint(this._originRect,this._containerRect,t);this._applyPosition(t,e)}else this.apply()}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,t.indexOf(this._lastPosition)===-1&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e,n){let r;if(n.originX=="center")r=t.left+t.width/2;else{let s=this._isRtl()?t.right:t.left,a=this._isRtl()?t.left:t.right;r=n.originX=="start"?s:a}e.left<0&&(r-=e.left);let o;return n.originY=="center"?o=t.top+t.height/2:o=n.originY=="top"?t.top:t.bottom,e.top<0&&(o-=e.top),{x:r,y:o}}_getOverlayPoint(t,e,n){let r;n.overlayX=="center"?r=-e.width/2:n.overlayX==="start"?r=this._isRtl()?-e.width:0:r=this._isRtl()?0:-e.width;let o;return n.overlayY=="center"?o=-e.height/2:o=n.overlayY=="top"?0:-e.height,{x:t.x+r,y:t.y+o}}_getOverlayFit(t,e,n,r){let o=RX(e),{x:s,y:a}=t,c=this._getOffset(r,"x"),l=this._getOffset(r,"y");c&&(s+=c),l&&(a+=l);let d=0-s,u=s+o.width-n.width,h=0-a,m=a+o.height-n.height,p=this._subtractOverflows(o.width,d,u),_=this._subtractOverflows(o.height,h,m),f=p*_;return{visibleArea:f,isCompletelyWithinViewport:o.width*o.height===f,fitsInViewportVertically:_===o.height,fitsInViewportHorizontally:p==o.width}}_canFitWithFlexibleDimensions(t,e,n){if(this._hasFlexibleDimensions){let r=n.bottom-e.y,o=n.right-e.x,s=PX(this._overlayRef.getConfig().minHeight),a=PX(this._overlayRef.getConfig().minWidth),c=t.fitsInViewportVertically||s!=null&&s<=r,l=t.fitsInViewportHorizontally||a!=null&&a<=o;return c&&l}return!1}_pushOverlayOnScreen(t,e,n){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};let r=RX(e),o=this._viewportRect,s=Math.max(t.x+r.width-o.width,0),a=Math.max(t.y+r.height-o.height,0),c=Math.max(o.top-n.top-t.y,0),l=Math.max(o.left-n.left-t.x,0),d=0,u=0;return r.width<=o.width?d=l||-s:d=t.x<this._viewportMargin?o.left-n.left-t.x:0,r.height<=o.height?u=c||-a:u=t.y<this._viewportMargin?o.top-n.top-t.y:0,this._previousPushAmount={x:d,y:u},{x:t.x+d,y:t.y+u}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._positionChanges.observers.length){let n=this._getScrollVisibility();if(t!==this._lastPosition||!this._lastScrollVisibility||!Uve(this._lastScrollVisibility,n)){let r=new FF(t,n);this._positionChanges.next(r)}this._lastScrollVisibility=n}this._lastPosition=t,this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;let e=this._boundingBox.querySelectorAll(this._transformOriginSelector),n,r=t.overlayY;t.overlayX==="center"?n="center":this._isRtl()?n=t.overlayX==="start"?"right":"left":n=t.overlayX==="start"?"left":"right";for(let o=0;o<e.length;o++)e[o].style.transformOrigin=`${n} ${r}`}_calculateBoundingBoxRect(t,e){let n=this._viewportRect,r=this._isRtl(),o,s,a;if(e.overlayY==="top")s=t.y,o=n.height-s+this._viewportMargin;else if(e.overlayY==="bottom")a=n.height-t.y+this._viewportMargin*2,o=n.height-a+this._viewportMargin;else{let m=Math.min(n.bottom-t.y+n.top,t.y),p=this._lastBoundingBoxSize.height;o=m*2,s=t.y-m,o>p&&!this._isInitialRender&&!this._growAfterOpen&&(s=t.y-p/2)}let c=e.overlayX==="start"&&!r||e.overlayX==="end"&&r,l=e.overlayX==="end"&&!r||e.overlayX==="start"&&r,d,u,h;if(l)h=n.width-t.x+this._viewportMargin*2,d=t.x-this._viewportMargin;else if(c)u=t.x,d=n.right-t.x;else{let m=Math.min(n.right-t.x+n.left,t.x),p=this._lastBoundingBoxSize.width;d=m*2,u=t.x-m,d>p&&!this._isInitialRender&&!this._growAfterOpen&&(u=t.x-p/2)}return{top:s,left:u,bottom:a,right:h,width:d,height:o}}_setBoundingBoxStyles(t,e){let n=this._calculateBoundingBoxRect(t,e);!this._isInitialRender&&!this._growAfterOpen&&(n.height=Math.min(n.height,this._lastBoundingBoxSize.height),n.width=Math.min(n.width,this._lastBoundingBoxSize.width));let r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{let o=this._overlayRef.getConfig().maxHeight,s=this._overlayRef.getConfig().maxWidth;r.height=er(n.height),r.top=er(n.top),r.bottom=er(n.bottom),r.width=er(n.width),r.left=er(n.left),r.right=er(n.right),e.overlayX==="center"?r.alignItems="center":r.alignItems=e.overlayX==="end"?"flex-end":"flex-start",e.overlayY==="center"?r.justifyContent="center":r.justifyContent=e.overlayY==="bottom"?"flex-end":"flex-start",o&&(r.maxHeight=er(o)),s&&(r.maxWidth=er(s))}this._lastBoundingBoxSize=n,Mh(this._boundingBox.style,r)}_resetBoundingBoxStyles(){Mh(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Mh(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){let n={},r=this._hasExactPosition(),o=this._hasFlexibleDimensions,s=this._overlayRef.getConfig();if(r){let d=this._viewportRuler.getViewportScrollPosition();Mh(n,this._getExactOverlayY(e,t,d)),Mh(n,this._getExactOverlayX(e,t,d))}else n.position="static";let a="",c=this._getOffset(e,"x"),l=this._getOffset(e,"y");c&&(a+=`translateX(${c}px) `),l&&(a+=`translateY(${l}px)`),n.transform=a.trim(),s.maxHeight&&(r?n.maxHeight=er(s.maxHeight):o&&(n.maxHeight="")),s.maxWidth&&(r?n.maxWidth=er(s.maxWidth):o&&(n.maxWidth="")),Mh(this._pane.style,n)}_getExactOverlayY(t,e,n){let r={top:"",bottom:""},o=this._getOverlayPoint(e,this._overlayRect,t);if(this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,n)),t.overlayY==="bottom"){let s=this._document.documentElement.clientHeight;r.bottom=`${s-(o.y+this._overlayRect.height)}px`}else r.top=er(o.y);return r}_getExactOverlayX(t,e,n){let r={left:"",right:""},o=this._getOverlayPoint(e,this._overlayRect,t);this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,n));let s;if(this._isRtl()?s=t.overlayX==="end"?"left":"right":s=t.overlayX==="end"?"right":"left",s==="right"){let a=this._document.documentElement.clientWidth;r.right=`${a-(o.x+this._overlayRect.width)}px`}else r.left=er(o.x);return r}_getScrollVisibility(){let t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),n=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:kX(t,n),isOriginOutsideView:NF(t,n),isOverlayClipped:kX(e,n),isOverlayOutsideView:NF(e,n)}}_subtractOverflows(t,...e){return e.reduce((n,r)=>n-Math.max(r,0),t)}_getNarrowedViewportRect(){let t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,n=this._viewportRuler.getViewportScrollPosition();return{top:n.top+this._viewportMargin,left:n.left+this._viewportMargin,right:n.left+t-this._viewportMargin,bottom:n.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return this._overlayRef.getDirection()==="rtl"}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return e==="x"?t.offsetX==null?this._offsetX:t.offsetX:t.offsetY==null?this._offsetY:t.offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&Gm(t).forEach(e=>{e!==""&&this._appliedPanelClasses.indexOf(e)===-1&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){let t=this._origin;if(t instanceof Oe)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();let e=t.width||0,n=t.height||0;return{top:t.y,bottom:t.y+n,left:t.x,right:t.x+e,height:n,width:e}}};function Mh(i,t){for(let e in t)t.hasOwnProperty(e)&&(i[e]=t[e]);return i}function PX(i){if(typeof i!="number"&&i!=null){let[t,e]=i.split(Vve);return!e||e==="px"?parseFloat(t):null}return i||null}function RX(i){return{top:Math.floor(i.top),right:Math.floor(i.right),bottom:Math.floor(i.bottom),left:Math.floor(i.left),width:Math.floor(i.width),height:Math.floor(i.height)}}function Uve(i,t){return i===t?!0:i.isOriginClipped===t.isOriginClipped&&i.isOriginOutsideView===t.isOriginOutsideView&&i.isOverlayClipped===t.isOverlayClipped&&i.isOverlayOutsideView===t.isOverlayOutsideView}var NX="cdk-global-overlay-wrapper",VF=class{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(t){let e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(NX),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._xOffset=t,this._xPosition="left",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._xOffset=t,this._xPosition="right",this}start(t=""){return this._xOffset=t,this._xPosition="start",this}end(t=""){return this._xOffset=t,this._xPosition="end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._xPosition="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;let t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,n=this._overlayRef.getConfig(),{width:r,height:o,maxWidth:s,maxHeight:a}=n,c=(r==="100%"||r==="100vw")&&(!s||s==="100%"||s==="100vw"),l=(o==="100%"||o==="100vh")&&(!a||a==="100%"||a==="100vh"),d=this._xPosition,u=this._xOffset,h=this._overlayRef.getConfig().direction==="rtl",m="",p="",_="";c?_="flex-start":d==="center"?(_="center",h?p=u:m=u):h?d==="left"||d==="end"?(_="flex-end",m=u):(d==="right"||d==="start")&&(_="flex-start",p=u):d==="left"||d==="start"?(_="flex-start",m=u):(d==="right"||d==="end")&&(_="flex-end",p=u),t.position=this._cssPosition,t.marginLeft=c?"0":m,t.marginTop=l?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=c?"0":p,e.justifyContent=_,e.alignItems=l?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;let t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,n=e.style;e.classList.remove(NX),n.justifyContent=n.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}},zve=(()=>{class i{constructor(e,n,r,o){this._viewportRuler=e,this._document=n,this._platform=r,this._overlayContainer=o}global(){return new VF}flexibleConnectedTo(e){return new BF(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}static{this.\u0275fac=function(n){return new(n||i)(me(oa),me(It),me(ri),me(FX))}}static{this.\u0275prov=xe({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})(),Hve=0,Jo=(()=>{class i{constructor(e,n,r,o,s,a,c,l,d,u,h,m){this.scrollStrategies=e,this._overlayContainer=n,this._componentFactoryResolver=r,this._positionBuilder=o,this._keyboardDispatcher=s,this._injector=a,this._ngZone=c,this._document=l,this._directionality=d,this._location=u,this._outsideClickDispatcher=h,this._animationsModuleType=m}create(e){let n=this._createHostElement(),r=this._createPaneElement(n),o=this._createPortalOutlet(r),s=new Wp(e);return s.direction=s.direction||this._directionality.value,new LF(o,n,r,s,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,this._animationsModuleType==="NoopAnimations")}position(){return this._positionBuilder}_createPaneElement(e){let n=this._document.createElement("div");return n.id=`cdk-overlay-${Hve++}`,n.classList.add("cdk-overlay-pane"),e.appendChild(n),n}_createHostElement(){let e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get($l)),new Dx(e,this._componentFactoryResolver,this._appRef,this._injector,this._document)}static{this.\u0275fac=function(n){return new(n||i)(me(Fve),me(FX),me(ja),me(zve),me(Lve),me(Jn),me(Ne),me(It),me(vr),me(Gl),me(Bve),me(Vi,8))}}static{this.\u0275prov=xe({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})(),jve=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],LX=new ge("cdk-connected-overlay-scroll-strategy",{providedIn:"root",factory:()=>{let i=be(Jo);return()=>i.scrollStrategies.reposition()}}),Sb=(()=>{class i{constructor(e){this.elementRef=e}static{this.\u0275fac=function(n){return new(n||i)(O(Oe))}}static{this.\u0275dir=we({type:i,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"],standalone:!0})}}return i})(),zF=(()=>{class i{get offsetX(){return this._offsetX}set offsetX(e){this._offsetX=e,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(e){this._offsetY=e,this._position&&this._updatePositionStrategy(this._position)}get disposeOnNavigation(){return this._disposeOnNavigation}set disposeOnNavigation(e){this._disposeOnNavigation=e}constructor(e,n,r,o,s){this._overlay=e,this._dir=s,this._backdropSubscription=qt.EMPTY,this._attachSubscription=qt.EMPTY,this._detachSubscription=qt.EMPTY,this._positionSubscription=qt.EMPTY,this._disposeOnNavigation=!1,this._ngZone=be(Ne),this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.hasBackdrop=!1,this.lockPosition=!1,this.flexibleDimensions=!1,this.growAfterOpen=!1,this.push=!1,this.backdropClick=new Qe,this.positionChange=new Qe,this.attach=new Qe,this.detach=new Qe,this.overlayKeydown=new Qe,this.overlayOutsideClick=new Qe,this._templatePortal=new Ns(n,r),this._scrollStrategyFactory=o,this.scrollStrategy=this._scrollStrategyFactory()}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(e){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),e.origin&&this.open&&this._position.apply()),e.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=jve);let e=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=e.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=e.detachments().subscribe(()=>this.detach.emit()),e.keydownEvents().subscribe(n=>{this.overlayKeydown.next(n),n.keyCode===27&&!this.disableClose&&!Eo(n)&&(n.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(n=>{let r=this._getOriginElement(),o=Ps(n);(!r||r!==o&&!r.contains(o))&&this.overlayOutsideClick.next(n)})}_buildConfig(){let e=this._position=this.positionStrategy||this._createPositionStrategy(),n=new Wp({direction:this._dir,positionStrategy:e,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop,disposeOnNavigation:this.disposeOnNavigation});return(this.width||this.width===0)&&(n.width=this.width),(this.height||this.height===0)&&(n.height=this.height),(this.minWidth||this.minWidth===0)&&(n.minWidth=this.minWidth),(this.minHeight||this.minHeight===0)&&(n.minHeight=this.minHeight),this.backdropClass&&(n.backdropClass=this.backdropClass),this.panelClass&&(n.panelClass=this.panelClass),n}_updatePositionStrategy(e){let n=this.positions.map(r=>({originX:r.originX,originY:r.originY,overlayX:r.overlayX,overlayY:r.overlayY,offsetX:r.offsetX||this.offsetX,offsetY:r.offsetY||this.offsetY,panelClass:r.panelClass||void 0}));return e.setOrigin(this._getOrigin()).withPositions(n).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){let e=this._overlay.position().flexibleConnectedTo(this._getOrigin());return this._updatePositionStrategy(e),e}_getOrigin(){return this.origin instanceof Sb?this.origin.elementRef:this.origin}_getOriginElement(){return this.origin instanceof Sb?this.origin.elementRef.nativeElement:this.origin instanceof Oe?this.origin.nativeElement:typeof Element<"u"&&this.origin instanceof Element?this.origin:null}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(e=>{this.backdropClick.emit(e)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(OE(()=>this.positionChange.observers.length>0)).subscribe(e=>{this._ngZone.run(()=>this.positionChange.emit(e)),this.positionChange.observers.length===0&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}static{this.\u0275fac=function(n){return new(n||i)(O(Jo),O(Hi),O(rn),O(LX),O(vr,8))}}static{this.\u0275dir=we({type:i,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:[J.None,"cdkConnectedOverlayOrigin","origin"],positions:[J.None,"cdkConnectedOverlayPositions","positions"],positionStrategy:[J.None,"cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:[J.None,"cdkConnectedOverlayOffsetX","offsetX"],offsetY:[J.None,"cdkConnectedOverlayOffsetY","offsetY"],width:[J.None,"cdkConnectedOverlayWidth","width"],height:[J.None,"cdkConnectedOverlayHeight","height"],minWidth:[J.None,"cdkConnectedOverlayMinWidth","minWidth"],minHeight:[J.None,"cdkConnectedOverlayMinHeight","minHeight"],backdropClass:[J.None,"cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:[J.None,"cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:[J.None,"cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:[J.None,"cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:[J.None,"cdkConnectedOverlayOpen","open"],disableClose:[J.None,"cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:[J.None,"cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:[J.HasDecoratorInputTransform,"cdkConnectedOverlayHasBackdrop","hasBackdrop",Je],lockPosition:[J.HasDecoratorInputTransform,"cdkConnectedOverlayLockPosition","lockPosition",Je],flexibleDimensions:[J.HasDecoratorInputTransform,"cdkConnectedOverlayFlexibleDimensions","flexibleDimensions",Je],growAfterOpen:[J.HasDecoratorInputTransform,"cdkConnectedOverlayGrowAfterOpen","growAfterOpen",Je],push:[J.HasDecoratorInputTransform,"cdkConnectedOverlayPush","push",Je],disposeOnNavigation:[J.HasDecoratorInputTransform,"cdkConnectedOverlayDisposeOnNavigation","disposeOnNavigation",Je]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],standalone:!0,features:[Bt,Bi]})}}return i})();function $ve(i){return()=>i.scrollStrategies.reposition()}var Gve={provide:LX,deps:[Jo],useFactory:$ve},qp=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275mod=$e({type:i})}static{this.\u0275inj=je({providers:[Jo,Gve],imports:[id,tp,t_,t_]})}}return i})();var Wve=["trigger"],qve=["panel"],Xve=[[["mat-select-trigger"]],"*"],Yve=["mat-select-trigger","*"];function Zve(i,t){if(i&1&&(y(0,"span",4),P(1),x()),i&2){let e=Q();B(),Xt(e.placeholder)}}function Kve(i,t){i&1&&ct(0)}function Qve(i,t){if(i&1&&(y(0,"span",11),P(1),x()),i&2){let e=Q(2);B(),Xt(e.triggerValue)}}function Jve(i,t){if(i&1&&(y(0,"span",10),Ee(1,Kve,1,0)(2,Qve,2,1),x()),i&2){let e=Q();B(),Yt(1,e.customTrigger?1:2)}}function eye(i,t){if(i&1){let e=ft();y(0,"div",12,1),fe("@transformPanel.done",function(r){ce(e);let o=Q();return le(o._panelDoneAnimatingStream.next(r.toState))})("keydown",function(r){ce(e);let o=Q();return le(o._handleKeydown(r))}),ct(2,1),x()}if(i&2){let e=Q();zU("mat-mdc-select-panel mdc-menu-surface mdc-menu-surface--open ",e._getPanelTheme(),""),ae("ngClass",e.panelClass)("@transformPanel","showing"),wt("id",e.id+"-panel")("aria-multiselectable",e.multiple)("aria-label",e.ariaLabel||null)("aria-labelledby",e._getPanelAriaLabelledby())}}var tye={transformPanelWrap:Os("transformPanelWrap",[eo("* => void",JH("@transformPanel",[QH()],{optional:!0}))]),transformPanel:Os("transformPanel",[Jr("void",Wn({opacity:0,transform:"scale(1, 0.8)"})),eo("void => showing",To("120ms cubic-bezier(0, 0, 0.2, 1)",Wn({opacity:1,transform:"scale(1, 1)"}))),eo("* => void",To("100ms linear",Wn({opacity:0})))])};var VX=0,UX=new ge("mat-select-scroll-strategy",{providedIn:"root",factory:()=>{let i=be(Jo);return()=>i.scrollStrategies.reposition()}});function iye(i){return()=>i.scrollStrategies.reposition()}var nye=new ge("MAT_SELECT_CONFIG"),rye={provide:UX,deps:[Jo],useFactory:iye},oye=new ge("MatSelectTrigger"),HF=class{constructor(t,e){this.source=t,this.value=e}},zX=(()=>{class i{_scrollOptionIntoView(e){let n=this.options.toArray()[e];if(n){let r=this.panel.nativeElement,o=VH(e,this.options,this.optionGroups),s=n._getHostElement();e===0&&o===1?r.scrollTop=0:r.scrollTop=UH(s.offsetTop,s.offsetHeight,r.scrollTop,r.offsetHeight)}}_positioningSettled(){this._scrollOptionIntoView(this._keyManager.activeItemIndex||0)}_getChangeEvent(e){return new HF(this,e)}get focused(){return this._focused||this._panelOpen}get hideSingleSelectionIndicator(){return this._hideSingleSelectionIndicator}set hideSingleSelectionIndicator(e){this._hideSingleSelectionIndicator=e,this._syncParentProperties()}get placeholder(){return this._placeholder}set placeholder(e){this._placeholder=e,this.stateChanges.next()}get required(){return this._required??this.ngControl?.control?.hasValidator(ta.required)??!1}set required(e){this._required=e,this.stateChanges.next()}get multiple(){return this._multiple}set multiple(e){this._selectionModel,this._multiple=e}get compareWith(){return this._compareWith}set compareWith(e){this._compareWith=e,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(e){this._assignValue(e)&&this._onChange(e)}get errorStateMatcher(){return this._errorStateTracker.matcher}set errorStateMatcher(e){this._errorStateTracker.matcher=e}get id(){return this._id}set id(e){this._id=e||this._uid,this.stateChanges.next()}get errorState(){return this._errorStateTracker.errorState}set errorState(e){this._errorStateTracker.errorState=e}constructor(e,n,r,o,s,a,c,l,d,u,h,m,p,_){this._viewportRuler=e,this._changeDetectorRef=n,this._elementRef=s,this._dir=a,this._parentFormField=d,this.ngControl=u,this._liveAnnouncer=p,this._defaultOptions=_,this._positions=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"}],this._panelOpen=!1,this._compareWith=(f,g)=>f===g,this._uid=`mat-select-${VX++}`,this._triggerAriaLabelledBy=null,this._destroy=new Fe,this.stateChanges=new Fe,this.disableAutomaticLabeling=!0,this._onChange=()=>{},this._onTouched=()=>{},this._valueId=`mat-select-value-${VX++}`,this._panelDoneAnimatingStream=new Fe,this._overlayPanelClass=this._defaultOptions?.overlayPanelClass||"",this._focused=!1,this.controlType="mat-select",this.disabled=!1,this.disableRipple=!1,this.tabIndex=0,this._hideSingleSelectionIndicator=this._defaultOptions?.hideSingleSelectionIndicator??!1,this._multiple=!1,this.disableOptionCentering=this._defaultOptions?.disableOptionCentering??!1,this.ariaLabel="",this.panelWidth=this._defaultOptions&&typeof this._defaultOptions.panelWidth<"u"?this._defaultOptions.panelWidth:"auto",this._initialized=new Fe,this.optionSelectionChanges=im(()=>{let f=this.options;return f?f.changes.pipe(or(f),Kn(()=>rr(...f.map(g=>g.onSelectionChange)))):this._initialized.pipe(Kn(()=>this.optionSelectionChanges))}),this.openedChange=new Qe,this._openedStream=this.openedChange.pipe(ki(f=>f),St(()=>{})),this._closedStream=this.openedChange.pipe(ki(f=>!f),St(()=>{})),this.selectionChange=new Qe,this.valueChange=new Qe,this._trackedModal=null,this._skipPredicate=f=>this.panelOpen?!1:f.disabled,this.ngControl&&(this.ngControl.valueAccessor=this),_?.typeaheadDebounceInterval!=null&&(this.typeaheadDebounceInterval=_.typeaheadDebounceInterval),this._errorStateTracker=new Bu(o,u,l,c,this.stateChanges),this._scrollStrategyFactory=m,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(h)||0,this.id=this.id}ngOnInit(){this._selectionModel=new kx(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe(Nl(),Pt(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen)),this._viewportRuler.change().pipe(Pt(this._destroy)).subscribe(()=>{this.panelOpen&&(this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),this._changeDetectorRef.detectChanges())})}ngAfterContentInit(){this._initialized.next(),this._initialized.complete(),this._initKeyManager(),this._selectionModel.changed.pipe(Pt(this._destroy)).subscribe(e=>{e.added.forEach(n=>n.select()),e.removed.forEach(n=>n.deselect())}),this.options.changes.pipe(or(null),Pt(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){let e=this._getTriggerAriaLabelledby(),n=this.ngControl;if(e!==this._triggerAriaLabelledBy){let r=this._elementRef.nativeElement;this._triggerAriaLabelledBy=e,e?r.setAttribute("aria-labelledby",e):r.removeAttribute("aria-labelledby")}n&&(this._previousControl!==n.control&&(this._previousControl!==void 0&&n.disabled!==null&&n.disabled!==this.disabled&&(this.disabled=n.disabled),this._previousControl=n.control),this.updateErrorState())}ngOnChanges(e){(e.disabled||e.userAriaDescribedBy)&&this.stateChanges.next(),e.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this.typeaheadDebounceInterval)}ngOnDestroy(){this._keyManager?.destroy(),this._destroy.next(),this._destroy.complete(),this.stateChanges.complete(),this._clearFromModal()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._parentFormField&&(this._preferredOverlayOrigin=this._parentFormField.getConnectedOverlayOrigin()),this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),this._applyModalPanelOwnership(),this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_applyModalPanelOwnership(){let e=this._elementRef.nativeElement.closest('body > .cdk-overlay-container [aria-modal="true"]');if(!e)return;let n=`${this.id}-panel`;this._trackedModal&&bx(this._trackedModal,"aria-owns",n),ND(e,"aria-owns",n),this._trackedModal=e}_clearFromModal(){if(!this._trackedModal)return;let e=`${this.id}-panel`;bx(this._trackedModal,"aria-owns",e),this._trackedModal=null}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched(),this.stateChanges.next())}writeValue(e){this._assignValue(e)}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){return this.multiple?this._selectionModel?.selected||[]:this._selectionModel?.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){let e=this._selectionModel.selected.map(n=>n.viewValue);return this._isRtl()&&e.reverse(),e.join(", ")}return this._selectionModel.selected[0].viewValue}updateErrorState(){this._errorStateTracker.updateErrorState()}_isRtl(){return this._dir?this._dir.value==="rtl":!1}_handleKeydown(e){this.disabled||(this.panelOpen?this._handleOpenKeydown(e):this._handleClosedKeydown(e))}_handleClosedKeydown(e){let n=e.keyCode,r=n===40||n===38||n===37||n===39,o=n===13||n===32,s=this._keyManager;if(!s.isTyping()&&o&&!Eo(e)||(this.multiple||e.altKey)&&r)e.preventDefault(),this.open();else if(!this.multiple){let a=this.selected;s.onKeydown(e);let c=this.selected;c&&a!==c&&this._liveAnnouncer.announce(c.viewValue,1e4)}}_handleOpenKeydown(e){let n=this._keyManager,r=e.keyCode,o=r===40||r===38,s=n.isTyping();if(o&&e.altKey)e.preventDefault(),this.close();else if(!s&&(r===13||r===32)&&n.activeItem&&!Eo(e))e.preventDefault(),n.activeItem._selectViaInteraction();else if(!s&&this._multiple&&r===65&&e.ctrlKey){e.preventDefault();let a=this.options.some(c=>!c.disabled&&!c.selected);this.options.forEach(c=>{c.disabled||(a?c.select():c.deselect())})}else{let a=n.activeItemIndex;n.onKeydown(e),this._multiple&&o&&e.shiftKey&&n.activeItem&&n.activeItemIndex!==a&&n.activeItem._selectViaInteraction()}}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,this._keyManager?.cancelTypeahead(),!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this._overlayDir.positionChange.pipe(nn(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this.ngControl&&(this._value=this.ngControl.value),this._setSelectionByValue(this._value),this.stateChanges.next()})}_setSelectionByValue(e){if(this.options.forEach(n=>n.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&e)Array.isArray(e),e.forEach(n=>this._selectOptionByValue(n)),this._sortValues();else{let n=this._selectOptionByValue(e);n?this._keyManager.updateActiveItem(n):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectOptionByValue(e){let n=this.options.find(r=>{if(this._selectionModel.isSelected(r))return!1;try{return r.value!=null&&this._compareWith(r.value,e)}catch{return!1}});return n&&this._selectionModel.select(n),n}_assignValue(e){return e!==this._value||this._multiple&&Array.isArray(e)?(this.options&&this._setSelectionByValue(e),this._value=e,!0):!1}_getOverlayWidth(e){return this.panelWidth==="auto"?(e instanceof Sb?e.elementRef:e||this._elementRef).nativeElement.getBoundingClientRect().width:this.panelWidth===null?"":this.panelWidth}_syncParentProperties(){if(this.options)for(let e of this.options)e._changeDetectorRef.markForCheck()}_initKeyManager(){this._keyManager=new fx(this.options).withTypeAhead(this.typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withPageUpDown().withAllowedModifierKeys(["shiftKey"]).skipPredicate(this._skipPredicate),this._keyManager.tabOut.subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){let e=rr(this.options.changes,this._destroy);this.optionSelectionChanges.pipe(Pt(e)).subscribe(n=>{this._onSelect(n.source,n.isUserInput),n.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),rr(...this.options.map(n=>n._stateChanges)).pipe(Pt(e)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this.stateChanges.next()})}_onSelect(e,n){let r=this._selectionModel.isSelected(e);e.value==null&&!this._multiple?(e.deselect(),this._selectionModel.clear(),this.value!=null&&this._propagateChanges(e.value)):(r!==e.selected&&(e.selected?this._selectionModel.select(e):this._selectionModel.deselect(e)),n&&this._keyManager.setActiveItem(e),this.multiple&&(this._sortValues(),n&&this.focus())),r!==this._selectionModel.isSelected(e)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){let e=this.options.toArray();this._selectionModel.sort((n,r)=>this.sortComparator?this.sortComparator(n,r,e):e.indexOf(n)-e.indexOf(r)),this.stateChanges.next()}}_propagateChanges(e){let n;this.multiple?n=this.selected.map(r=>r.value):n=this.selected?this.selected.value:e,this._value=n,this.valueChange.emit(n),this._onChange(n),this.selectionChange.emit(this._getChangeEvent(n)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){if(this._keyManager)if(this.empty){let e=-1;for(let n=0;n<this.options.length;n++)if(!this.options.get(n).disabled){e=n;break}this._keyManager.setActiveItem(e)}else this._keyManager.setActiveItem(this._selectionModel.selected[0])}_canOpen(){return!this._panelOpen&&!this.disabled&&this.options?.length>0}focus(e){this._elementRef.nativeElement.focus(e)}_getPanelAriaLabelledby(){if(this.ariaLabel)return null;let e=this._parentFormField?.getLabelId(),n=e?e+" ":"";return this.ariaLabelledby?n+this.ariaLabelledby:e}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){if(this.ariaLabel)return null;let e=this._parentFormField?.getLabelId(),n=(e?e+" ":"")+this._valueId;return this.ariaLabelledby&&(n+=" "+this.ariaLabelledby),n}_panelDoneAnimating(e){this.openedChange.emit(e)}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this.panelOpen||!this.empty||this.focused&&!!this.placeholder}static{this.\u0275fac=function(n){return new(n||i)(O(oa),O(ci),O(Ne),O(Ym),O(Oe),O(vr,8),O(xg,8),O(Au,8),O(Cb,8),O(ia,10),zr("tabindex"),O(UX),O(vx),O(nye,8))}}static{this.\u0275cmp=rt({type:i,selectors:[["mat-select"]],contentQueries:function(n,r,o){if(n&1&&(ni(o,oye,5),ni(o,xx,5),ni(o,GD,5)),n&2){let s;Le(s=Be())&&(r.customTrigger=s.first),Le(s=Be())&&(r.options=s),Le(s=Be())&&(r.optionGroups=s)}},viewQuery:function(n,r){if(n&1&&(Nt(Wve,5),Nt(qve,5),Nt(zF,5)),n&2){let o;Le(o=Be())&&(r.trigger=o.first),Le(o=Be())&&(r.panel=o.first),Le(o=Be())&&(r._overlayDir=o.first)}},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","listbox",1,"mat-mdc-select"],hostVars:19,hostBindings:function(n,r){n&1&&fe("keydown",function(s){return r._handleKeydown(s)})("focus",function(){return r._onFocus()})("blur",function(){return r._onBlur()}),n&2&&(wt("id",r.id)("tabindex",r.disabled?-1:r.tabIndex)("aria-controls",r.panelOpen?r.id+"-panel":null)("aria-expanded",r.panelOpen)("aria-label",r.ariaLabel||null)("aria-required",r.required.toString())("aria-disabled",r.disabled.toString())("aria-invalid",r.errorState)("aria-activedescendant",r._getAriaActiveDescendant()),qe("mat-mdc-select-disabled",r.disabled)("mat-mdc-select-invalid",r.errorState)("mat-mdc-select-required",r.required)("mat-mdc-select-empty",r.empty)("mat-mdc-select-multiple",r.multiple))},inputs:{userAriaDescribedBy:[J.None,"aria-describedby","userAriaDescribedBy"],panelClass:"panelClass",disabled:[J.HasDecoratorInputTransform,"disabled","disabled",Je],disableRipple:[J.HasDecoratorInputTransform,"disableRipple","disableRipple",Je],tabIndex:[J.HasDecoratorInputTransform,"tabIndex","tabIndex",e=>e==null?0:on(e)],hideSingleSelectionIndicator:[J.HasDecoratorInputTransform,"hideSingleSelectionIndicator","hideSingleSelectionIndicator",Je],placeholder:"placeholder",required:[J.HasDecoratorInputTransform,"required","required",Je],multiple:[J.HasDecoratorInputTransform,"multiple","multiple",Je],disableOptionCentering:[J.HasDecoratorInputTransform,"disableOptionCentering","disableOptionCentering",Je],compareWith:"compareWith",value:"value",ariaLabel:[J.None,"aria-label","ariaLabel"],ariaLabelledby:[J.None,"aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:[J.HasDecoratorInputTransform,"typeaheadDebounceInterval","typeaheadDebounceInterval",on],sortComparator:"sortComparator",id:"id",panelWidth:"panelWidth"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},exportAs:["matSelect"],standalone:!0,features:[Ot([{provide:Mb,useExisting:i},{provide:$D,useExisting:i}]),Bt,Bi,Tt],ngContentSelectors:Yve,decls:11,vars:8,consts:[["fallbackOverlayOrigin","cdkOverlayOrigin","trigger",""],["panel",""],["cdk-overlay-origin","",1,"mat-mdc-select-trigger",3,"click"],[1,"mat-mdc-select-value"],[1,"mat-mdc-select-placeholder","mat-mdc-select-min-line"],[1,"mat-mdc-select-arrow-wrapper"],[1,"mat-mdc-select-arrow"],["viewBox","0 0 24 24","width","24px","height","24px","focusable","false","aria-hidden","true"],["d","M7 10l5 5 5-5z"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"backdropClick","attach","detach","cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayWidth"],[1,"mat-mdc-select-value-text"],[1,"mat-mdc-select-min-line"],["role","listbox","tabindex","-1",3,"keydown","ngClass"]],template:function(n,r){if(n&1){let o=ft();Ti(Xve),y(0,"div",2,0),fe("click",function(){return ce(o),le(r.open())}),y(3,"div",3),Ee(4,Zve,2,1,"span",4)(5,Jve,3,1),x(),y(6,"div",5)(7,"div",6),Zr(),y(8,"svg",7),Ue(9,"path",8),x()()()(),Ee(10,eye,3,9,"ng-template",9),fe("backdropClick",function(){return ce(o),le(r.close())})("attach",function(){return ce(o),le(r._onAttached())})("detach",function(){return ce(o),le(r.close())})}if(n&2){let o=Co(1);B(3),wt("id",r._valueId),B(),Yt(4,r.empty?4:5),B(6),ae("cdkConnectedOverlayPanelClass",r._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",r._scrollStrategy)("cdkConnectedOverlayOrigin",r._preferredOverlayOrigin||o)("cdkConnectedOverlayOpen",r.panelOpen)("cdkConnectedOverlayPositions",r._positions)("cdkConnectedOverlayWidth",r._overlayWidth)}},dependencies:[Sb,zF,Tm],styles:['.mat-mdc-select{display:inline-block;width:100%;outline:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;color:var(--mat-select-enabled-trigger-text-color);font-family:var(--mat-select-trigger-text-font);line-height:var(--mat-select-trigger-text-line-height);font-size:var(--mat-select-trigger-text-size);font-weight:var(--mat-select-trigger-text-weight);letter-spacing:var(--mat-select-trigger-text-tracking)}div.mat-mdc-select-panel{box-shadow:var(--mat-select-container-elevation-shadow)}.mat-mdc-select-disabled{color:var(--mat-select-disabled-trigger-text-color)}.mat-mdc-select-trigger{display:inline-flex;align-items:center;cursor:pointer;position:relative;box-sizing:border-box;width:100%}.mat-mdc-select-disabled .mat-mdc-select-trigger{-webkit-user-select:none;user-select:none;cursor:default}.mat-mdc-select-value{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-mdc-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-mdc-select-arrow-wrapper{height:24px;flex-shrink:0;display:inline-flex;align-items:center}.mat-form-field-appearance-fill .mdc-text-field--no-label .mat-mdc-select-arrow-wrapper{transform:none}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-invalid .mat-mdc-select-arrow,.mat-form-field-invalid:not(.mat-form-field-disabled) .mat-mdc-form-field-infix::after{color:var(--mat-select-invalid-arrow-color)}.mat-mdc-select-arrow{width:10px;height:5px;position:relative;color:var(--mat-select-enabled-arrow-color)}.mat-mdc-form-field.mat-focused .mat-mdc-select-arrow{color:var(--mat-select-focused-arrow-color)}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-disabled .mat-mdc-select-arrow{color:var(--mat-select-disabled-arrow-color)}.mat-mdc-select-arrow svg{fill:currentColor;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%)}.cdk-high-contrast-active .mat-mdc-select-arrow svg{fill:CanvasText}.mat-mdc-select-disabled .cdk-high-contrast-active .mat-mdc-select-arrow svg{fill:GrayText}div.mat-mdc-select-panel{width:100%;max-height:275px;outline:0;overflow:auto;padding:8px 0;border-radius:4px;box-sizing:border-box;position:static;background-color:var(--mat-select-panel-background-color)}.cdk-high-contrast-active div.mat-mdc-select-panel{outline:solid 1px}.cdk-overlay-pane:not(.mat-mdc-select-panel-above) div.mat-mdc-select-panel{border-top-left-radius:0;border-top-right-radius:0;transform-origin:top center}.mat-mdc-select-panel-above div.mat-mdc-select-panel{border-bottom-left-radius:0;border-bottom-right-radius:0;transform-origin:bottom center}div.mat-mdc-select-panel .mat-mdc-option{--mdc-list-list-item-container-color: var(--mat-select-panel-background-color)}.mat-mdc-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1);color:var(--mat-select-placeholder-text-color)}._mat-animation-noopable .mat-mdc-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-mdc-select-placeholder{color:rgba(0,0,0,0);-webkit-text-fill-color:rgba(0,0,0,0);transition:none;display:block}.mat-mdc-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-mdc-text-field-wrapper{cursor:pointer}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mat-mdc-floating-label{max-width:calc(100% - 18px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mdc-floating-label--float-above{max-width:calc(100%/0.75 - 24px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-text-field--label-floating .mdc-notched-outline__notch{max-width:calc(100% - 24px)}.mat-mdc-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;visibility:hidden}.mat-form-field-appearance-fill .mat-mdc-select-arrow-wrapper{transform:var(--mat-select-arrow-transform)}'],encapsulation:2,data:{animation:[tye.transformPanel]},changeDetection:0})}}return i})();var DM=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275mod=$e({type:i})}static{this.\u0275inj=je({providers:[rye],imports:[kr,qp,WD,Ft,rp,wh,WD,Ft]})}}return i})();var sye=["tooltip"],$X=20;var GX=new ge("mat-tooltip-scroll-strategy",{providedIn:"root",factory:()=>{let i=be(Jo);return()=>i.scrollStrategies.reposition({scrollThrottle:$X})}});function aye(i){return()=>i.scrollStrategies.reposition({scrollThrottle:$X})}var cye={provide:GX,deps:[Jo],useFactory:aye};function lye(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}var dye=new ge("mat-tooltip-default-options",{providedIn:"root",factory:lye});var HX="tooltip-panel",jX=As({passive:!0}),uye=8,hye=8,mye=24,pye=200,Xp=(()=>{class i{get position(){return this._position}set position(e){e!==this._position&&(this._position=e,this._overlayRef&&(this._updatePosition(this._overlayRef),this._tooltipInstance?.show(0),this._overlayRef.updatePosition()))}get positionAtOrigin(){return this._positionAtOrigin}set positionAtOrigin(e){this._positionAtOrigin=Qr(e),this._detach(),this._overlayRef=null}get disabled(){return this._disabled}set disabled(e){this._disabled=Qr(e),this._disabled?this.hide(0):this._setupPointerEnterEventsIfNeeded()}get showDelay(){return this._showDelay}set showDelay(e){this._showDelay=Za(e)}get hideDelay(){return this._hideDelay}set hideDelay(e){this._hideDelay=Za(e),this._tooltipInstance&&(this._tooltipInstance._mouseLeaveHideDelay=this._hideDelay)}get message(){return this._message}set message(e){this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this._message,"tooltip"),this._message=e!=null?String(e).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage(),this._ngZone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this._ariaDescriber.describe(this._elementRef.nativeElement,this.message,"tooltip")})}))}get tooltipClass(){return this._tooltipClass}set tooltipClass(e){this._tooltipClass=e,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}constructor(e,n,r,o,s,a,c,l,d,u,h,m){this._overlay=e,this._elementRef=n,this._scrollDispatcher=r,this._viewContainerRef=o,this._ngZone=s,this._platform=a,this._ariaDescriber=c,this._focusMonitor=l,this._dir=u,this._defaultOptions=h,this._position="below",this._positionAtOrigin=!1,this._disabled=!1,this._viewInitialized=!1,this._pointerExitEventsInitialized=!1,this._tooltipComponent=fye,this._viewportMargin=8,this._cssClassPrefix="mat-mdc",this.touchGestures="auto",this._message="",this._passiveListeners=[],this._destroyed=new Fe,this._scrollStrategy=d,this._document=m,h&&(this._showDelay=h.showDelay,this._hideDelay=h.hideDelay,h.position&&(this.position=h.position),h.positionAtOrigin&&(this.positionAtOrigin=h.positionAtOrigin),h.touchGestures&&(this.touchGestures=h.touchGestures)),u.change.pipe(Pt(this._destroyed)).subscribe(()=>{this._overlayRef&&this._updatePosition(this._overlayRef)}),this._viewportMargin=uye}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe(Pt(this._destroyed)).subscribe(e=>{e?e==="keyboard"&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}ngOnDestroy(){let e=this._elementRef.nativeElement;clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),this._passiveListeners.forEach(([n,r])=>{e.removeEventListener(n,r,jX)}),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._ariaDescriber.removeDescription(e,this.message,"tooltip"),this._focusMonitor.stopMonitoring(e)}show(e=this.showDelay,n){if(this.disabled||!this.message||this._isTooltipVisible()){this._tooltipInstance?._cancelPendingAnimations();return}let r=this._createOverlay(n);this._detach(),this._portal=this._portal||new ad(this._tooltipComponent,this._viewContainerRef);let o=this._tooltipInstance=r.attach(this._portal).instance;o._triggerElement=this._elementRef.nativeElement,o._mouseLeaveHideDelay=this._hideDelay,o.afterHidden().pipe(Pt(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),o.show(e)}hide(e=this.hideDelay){let n=this._tooltipInstance;n&&(n.isVisible()?n.hide(e):(n._cancelPendingAnimations(),this._detach()))}toggle(e){this._isTooltipVisible()?this.hide():this.show(void 0,e)}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(e){if(this._overlayRef){let o=this._overlayRef.getConfig().positionStrategy;if((!this.positionAtOrigin||!e)&&o._origin instanceof Oe)return this._overlayRef;this._detach()}let n=this._scrollDispatcher.getAncestorScrollContainers(this._elementRef),r=this._overlay.position().flexibleConnectedTo(this.positionAtOrigin?e||this._elementRef:this._elementRef).withTransformOriginOn(`.${this._cssClassPrefix}-tooltip`).withFlexibleDimensions(!1).withViewportMargin(this._viewportMargin).withScrollableContainers(n);return r.positionChanges.pipe(Pt(this._destroyed)).subscribe(o=>{this._updateCurrentPositionClass(o.connectionPair),this._tooltipInstance&&o.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=this._overlay.create({direction:this._dir,positionStrategy:r,panelClass:`${this._cssClassPrefix}-${HX}`,scrollStrategy:this._scrollStrategy()}),this._updatePosition(this._overlayRef),this._overlayRef.detachments().pipe(Pt(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef.outsidePointerEvents().pipe(Pt(this._destroyed)).subscribe(()=>this._tooltipInstance?._handleBodyInteraction()),this._overlayRef.keydownEvents().pipe(Pt(this._destroyed)).subscribe(o=>{this._isTooltipVisible()&&o.keyCode===27&&!Eo(o)&&(o.preventDefault(),o.stopPropagation(),this._ngZone.run(()=>this.hide(0)))}),this._defaultOptions?.disableTooltipInteractivity&&this._overlayRef.addPanelClass(`${this._cssClassPrefix}-tooltip-panel-non-interactive`),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(e){let n=e.getConfig().positionStrategy,r=this._getOrigin(),o=this._getOverlayPosition();n.withPositions([this._addOffset(ye(ye({},r.main),o.main)),this._addOffset(ye(ye({},r.fallback),o.fallback))])}_addOffset(e){let n=hye,r=!this._dir||this._dir.value=="ltr";return e.originY==="top"?e.offsetY=-n:e.originY==="bottom"?e.offsetY=n:e.originX==="start"?e.offsetX=r?-n:n:e.originX==="end"&&(e.offsetX=r?n:-n),e}_getOrigin(){let e=!this._dir||this._dir.value=="ltr",n=this.position,r;n=="above"||n=="below"?r={originX:"center",originY:n=="above"?"top":"bottom"}:n=="before"||n=="left"&&e||n=="right"&&!e?r={originX:"start",originY:"center"}:(n=="after"||n=="right"&&e||n=="left"&&!e)&&(r={originX:"end",originY:"center"});let{x:o,y:s}=this._invertPosition(r.originX,r.originY);return{main:r,fallback:{originX:o,originY:s}}}_getOverlayPosition(){let e=!this._dir||this._dir.value=="ltr",n=this.position,r;n=="above"?r={overlayX:"center",overlayY:"bottom"}:n=="below"?r={overlayX:"center",overlayY:"top"}:n=="before"||n=="left"&&e||n=="right"&&!e?r={overlayX:"end",overlayY:"center"}:(n=="after"||n=="right"&&e||n=="left"&&!e)&&(r={overlayX:"start",overlayY:"center"});let{x:o,y:s}=this._invertPosition(r.overlayX,r.overlayY);return{main:r,fallback:{overlayX:o,overlayY:s}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),this._ngZone.onMicrotaskEmpty.pipe(nn(1),Pt(this._destroyed)).subscribe(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()}))}_setTooltipClass(e){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=e,this._tooltipInstance._markForCheck())}_invertPosition(e,n){return this.position==="above"||this.position==="below"?n==="top"?n="bottom":n==="bottom"&&(n="top"):e==="end"?e="start":e==="start"&&(e="end"),{x:e,y:n}}_updateCurrentPositionClass(e){let{overlayY:n,originX:r,originY:o}=e,s;if(n==="center"?this._dir&&this._dir.value==="rtl"?s=r==="end"?"left":"right":s=r==="start"?"left":"right":s=n==="bottom"&&o==="top"?"above":"below",s!==this._currentPosition){let a=this._overlayRef;if(a){let c=`${this._cssClassPrefix}-${HX}-`;a.removePanelClass(c+this._currentPosition),a.addPanelClass(c+s)}this._currentPosition=s}}_setupPointerEnterEventsIfNeeded(){this._disabled||!this.message||!this._viewInitialized||this._passiveListeners.length||(this._platformSupportsMouseEvents()?this._passiveListeners.push(["mouseenter",e=>{this._setupPointerExitEventsIfNeeded();let n;e.x!==void 0&&e.y!==void 0&&(n=e),this.show(void 0,n)}]):this.touchGestures!=="off"&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",e=>{let n=e.targetTouches?.[0],r=n?{x:n.clientX,y:n.clientY}:void 0;this._setupPointerExitEventsIfNeeded(),clearTimeout(this._touchstartTimeout);let o=500;this._touchstartTimeout=setTimeout(()=>this.show(void 0,r),this._defaultOptions.touchLongPressShowDelay??o)}])),this._addListeners(this._passiveListeners))}_setupPointerExitEventsIfNeeded(){if(this._pointerExitEventsInitialized)return;this._pointerExitEventsInitialized=!0;let e=[];if(this._platformSupportsMouseEvents())e.push(["mouseleave",n=>{let r=n.relatedTarget;(!r||!this._overlayRef?.overlayElement.contains(r))&&this.hide()}],["wheel",n=>this._wheelListener(n)]);else if(this.touchGestures!=="off"){this._disableNativeGesturesIfNecessary();let n=()=>{clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions.touchendHideDelay)};e.push(["touchend",n],["touchcancel",n])}this._addListeners(e),this._passiveListeners.push(...e)}_addListeners(e){e.forEach(([n,r])=>{this._elementRef.nativeElement.addEventListener(n,r,jX)})}_platformSupportsMouseEvents(){return!this._platform.IOS&&!this._platform.ANDROID}_wheelListener(e){if(this._isTooltipVisible()){let n=this._document.elementFromPoint(e.clientX,e.clientY),r=this._elementRef.nativeElement;n!==r&&!r.contains(n)&&this.hide()}}_disableNativeGesturesIfNecessary(){let e=this.touchGestures;if(e!=="off"){let n=this._elementRef.nativeElement,r=n.style;(e==="on"||n.nodeName!=="INPUT"&&n.nodeName!=="TEXTAREA")&&(r.userSelect=r.msUserSelect=r.webkitUserSelect=r.MozUserSelect="none"),(e==="on"||!n.draggable)&&(r.webkitUserDrag="none"),r.touchAction="none",r.webkitTapHighlightColor="transparent"}}static{this.\u0275fac=function(n){return new(n||i)(O(Jo),O(Oe),O(op),O(rn),O(Ne),O(ri),O(TH),O(Wc),O(GX),O(vr),O(dye,8),O(It))}}static{this.\u0275dir=we({type:i,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-mdc-tooltip-trigger"],hostVars:2,hostBindings:function(n,r){n&2&&qe("mat-mdc-tooltip-disabled",r.disabled)},inputs:{position:[J.None,"matTooltipPosition","position"],positionAtOrigin:[J.None,"matTooltipPositionAtOrigin","positionAtOrigin"],disabled:[J.None,"matTooltipDisabled","disabled"],showDelay:[J.None,"matTooltipShowDelay","showDelay"],hideDelay:[J.None,"matTooltipHideDelay","hideDelay"],touchGestures:[J.None,"matTooltipTouchGestures","touchGestures"],message:[J.None,"matTooltip","message"],tooltipClass:[J.None,"matTooltipClass","tooltipClass"]},exportAs:["matTooltip"],standalone:!0})}}return i})(),fye=(()=>{class i{constructor(e,n,r){this._changeDetectorRef=e,this._elementRef=n,this._isMultiline=!1,this._closeOnInteraction=!1,this._isVisible=!1,this._onHide=new Fe,this._showAnimation="mat-mdc-tooltip-show",this._hideAnimation="mat-mdc-tooltip-hide",this._animationsDisabled=r==="NoopAnimations"}show(e){this._hideTimeoutId!=null&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=setTimeout(()=>{this._toggleVisibility(!0),this._showTimeoutId=void 0},e)}hide(e){this._showTimeoutId!=null&&clearTimeout(this._showTimeoutId),this._hideTimeoutId=setTimeout(()=>{this._toggleVisibility(!1),this._hideTimeoutId=void 0},e)}afterHidden(){return this._onHide}isVisible(){return this._isVisible}ngOnDestroy(){this._cancelPendingAnimations(),this._onHide.complete(),this._triggerElement=null}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}_handleMouseLeave({relatedTarget:e}){(!e||!this._triggerElement.contains(e))&&(this.isVisible()?this.hide(this._mouseLeaveHideDelay):this._finalizeAnimation(!1))}_onShow(){this._isMultiline=this._isTooltipMultiline(),this._markForCheck()}_isTooltipMultiline(){let e=this._elementRef.nativeElement.getBoundingClientRect();return e.height>mye&&e.width>=pye}_handleAnimationEnd({animationName:e}){(e===this._showAnimation||e===this._hideAnimation)&&this._finalizeAnimation(e===this._showAnimation)}_cancelPendingAnimations(){this._showTimeoutId!=null&&clearTimeout(this._showTimeoutId),this._hideTimeoutId!=null&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=this._hideTimeoutId=void 0}_finalizeAnimation(e){e?this._closeOnInteraction=!0:this.isVisible()||this._onHide.next()}_toggleVisibility(e){let n=this._tooltip.nativeElement,r=this._showAnimation,o=this._hideAnimation;if(n.classList.remove(e?o:r),n.classList.add(e?r:o),this._isVisible!==e&&(this._isVisible=e,this._changeDetectorRef.markForCheck()),e&&!this._animationsDisabled&&typeof getComputedStyle=="function"){let s=getComputedStyle(n);(s.getPropertyValue("animation-duration")==="0s"||s.getPropertyValue("animation-name")==="none")&&(this._animationsDisabled=!0)}e&&this._onShow(),this._animationsDisabled&&(n.classList.add("_mat-animation-noopable"),this._finalizeAnimation(e))}static{this.\u0275fac=function(n){return new(n||i)(O(ci),O(Oe),O(Vi,8))}}static{this.\u0275cmp=rt({type:i,selectors:[["mat-tooltip-component"]],viewQuery:function(n,r){if(n&1&&Nt(sye,7),n&2){let o;Le(o=Be())&&(r._tooltip=o.first)}},hostAttrs:["aria-hidden","true"],hostVars:2,hostBindings:function(n,r){n&1&&fe("mouseleave",function(s){return r._handleMouseLeave(s)}),n&2&&$n("zoom",r.isVisible()?1:null)},standalone:!0,features:[Tt],decls:4,vars:4,consts:[["tooltip",""],[1,"mdc-tooltip","mdc-tooltip--shown","mat-mdc-tooltip",3,"animationend","ngClass"],[1,"mdc-tooltip__surface","mdc-tooltip__surface-animation"]],template:function(n,r){if(n&1){let o=ft();y(0,"div",1,0),fe("animationend",function(a){return ce(o),le(r._handleAnimationEnd(a))}),y(2,"div",2),P(3),x()()}n&2&&(qe("mdc-tooltip--multiline",r._isMultiline),ae("ngClass",r.tooltipClass),B(3),Xt(r.message))},dependencies:[Tm],styles:['.mdc-tooltip__surface{word-break:break-all;word-break:var(--mdc-tooltip-word-break, normal);overflow-wrap:anywhere}.mdc-tooltip--showing-transition .mdc-tooltip__surface-animation{transition:opacity 150ms 0ms cubic-bezier(0, 0, 0.2, 1),transform 150ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-tooltip--hide-transition .mdc-tooltip__surface-animation{transition:opacity 75ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-tooltip{position:fixed;display:none;z-index:9}.mdc-tooltip-wrapper--rich{position:relative}.mdc-tooltip--shown,.mdc-tooltip--showing,.mdc-tooltip--hide{display:inline-flex}.mdc-tooltip--shown.mdc-tooltip--rich,.mdc-tooltip--showing.mdc-tooltip--rich,.mdc-tooltip--hide.mdc-tooltip--rich{display:inline-block;left:-320px;position:absolute}.mdc-tooltip__surface{line-height:16px;padding:4px 8px;min-width:40px;max-width:200px;min-height:24px;max-height:40vh;box-sizing:border-box;overflow:hidden;text-align:center}.mdc-tooltip__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-tooltip__surface::before{border-color:CanvasText}}.mdc-tooltip--rich .mdc-tooltip__surface{align-items:flex-start;display:flex;flex-direction:column;min-height:24px;min-width:40px;max-width:320px;position:relative}.mdc-tooltip--multiline .mdc-tooltip__surface{text-align:left}[dir=rtl] .mdc-tooltip--multiline .mdc-tooltip__surface,.mdc-tooltip--multiline .mdc-tooltip__surface[dir=rtl]{text-align:right}.mdc-tooltip__surface .mdc-tooltip__title{margin:0 8px}.mdc-tooltip__surface .mdc-tooltip__content{max-width:calc(200px - 2*8px);margin:8px;text-align:left}[dir=rtl] .mdc-tooltip__surface .mdc-tooltip__content,.mdc-tooltip__surface .mdc-tooltip__content[dir=rtl]{text-align:right}.mdc-tooltip--rich .mdc-tooltip__surface .mdc-tooltip__content{max-width:calc(320px - 2*8px);align-self:stretch}.mdc-tooltip__surface .mdc-tooltip__content-link{text-decoration:none}.mdc-tooltip--rich-actions,.mdc-tooltip__content,.mdc-tooltip__title{z-index:1}.mdc-tooltip__surface-animation{opacity:0;transform:scale(0.8);will-change:transform,opacity}.mdc-tooltip--shown .mdc-tooltip__surface-animation{transform:scale(1);opacity:1}.mdc-tooltip--hide .mdc-tooltip__surface-animation{transform:scale(1)}.mdc-tooltip__caret-surface-top,.mdc-tooltip__caret-surface-bottom{position:absolute;height:24px;width:24px;transform:rotate(35deg) skewY(20deg) scaleX(0.9396926208)}.mdc-tooltip__caret-surface-top .mdc-elevation-overlay,.mdc-tooltip__caret-surface-bottom .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-tooltip__caret-surface-bottom{box-shadow:0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12);outline:1px solid rgba(0,0,0,0);z-index:-1}@media screen and (forced-colors: active){.mdc-tooltip__caret-surface-bottom{outline-color:CanvasText}}.mat-mdc-tooltip .mdc-tooltip__surface{background-color:var(--mdc-plain-tooltip-container-color)}.mat-mdc-tooltip .mdc-tooltip__surface{border-radius:var(--mdc-plain-tooltip-container-shape)}.mat-mdc-tooltip .mdc-tooltip__caret-surface-top,.mat-mdc-tooltip .mdc-tooltip__caret-surface-bottom{border-radius:var(--mdc-plain-tooltip-container-shape)}.mat-mdc-tooltip .mdc-tooltip__surface{color:var(--mdc-plain-tooltip-supporting-text-color)}.mat-mdc-tooltip .mdc-tooltip__surface{font-family:var(--mdc-plain-tooltip-supporting-text-font);line-height:var(--mdc-plain-tooltip-supporting-text-line-height);font-size:var(--mdc-plain-tooltip-supporting-text-size);font-weight:var(--mdc-plain-tooltip-supporting-text-weight);letter-spacing:var(--mdc-plain-tooltip-supporting-text-tracking)}.mat-mdc-tooltip{position:relative;transform:scale(0)}.mat-mdc-tooltip::before{content:"";top:0;right:0;bottom:0;left:0;z-index:-1;position:absolute}.mat-mdc-tooltip-panel-below .mat-mdc-tooltip::before{top:-8px}.mat-mdc-tooltip-panel-above .mat-mdc-tooltip::before{bottom:-8px}.mat-mdc-tooltip-panel-right .mat-mdc-tooltip::before{left:-8px}.mat-mdc-tooltip-panel-left .mat-mdc-tooltip::before{right:-8px}.mat-mdc-tooltip._mat-animation-noopable{animation:none;transform:scale(1)}.mat-mdc-tooltip-panel.mat-mdc-tooltip-panel-non-interactive{pointer-events:none}@keyframes mat-mdc-tooltip-show{0%{opacity:0;transform:scale(0.8)}100%{opacity:1;transform:scale(1)}}@keyframes mat-mdc-tooltip-hide{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(0.8)}}.mat-mdc-tooltip-show{animation:mat-mdc-tooltip-show 150ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-mdc-tooltip-hide{animation:mat-mdc-tooltip-hide 75ms cubic-bezier(0.4, 0, 1, 1) forwards}'],encapsulation:2,changeDetection:0})}}return i})();var kM=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275mod=$e({type:i})}static{this.\u0275inj=je({providers:[cye],imports:[kH,kr,qp,Ft,Ft,rp]})}}return i})();function gye(i,t){if(i&1&&(y(0,"mat-option",16),P(1),x()),i&2){let e=t.$implicit;ae("value",e),B(),Vt(" ",e," ")}}function _ye(i,t){if(i&1){let e=ft();y(0,"mat-form-field",13)(1,"mat-select",15),fe("selectionChange",function(r){ce(e);let o=Q(2);return le(o._changePageSize(r.value))}),lg(2,gye,2,2,"mat-option",16,cg),x()()}if(i&2){let e=Q(2);ae("appearance",e._formFieldAppearance)("color",e.color),B(),ae("value",e.pageSize)("disabled",e.disabled)("aria-labelledby",e._pageSizeLabelId)("panelClass",e.selectConfig.panelClass||"")("disableOptionCentering",e.selectConfig.disableOptionCentering),B(),dg(e._displayedPageSizeOptions)}}function bye(i,t){if(i&1&&(y(0,"div",14),P(1),x()),i&2){let e=Q(2);B(),Xt(e.pageSize)}}function vye(i,t){if(i&1&&(y(0,"div",2)(1,"div",12),P(2),x(),Ee(3,_ye,4,7,"mat-form-field",13)(4,bye,2,1,"div",14),x()),i&2){let e=Q();B(),wt("id",e._pageSizeLabelId),B(),Vt(" ",e._intl.itemsPerPageLabel," "),B(),Yt(3,e._displayedPageSizeOptions.length>1?3:-1),B(),Yt(4,e._displayedPageSizeOptions.length<=1?4:-1)}}function yye(i,t){if(i&1){let e=ft();y(0,"button",17),fe("click",function(){ce(e);let r=Q();return le(r.firstPage())}),Zr(),y(1,"svg",7),Ue(2,"path",18),x()()}if(i&2){let e=Q();ae("matTooltip",e._intl.firstPageLabel)("matTooltipDisabled",e._previousButtonsDisabled())("matTooltipPosition","above")("disabled",e._previousButtonsDisabled()),wt("aria-label",e._intl.firstPageLabel)}}function xye(i,t){if(i&1){let e=ft();y(0,"button",19),fe("click",function(){ce(e);let r=Q();return le(r.lastPage())}),Zr(),y(1,"svg",7),Ue(2,"path",20),x()()}if(i&2){let e=Q();ae("matTooltip",e._intl.lastPageLabel)("matTooltipDisabled",e._nextButtonsDisabled())("matTooltipPosition","above")("disabled",e._nextButtonsDisabled()),wt("aria-label",e._intl.lastPageLabel)}}var AM=(()=>{class i{constructor(){this.changes=new Fe,this.itemsPerPageLabel="Items per page:",this.nextPageLabel="Next page",this.previousPageLabel="Previous page",this.firstPageLabel="First page",this.lastPageLabel="Last page",this.getRangeLabel=(e,n,r)=>{if(r==0||n==0)return`0 of ${r}`;r=Math.max(r,0);let o=e*n,s=o<r?Math.min(o+n,r):o+n;return`${o+1} \u2013 ${s} of ${r}`}}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275prov=xe({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();function wye(i){return i||new AM}var Mye={provide:AM,deps:[[new Cu,new vm,AM]],useFactory:wye},Cye=50;var Sye=new ge("MAT_PAGINATOR_DEFAULT_OPTIONS"),Eye=0,jF=(()=>{class i{get pageIndex(){return this._pageIndex}set pageIndex(e){this._pageIndex=Math.max(e||0,0),this._changeDetectorRef.markForCheck()}get length(){return this._length}set length(e){this._length=e||0,this._changeDetectorRef.markForCheck()}get pageSize(){return this._pageSize}set pageSize(e){this._pageSize=Math.max(e||0,0),this._updateDisplayedPageSizeOptions()}get pageSizeOptions(){return this._pageSizeOptions}set pageSizeOptions(e){this._pageSizeOptions=(e||[]).map(n=>on(n,0)),this._updateDisplayedPageSizeOptions()}constructor(e,n,r){if(this._intl=e,this._changeDetectorRef=n,this._pageSizeLabelId=`mat-paginator-page-size-label-${Eye++}`,this._isInitialized=!1,this._initializedStream=new au(1),this._pageIndex=0,this._length=0,this._pageSizeOptions=[],this.hidePageSize=!1,this.showFirstLastButtons=!1,this.selectConfig={},this.disabled=!1,this.page=new Qe,this.initialized=this._initializedStream,this._intlChanges=e.changes.subscribe(()=>this._changeDetectorRef.markForCheck()),r){let{pageSize:o,pageSizeOptions:s,hidePageSize:a,showFirstLastButtons:c}=r;o!=null&&(this._pageSize=o),s!=null&&(this._pageSizeOptions=s),a!=null&&(this.hidePageSize=a),c!=null&&(this.showFirstLastButtons=c)}this._formFieldAppearance=r?.formFieldAppearance||"outline"}ngOnInit(){this._isInitialized=!0,this._updateDisplayedPageSizeOptions(),this._initializedStream.next()}ngOnDestroy(){this._initializedStream.complete(),this._intlChanges.unsubscribe()}nextPage(){if(!this.hasNextPage())return;let e=this.pageIndex;this.pageIndex=this.pageIndex+1,this._emitPageEvent(e)}previousPage(){if(!this.hasPreviousPage())return;let e=this.pageIndex;this.pageIndex=this.pageIndex-1,this._emitPageEvent(e)}firstPage(){if(!this.hasPreviousPage())return;let e=this.pageIndex;this.pageIndex=0,this._emitPageEvent(e)}lastPage(){if(!this.hasNextPage())return;let e=this.pageIndex;this.pageIndex=this.getNumberOfPages()-1,this._emitPageEvent(e)}hasPreviousPage(){return this.pageIndex>=1&&this.pageSize!=0}hasNextPage(){let e=this.getNumberOfPages()-1;return this.pageIndex<e&&this.pageSize!=0}getNumberOfPages(){return this.pageSize?Math.ceil(this.length/this.pageSize):0}_changePageSize(e){let n=this.pageIndex*this.pageSize,r=this.pageIndex;this.pageIndex=Math.floor(n/e)||0,this.pageSize=e,this._emitPageEvent(r)}_nextButtonsDisabled(){return this.disabled||!this.hasNextPage()}_previousButtonsDisabled(){return this.disabled||!this.hasPreviousPage()}_updateDisplayedPageSizeOptions(){this._isInitialized&&(this.pageSize||(this._pageSize=this.pageSizeOptions.length!=0?this.pageSizeOptions[0]:Cye),this._displayedPageSizeOptions=this.pageSizeOptions.slice(),this._displayedPageSizeOptions.indexOf(this.pageSize)===-1&&this._displayedPageSizeOptions.push(this.pageSize),this._displayedPageSizeOptions.sort((e,n)=>e-n),this._changeDetectorRef.markForCheck())}_emitPageEvent(e){this.page.emit({previousPageIndex:e,pageIndex:this.pageIndex,pageSize:this.pageSize,length:this.length})}static{this.\u0275fac=function(n){return new(n||i)(O(AM),O(ci),O(Sye,8))}}static{this.\u0275cmp=rt({type:i,selectors:[["mat-paginator"]],hostAttrs:["role","group",1,"mat-mdc-paginator"],inputs:{color:"color",pageIndex:[J.HasDecoratorInputTransform,"pageIndex","pageIndex",on],length:[J.HasDecoratorInputTransform,"length","length",on],pageSize:[J.HasDecoratorInputTransform,"pageSize","pageSize",on],pageSizeOptions:"pageSizeOptions",hidePageSize:[J.HasDecoratorInputTransform,"hidePageSize","hidePageSize",Je],showFirstLastButtons:[J.HasDecoratorInputTransform,"showFirstLastButtons","showFirstLastButtons",Je],selectConfig:"selectConfig",disabled:[J.HasDecoratorInputTransform,"disabled","disabled",Je]},outputs:{page:"page"},exportAs:["matPaginator"],standalone:!0,features:[Bt,Tt],decls:14,vars:14,consts:[[1,"mat-mdc-paginator-outer-container"],[1,"mat-mdc-paginator-container"],[1,"mat-mdc-paginator-page-size"],[1,"mat-mdc-paginator-range-actions"],["aria-live","polite",1,"mat-mdc-paginator-range-label"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-first",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-previous",3,"click","matTooltip","matTooltipDisabled","matTooltipPosition","disabled"],["viewBox","0 0 24 24","focusable","false","aria-hidden","true",1,"mat-mdc-paginator-icon"],["d","M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-next",3,"click","matTooltip","matTooltipDisabled","matTooltipPosition","disabled"],["d","M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-last",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled"],[1,"mat-mdc-paginator-page-size-label"],[1,"mat-mdc-paginator-page-size-select",3,"appearance","color"],[1,"mat-mdc-paginator-page-size-value"],["hideSingleSelectionIndicator","",3,"selectionChange","value","disabled","aria-labelledby","panelClass","disableOptionCentering"],[3,"value"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-first",3,"click","matTooltip","matTooltipDisabled","matTooltipPosition","disabled"],["d","M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-last",3,"click","matTooltip","matTooltipDisabled","matTooltipPosition","disabled"],["d","M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z"]],template:function(n,r){n&1&&(y(0,"div",0)(1,"div",1),Ee(2,vye,5,4,"div",2),y(3,"div",3)(4,"div",4),P(5),x(),Ee(6,yye,3,5,"button",5),y(7,"button",6),fe("click",function(){return r.previousPage()}),Zr(),y(8,"svg",7),Ue(9,"path",8),x()(),Eu(),y(10,"button",9),fe("click",function(){return r.nextPage()}),Zr(),y(11,"svg",7),Ue(12,"path",10),x()(),Ee(13,xye,3,5,"button",11),x()()()),n&2&&(B(2),Yt(2,r.hidePageSize?-1:2),B(3),Vt(" ",r._intl.getRangeLabel(r.pageIndex,r.pageSize,r.length)," "),B(),Yt(6,r.showFirstLastButtons?6:-1),B(),ae("matTooltip",r._intl.previousPageLabel)("matTooltipDisabled",r._previousButtonsDisabled())("matTooltipPosition","above")("disabled",r._previousButtonsDisabled()),wt("aria-label",r._intl.previousPageLabel),B(3),ae("matTooltip",r._intl.nextPageLabel)("matTooltipDisabled",r._nextButtonsDisabled())("matTooltipPosition","above")("disabled",r._nextButtonsDisabled()),wt("aria-label",r._intl.nextPageLabel),B(3),Yt(13,r.showFirstLastButtons?13:-1))},dependencies:[Od,zX,xx,Pd,Xp],styles:[".mat-mdc-paginator{display:block;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;color:var(--mat-paginator-container-text-color);background-color:var(--mat-paginator-container-background-color);font-family:var(--mat-paginator-container-text-font);line-height:var(--mat-paginator-container-text-line-height);font-size:var(--mat-paginator-container-text-size);font-weight:var(--mat-paginator-container-text-weight);letter-spacing:var(--mat-paginator-container-text-tracking);--mat-form-field-container-height:var(--mat-paginator-form-field-container-height);--mat-form-field-container-vertical-padding:var(--mat-paginator-form-field-container-vertical-padding)}.mat-mdc-paginator .mat-mdc-select-value{font-size:var(--mat-paginator-select-trigger-text-size)}.mat-mdc-paginator .mat-mdc-form-field-subscript-wrapper{display:none}.mat-mdc-paginator .mat-mdc-select{line-height:1.5}.mat-mdc-paginator-outer-container{display:flex}.mat-mdc-paginator-container{display:flex;align-items:center;justify-content:flex-end;padding:0 8px;flex-wrap:wrap;width:100%;min-height:var(--mat-paginator-container-size)}.mat-mdc-paginator-page-size{display:flex;align-items:baseline;margin-right:8px}[dir=rtl] .mat-mdc-paginator-page-size{margin-right:0;margin-left:8px}.mat-mdc-paginator-page-size-label{margin:0 4px}.mat-mdc-paginator-page-size-select{margin:0 4px;width:84px}.mat-mdc-paginator-range-label{margin:0 32px 0 24px}.mat-mdc-paginator-range-actions{display:flex;align-items:center}.mat-mdc-paginator-icon{display:inline-block;width:28px;fill:var(--mat-paginator-enabled-icon-color)}.mat-mdc-icon-button[disabled] .mat-mdc-paginator-icon{fill:var(--mat-paginator-disabled-icon-color)}[dir=rtl] .mat-mdc-paginator-icon{transform:rotate(180deg)}.cdk-high-contrast-active .mat-mdc-icon-button[disabled] .mat-mdc-paginator-icon,.cdk-high-contrast-active .mat-mdc-paginator-icon{fill:currentColor;fill:CanvasText}.cdk-high-contrast-active .mat-mdc-paginator-range-actions .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0})}}return i})(),qX=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275mod=$e({type:i})}static{this.\u0275inj=je({providers:[Mye],imports:[Rd,DM,kM,jF]})}}return i})();var Iye=["imageInput"],Dye=["cameraVideo"],kye=["captureCanvas"],Aye=["barcodeScanner"];function Pye(i,t){if(i&1&&(y(0,"div",38),P(1),x()),i&2){let e=t.$implicit,n=Q(2);ae("ngClass",n.getLogClass(e)),B(),Vt(" ",e," ")}}function Rye(i,t){i&1&&(y(0,"div",39),P(1," No logs yet... "),x())}function Nye(i,t){if(i&1){let e=ft();y(0,"div",30)(1,"div",31)(2,"h4"),P(3,"Debug Console"),x(),y(4,"div",32)(5,"button",33),fe("click",function(){ce(e);let r=Q();return le(r.clearConsole())}),y(6,"mat-icon"),P(7,"clear_all"),x()(),y(8,"button",34),fe("click",function(){ce(e);let r=Q();return le(r.toggleConsole())}),y(9,"mat-icon"),P(10,"close"),x()()()(),y(11,"div",35),Ee(12,Pye,2,2,"div",36)(13,Rye,2,0,"div",37),x()()}if(i&2){let e=Q();B(12),ae("ngForOf",e.consoleLogs),B(),ae("ngIf",e.consoleLogs.length===0)}}function Oye(i,t){if(i&1&&(y(0,"div",40),P(1),x()),i&2){let e=Q();B(),Vt(" ",e.catalogImportSummary," ")}}function Fye(i,t){if(i&1&&(y(0,"div",41),P(1),x()),i&2){let e=Q();B(),Vt(" ",e.catalogImportError," ")}}function Lye(i,t){if(i&1){let e=ft();y(0,"div",58)(1,"video",59,2),fe("loadedmetadata",function(){ce(e);let r=Q(3);return le(r.onVideoLoaded())}),x(),y(3,"p",60),P(4,'Position camera over pharmacy shelf and tap "Capture Photo"'),x()()}}function Bye(i,t){if(i&1){let e=ft();y(0,"div",52)(1,"div",53)(2,"button",54),fe("click",function(){ce(e);let r=Q(2);return le(r.startCamera())}),y(3,"mat-icon"),P(4,"videocam"),x(),P(5," Start Camera "),x(),y(6,"button",55),fe("click",function(){ce(e);let r=Q(2);return le(r.stopCamera())}),y(7,"mat-icon"),P(8,"videocam_off"),x(),P(9," Stop Camera "),x(),y(10,"button",56),fe("click",function(){ce(e);let r=Q(2);return le(r.capturePhoto())}),y(11,"mat-icon"),P(12,"camera"),x(),P(13," Capture Photo "),x()(),Ee(14,Lye,5,0,"div",57),x()}if(i&2){let e=Q(2);B(2),ae("disabled",e.cameraActive),B(4),ae("disabled",!e.cameraActive),B(4),ae("disabled",!e.cameraActive),B(4),ae("ngIf",e.cameraActive)}}function Vye(i,t){if(i&1&&(y(0,"div",61)(1,"h3"),P(2,"Captured Image"),x(),Ue(3,"img",62),x()),i&2){let e=Q(2);B(3),ae("src",e.uploadedImageUrl,H4)}}function Uye(i,t){i&1&&(y(0,"div",63),Ue(1,"mat-spinner",64),y(2,"p"),P(3,"Extracting text from image (OCR)..."),x(),y(4,"small"),P(5,"This may take a moment..."),x()())}function zye(i,t){if(i&1&&(y(0,"div",65)(1,"h4"),P(2,"\u{1F4DD} Text Extracted from Image:"),x(),y(3,"div",66)(4,"p"),P(5),Lc(6,"slice"),x()(),y(7,"p",67),P(8,"\u2705 Medicine details have been auto-detected. Check the form above and adjust if needed."),x()()),i&2){let e=Q(2);B(5),Js("",XU(6,2,e.ocrExtractedText,0,300),"",e.ocrExtractedText.length>300?"...":"","")}}function Hye(i,t){if(i&1){let e=ft();y(0,"div",77)(1,"mat-checkbox",78),zi("ngModelChange",function(r){let o=ce(e).index,s=Q(3);return ji(s.selectedMedicines[o],r)||(s.selectedMedicines[o]=r),le(r)}),x(),y(2,"div",79)(3,"div",80)(4,"strong"),P(5),x(),y(6,"span",81),P(7),x()(),y(8,"div",82)(9,"button",83),fe("click",function(){let r=ce(e).index,o=Q(3);return le(o.editMedicineName(r))}),y(10,"mat-icon"),P(11,"edit"),x()(),y(12,"button",84),fe("click",function(){let r=ce(e).index,o=Q(3);return le(o.selectFromCatalog(r))}),y(13,"mat-icon"),P(14,"library_books"),x()()(),y(15,"span",85),P(16),x()()()}if(i&2){let e=t.$implicit,n=t.index,r=Q(3);B(),Ui("ngModel",r.selectedMedicines[n]),B(4),Xt(e.matchedMedicine||e.class),B(2),Vt("(",e.class,")"),B(9),Vt("Confidence: ",(e.score*100).toFixed(1),"%")}}function jye(i,t){i&1&&Ue(0,"div",86)}function $ye(i,t){if(i&1){let e=ft();y(0,"div",87)(1,"h4"),P(2),x(),y(3,"div",88)(4,"mat-form-field",89)(5,"mat-label"),P(6,"Medicine Name"),x(),y(7,"input",90),zi("ngModelChange",function(r){ce(e);let o=Q(3);return ji(o.editingMedicineName,r)||(o.editingMedicineName=r),le(r)}),x()(),y(8,"div",91)(9,"button",18),fe("click",function(){ce(e);let r=Q(3);return le(r.confirmEditMedicine())}),y(10,"mat-icon"),P(11,"check"),x(),P(12," Confirm "),x(),y(13,"button",76),fe("click",function(){ce(e);let r=Q(3);return le(r.cancelEditMedicine())}),y(14,"mat-icon"),P(15,"close"),x(),P(16," Cancel "),x()()()()}if(i&2){let e=Q(3);B(2),Vt("Identify Medicine #",e.editingIndex+1,""),B(5),Ui("ngModel",e.editingMedicineName)}}function Gye(i,t){if(i&1){let e=ft();y(0,"button",96),fe("click",function(){let r=ce(e).$implicit,o=Q(4);return le(o.selectMedicineFromCatalog(o.selectingIndex,r.name))}),P(1),x()}if(i&2){let e=t.$implicit;B(),Vt(" ",e.name," ")}}function Wye(i,t){if(i&1){let e=ft();y(0,"div",92)(1,"h4"),P(2),x(),y(3,"div",93),Ee(4,Gye,2,1,"button",94),x(),y(5,"div",95)(6,"button",76),fe("click",function(){ce(e);let r=Q(3);return le(r.cancelSelectMedicine())}),y(7,"mat-icon"),P(8,"close"),x(),P(9," Close "),x()()()}if(i&2){let e=Q(3);B(2),Js("Select from Catalog for #",e.selectingIndex+1," (",e.detectedMedicines.objects[e.selectingIndex].class,")"),B(2),ae("ngForOf",e.catalogMedicines)}}function qye(i,t){if(i&1){let e=ft();y(0,"div",68)(1,"h3"),P(2),x(),y(3,"div",69)(4,"strong"),P(5,"\u{1F4CB} Identify your medicines:"),x(),y(6,"ul")(7,"li"),P(8,"Click the "),y(9,"strong"),P(10,"\u270F\uFE0F pencil"),x(),P(11," icon to manually type the medicine name"),x(),y(12,"li"),P(13,"Click the "),y(14,"strong"),P(15,"\u{1F4DA} books"),x(),P(16," icon to select from the existing catalog"),x(),y(17,"li"),P(18,"Check the boxes for medicines you want to add"),x(),y(19,"li"),P(20,'Click "Add Selected Medicines" to save them'),x()()(),y(21,"div",70),Ee(22,Hye,17,4,"div",71)(23,jye,1,0,"div",72)(24,$ye,17,2,"div",73)(25,Wye,10,3,"div",74),x(),y(26,"div",75)(27,"button",56),fe("click",function(){ce(e);let r=Q(2);return le(r.addDetectedMedicines())}),y(28,"mat-icon"),P(29,"add_box"),x(),P(30," Add Selected Medicines "),x(),y(31,"button",76),fe("click",function(){ce(e);let r=Q(2);return le(r.resetImageUpload())}),y(32,"mat-icon"),P(33,"clear"),x(),P(34," Clear "),x()()()}if(i&2){let e=Q(2);B(2),Vt("Detected Objects (",e.detectedMedicines.objects.length,")"),B(20),ae("ngForOf",e.detectedMedicines.objects),B(),ae("ngIf",e.editingIndex!==null||e.selectingIndex!==null),B(),ae("ngIf",e.editingIndex!==null),B(),ae("ngIf",e.selectingIndex!==null),B(2),ae("disabled",!e.hasSelectedMedicines())}}function Xye(i,t){if(i&1){let e=ft();y(0,"div",42)(1,"div",43)(2,"input",44,1),fe("change",function(r){ce(e);let o=Q();return le(o.onImageSelected(r))}),x(),y(4,"div",45)(5,"button",18),fe("click",function(){ce(e);let r=Co(3);return le(r.click())}),y(6,"mat-icon"),P(7,"upload_file"),x(),P(8," Upload Image File "),x(),y(9,"button",18),fe("click",function(){ce(e);let r=Q();return le(r.toggleCameraView())}),y(10,"mat-icon"),P(11,"camera_alt"),x(),P(12),x(),y(13,"button",46),fe("click",function(){ce(e);let r=Q();return le(r.toggleImageUpload())}),y(14,"mat-icon"),P(15,"close"),x(),P(16," Cancel "),x()(),Ee(17,Bye,15,4,"div",47)(18,Vye,4,1,"div",48)(19,Uye,6,0,"div",49)(20,zye,9,6,"div",50)(21,qye,35,6,"div",51),x()()}if(i&2){let e=Q();B(12),Vt(" ",e.showCamera?"Hide Camera":"Take from Camera"," "),B(5),ae("ngIf",e.showCamera),B(),ae("ngIf",e.uploadedImageUrl),B(),ae("ngIf",e.isOcrProcessing),B(),ae("ngIf",e.ocrExtractedText&&!e.isOcrProcessing),B(),ae("ngIf",e.detectedMedicines&&!e.isDetecting)}}function Yye(i,t){if(i&1&&(y(0,"div",41),P(1),x()),i&2){let e=Q(2);B(),Vt(" ",e.barcodeScannerError," ")}}function Zye(i,t){i&1&&(y(0,"div",40),P(1," \u2705 Camera ready (optional - primary method is manual input below) "),x())}function Kye(i,t){i&1&&(y(0,"div",109),Ue(1,"mat-spinner",110),y(2,"p"),P(3,"Initializing camera..."),x()())}function Qye(i,t){i&1&&(y(0,"div",109),Ue(1,"mat-spinner",110),y(2,"p"),P(3,"Looking up barcode in openFDA..."),x()())}function Jye(i,t){i&1&&(y(0,"div",115),Ue(1,"mat-spinner",64),y(2,"p"),P(3,"Initializing camera..."),x()())}function exe(i,t){if(i&1&&(y(0,"div",111),Ue(1,"video",112,3),y(3,"p",113),P(4,"\u{1F4F7} Camera Active (Optional)"),x(),Ee(5,Jye,4,0,"div",114),x()),i&2){let e=Q(2);B(5),ae("ngIf",e.isBarcodeScanning&&!e.scannedMedicine)}}function txe(i,t){if(i&1){let e=ft();y(0,"div",116)(1,"h4"),P(2,"\u2705 Medicine Found"),x(),y(3,"div",117)(4,"p")(5,"strong"),P(6,"Name:"),x(),P(7),x(),y(8,"p")(9,"strong"),P(10,"Barcode:"),x(),P(11),x(),y(12,"p")(13,"strong"),P(14,"Strength:"),x(),P(15),x(),y(16,"p")(17,"strong"),P(18,"Manufacturer:"),x(),P(19),x()(),y(20,"div",118)(21,"button",18),fe("click",function(){ce(e);let r=Q(2);return le(r.addScannedMedicine())}),y(22,"mat-icon"),P(23,"add_box"),x(),P(24," Add to Catalog "),x(),y(25,"button",76),fe("click",function(){ce(e);let r=Q(2);return le(r.cancelBarcodeScanning())}),y(26,"mat-icon"),P(27,"close"),x(),P(28," Cancel "),x()()()}if(i&2){let e=Q(2);B(7),Vt(" ",e.scannedMedicine.name,""),B(4),Vt(" ",e.scannedBarcode,""),B(4),Vt(" ",e.scannedMedicine.strength,""),B(4),Vt(" ",e.scannedMedicine.manufacturer,"")}}function ixe(i,t){if(i&1){let e=ft();y(0,"div",97)(1,"h3"),P(2,"\u{1F4F1} Barcode Scanner - Add Medicine to Catalog"),x(),y(3,"div",98)(4,"h4"),P(5,"How to use:"),x(),y(6,"ol")(7,"li")(8,"strong"),P(9,"Find the barcode"),x(),P(10," on your medicine package (usually a long number with lines)"),x(),y(11,"li")(12,"strong"),P(13,"Enter the barcode number"),x(),P(14," in the field below (e.g., 5012254500012)"),x(),y(15,"li")(16,"strong"),P(17,"Click Search"),x(),P(18," to look up the medicine"),x(),y(19,"li")(20,"strong"),P(21,"Review the medicine details"),x(),P(22,' and click "Add to Catalog"'),x()()(),Ee(23,Yye,2,1,"div",21)(24,Zye,2,0,"div",20)(25,Kye,4,0,"div",99)(26,Qye,4,0,"div",99)(27,exe,6,1,"div",100),y(28,"div",101)(29,"h4"),P(30,"\u{1F50D} Search for Medicine by Barcode"),x(),y(31,"p",102)(32,"strong"),P(33,"Primary Method:"),x(),P(34," Type or paste the barcode number from the medicine packaging"),x(),y(35,"div",103)(36,"mat-form-field",104)(37,"mat-label"),P(38,"Barcode Number"),x(),y(39,"input",105),zi("ngModelChange",function(r){ce(e);let o=Q();return ji(o.manualBarcodeInput,r)||(o.manualBarcodeInput=r),le(r)}),fe("keyup.enter",function(){ce(e);let r=Q();return le(r.scanManualBarcode())}),x()(),y(40,"button",54),fe("click",function(){ce(e);let r=Q();return le(r.scanManualBarcode())}),y(41,"mat-icon"),P(42,"search"),x(),P(43," Search "),x()(),y(44,"div",106)(45,"p")(46,"strong"),P(47,"\u{1F4CC} Example barcodes to try:"),x()(),y(48,"ul")(49,"li")(50,"code"),P(51,"5012254500012"),x(),P(52," \u2192 Aspirin"),x(),y(53,"li")(54,"code"),P(55,"5014496014175"),x(),P(56," \u2192 Ibuprofen"),x(),y(57,"li")(58,"code"),P(59,"5000017000049"),x(),P(60," \u2192 Paracetamol"),x()()()(),Ee(61,txe,29,4,"div",107),y(62,"div",108)(63,"button",76),fe("click",function(){ce(e);let r=Q();return le(r.stopBarcodeScanner())}),y(64,"mat-icon"),P(65,"close"),x(),P(66," Close Scanner "),x()()()}if(i&2){let e=Q();B(23),ae("ngIf",e.barcodeScannerError),B(),ae("ngIf",e.cameraInitialized&&!e.barcodeScannerError&&!e.isBarcodeScanning),B(),ae("ngIf",e.isBarcodeScanning),B(),ae("ngIf",e.isBarcodeLookup),B(),ae("ngIf",e.cameraInitialized||e.isBarcodeScanning),B(12),Ui("ngModel",e.manualBarcodeInput),ae("disabled",e.isBarcodeScanning||e.isBarcodeLookup),B(),ae("disabled",!e.manualBarcodeInput.trim()||e.isBarcodeScanning||e.isBarcodeLookup),B(21),ae("ngIf",e.scannedMedicine)}}function nxe(i,t){if(i&1){let e=ft();y(0,"div",119)(1,"mat-form-field",104)(2,"mat-label"),P(3,"Search products"),x(),y(4,"input",120),zi("ngModelChange",function(r){ce(e);let o=Q();return ji(o.searchTerm,r)||(o.searchTerm=r),le(r)}),fe("ngModelChange",function(){ce(e);let r=Q();return le(r.onSearchChange())}),x()()()}if(i&2){let e=Q();B(4),Ui("ngModel",e.searchTerm)}}function rxe(i,t){if(i&1){let e=ft();y(0,"tr")(1,"td"),P(2),x(),y(3,"td"),P(4),x(),y(5,"td"),P(6),x(),y(7,"td"),P(8),x(),y(9,"td"),P(10),x(),y(11,"td"),P(12),x(),y(13,"td")(14,"button",123),fe("click",function(){let r=ce(e).$implicit,o=Q(2);return le(o.onEditProduct(r))}),P(15,"Edit"),x(),y(16,"button",124),fe("click",function(){let r=ce(e).$implicit,o=Q(2);return le(o.onDeleteProduct(r.id))}),P(17,"Delete"),x()()()}if(i&2){let e=t.$implicit;B(2),Xt(e.id),B(2),Xt(e.name),B(2),Xt(e.category),B(2),Vt("$",e.price,""),B(2),Xt(e.quantity),B(2),Xt(e.expiryDate)}}function oxe(i,t){if(i&1&&(y(0,"table",121)(1,"thead")(2,"tr")(3,"th"),P(4,"ID"),x(),y(5,"th"),P(6,"Product Name"),x(),y(7,"th"),P(8,"Category"),x(),y(9,"th"),P(10,"Price"),x(),y(11,"th"),P(12,"Quantity"),x(),y(13,"th"),P(14,"Expiry Date"),x(),y(15,"th"),P(16,"Actions"),x()()(),y(17,"tbody"),Ee(18,rxe,18,6,"tr",122),x()()),i&2){let e=Q();B(18),ae("ngForOf",e.pagedProducts)}}function sxe(i,t){if(i&1){let e=ft();y(0,"mat-paginator",125),fe("page",function(r){ce(e);let o=Q();return le(o.onPageChange(r))}),x()}if(i&2){let e=Q();ae("length",e.filteredProducts.length)("pageIndex",e.pageIndex)("pageSize",e.pageSize)("pageSizeOptions",e.pageSizeOptions)}}function axe(i,t){i&1&&(y(0,"div",126)(1,"p"),P(2,"No products found."),x()())}function cxe(i,t){if(i&1){let e=ft();y(0,"div",127)(1,"div",128)(2,"h3"),P(3,"\u2795 Add New Medicine to Catalog"),x(),y(4,"div",129)(5,"mat-form-field",130)(6,"mat-label"),P(7,"Medicine Name *"),x(),y(8,"input",131),zi("ngModelChange",function(r){ce(e);let o=Q();return ji(o.newMedicine.name,r)||(o.newMedicine.name=r),le(r)}),x()()(),y(9,"div",129)(10,"mat-form-field",130)(11,"mat-label"),P(12,"Generic Name"),x(),y(13,"input",132),zi("ngModelChange",function(r){ce(e);let o=Q();return ji(o.newMedicine.genericName,r)||(o.newMedicine.genericName=r),le(r)}),x()()(),y(14,"div",133)(15,"mat-form-field",134)(16,"mat-label"),P(17,"Strength"),x(),y(18,"input",135),zi("ngModelChange",function(r){ce(e);let o=Q();return ji(o.newMedicine.strength,r)||(o.newMedicine.strength=r),le(r)}),x()(),y(19,"mat-form-field",134)(20,"mat-label"),P(21,"Manufacturer"),x(),y(22,"input",136),zi("ngModelChange",function(r){ce(e);let o=Q();return ji(o.newMedicine.manufacturer,r)||(o.newMedicine.manufacturer=r),le(r)}),x()()(),y(23,"div",133)(24,"mat-form-field",134)(25,"mat-label"),P(26,"Category"),x(),y(27,"input",137),zi("ngModelChange",function(r){ce(e);let o=Q();return ji(o.newMedicine.category,r)||(o.newMedicine.category=r),le(r)}),x()(),y(28,"mat-form-field",134)(29,"mat-label"),P(30,"Initial Quantity"),x(),y(31,"input",138),zi("ngModelChange",function(r){ce(e);let o=Q();return ji(o.newMedicine.quantity,r)||(o.newMedicine.quantity=r),le(r)}),x()()(),y(32,"div",139)(33,"button",18),fe("click",function(){ce(e);let r=Q();return le(r.saveManualMedicine())}),y(34,"mat-icon"),P(35,"save"),x(),P(36," Add to Catalog "),x(),y(37,"button",76),fe("click",function(){ce(e);let r=Q();return le(r.cancelManualMedicine())}),y(38,"mat-icon"),P(39,"close"),x(),P(40," Cancel "),x()()()()}if(i&2){let e=Q();B(8),Ui("ngModel",e.newMedicine.name),B(5),Ui("ngModel",e.newMedicine.genericName),B(5),Ui("ngModel",e.newMedicine.strength),B(4),Ui("ngModel",e.newMedicine.manufacturer),B(5),Ui("ngModel",e.newMedicine.category),B(4),Ui("ngModel",e.newMedicine.quantity)}}var PM=(()=>{class i{constructor(e,n,r,o,s,a,c,l){this.imageDetectionService=e,this.advancedDetectionService=n,this.barcodeScannerService=r,this.ocrService=o,this.llmExtractionService=s,this.medicineService=a,this.ngZone=c,this.cdr=l,this.products=[],this.pageIndex=0,this.pageSize=10,this.pageSizeOptions=[5,10,25,50],this.searchTerm="",this.showImageUpload=!1,this.uploadedImageUrl=null,this.detectedMedicines=null,this.selectedMedicines={},this.isDetecting=!1,this.isOcrProcessing=!1,this.ocrExtractedText="",this.ocrExtractedMedicines=[],this.cameraActive=!1,this.cameraStream=null,this.showCamera=!1,this.consoleLogs=[],this.showConsole=!1,this.maxLogs=50,this.modelStatus="Loading...",this.modelReady=!1,this.ocrAvailable=!1,this.editingIndex=null,this.editingMedicineName="",this.selectingIndex=null,this.catalogMedicines=[],this.showBarcodeScanner=!1,this.isBarcodeScanning=!1,this.isBarcodeLookup=!1,this.scannedBarcode=null,this.scannedMedicine=null,this.manualBarcodeInput="",this.barcodeStream=null,this.barcodeScannerError=null,this.cameraPermissionDenied=!1,this.cameraInitialized=!1,this.catalogImportError=null,this.catalogImportSummary=null,this.showManualMedicineForm=!1,this.newMedicine={name:"",genericName:"",strength:"",manufacturer:"",category:"Medicine",quantity:50},this.setupConsoleLogging()}ngOnInit(){this.loadProducts(),this.checkModelStatus(),this.loadCatalogMedicines(),this.checkOcrAvailability()}checkOcrAvailability(){setTimeout(()=>{try{typeof window.Tesseract<"u"?(this.ocrAvailable=!0,console.log("\xE2\u0153\u2026 OCR (Tesseract.js) is available")):(this.ocrAvailable=!1,console.warn("\xE2\u0161\xA0\xEF\xB8\x8F OCR (Tesseract.js) not available"))}catch(e){this.ocrAvailable=!1,console.error("\xE2\x9D\u0152 Error checking OCR availability:",e)}},2e3)}ngOnDestroy(){this.cameraStream&&this.cameraStream.getTracks().forEach(e=>e.stop())}setupConsoleLogging(){let e=console.log,n=console.error,r=console.warn,o=(s,a)=>{let c=a.map(l=>{if(typeof l=="object")try{return JSON.stringify(l)}catch{return String(l)}return String(l)}).join(" ");this.consoleLogs.push(`[${s}] ${c}`),this.consoleLogs.length>this.maxLogs&&this.consoleLogs.shift()};console.log=(...s)=>{e(...s),o("LOG",s)},console.error=(...s)=>{n(...s),o("ERROR",s)},console.warn=(...s)=>{r(...s),o("WARN",s)}}toggleConsole(){this.showConsole=!this.showConsole}clearConsole(){this.consoleLogs=[]}getLogClass(e){return e.startsWith("[ERROR]")?"log-error":e.startsWith("[WARN]")?"log-warn":"log-info"}checkModelStatus(){let e=setInterval(()=>{let n=this.consoleLogs.join(`
`);n.includes("\xE2\u0153\u201C COCO-SSD model loaded successfully")?(this.modelStatus="\xE2\u0153\u201C AI Detection Ready",this.modelReady=!0,clearInterval(e)):n.includes("using fallback detection")?(this.modelStatus="\xE2\u0161\xA0 Fallback Mode (Image Analysis)",this.modelReady=!0,clearInterval(e)):n.includes("Failed to load COCO-SSD model")&&(this.modelStatus="\xE2\u0161\xA0 Using Fallback Detection",this.modelReady=!0,clearInterval(e))},500);setTimeout(()=>clearInterval(e),3e4)}hasSelectedMedicines(){return Object.values(this.selectedMedicines).some(e=>e)}loadProducts(){this.products=[{id:1,name:"Aspirin 500mg",category:"Pain Relief",price:5.99,quantity:100,expiryDate:"2025-12-31"},{id:2,name:"Cough Syrup",category:"Cough & Cold",price:8.99,quantity:50,expiryDate:"2025-11-30"},{id:3,name:"Vitamin C Tablets",category:"Vitamins",price:12.99,quantity:200,expiryDate:"2026-06-30"}]}get filteredProducts(){let e=this.searchTerm.trim().toLowerCase();return e?this.products.filter(n=>n.name.toLowerCase().includes(e)||n.category.toLowerCase().includes(e)):this.products}get pagedProducts(){let e=this.pageIndex*this.pageSize;return this.filteredProducts.slice(e,e+this.pageSize)}onPageChange(e){this.pageIndex=e.pageIndex,this.pageSize=e.pageSize}onSearchChange(){this.pageIndex=0}onAddProduct(){this.toggleImageUpload()}toggleImageUpload(){this.showImageUpload=!this.showImageUpload,this.showImageUpload||this.resetImageUpload()}onImageSelected(e){let r=e.target.files?.[0];if(!r)return;let o=new FileReader;o.onload=s=>{this.uploadedImageUrl=s.target?.result,this.detectMedicinesFromImage(),this.extractTextFromImage()},o.readAsDataURL(r)}extractTextFromImage(){return te(this,null,function*(){if(this.uploadedImageUrl){this.isOcrProcessing=!0,this.ocrExtractedText="",this.ocrExtractedMedicines=[],this.cdr.detectChanges(),console.log("\xF0\u0178\u201D\xA4 Starting OCR extraction from uploaded image...");try{let e=yield this.ocrService.extractMedicineDetails(this.uploadedImageUrl);if(console.log("OCR Result:",e),e.success&&e.rawText){this.ocrExtractedText=e.rawText,console.log("\xE2\u0153\u2026 Text extracted successfully:",this.ocrExtractedText.substring(0,100));try{let n=yield this.llmExtractionService.extractMedicineDetails(e.rawText);n&&(e.medicineDetails=ye(ye({},e.medicineDetails),n))}catch(n){console.warn("LLM extraction failed:",n)}if(!e.medicineDetails?.name){let n=this.resolveMedicineFromText(e.rawText);n&&(e.medicineDetails=mi(ye({},e.medicineDetails),{name:n}))}e.medicineDetails&&e.medicineDetails.name?(this.ocrExtractedMedicines=[e.medicineDetails],console.log("\xF0\u0178\u201C\u2039 Extracted medicine details:",e.medicineDetails),this.newMedicine={name:e.medicineDetails.name||"",genericName:e.medicineDetails.genericName||"",strength:e.medicineDetails.strength||"",manufacturer:e.medicineDetails.manufacturer||"",category:"Medicine",quantity:50},confirm(`Found medicine details:

Name: ${e.medicineDetails.name}
Strength: ${e.medicineDetails.strength||"Not detected"}

Click OK to add this medicine, or Cancel to edit manually.`)&&(this.showManualMedicineForm=!0)):console.log("\xE2\u0161\xA0\xEF\xB8\x8F No medicine details extracted, showing raw text only")}else console.warn("\xE2\u0161\xA0\xEF\xB8\x8F OCR extraction unsuccessful:",e.error)}catch(e){console.error("\xE2\x9D\u0152 Error during OCR extraction:",e)}finally{this.isOcrProcessing=!1,this.cdr.detectChanges()}}})}detectMedicinesFromImage(){return te(this,null,function*(){if(this.uploadedImageUrl){this.isDetecting=!0;try{let e=new Image;e.crossOrigin="anonymous";let n=this.uploadedImageUrl,o=yield new Promise((a,c)=>{let l=setTimeout(()=>{c(new Error("Image loading timeout"))},5e3);e.onload=()=>{clearTimeout(l),a(e)},e.onerror=()=>{clearTimeout(l),c(new Error("Failed to load image"))},e.src=n});console.log("Image loaded, starting advanced detection...");let s=yield this.advancedDetectionService.detectMedicines(o);if(s&&s.objects&&s.objects.length>0?(console.log("Advanced detection found objects:",s.objects),console.log("Extracted medicines:",s.medicines),this.detectedMedicines={imageUrl:n,objects:s.objects,timestamp:new Date,imageWidth:o.width,imageHeight:o.height}):(console.log("Advanced detection found nothing, using fallback..."),this.detectedMedicines=yield this.imageDetectionService.detectMedicines(o)),console.log("Detection complete:",this.detectedMedicines),this.detectedMedicines&&this.detectedMedicines.objects.length===0){let a=yield this.buildDetectionFromOcr(n,o);a&&(console.log("OCR fallback detected medicine:",a),this.detectedMedicines=a)}if(!this.detectedMedicines||!this.detectedMedicines.objects||this.detectedMedicines.objects.length===0){console.warn("No medicines detected in the image. Please try another image."),this.isDetecting=!1,alert(`\xE2\x9D\u0152 No pharmacy items detected in this image.

Please try a different image that contains:
\xE2\u20AC\xA2 Medicine bottles
\xE2\u20AC\xA2 Medication boxes
\xE2\u20AC\xA2 Pill containers
\xE2\u20AC\xA2 Medicine labels/text`);return}this.detectedMedicines.objects.forEach((a,c)=>{this.selectedMedicines[c]=!0}),console.log("Found",this.detectedMedicines.objects.length,"medicines"),this.isDetecting=!1}catch(e){console.error("Error detecting medicines:",e),alert(`Error detecting medicines: ${e instanceof Error?e.message:"Unknown error"}`),this.isDetecting=!1}}})}buildDetectionFromOcr(e,n){return te(this,null,function*(){try{console.log("Attempting OCR fallback detection...");let r=yield this.ocrService.extractMedicineDetails(e),o=this.resolveMedicineFromText(r?.rawText||"")||r?.medicineDetails?.name?.trim();return!r?.success||!o?(console.warn("OCR fallback did not find a medicine name"),null):{imageUrl:e,objects:[{class:"text",score:.6,bbox:[0,0,n.width||640,n.height||480],x:0,y:0,matchedMedicine:o,confidence:.6}],timestamp:new Date,imageWidth:n.width||640,imageHeight:n.height||480}}catch(r){return console.error("OCR fallback error:",r),null}})}resolveMedicineFromText(e){if(!e)return null;let n=e.toLowerCase(),r=this.medicineService.getMedicines(),o=null,s=0;return r.forEach(a=>{let c=a.name.toLowerCase(),l=a.genericName?.toLowerCase()||"";c&&n.includes(c)&&c.length>s?(o=a.name,s=c.length):l&&n.includes(l)&&l.length>s&&(o=a.name,s=l.length)}),o}addDetectedMedicines(){if(!this.detectedMedicines){alert("\xE2\x9D\u0152 No medicines detected");return}console.log("=== Adding Detected Medicines ==="),console.log("Detected objects:",this.detectedMedicines.objects.length),console.log("Selected indices:",Object.keys(this.selectedMedicines).filter(o=>this.selectedMedicines[o]));let e=this.medicineService.getMedicines(),n=0,r=[];this.detectedMedicines.objects.forEach((o,s)=>{console.log(`Object ${s}:`,{matchedMedicine:o.matchedMedicine,class:o.class,selected:this.selectedMedicines[s]}),this.selectedMedicines[s]&&o.matchedMedicine&&r.push(o.matchedMedicine)}),console.log("Medicines to add:",r),r.forEach(o=>{if(this.products.some(l=>l.name.toLowerCase()===o.toLowerCase())){console.log("Already in products table:",o);return}let a=e.find(l=>l.name.toLowerCase()===o.toLowerCase());a?console.log("\xE2\u201E\xB9\xEF\xB8\x8F Medicine exists in catalog:",o):(a={id:(e.length+1).toString(),name:o,barcode:this.generateBarcode(),genericName:o,manufacturer:"Unknown",strength:"As per standard",category:"Medications",quantity:50},this.medicineService.addMedicine(a),console.log("\xE2\u0153\u2026 Added new medicine to catalog:",o));let c=this.medicineToProduct(a);this.products.push(c),n++,console.log("\xE2\u0153\u2026 Added to products table:",o)}),this.resetImageUpload(),this.pageIndex*this.pageSize>=this.products.length&&(this.pageIndex=0),console.log("=== Summary ==="),console.log("Total products added:",n),n>0?alert(`\xE2\u0153\u2026 Successfully added ${n} medicine(s)!

Now showing ${this.products.length} total products.`):alert("\xE2\u201E\xB9\xEF\xB8\x8F All selected medicines were already in your products list.")}medicineToProduct(e){return{id:parseInt(e.id),name:e.name,category:e.category||"Uncategorized",price:0,quantity:e.quantity||50,expiryDate:"2026-12-31"}}generateBarcode(){return"890"+Math.random().toString().slice(2,12)}categorizeByObjectType(e){return{bottle:"Syrups & Liquids",box:"Tablets & Capsules",pill:"Pain Relief",tablet:"Medications",cup:"Containers"}[e]||"Medications"}resetImageUpload(){this.uploadedImageUrl=null,this.detectedMedicines=null,this.selectedMedicines={},this.imageInput&&(this.imageInput.nativeElement.value="")}startCamera(){return te(this,null,function*(){try{this.cameraStream=yield navigator.mediaDevices.getUserMedia({video:{facingMode:"environment",width:{ideal:1280},height:{ideal:720}},audio:!1}),this.cameraActive=!0,setTimeout(()=>{this.cameraVideoRef&&(this.cameraVideoRef.nativeElement.srcObject=this.cameraStream,this.cameraVideoRef.nativeElement.play().catch(e=>{console.error("Error playing video:",e)}))},100)}catch(e){console.error("Error accessing camera:",e),alert(`Camera error: ${e.message||"Unable to access camera"}`)}})}stopCamera(){this.cameraStream&&(this.cameraStream.getTracks().forEach(e=>e.stop()),this.cameraStream=null),this.cameraActive=!1}capturePhoto(){if(!this.cameraVideoRef||!this.cameraActive)return;let e=this.cameraVideoRef.nativeElement,n=this.captureCanvasRef.nativeElement,r=n.getContext("2d");if(!r){console.error("Failed to get canvas context");return}console.log("Video dimensions:",e.videoWidth,"x",e.videoHeight),n.width=e.videoWidth||640,n.height=e.videoHeight||480,r.drawImage(e,0,0,n.width,n.height);let o=r.getImageData(0,0,1,1).data;console.log("Canvas pixel data (first pixel):",o),n.toBlob(s=>{if(s){console.log("Blob size:",s.size,"bytes");let a=new FileReader;a.onload=c=>{this.uploadedImageUrl=c.target?.result,console.log("Image URL created, starting detection..."),this.showCamera=!1,this.detectMedicinesFromImage(),this.extractTextFromImage()},a.readAsDataURL(s)}else console.error("Failed to create blob from canvas")},"image/jpeg",.9)}onVideoLoaded(){console.log("Video stream loaded")}toggleCameraView(){this.showCamera=!this.showCamera,this.showCamera||this.stopCamera()}onEditProduct(e){console.log("Edit product:",e)}onDeleteProduct(e){this.products=this.products.filter(n=>n.id!==e),this.pageIndex*this.pageSize>=this.products.length&&(this.pageIndex=Math.max(0,Math.floor((this.products.length-1)/this.pageSize)))}loadCatalogMedicines(){this.catalogMedicines=this.medicineService.getMedicines()}onCatalogFileSelected(e){let n=e.target,r=n.files?.[0];if(!r)return;this.catalogImportError=null,this.catalogImportSummary=null;let o=new FileReader;o.onload=()=>{let s=String(o.result||"");this.importCatalogJson(s),n.value=""},o.onerror=()=>{this.catalogImportError="Failed to read file."},o.readAsText(r)}importCatalogJson(e){try{let n=JSON.parse(e),r=Array.isArray(n)?n:n?.medicines;if(!Array.isArray(r)){this.catalogImportError="Invalid JSON format. Expected an array or { medicines: [] }.";return}let o=r.map(a=>({id:String(a.id||""),name:String(a.name||"").trim(),barcode:String(a.barcode||"").trim(),genericName:a.genericName?String(a.genericName).trim():"",manufacturer:a.manufacturer?String(a.manufacturer).trim():"",strength:a.strength?String(a.strength).trim():"",category:a.category?String(a.category).trim():"",quantity:typeof a.quantity=="number"?a.quantity:void 0})),s=this.medicineService.importMedicines(o);this.loadCatalogMedicines(),this.catalogImportSummary=`Imported ${s.total}. Added ${s.added}, updated ${s.updated}, skipped ${s.skipped}.`}catch(n){this.catalogImportError="Invalid JSON. Please check the file format.",console.warn("Catalog import failed:",n)}}loadCatalogToProducts(){let e=this.medicineService.getMedicines();if(!e.length){this.catalogImportError="Catalog is empty. Import a JSON file first.";return}let n=0,r=0,o=new Set(this.products.map(a=>a.name.toLowerCase())),s=this.products.reduce((a,c)=>Math.max(a,c.id),0)+1;e.forEach(a=>{let c=(a.name||"").trim();if(!c){r++;return}let l=c.toLowerCase();if(o.has(l)){r++;return}let d=Number(a.id),u=a.expiryDate?new Date(a.expiryDate):null;this.products.push({id:Number.isFinite(d)?d:s++,name:c,category:a.category||"Uncategorized",price:0,quantity:a.quantity??0,expiryDate:u?u.toISOString().slice(0,10):"N/A"}),o.add(l),n++}),this.catalogImportSummary=`Loaded catalog into products. Added ${n}, skipped ${r}.`,this.pageIndex*this.pageSize>=this.products.length&&(this.pageIndex=0)}editMedicineName(e){this.editingIndex=e,this.detectedMedicines&&(this.editingMedicineName=this.detectedMedicines.objects[e].matchedMedicine||this.detectedMedicines.objects[e].class)}confirmEditMedicine(){if(this.editingIndex!==null&&this.detectedMedicines&&this.editingMedicineName.trim()){let e=this.editingIndex;this.detectedMedicines.objects[e].matchedMedicine=this.editingMedicineName.trim(),console.log("Medicine updated:",this.detectedMedicines.objects[e]),this.editingIndex=null,this.editingMedicineName=""}}cancelEditMedicine(){this.editingIndex=null,this.editingMedicineName=""}selectFromCatalog(e){this.selectingIndex=e}selectMedicineFromCatalog(e,n){this.detectedMedicines&&(this.detectedMedicines.objects[e].matchedMedicine=n,this.selectingIndex=null,console.log(`Selected ${n} for object ${e}`))}cancelSelectMedicine(){this.selectingIndex=null}startBarcodeScanner(){return te(this,null,function*(){console.log("Opening barcode scanner..."),this.showBarcodeScanner=!0,this.isBarcodeScanning=!0,this.scannedBarcode=null,this.scannedMedicine=null,this.manualBarcodeInput="",this.barcodeScannerError=null,this.cameraPermissionDenied=!1,this.cameraInitialized=!1,this.cdr.detectChanges(),this.ngZone.runOutsideAngular(()=>{setTimeout(()=>{this.ngZone.run(()=>te(this,null,function*(){try{let e=this.barcodeScannerRef?.nativeElement;e?(console.log("Video element found, starting camera..."),this.barcodeScannerError=null,yield this.barcodeScannerService.startScanning(e),console.log("Camera started successfully"),this.isBarcodeScanning=!1,this.cameraInitialized=!0,this.cdr.detectChanges()):(console.warn("Video element not found"),this.isBarcodeScanning=!1,this.barcodeScannerError="\xE2\x9D\u0152 Camera element not found. Please try again.",this.cdr.detectChanges())}catch(e){console.error("Error starting camera:",e),this.isBarcodeScanning=!1;let n=e instanceof Error?e.message:"Unknown error";n.includes("NotAllowedError")||n.includes("permission")||n.includes("denied")?(this.cameraPermissionDenied=!0,this.barcodeScannerError="\xE2\x9D\u0152 Camera permission denied. Please allow camera access in browser settings."):n.includes("NotFoundError")||n.includes("device")?this.barcodeScannerError="\xE2\x9D\u0152 No camera device found. Please use manual barcode input below.":this.barcodeScannerError=`\xE2\x9D\u0152 Camera error: ${n}. Use manual input below.`,this.cdr.detectChanges()}}))},200)})})}scanManualBarcode(){return te(this,null,function*(){if(!this.manualBarcodeInput.trim()){this.barcodeScannerError="Please enter a barcode number";return}console.log("Manual barcode entered:",this.manualBarcodeInput),this.scannedBarcode=this.manualBarcodeInput,this.barcodeScannerError=null,this.isBarcodeLookup=!0,this.scannedMedicine=null,this.cdr.detectChanges();try{this.scannedMedicine=yield this.barcodeScannerService.lookupMedicine(this.scannedBarcode||"")}catch(e){console.error("Barcode lookup failed:",e),this.barcodeScannerError="Barcode lookup failed. Please try again or add manually."}finally{this.isBarcodeLookup=!1}this.scannedMedicine?.name?.includes("Medicine (Barcode:")?this.barcodeScannerError="Barcode not found in database. You can add it manually.":this.barcodeScannerError=null,console.log("Looked up medicine:",this.scannedMedicine),this.cdr.detectChanges()})}stopBarcodeScanner(){console.log("Stopping barcode scanner..."),this.barcodeScannerService.stopScanning(),this.barcodeStream&&(this.barcodeStream.getTracks().forEach(e=>e.stop()),this.barcodeStream=null),this.showBarcodeScanner=!1,this.isBarcodeScanning=!1,this.barcodeScannerError=null}addScannedMedicine(){if(!this.scannedMedicine){alert("No medicine scanned. Please scan a barcode first.");return}let e=this.medicineService.getMedicines();if(e.some(r=>r.name.toLowerCase()===this.scannedMedicine.name.toLowerCase()))alert(`\xE2\u0153\u2026 "${this.scannedMedicine.name}" already exists in catalog`);else{let r={id:(e.length+1).toString(),name:this.scannedMedicine.name,barcode:this.scannedBarcode||"",genericName:this.scannedMedicine.name,manufacturer:this.scannedMedicine.manufacturer||"Unknown",strength:this.scannedMedicine.strength||"Standard",category:"Medicine",quantity:50};this.medicineService.addMedicine(r),this.catalogMedicines.push(r);let o=this.medicineToProduct(r);this.products.push(o),this.pageIndex*this.pageSize>=this.products.length&&(this.pageIndex=0),console.log("Added new medicine:",r),alert(`\xE2\u0153\u2026 "${this.scannedMedicine.name}" added to catalog successfully!`)}this.barcodeScannerService.resetBarcode(),this.stopBarcodeScanner(),this.scannedMedicine=null,this.scannedBarcode=null,this.manualBarcodeInput=""}cancelBarcodeScanning(){this.stopBarcodeScanner(),this.scannedBarcode=null,this.scannedMedicine=null,this.manualBarcodeInput=""}openManualMedicineForm(){this.showManualMedicineForm=!0,this.newMedicine={name:"",genericName:"",strength:"",manufacturer:"",category:"Medicine",quantity:50}}saveManualMedicine(){if(!this.newMedicine.name.trim()){alert("\xE2\u0161\xA0\xEF\xB8\x8F Please enter medicine name");return}let e=this.medicineService.getMedicines();if(e.some(s=>s.name.toLowerCase()===this.newMedicine.name.toLowerCase())){alert(`\xE2\u0153\u2026 "${this.newMedicine.name}" already exists in catalog`),this.showManualMedicineForm=!1;return}let r={id:(e.length+1).toString(),name:this.newMedicine.name.trim(),barcode:"",genericName:this.newMedicine.genericName.trim()||this.newMedicine.name.trim(),manufacturer:this.newMedicine.manufacturer.trim()||"Unknown",strength:this.newMedicine.strength.trim()||"Standard",category:this.newMedicine.category,quantity:this.newMedicine.quantity};this.medicineService.addMedicine(r),this.catalogMedicines.push(r);let o=this.medicineToProduct(r);this.products.push(o),this.pageIndex*this.pageSize>=this.products.length&&(this.pageIndex=0),console.log("Added new medicine manually:",r),alert(`\xE2\u0153\u2026 "${r.name}" added to catalog successfully!`),this.showManualMedicineForm=!1}cancelManualMedicine(){this.showManualMedicineForm=!1}static{this.\u0275fac=function(n){return new(n||i)(O(wM),O(Qq),O(Jq),O(eX),O(tX),O(MM),O(Ne),O(ci))}}static{this.\u0275cmp=rt({type:i,selectors:[["app-product-list"]],viewQuery:function(n,r){if(n&1&&(Nt(Iye,5),Nt(Dye,5),Nt(kye,5),Nt(Aye,5)),n&2){let o;Le(o=Be())&&(r.imageInput=o.first),Le(o=Be())&&(r.cameraVideoRef=o.first),Le(o=Be())&&(r.captureCanvasRef=o.first),Le(o=Be())&&(r.barcodeScannerRef=o.first)}},decls:58,vars:21,consts:[["captureCanvas",""],["imageInput",""],["cameraVideo",""],["barcodeScanner",""],[1,"product-list-container"],[1,"header-section"],[1,"model-status"],[1,"ocr-status"],["title","OCR for text extraction from medicine images"],[1,"console-toggle-btn"],["mat-mini-fab","","title","Toggle Debug Console",3,"click"],["class","debug-console",4,"ngIf"],[1,"action-buttons-row"],[1,"btn-add",3,"click"],[1,"btn-add",2,"background-color","#ff9800",3,"click"],[1,"catalog-import-section"],["type","file","accept",".json,application/json",3,"change"],[1,"catalog-import-actions"],["mat-raised-button","","color","primary",3,"click"],[1,"catalog-import-hint"],["class","barcode-status-success",4,"ngIf"],["class","barcode-status-error",4,"ngIf"],["class","image-upload-section",4,"ngIf"],["class","barcode-scanner-section",4,"ngIf"],["hidden",""],["class","barcode-input-section",4,"ngIf"],["class","products-table",4,"ngIf"],[3,"length","pageIndex","pageSize","pageSizeOptions","page",4,"ngIf"],["class","no-products",4,"ngIf"],["class","manual-medicine-overlay",4,"ngIf"],[1,"debug-console"],[1,"console-header"],[1,"console-controls"],["mat-icon-button","","title","Clear logs",3,"click"],["mat-icon-button","","title","Close",3,"click"],[1,"console-output"],["class","log-line",3,"ngClass",4,"ngFor","ngForOf"],["class","log-empty",4,"ngIf"],[1,"log-line",3,"ngClass"],[1,"log-empty"],[1,"barcode-status-success"],[1,"barcode-status-error"],[1,"image-upload-section"],[1,"upload-area"],["type","file","accept","image/*","hidden","",3,"change"],[1,"upload-controls"],["mat-raised-button","",3,"click"],["class","camera-section",4,"ngIf"],["class","image-preview",4,"ngIf"],["class","ocr-processing",4,"ngIf"],["class","ocr-results",4,"ngIf"],["class","detection-results",4,"ngIf"],[1,"camera-section"],[1,"camera-controls"],["mat-raised-button","","color","primary",3,"click","disabled"],["mat-raised-button","","color","warn",3,"click","disabled"],["mat-raised-button","","color","accent",3,"click","disabled"],["class","camera-container",4,"ngIf"],[1,"camera-container"],["autoplay","","muted","","playsinline","",1,"camera-video",3,"loadedmetadata"],[1,"camera-hint"],[1,"image-preview"],["alt","Selected pharmacy image",3,"src"],[1,"ocr-processing"],["diameter","40"],[1,"ocr-results"],[1,"extracted-text-box"],[1,"ocr-hint"],[1,"detection-results"],[1,"detection-hint"],[1,"medicines-list"],["class","medicine-item",4,"ngFor","ngForOf"],["class","dialog-overlay",4,"ngIf"],["class","edit-medicine-dialog",4,"ngIf"],["class","catalog-selection-dialog",4,"ngIf"],[1,"action-buttons"],["mat-button","",3,"click"],[1,"medicine-item"],[3,"ngModelChange","ngModel"],[1,"medicine-info"],[1,"medicine-name"],[1,"object-type"],[1,"medicine-actions"],["mat-icon-button","","title","Edit medicine name",3,"click"],["mat-icon-button","","title","Select from catalog",3,"click"],[1,"confidence"],[1,"dialog-overlay"],[1,"edit-medicine-dialog"],[1,"edit-controls"],["appearance","outline"],["matInput","","placeholder","Enter medicine name",3,"ngModelChange","ngModel"],[1,"edit-buttons"],[1,"catalog-selection-dialog"],[1,"catalog-list"],["mat-raised-button","","class","catalog-item",3,"click",4,"ngFor","ngForOf"],[1,"catalog-close-btn"],["mat-raised-button","",1,"catalog-item",3,"click"],[1,"barcode-scanner-section"],[1,"barcode-instructions"],["class","barcode-status-info",4,"ngIf"],["class","barcode-container",4,"ngIf"],[1,"barcode-input-section","barcode-primary"],[1,"barcode-info"],[1,"barcode-input-group"],["appearance","outline",1,"barcode-input-field"],["matInput","","placeholder","e.g., 5012254500012","autofocus","",3,"ngModelChange","keyup.enter","ngModel","disabled"],[1,"example-barcodes"],["class","scanned-medicine-info",4,"ngIf"],[1,"barcode-close"],[1,"barcode-status-info"],["diameter","30"],[1,"barcode-container"],["autoplay","","muted","","playsinline","",1,"barcode-video"],[1,"barcode-hint"],["class","camera-loading-overlay",4,"ngIf"],[1,"camera-loading-overlay"],[1,"scanned-medicine-info"],[1,"medicine-details"],[1,"barcode-actions"],[1,"barcode-input-section"],["matInput","","placeholder","Search by name or category",3,"ngModelChange","ngModel"],[1,"products-table"],[4,"ngFor","ngForOf"],[1,"btn-edit",3,"click"],[1,"btn-delete",3,"click"],[3,"page","length","pageIndex","pageSize","pageSizeOptions"],[1,"no-products"],[1,"manual-medicine-overlay"],[1,"manual-medicine-dialog"],[1,"form-group"],["appearance","outline",1,"full-width"],["matInput","","placeholder","e.g., Paracetamol",3,"ngModelChange","ngModel"],["matInput","","placeholder","e.g., Acetaminophen",3,"ngModelChange","ngModel"],[1,"form-row"],["appearance","outline",1,"half-width"],["matInput","","placeholder","e.g., 500mg",3,"ngModelChange","ngModel"],["matInput","","placeholder","e.g., Generic Inc.",3,"ngModelChange","ngModel"],["matInput","","placeholder","e.g., Medicine",3,"ngModelChange","ngModel"],["matInput","","type","number","placeholder","50",3,"ngModelChange","ngModel"],[1,"dialog-actions"]],template:function(n,r){if(n&1){let o=ft();y(0,"div",4)(1,"div",5)(2,"h2"),P(3,"Pharmacy Products"),x(),y(4,"div",6)(5,"mat-icon"),P(6),x(),y(7,"span"),P(8),x()(),y(9,"div",7)(10,"mat-icon"),P(11),x(),y(12,"span",8),P(13),x()()(),y(14,"div",9)(15,"button",10),fe("click",function(){return ce(o),le(r.toggleConsole())}),y(16,"mat-icon"),P(17),x()()(),Ee(18,Nye,14,2,"div",11),y(19,"div",12)(20,"button",13),fe("click",function(){return ce(o),le(r.onAddProduct())}),y(21,"mat-icon"),P(22,"add_photo_alternate"),x(),P(23," Add Medicines by Image "),x(),y(24,"button",13),fe("click",function(){return ce(o),le(r.startBarcodeScanner())}),y(25,"mat-icon"),P(26,"qr_code_2"),x(),P(27," Scan Barcode "),x(),y(28,"button",14),fe("click",function(){return ce(o),le(r.openManualMedicineForm())}),y(29,"mat-icon"),P(30,"add_circle"),x(),P(31," Add New Medicine "),x()(),y(32,"div",15)(33,"h4"),P(34,"Offline Catalog Import (JSON)"),x(),y(35,"p"),P(36,"Load your local medicine database into this browser."),x(),y(37,"input",16),fe("change",function(a){return ce(o),le(r.onCatalogFileSelected(a))}),x(),y(38,"div",17)(39,"button",18),fe("click",function(){return ce(o),le(r.loadCatalogToProducts())}),y(40,"mat-icon"),P(41,"playlist_add"),x(),P(42," Load Catalog into Products "),x()(),y(43,"p",19),P(44," Example: "),y(45,"code"),P(46,'[{"name":"Paracetamol","barcode":"8901234567890","strength":"500mg","manufacturer":"Generic Pharma","category":"Pain Relief","quantity":50}]'),x()(),Ee(47,Oye,2,1,"div",20)(48,Fye,2,1,"div",21),x(),Ee(49,Xye,22,6,"div",22)(50,ixe,67,9,"div",23),Ue(51,"canvas",24,0),Ee(53,nxe,5,1,"div",25)(54,oxe,19,1,"table",26)(55,sxe,1,4,"mat-paginator",27)(56,axe,3,0,"div",28)(57,cxe,41,6,"div",29),x()}n&2&&(B(4),qe("ready",r.modelReady)("error",!r.modelReady&&r.modelStatus.includes("Failed")),B(2),Xt(r.modelReady?"check_circle":"autorenew"),B(2),Xt(r.modelStatus),B(),qe("ready",r.ocrAvailable),B(2),Xt(r.ocrAvailable?"check_circle":"hourglass_empty"),B(2),Xt(r.ocrAvailable?"\u2705 OCR Ready":"\u23F3 OCR Loading..."),B(4),Xt(r.showConsole?"unfold_less":"unfold_more"),B(),ae("ngIf",r.showConsole),B(29),ae("ngIf",r.catalogImportSummary),B(),ae("ngIf",r.catalogImportError),B(),ae("ngIf",r.showImageUpload),B(),ae("ngIf",r.showBarcodeScanner),B(3),ae("ngIf",r.products.length>0),B(),ae("ngIf",r.products.length>0),B(),ae("ngIf",r.products.length>0),B(),ae("ngIf",r.products.length===0),B(),ae("ngIf",r.showManualMedicineForm))},dependencies:[Tm,Wa,Ds,qa,jc,Yl,ku,uc,Pd,aX,Od,Nd,Gp,sd,CX,TM,jF,Cz],styles:[".product-list-container[_ngcontent-%COMP%]{padding:20px;position:relative}.product-list-container[_ngcontent-%COMP%]   .header-section[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px}.product-list-container[_ngcontent-%COMP%]   .header-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;color:#2c3e50}.product-list-container[_ngcontent-%COMP%]   .header-section[_ngcontent-%COMP%]   .model-status[_ngcontent-%COMP%], .product-list-container[_ngcontent-%COMP%]   .header-section[_ngcontent-%COMP%]   .ocr-status[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;padding:8px 12px;background-color:#fff3cd;border:1px solid #ffc107;border-radius:4px;color:#856404;font-weight:500}.product-list-container[_ngcontent-%COMP%]   .header-section[_ngcontent-%COMP%]   .model-status[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%], .product-list-container[_ngcontent-%COMP%]   .header-section[_ngcontent-%COMP%]   .ocr-status[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:18px;width:18px;height:18px;animation:_ngcontent-%COMP%_spin 2s linear infinite}.product-list-container[_ngcontent-%COMP%]   .header-section[_ngcontent-%COMP%]   .model-status.ready[_ngcontent-%COMP%], .product-list-container[_ngcontent-%COMP%]   .header-section[_ngcontent-%COMP%]   .ocr-status.ready[_ngcontent-%COMP%]{background-color:#d4edda;border-color:#28a745;color:#155724}.product-list-container[_ngcontent-%COMP%]   .header-section[_ngcontent-%COMP%]   .model-status.ready[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%], .product-list-container[_ngcontent-%COMP%]   .header-section[_ngcontent-%COMP%]   .ocr-status.ready[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{animation:none}.product-list-container[_ngcontent-%COMP%]   .header-section[_ngcontent-%COMP%]   .model-status.error[_ngcontent-%COMP%], .product-list-container[_ngcontent-%COMP%]   .header-section[_ngcontent-%COMP%]   .ocr-status.error[_ngcontent-%COMP%]{background-color:#f8d7da;border-color:#f5c6cb;color:#721c24}.product-list-container[_ngcontent-%COMP%]   .header-section[_ngcontent-%COMP%]   .model-status.error[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%], .product-list-container[_ngcontent-%COMP%]   .header-section[_ngcontent-%COMP%]   .ocr-status.error[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{animation:none}.product-list-container[_ngcontent-%COMP%]   .header-section[_ngcontent-%COMP%]   .ocr-status[_ngcontent-%COMP%]{margin-left:10px;background-color:#e3f2fd;border-color:#2196f3;color:#1565c0}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.product-list-container[_ngcontent-%COMP%]   .console-toggle-btn[_ngcontent-%COMP%]{position:fixed;bottom:20px;right:20px;z-index:999}.product-list-container[_ngcontent-%COMP%]   .debug-console[_ngcontent-%COMP%]{background-color:#1e1e1e;border:2px solid #ff9800;border-radius:4px;margin-bottom:20px;color:#d4d4d4;font-family:Courier New,monospace;font-size:12px;max-height:300px;display:flex;flex-direction:column}.product-list-container[_ngcontent-%COMP%]   .debug-console[_ngcontent-%COMP%]   .console-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:10px 15px;background-color:#2d2d2d;border-bottom:1px solid #ff9800}.product-list-container[_ngcontent-%COMP%]   .debug-console[_ngcontent-%COMP%]   .console-header[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0;color:#ff9800}.product-list-container[_ngcontent-%COMP%]   .debug-console[_ngcontent-%COMP%]   .console-header[_ngcontent-%COMP%]   .console-controls[_ngcontent-%COMP%]{display:flex;gap:5px}.product-list-container[_ngcontent-%COMP%]   .debug-console[_ngcontent-%COMP%]   .console-header[_ngcontent-%COMP%]   .console-controls[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{color:#ff9800}.product-list-container[_ngcontent-%COMP%]   .debug-console[_ngcontent-%COMP%]   .console-output[_ngcontent-%COMP%]{overflow-y:auto;padding:10px 15px;flex:1;background-color:#1e1e1e}.product-list-container[_ngcontent-%COMP%]   .debug-console[_ngcontent-%COMP%]   .console-output[_ngcontent-%COMP%]   .log-line[_ngcontent-%COMP%]{margin:2px 0;white-space:pre-wrap;word-break:break-all}.product-list-container[_ngcontent-%COMP%]   .debug-console[_ngcontent-%COMP%]   .console-output[_ngcontent-%COMP%]   .log-line.log-error[_ngcontent-%COMP%]{color:#f48771}.product-list-container[_ngcontent-%COMP%]   .debug-console[_ngcontent-%COMP%]   .console-output[_ngcontent-%COMP%]   .log-line.log-warn[_ngcontent-%COMP%]{color:#dcdcaa}.product-list-container[_ngcontent-%COMP%]   .debug-console[_ngcontent-%COMP%]   .console-output[_ngcontent-%COMP%]   .log-line.log-info[_ngcontent-%COMP%]{color:#9cdcfe}.product-list-container[_ngcontent-%COMP%]   .debug-console[_ngcontent-%COMP%]   .console-output[_ngcontent-%COMP%]   .log-empty[_ngcontent-%COMP%]{color:#666;font-style:italic}.product-list-container[_ngcontent-%COMP%]   .action-buttons-row[_ngcontent-%COMP%]{display:flex;gap:10px;margin-bottom:20px;flex-wrap:wrap}.product-list-container[_ngcontent-%COMP%]   .action-buttons-row[_ngcontent-%COMP%]   .btn-add[_ngcontent-%COMP%]{padding:10px 20px;background-color:#27ae60;color:#fff;border:none;border-radius:4px;cursor:pointer;display:flex;align-items:center;gap:8px;font-weight:500}.product-list-container[_ngcontent-%COMP%]   .action-buttons-row[_ngcontent-%COMP%]   .btn-add[_ngcontent-%COMP%]:hover{background-color:#229954}.product-list-container[_ngcontent-%COMP%]   .action-buttons-row[_ngcontent-%COMP%]   .btn-add[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:18px}.product-list-container[_ngcontent-%COMP%]   .barcode-scanner-section[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f5f5f5,#fafafa);border:2px solid #1976d2;border-radius:8px;padding:25px;margin-bottom:20px;box-shadow:0 2px 8px #0000001a;animation:_ngcontent-%COMP%_slideIn .3s ease-out}.product-list-container[_ngcontent-%COMP%]   .barcode-scanner-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#1976d2;margin-top:0;margin-bottom:15px;font-size:1.3rem}.product-list-container[_ngcontent-%COMP%]   .barcode-scanner-section[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:#333;margin-top:15px;margin-bottom:10px;font-size:1rem}.product-list-container[_ngcontent-%COMP%]   .barcode-scanner-section[_ngcontent-%COMP%]   .barcode-instructions[_ngcontent-%COMP%]{background-color:#e3f2fd;border-left:4px solid #1976d2;padding:20px;border-radius:6px;margin-bottom:20px}.product-list-container[_ngcontent-%COMP%]   .barcode-scanner-section[_ngcontent-%COMP%]   .barcode-instructions[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:#1565c0;margin-top:0;margin-bottom:12px}.product-list-container[_ngcontent-%COMP%]   .barcode-scanner-section[_ngcontent-%COMP%]   .barcode-instructions[_ngcontent-%COMP%]   ol[_ngcontent-%COMP%]{margin:0;padding-left:20px}.product-list-container[_ngcontent-%COMP%]   .barcode-scanner-section[_ngcontent-%COMP%]   .barcode-instructions[_ngcontent-%COMP%]   ol[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:8px;color:#333;line-height:1.6}.product-list-container[_ngcontent-%COMP%]   .barcode-scanner-section[_ngcontent-%COMP%]   .barcode-instructions[_ngcontent-%COMP%]   ol[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#1565c0}.product-list-container[_ngcontent-%COMP%]   .barcode-scanner-section[_ngcontent-%COMP%]   .barcode-status-error[_ngcontent-%COMP%]{background-color:#ffebee;border:1px solid #ef5350;color:#c62828;padding:15px;border-radius:6px;margin-bottom:15px;font-weight:500;display:flex;align-items:center;gap:10px}.product-list-container[_ngcontent-%COMP%]   .barcode-scanner-section[_ngcontent-%COMP%]   .barcode-status-success[_ngcontent-%COMP%]{background-color:#e8f5e9;border:1px solid #66bb6a;color:#2e7d32;padding:15px;border-radius:6px;margin-bottom:15px;font-weight:500;display:flex;align-items:center;gap:10px}.product-list-container[_ngcontent-%COMP%]   .barcode-scanner-section[_ngcontent-%COMP%]   .barcode-status-info[_ngcontent-%COMP%]{background-color:#e3f2fd;border:1px solid #42a5f5;color:#1565c0;padding:15px;border-radius:6px;margin-bottom:15px;display:flex;align-items:center;gap:15px;font-weight:500}.product-list-container[_ngcontent-%COMP%]   .barcode-scanner-section[_ngcontent-%COMP%]   .barcode-status-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}.product-list-container[_ngcontent-%COMP%]   .barcode-scanner-section[_ngcontent-%COMP%]   .barcode-container[_ngcontent-%COMP%]{background-color:#000;border-radius:6px;overflow:hidden;margin-bottom:20px;position:relative;aspect-ratio:4/3}.product-list-container[_ngcontent-%COMP%]   .barcode-scanner-section[_ngcontent-%COMP%]   .barcode-container[_ngcontent-%COMP%]   .barcode-video[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;display:block}.product-list-container[_ngcontent-%COMP%]   .barcode-scanner-section[_ngcontent-%COMP%]   .barcode-container[_ngcontent-%COMP%]   .barcode-hint[_ngcontent-%COMP%]{position:absolute;bottom:15px;left:50%;transform:translate(-50%);background-color:#000000b3;color:#fff;padding:8px 15px;border-radius:4px;font-size:.9rem;white-space:nowrap;margin:0}.product-list-container[_ngcontent-%COMP%]   .barcode-scanner-section[_ngcontent-%COMP%]   .barcode-container[_ngcontent-%COMP%]   .camera-loading-overlay[_ngcontent-%COMP%]{position:absolute;inset:0;display:flex;flex-direction:column;align-items:center;justify-content:center;background-color:#000c;z-index:10}.product-list-container[_ngcontent-%COMP%]   .barcode-scanner-section[_ngcontent-%COMP%]   .barcode-container[_ngcontent-%COMP%]   .camera-loading-overlay[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#fff;margin-top:15px;font-weight:500}.product-list-container[_ngcontent-%COMP%]   .barcode-scanner-section[_ngcontent-%COMP%]   .barcode-input-section[_ngcontent-%COMP%]{background-color:#fff;border:1px solid #ddd;border-radius:6px;padding:20px;margin-bottom:15px}.product-list-container[_ngcontent-%COMP%]   .barcode-scanner-section[_ngcontent-%COMP%]   .barcode-input-section.barcode-primary[_ngcontent-%COMP%]{border:2px solid #1976d2;background-color:#f8f9fa;box-shadow:0 2px 6px #1976d21a}.product-list-container[_ngcontent-%COMP%]   .barcode-scanner-section[_ngcontent-%COMP%]   .barcode-input-section[_ngcontent-%COMP%]   .barcode-info[_ngcontent-%COMP%]{margin:0 0 15px;font-size:.9rem;color:#555;padding:12px;background-color:#f0f7ff;border-left:3px solid #1976d2;border-radius:3px}.product-list-container[_ngcontent-%COMP%]   .barcode-scanner-section[_ngcontent-%COMP%]   .barcode-input-section[_ngcontent-%COMP%]   .barcode-input-group[_ngcontent-%COMP%]{display:flex;gap:10px;align-items:flex-end;margin-bottom:15px}.product-list-container[_ngcontent-%COMP%]   .barcode-scanner-section[_ngcontent-%COMP%]   .barcode-input-section[_ngcontent-%COMP%]   .barcode-input-group[_ngcontent-%COMP%]   .barcode-input-field[_ngcontent-%COMP%]{flex:1;min-width:200px}.product-list-container[_ngcontent-%COMP%]   .barcode-scanner-section[_ngcontent-%COMP%]   .barcode-input-section[_ngcontent-%COMP%]   .barcode-input-group[_ngcontent-%COMP%]   .barcode-input-field[_ngcontent-%COMP%]     .mat-form-field-wrapper{padding-bottom:0}.product-list-container[_ngcontent-%COMP%]   .barcode-scanner-section[_ngcontent-%COMP%]   .barcode-input-section[_ngcontent-%COMP%]   .barcode-input-group[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{min-width:100px;height:56px}.product-list-container[_ngcontent-%COMP%]   .barcode-scanner-section[_ngcontent-%COMP%]   .barcode-input-section[_ngcontent-%COMP%]   .example-barcodes[_ngcontent-%COMP%]{background-color:#fffbf0;border:1px solid #ffb74d;border-radius:4px;padding:15px;margin-top:10px}.product-list-container[_ngcontent-%COMP%]   .barcode-scanner-section[_ngcontent-%COMP%]   .barcode-input-section[_ngcontent-%COMP%]   .example-barcodes[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 10px;font-weight:500;color:#f57c00}.product-list-container[_ngcontent-%COMP%]   .barcode-scanner-section[_ngcontent-%COMP%]   .barcode-input-section[_ngcontent-%COMP%]   .example-barcodes[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin:0;padding-left:20px}.product-list-container[_ngcontent-%COMP%]   .barcode-scanner-section[_ngcontent-%COMP%]   .barcode-input-section[_ngcontent-%COMP%]   .example-barcodes[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:6px;color:#666;font-family:Courier New,monospace;font-size:.9rem}.product-list-container[_ngcontent-%COMP%]   .barcode-scanner-section[_ngcontent-%COMP%]   .barcode-input-section[_ngcontent-%COMP%]   .example-barcodes[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]{background-color:#fff;padding:2px 6px;border-radius:3px;border:1px solid #ddd;color:#d32f2f;font-weight:700}.product-list-container[_ngcontent-%COMP%]   .barcode-scanner-section[_ngcontent-%COMP%]   .barcode-input-section[_ngcontent-%COMP%]   .helper-text[_ngcontent-%COMP%]{margin:10px 0 0;font-size:.85rem;color:#666;padding:12px;background-color:#f5f5f5;border-left:3px solid #ff9800;border-radius:3px;line-height:1.5}.product-list-container[_ngcontent-%COMP%]   .barcode-scanner-section[_ngcontent-%COMP%]   .scanned-medicine-info[_ngcontent-%COMP%]{background:linear-gradient(135deg,#e8f5e9,#f1f8e9);border-left:4px solid #4caf50;border-radius:6px;padding:20px;margin-bottom:15px}.product-list-container[_ngcontent-%COMP%]   .barcode-scanner-section[_ngcontent-%COMP%]   .scanned-medicine-info[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:#2e7d32;margin-top:0}.product-list-container[_ngcontent-%COMP%]   .barcode-scanner-section[_ngcontent-%COMP%]   .scanned-medicine-info[_ngcontent-%COMP%]   .medicine-details[_ngcontent-%COMP%]{background-color:#fff;border-radius:4px;padding:15px;margin-bottom:15px;border:1px solid #c8e6c9}.product-list-container[_ngcontent-%COMP%]   .barcode-scanner-section[_ngcontent-%COMP%]   .scanned-medicine-info[_ngcontent-%COMP%]   .medicine-details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:8px 0;font-size:.95rem}.product-list-container[_ngcontent-%COMP%]   .barcode-scanner-section[_ngcontent-%COMP%]   .scanned-medicine-info[_ngcontent-%COMP%]   .medicine-details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#1565c0}.product-list-container[_ngcontent-%COMP%]   .barcode-scanner-section[_ngcontent-%COMP%]   .scanned-medicine-info[_ngcontent-%COMP%]   .barcode-actions[_ngcontent-%COMP%]{display:flex;gap:10px;flex-wrap:wrap}.product-list-container[_ngcontent-%COMP%]   .barcode-scanner-section[_ngcontent-%COMP%]   .scanned-medicine-info[_ngcontent-%COMP%]   .barcode-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{flex:1;min-width:150px}.product-list-container[_ngcontent-%COMP%]   .barcode-scanner-section[_ngcontent-%COMP%]   .scanning-indicator[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:40px 20px;background-color:#fff;border-radius:6px;margin-bottom:15px}.product-list-container[_ngcontent-%COMP%]   .barcode-scanner-section[_ngcontent-%COMP%]   .scanning-indicator[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:15px;color:#1976d2;font-weight:500}.product-list-container[_ngcontent-%COMP%]   .barcode-scanner-section[_ngcontent-%COMP%]   .barcode-close[_ngcontent-%COMP%]{text-align:center;padding-top:10px;border-top:1px solid #ddd}.product-list-container[_ngcontent-%COMP%]   .barcode-scanner-section[_ngcontent-%COMP%]   .barcode-close[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{color:#d32f2f}.product-list-container[_ngcontent-%COMP%]   .barcode-scanner-section[_ngcontent-%COMP%]   .barcode-close[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#ffebee}@keyframes _ngcontent-%COMP%_slideIn{0%{opacity:0;transform:translateY(-10px)}to{opacity:1;transform:translateY(0)}}.product-list-container[_ngcontent-%COMP%]   .btn-add[_ngcontent-%COMP%]{padding:10px 20px;background-color:#27ae60;color:#fff;border:none;border-radius:4px;cursor:pointer;margin-bottom:20px;display:flex;align-items:center;gap:8px}.product-list-container[_ngcontent-%COMP%]   .btn-add[_ngcontent-%COMP%]:hover{background-color:#229954}.product-list-container[_ngcontent-%COMP%]   .image-upload-section[_ngcontent-%COMP%]{background-color:#f8f9fa;border:2px dashed #1976d2;border-radius:8px;padding:20px;margin-bottom:20px}.product-list-container[_ngcontent-%COMP%]   .image-upload-section[_ngcontent-%COMP%]   .upload-area[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:15px}.product-list-container[_ngcontent-%COMP%]   .image-upload-section[_ngcontent-%COMP%]   .upload-controls[_ngcontent-%COMP%]{display:flex;gap:10px;flex-wrap:wrap}.product-list-container[_ngcontent-%COMP%]   .image-upload-section[_ngcontent-%COMP%]   .upload-controls[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}.product-list-container[_ngcontent-%COMP%]   .image-upload-section[_ngcontent-%COMP%]   .camera-section[_ngcontent-%COMP%]{margin:20px 0;padding:15px;background-color:#f5f5f5;border-radius:4px}.product-list-container[_ngcontent-%COMP%]   .image-upload-section[_ngcontent-%COMP%]   .camera-section[_ngcontent-%COMP%]   .camera-controls[_ngcontent-%COMP%]{display:flex;gap:10px;flex-wrap:wrap;margin-bottom:15px}.product-list-container[_ngcontent-%COMP%]   .image-upload-section[_ngcontent-%COMP%]   .camera-section[_ngcontent-%COMP%]   .camera-controls[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}.product-list-container[_ngcontent-%COMP%]   .image-upload-section[_ngcontent-%COMP%]   .camera-section[_ngcontent-%COMP%]   .camera-container[_ngcontent-%COMP%]{margin:15px 0;border:2px solid #1976d2;background:#000;border-radius:4px;overflow:hidden}.product-list-container[_ngcontent-%COMP%]   .image-upload-section[_ngcontent-%COMP%]   .camera-section[_ngcontent-%COMP%]   .camera-container[_ngcontent-%COMP%]   .camera-video[_ngcontent-%COMP%]{width:100%;max-height:500px;min-height:300px;background:#000;object-fit:cover}.product-list-container[_ngcontent-%COMP%]   .image-upload-section[_ngcontent-%COMP%]   .camera-section[_ngcontent-%COMP%]   .camera-container[_ngcontent-%COMP%]   .camera-hint[_ngcontent-%COMP%]{padding:10px;margin:0;background-color:#333;color:#fff;font-size:12px;text-align:center}.product-list-container[_ngcontent-%COMP%]   .image-upload-section[_ngcontent-%COMP%]   .image-preview[_ngcontent-%COMP%]{text-align:center;margin:20px 0;padding:15px;background-color:#f9f9f9;border-radius:4px}.product-list-container[_ngcontent-%COMP%]   .image-upload-section[_ngcontent-%COMP%]   .image-preview[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-top:0;margin-bottom:15px;color:#2c3e50}.product-list-container[_ngcontent-%COMP%]   .image-upload-section[_ngcontent-%COMP%]   .image-preview[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;max-height:400px;border-radius:4px;box-shadow:0 2px 8px #0000001a}.product-list-container[_ngcontent-%COMP%]   .image-upload-section[_ngcontent-%COMP%]   .ocr-processing[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:15px;padding:30px 20px;background-color:#e3f2fd;border:2px solid #2196f3;border-radius:6px;margin:20px 0}.product-list-container[_ngcontent-%COMP%]   .image-upload-section[_ngcontent-%COMP%]   .ocr-processing[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:#1565c0;font-weight:500}.product-list-container[_ngcontent-%COMP%]   .image-upload-section[_ngcontent-%COMP%]   .ocr-processing[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{color:#0d47a1;font-size:.85rem}.product-list-container[_ngcontent-%COMP%]   .image-upload-section[_ngcontent-%COMP%]   .ocr-results[_ngcontent-%COMP%]{background-color:#f1f8e9;border:2px solid #66bb6a;border-radius:6px;padding:20px;margin:20px 0}.product-list-container[_ngcontent-%COMP%]   .image-upload-section[_ngcontent-%COMP%]   .ocr-results[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:#2e7d32;margin-top:0;margin-bottom:15px}.product-list-container[_ngcontent-%COMP%]   .image-upload-section[_ngcontent-%COMP%]   .ocr-results[_ngcontent-%COMP%]   .extracted-text-box[_ngcontent-%COMP%]{background-color:#fff;border:1px solid #c8e6c9;border-radius:4px;padding:15px;max-height:150px;overflow-y:auto;margin-bottom:12px;font-family:Courier New,monospace;font-size:.9rem;color:#333;white-space:pre-wrap;word-break:break-word}.product-list-container[_ngcontent-%COMP%]   .image-upload-section[_ngcontent-%COMP%]   .ocr-results[_ngcontent-%COMP%]   .extracted-text-box[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}.product-list-container[_ngcontent-%COMP%]   .image-upload-section[_ngcontent-%COMP%]   .ocr-results[_ngcontent-%COMP%]   .ocr-hint[_ngcontent-%COMP%]{color:#2e7d32;font-size:.9rem;margin:0}.product-list-container[_ngcontent-%COMP%]   .image-upload-section[_ngcontent-%COMP%]   .detection-loading[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:15px;padding:20px}.product-list-container[_ngcontent-%COMP%]   .image-upload-section[_ngcontent-%COMP%]   .detection-loading[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:#666}.product-list-container[_ngcontent-%COMP%]   .image-upload-section[_ngcontent-%COMP%]   .detection-results[_ngcontent-%COMP%]{background-color:#fff;border-radius:4px;padding:15px;position:relative}.product-list-container[_ngcontent-%COMP%]   .image-upload-section[_ngcontent-%COMP%]   .detection-results[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-top:0;margin-bottom:5px;color:#2c3e50}.product-list-container[_ngcontent-%COMP%]   .image-upload-section[_ngcontent-%COMP%]   .detection-results[_ngcontent-%COMP%]   .detection-hint[_ngcontent-%COMP%]{font-size:13px;color:#333;background-color:#f0f7ff;border-left:4px solid #1976d2;padding:12px;margin-bottom:15px;border-radius:4px}.product-list-container[_ngcontent-%COMP%]   .image-upload-section[_ngcontent-%COMP%]   .detection-results[_ngcontent-%COMP%]   .detection-hint[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#1976d2;display:block;margin-bottom:8px}.product-list-container[_ngcontent-%COMP%]   .image-upload-section[_ngcontent-%COMP%]   .detection-results[_ngcontent-%COMP%]   .detection-hint[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin:0;padding-left:20px}.product-list-container[_ngcontent-%COMP%]   .image-upload-section[_ngcontent-%COMP%]   .detection-results[_ngcontent-%COMP%]   .detection-hint[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:4px 0;color:#555}.product-list-container[_ngcontent-%COMP%]   .image-upload-section[_ngcontent-%COMP%]   .detection-results[_ngcontent-%COMP%]   .detection-hint[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#2c3e50;display:inline;margin:0}.product-list-container[_ngcontent-%COMP%]   .image-upload-section[_ngcontent-%COMP%]   .detection-results[_ngcontent-%COMP%]   .medicines-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:10px;margin-bottom:15px;max-height:300px;overflow-y:auto;border:1px solid #ddd;padding:10px;border-radius:4px;background-color:#fafafa}.product-list-container[_ngcontent-%COMP%]   .image-upload-section[_ngcontent-%COMP%]   .detection-results[_ngcontent-%COMP%]   .medicines-list[_ngcontent-%COMP%]   .medicine-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;padding:10px;background-color:#fff;border-radius:4px;border-left:3px solid #1976d2}.product-list-container[_ngcontent-%COMP%]   .image-upload-section[_ngcontent-%COMP%]   .detection-results[_ngcontent-%COMP%]   .medicines-list[_ngcontent-%COMP%]   .medicine-item[_ngcontent-%COMP%]   .medicine-info[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;gap:5px}.product-list-container[_ngcontent-%COMP%]   .image-upload-section[_ngcontent-%COMP%]   .detection-results[_ngcontent-%COMP%]   .medicines-list[_ngcontent-%COMP%]   .medicine-item[_ngcontent-%COMP%]   .medicine-info[_ngcontent-%COMP%]   .medicine-name[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}.product-list-container[_ngcontent-%COMP%]   .image-upload-section[_ngcontent-%COMP%]   .detection-results[_ngcontent-%COMP%]   .medicines-list[_ngcontent-%COMP%]   .medicine-item[_ngcontent-%COMP%]   .medicine-info[_ngcontent-%COMP%]   .medicine-name[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#2c3e50}.product-list-container[_ngcontent-%COMP%]   .image-upload-section[_ngcontent-%COMP%]   .detection-results[_ngcontent-%COMP%]   .medicines-list[_ngcontent-%COMP%]   .medicine-item[_ngcontent-%COMP%]   .medicine-info[_ngcontent-%COMP%]   .medicine-name[_ngcontent-%COMP%]   .object-type[_ngcontent-%COMP%]{display:inline-block;font-size:11px;padding:2px 8px;background-color:#e3f2fd;color:#1976d2;border-radius:12px;font-weight:500}.product-list-container[_ngcontent-%COMP%]   .image-upload-section[_ngcontent-%COMP%]   .detection-results[_ngcontent-%COMP%]   .medicines-list[_ngcontent-%COMP%]   .medicine-item[_ngcontent-%COMP%]   .medicine-info[_ngcontent-%COMP%]   .confidence[_ngcontent-%COMP%]{font-size:12px;color:#7f8c8d}.product-list-container[_ngcontent-%COMP%]   .image-upload-section[_ngcontent-%COMP%]   .detection-results[_ngcontent-%COMP%]   .medicines-list[_ngcontent-%COMP%]   .medicine-item[_ngcontent-%COMP%]   .medicine-actions[_ngcontent-%COMP%]{display:flex;gap:5px}.product-list-container[_ngcontent-%COMP%]   .image-upload-section[_ngcontent-%COMP%]   .detection-results[_ngcontent-%COMP%]   .medicines-list[_ngcontent-%COMP%]   .medicine-item[_ngcontent-%COMP%]   .medicine-actions[_ngcontent-%COMP%]   button[mat-icon-button][_ngcontent-%COMP%]{width:36px;height:36px;line-height:36px;color:#1976d2}.product-list-container[_ngcontent-%COMP%]   .image-upload-section[_ngcontent-%COMP%]   .detection-results[_ngcontent-%COMP%]   .medicines-list[_ngcontent-%COMP%]   .medicine-item[_ngcontent-%COMP%]   .medicine-actions[_ngcontent-%COMP%]   button[mat-icon-button][_ngcontent-%COMP%]:hover{color:#1565c0;background-color:#f0f0f0}.product-list-container[_ngcontent-%COMP%]   .image-upload-section[_ngcontent-%COMP%]   .detection-results[_ngcontent-%COMP%]   .edit-medicine-dialog[_ngcontent-%COMP%]{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);background-color:#fff;border:1px solid #ddd;border-radius:8px;padding:20px;z-index:1000;box-shadow:0 4px 6px #0000001a;min-width:350px}.product-list-container[_ngcontent-%COMP%]   .image-upload-section[_ngcontent-%COMP%]   .detection-results[_ngcontent-%COMP%]   .edit-medicine-dialog[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 15px;color:#2c3e50;font-size:16px}.product-list-container[_ngcontent-%COMP%]   .image-upload-section[_ngcontent-%COMP%]   .detection-results[_ngcontent-%COMP%]   .edit-medicine-dialog[_ngcontent-%COMP%]   .edit-controls[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:15px}.product-list-container[_ngcontent-%COMP%]   .image-upload-section[_ngcontent-%COMP%]   .detection-results[_ngcontent-%COMP%]   .edit-medicine-dialog[_ngcontent-%COMP%]   .edit-controls[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:100%}.product-list-container[_ngcontent-%COMP%]   .image-upload-section[_ngcontent-%COMP%]   .detection-results[_ngcontent-%COMP%]   .edit-medicine-dialog[_ngcontent-%COMP%]   .edit-controls[_ngcontent-%COMP%]   .edit-buttons[_ngcontent-%COMP%]{display:flex;gap:10px;justify-content:flex-end}.product-list-container[_ngcontent-%COMP%]   .image-upload-section[_ngcontent-%COMP%]   .detection-results[_ngcontent-%COMP%]   .edit-medicine-dialog[_ngcontent-%COMP%]   .edit-controls[_ngcontent-%COMP%]   .edit-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{min-width:100px}.product-list-container[_ngcontent-%COMP%]   .image-upload-section[_ngcontent-%COMP%]   .detection-results[_ngcontent-%COMP%]   .catalog-selection-dialog[_ngcontent-%COMP%]{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);background-color:#fff;border:1px solid #ddd;border-radius:8px;padding:20px;z-index:1000;box-shadow:0 4px 6px #0000001a;min-width:400px;max-height:500px;display:flex;flex-direction:column}.product-list-container[_ngcontent-%COMP%]   .image-upload-section[_ngcontent-%COMP%]   .detection-results[_ngcontent-%COMP%]   .catalog-selection-dialog[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 15px;color:#2c3e50;font-size:16px}.product-list-container[_ngcontent-%COMP%]   .image-upload-section[_ngcontent-%COMP%]   .detection-results[_ngcontent-%COMP%]   .catalog-selection-dialog[_ngcontent-%COMP%]   .catalog-list[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);gap:10px;overflow-y:auto;flex:1;padding-right:5px}.product-list-container[_ngcontent-%COMP%]   .image-upload-section[_ngcontent-%COMP%]   .detection-results[_ngcontent-%COMP%]   .catalog-selection-dialog[_ngcontent-%COMP%]   .catalog-list[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}.product-list-container[_ngcontent-%COMP%]   .image-upload-section[_ngcontent-%COMP%]   .detection-results[_ngcontent-%COMP%]   .catalog-selection-dialog[_ngcontent-%COMP%]   .catalog-list[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1;border-radius:3px}.product-list-container[_ngcontent-%COMP%]   .image-upload-section[_ngcontent-%COMP%]   .detection-results[_ngcontent-%COMP%]   .catalog-selection-dialog[_ngcontent-%COMP%]   .catalog-list[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#888;border-radius:3px}.product-list-container[_ngcontent-%COMP%]   .image-upload-section[_ngcontent-%COMP%]   .detection-results[_ngcontent-%COMP%]   .catalog-selection-dialog[_ngcontent-%COMP%]   .catalog-list[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#555}.product-list-container[_ngcontent-%COMP%]   .image-upload-section[_ngcontent-%COMP%]   .detection-results[_ngcontent-%COMP%]   .catalog-selection-dialog[_ngcontent-%COMP%]   .catalog-list[_ngcontent-%COMP%]   .catalog-item[_ngcontent-%COMP%]{padding:10px;background-color:#f5f5f5;border:1px solid #ddd;border-radius:4px;cursor:pointer;text-align:center;font-size:13px;transition:all .2s ease}.product-list-container[_ngcontent-%COMP%]   .image-upload-section[_ngcontent-%COMP%]   .detection-results[_ngcontent-%COMP%]   .catalog-selection-dialog[_ngcontent-%COMP%]   .catalog-list[_ngcontent-%COMP%]   .catalog-item[_ngcontent-%COMP%]:hover{background-color:#e3f2fd;border-color:#1976d2;color:#1976d2}.product-list-container[_ngcontent-%COMP%]   .image-upload-section[_ngcontent-%COMP%]   .detection-results[_ngcontent-%COMP%]   .catalog-selection-dialog[_ngcontent-%COMP%]   .catalog-close-btn[_ngcontent-%COMP%]{margin-top:15px;display:flex;justify-content:flex-end}.product-list-container[_ngcontent-%COMP%]   .image-upload-section[_ngcontent-%COMP%]   .detection-results[_ngcontent-%COMP%]   .dialog-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background-color:#00000080;z-index:999}.product-list-container[_ngcontent-%COMP%]   .image-upload-section[_ngcontent-%COMP%]   .detection-results[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]{display:flex;gap:10px;justify-content:flex-end;flex-wrap:wrap}.product-list-container[_ngcontent-%COMP%]   .image-upload-section[_ngcontent-%COMP%]   .detection-results[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}.product-list-container[_ngcontent-%COMP%]   .products-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}.product-list-container[_ngcontent-%COMP%]   .products-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background-color:#34495e;color:#fff}.product-list-container[_ngcontent-%COMP%]   .products-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .product-list-container[_ngcontent-%COMP%]   .products-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:12px;text-align:left;border-bottom:1px solid #ddd}.product-list-container[_ngcontent-%COMP%]   .products-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#f5f5f5}.product-list-container[_ngcontent-%COMP%]   .btn-edit[_ngcontent-%COMP%], .product-list-container[_ngcontent-%COMP%]   .btn-delete[_ngcontent-%COMP%]{padding:6px 12px;margin-right:5px;border:none;border-radius:4px;cursor:pointer}.product-list-container[_ngcontent-%COMP%]   .btn-edit[_ngcontent-%COMP%]{background-color:#3498db;color:#fff}.product-list-container[_ngcontent-%COMP%]   .btn-edit[_ngcontent-%COMP%]:hover{background-color:#2980b9}.product-list-container[_ngcontent-%COMP%]   .btn-delete[_ngcontent-%COMP%]{background-color:#e74c3c;color:#fff}.product-list-container[_ngcontent-%COMP%]   .btn-delete[_ngcontent-%COMP%]:hover{background-color:#c0392b}.product-list-container[_ngcontent-%COMP%]   .no-products[_ngcontent-%COMP%]{text-align:center;padding:40px;color:#7f8c8d}.product-list-container[_ngcontent-%COMP%]   .manual-medicine-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background-color:#00000080;display:flex;align-items:center;justify-content:center;z-index:1000}.product-list-container[_ngcontent-%COMP%]   .manual-medicine-dialog[_ngcontent-%COMP%]{background-color:#fff;border-radius:8px;padding:30px;max-width:500px;width:90%;box-shadow:0 4px 20px #0003;animation:_ngcontent-%COMP%_slideUp .3s ease-out}.product-list-container[_ngcontent-%COMP%]   .manual-medicine-dialog[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#ff9800;margin-top:0;margin-bottom:20px;font-size:1.2rem}.product-list-container[_ngcontent-%COMP%]   .manual-medicine-dialog[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:16px}.product-list-container[_ngcontent-%COMP%]   .manual-medicine-dialog[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .full-width[_ngcontent-%COMP%]{width:100%}.product-list-container[_ngcontent-%COMP%]   .manual-medicine-dialog[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:16px;margin-bottom:16px}.product-list-container[_ngcontent-%COMP%]   .manual-medicine-dialog[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]   .half-width[_ngcontent-%COMP%]{width:100%}.product-list-container[_ngcontent-%COMP%]   .manual-medicine-dialog[_ngcontent-%COMP%]   .dialog-actions[_ngcontent-%COMP%]{display:flex;gap:10px;justify-content:flex-end;margin-top:25px;padding-top:20px;border-top:1px solid #eee}.product-list-container[_ngcontent-%COMP%]   .manual-medicine-dialog[_ngcontent-%COMP%]   .dialog-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{min-width:140px}.product-list-container[_ngcontent-%COMP%]   .manual-medicine-dialog[_ngcontent-%COMP%]     .mat-form-field{width:100%}.product-list-container[_ngcontent-%COMP%]   .manual-medicine-dialog[_ngcontent-%COMP%]     .mat-form-field-outline{color:#ddd!important}.product-list-container[_ngcontent-%COMP%]   .manual-medicine-dialog[_ngcontent-%COMP%]     .mat-form-field-outline-thick{color:#ff9800!important}@keyframes _ngcontent-%COMP%_slideUp{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}"]})}}return i})();function dxe(i,t){if(i&1){let e=ft();y(0,"tr")(1,"td"),P(2),x(),y(3,"td"),P(4),x(),y(5,"td"),P(6),Lc(7,"number"),x(),y(8,"td")(9,"span",6),P(10),Lc(11,"uppercase"),x()(),y(12,"td"),P(13),x(),y(14,"td")(15,"button",7),fe("click",function(){let r=ce(e).$implicit,o=Q(2);return le(o.onViewOrder(r))}),P(16,"View"),x(),y(17,"button",8),fe("click",function(){let r=ce(e).$implicit,o=Q(2);return le(o.onUpdateStatus(r))}),P(18,"Update"),x()()()}if(i&2){let e=t.$implicit,n=Q(2);B(2),Xt(e.orderNumber),B(2),Xt(e.customerName),B(2),Vt("$",Sm(7,7,e.totalAmount,"1.2-2"),""),B(3),$n("background-color",n.getStatusColor(e.status)),B(),Vt(" ",qU(11,10,e.status)," "),B(3),Xt(e.orderDate)}}function uxe(i,t){if(i&1&&(y(0,"table",4)(1,"thead")(2,"tr")(3,"th"),P(4,"Order #"),x(),y(5,"th"),P(6,"Customer"),x(),y(7,"th"),P(8,"Amount"),x(),y(9,"th"),P(10,"Status"),x(),y(11,"th"),P(12,"Order Date"),x(),y(13,"th"),P(14,"Actions"),x()()(),y(15,"tbody"),Ee(16,dxe,19,12,"tr",5),x()()),i&2){let e=Q();B(16),ae("ngForOf",e.orders)}}function hxe(i,t){i&1&&(y(0,"div",9)(1,"p"),P(2,"No orders found."),x()())}var RM=(()=>{class i{constructor(){this.orders=[]}ngOnInit(){this.loadOrders()}loadOrders(){this.orders=[{id:1,orderNumber:"ORD-001",customerId:100,customerName:"John Doe",totalAmount:45.99,status:"completed",orderDate:"2025-12-15"},{id:2,orderNumber:"ORD-002",customerId:101,customerName:"Jane Smith",totalAmount:78.5,status:"processing",orderDate:"2025-12-18"},{id:3,orderNumber:"ORD-003",customerId:102,customerName:"Bob Johnson",totalAmount:32.25,status:"pending",orderDate:"2025-12-19"}]}getStatusColor(e){switch(e){case"completed":return"#27ae60";case"processing":return"#f39c12";case"pending":return"#3498db";case"cancelled":return"#e74c3c";default:return"#95a5a6"}}onCreateOrder(){console.log("Create order functionality to be implemented")}onViewOrder(e){console.log("View order:",e)}onUpdateStatus(e){console.log("Update order status:",e)}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275cmp=rt({type:i,selectors:[["app-order-management"]],decls:7,vars:2,consts:[[1,"order-management-container"],[1,"btn-create",3,"click"],["class","orders-table",4,"ngIf"],["class","no-orders",4,"ngIf"],[1,"orders-table"],[4,"ngFor","ngForOf"],[1,"status-badge"],[1,"btn-view",3,"click"],[1,"btn-update",3,"click"],[1,"no-orders"]],template:function(n,r){n&1&&(y(0,"div",0)(1,"h2"),P(2,"Order Management"),x(),y(3,"button",1),fe("click",function(){return r.onCreateOrder()}),P(4,"Create New Order"),x(),Ee(5,uxe,17,1,"table",2)(6,hxe,3,0,"div",3),x()),n&2&&(B(5),ae("ngIf",r.orders.length>0),B(),ae("ngIf",r.orders.length===0))},dependencies:[Wa,Ds,wz,Mz],styles:[".order-management-container[_ngcontent-%COMP%]{padding:20px}.order-management-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:20px;color:#2c3e50}.order-management-container[_ngcontent-%COMP%]   .btn-create[_ngcontent-%COMP%]{padding:10px 20px;background-color:#27ae60;color:#fff;border:none;border-radius:4px;cursor:pointer;margin-bottom:20px}.order-management-container[_ngcontent-%COMP%]   .btn-create[_ngcontent-%COMP%]:hover{background-color:#229954}.order-management-container[_ngcontent-%COMP%]   .orders-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}.order-management-container[_ngcontent-%COMP%]   .orders-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background-color:#34495e;color:#fff}.order-management-container[_ngcontent-%COMP%]   .orders-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .order-management-container[_ngcontent-%COMP%]   .orders-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:12px;text-align:left;border-bottom:1px solid #ddd}.order-management-container[_ngcontent-%COMP%]   .orders-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#f5f5f5}.order-management-container[_ngcontent-%COMP%]   .status-badge[_ngcontent-%COMP%]{padding:6px 12px;border-radius:20px;color:#fff;font-size:12px;font-weight:700}.order-management-container[_ngcontent-%COMP%]   .btn-view[_ngcontent-%COMP%], .order-management-container[_ngcontent-%COMP%]   .btn-update[_ngcontent-%COMP%]{padding:6px 12px;margin-right:5px;border:none;border-radius:4px;cursor:pointer}.order-management-container[_ngcontent-%COMP%]   .btn-view[_ngcontent-%COMP%]{background-color:#3498db;color:#fff}.order-management-container[_ngcontent-%COMP%]   .btn-view[_ngcontent-%COMP%]:hover{background-color:#2980b9}.order-management-container[_ngcontent-%COMP%]   .btn-update[_ngcontent-%COMP%]{background-color:#f39c12;color:#fff}.order-management-container[_ngcontent-%COMP%]   .btn-update[_ngcontent-%COMP%]:hover{background-color:#e67e22}.order-management-container[_ngcontent-%COMP%]   .no-orders[_ngcontent-%COMP%]{text-align:center;padding:40px;color:#7f8c8d}"]})}}return i})();var TC="182",Yd={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},Zd={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},yY=0,ML=1,xY=2;var Kb=1,wY=2,yf=3,Sl=0,No=1,mo=2,bc=0,Dh=1,CL=2,SL=3,EL=4,MY=5,jd=100,CY=101,SY=102,EY=103,TY=104,IY=200,DY=201,kY=202,AY=203,tC=204,iC=205,PY=206,RY=207,NY=208,OY=209,FY=210,LY=211,BY=212,VY=213,UY=214,IC=0,DC=1,kC=2,kh=3,AC=4,PC=5,RC=6,NC=7,TL=0,zY=1,HY=2,Ia=0,IL=1,DL=2,kL=3,AL=4,PL=5,RL=6,NL=7;var mL=300,Kd=301,Lh=302,OC=303,FC=304,Qb=306,nC=1e3,hc=1001,rC=1002,Br=1003,jY=1004;var Jb=1005;var Yn=1006,LC=1007;var Qd=1008;var es=1009,OL=1010,FL=1011,xf=1012,BC=1013,Da=1014,ka=1015,vc=1016,VC=1017,UC=1018,wf=1020,LL=35902,BL=35899,VL=1021,UL=1022,Gs=1023,pc=1026,Jd=1027,zL=1028,zC=1029,Bh=1030,HC=1031;var jC=1033,e0=33776,t0=33777,i0=33778,n0=33779,$C=35840,GC=35841,WC=35842,qC=35843,XC=36196,YC=37492,ZC=37496,KC=37488,QC=37489,JC=37490,eS=37491,tS=37808,iS=37809,nS=37810,rS=37811,oS=37812,sS=37813,aS=37814,cS=37815,lS=37816,dS=37817,uS=37818,hS=37819,mS=37820,pS=37821,fS=36492,gS=36494,_S=36495,bS=36283,vS=36284,yS=36285,xS=36286;var Rb=2300,oC=2301,eC=2302,pL=2400,fL=2401,gL=2402;var $Y=3200;var HL=0,GY=1,Il="",_s="srgb",Ah="srgb-linear",Nb="linear",Zi="srgb";var Ih=7680;var _L=519,WY=512,qY=513,XY=514,wS=515,YY=516,ZY=517,MS=518,KY=519,bL=35044;var jL="300 es",Sa=2e3,Ob=2001;function $L(i){for(let t=i.length-1;t>=0;--t)if(i[t]>=65535)return!0;return!1}function pxe(i){return ArrayBuffer.isView(i)&&!(i instanceof DataView)}function Fb(i){return document.createElementNS("http://www.w3.org/1999/xhtml",i)}function QY(){let i=Fb("canvas");return i.style.display="block",i}var XX={},df=null;function GL(...i){let t="THREE."+i.shift();df?df("log",t,...i):console.log(t,...i)}function Lt(...i){let t="THREE."+i.shift();df?df("warn",t,...i):console.warn(t,...i)}function zt(...i){let t="THREE."+i.shift();df?df("error",t,...i):console.error(t,...i)}function uf(...i){let t=i.join(" ");t in XX||(XX[t]=!0,Lt(...i))}function JY(i,t,e){return new Promise(function(n,r){function o(){switch(i.clientWaitSync(t,i.SYNC_FLUSH_COMMANDS_BIT,0)){case i.WAIT_FAILED:r();break;case i.TIMEOUT_EXPIRED:setTimeout(o,e);break;default:n()}}setTimeout(o,e)})}var fc=class{addEventListener(t,e){this._listeners===void 0&&(this._listeners={});let n=this._listeners;n[t]===void 0&&(n[t]=[]),n[t].indexOf(e)===-1&&n[t].push(e)}hasEventListener(t,e){let n=this._listeners;return n===void 0?!1:n[t]!==void 0&&n[t].indexOf(e)!==-1}removeEventListener(t,e){let n=this._listeners;if(n===void 0)return;let r=n[t];if(r!==void 0){let o=r.indexOf(e);o!==-1&&r.splice(o,1)}}dispatchEvent(t){let e=this._listeners;if(e===void 0)return;let n=e[t.type];if(n!==void 0){t.target=this;let r=n.slice(0);for(let o=0,s=r.length;o<s;o++)r[o].call(this,t);t.target=null}}},lo=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"],YX=1234567,Ab=Math.PI/180,hf=180/Math.PI;function Mf(){let i=Math.random()*4294967295|0,t=Math.random()*4294967295|0,e=Math.random()*4294967295|0,n=Math.random()*4294967295|0;return(lo[i&255]+lo[i>>8&255]+lo[i>>16&255]+lo[i>>24&255]+"-"+lo[t&255]+lo[t>>8&255]+"-"+lo[t>>16&15|64]+lo[t>>24&255]+"-"+lo[e&63|128]+lo[e>>8&255]+"-"+lo[e>>16&255]+lo[e>>24&255]+lo[n&255]+lo[n>>8&255]+lo[n>>16&255]+lo[n>>24&255]).toLowerCase()}function Ei(i,t,e){return Math.max(t,Math.min(e,i))}function WL(i,t){return(i%t+t)%t}function fxe(i,t,e,n,r){return n+(i-t)*(r-n)/(e-t)}function gxe(i,t,e){return i!==t?(e-i)/(t-i):0}function Pb(i,t,e){return(1-e)*i+e*t}function _xe(i,t,e,n){return Pb(i,t,1-Math.exp(-e*n))}function bxe(i,t=1){return t-Math.abs(WL(i,t*2)-t)}function vxe(i,t,e){return i<=t?0:i>=e?1:(i=(i-t)/(e-t),i*i*(3-2*i))}function yxe(i,t,e){return i<=t?0:i>=e?1:(i=(i-t)/(e-t),i*i*i*(i*(i*6-15)+10))}function xxe(i,t){return i+Math.floor(Math.random()*(t-i+1))}function wxe(i,t){return i+Math.random()*(t-i)}function Mxe(i){return i*(.5-Math.random())}function Cxe(i){i!==void 0&&(YX=i);let t=YX+=1831565813;return t=Math.imul(t^t>>>15,t|1),t^=t+Math.imul(t^t>>>7,t|61),((t^t>>>14)>>>0)/4294967296}function Sxe(i){return i*Ab}function Exe(i){return i*hf}function Txe(i){return(i&i-1)===0&&i!==0}function Ixe(i){return Math.pow(2,Math.ceil(Math.log(i)/Math.LN2))}function Dxe(i){return Math.pow(2,Math.floor(Math.log(i)/Math.LN2))}function kxe(i,t,e,n,r){let o=Math.cos,s=Math.sin,a=o(e/2),c=s(e/2),l=o((t+n)/2),d=s((t+n)/2),u=o((t-n)/2),h=s((t-n)/2),m=o((n-t)/2),p=s((n-t)/2);switch(r){case"XYX":i.set(a*d,c*u,c*h,a*l);break;case"YZY":i.set(c*h,a*d,c*u,a*l);break;case"ZXZ":i.set(c*u,c*h,a*d,a*l);break;case"XZX":i.set(a*d,c*p,c*m,a*l);break;case"YXY":i.set(c*m,a*d,c*p,a*l);break;case"ZYZ":i.set(c*p,c*m,a*d,a*l);break;default:Lt("MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+r)}}function cf(i,t){switch(t.constructor){case Float32Array:return i;case Uint32Array:return i/4294967295;case Uint16Array:return i/65535;case Uint8Array:return i/255;case Int32Array:return Math.max(i/2147483647,-1);case Int16Array:return Math.max(i/32767,-1);case Int8Array:return Math.max(i/127,-1);default:throw new Error("Invalid component type.")}}function Po(i,t){switch(t.constructor){case Float32Array:return i;case Uint32Array:return Math.round(i*4294967295);case Uint16Array:return Math.round(i*65535);case Uint8Array:return Math.round(i*255);case Int32Array:return Math.round(i*2147483647);case Int16Array:return Math.round(i*32767);case Int8Array:return Math.round(i*127);default:throw new Error("Invalid component type.")}}var qL={DEG2RAD:Ab,RAD2DEG:hf,generateUUID:Mf,clamp:Ei,euclideanModulo:WL,mapLinear:fxe,inverseLerp:gxe,lerp:Pb,damp:_xe,pingpong:bxe,smoothstep:vxe,smootherstep:yxe,randInt:xxe,randFloat:wxe,randFloatSpread:Mxe,seededRandom:Cxe,degToRad:Sxe,radToDeg:Exe,isPowerOfTwo:Txe,ceilPowerOfTwo:Ixe,floorPowerOfTwo:Dxe,setQuaternionFromProperEuler:kxe,normalize:Po,denormalize:cf},Ut=class i{constructor(t=0,e=0){i.prototype.isVector2=!0,this.x=t,this.y=e}get width(){return this.x}set width(t){this.x=t}get height(){return this.y}set height(t){this.y=t}set(t,e){return this.x=t,this.y=e,this}setScalar(t){return this.x=t,this.y=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setComponent(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;default:throw new Error("index is out of range: "+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+t)}}clone(){return new this.constructor(this.x,this.y)}copy(t){return this.x=t.x,this.y=t.y,this}add(t){return this.x+=t.x,this.y+=t.y,this}addScalar(t){return this.x+=t,this.y+=t,this}addVectors(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this}addScaledVector(t,e){return this.x+=t.x*e,this.y+=t.y*e,this}sub(t){return this.x-=t.x,this.y-=t.y,this}subScalar(t){return this.x-=t,this.y-=t,this}subVectors(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this}multiply(t){return this.x*=t.x,this.y*=t.y,this}multiplyScalar(t){return this.x*=t,this.y*=t,this}divide(t){return this.x/=t.x,this.y/=t.y,this}divideScalar(t){return this.multiplyScalar(1/t)}applyMatrix3(t){let e=this.x,n=this.y,r=t.elements;return this.x=r[0]*e+r[3]*n+r[6],this.y=r[1]*e+r[4]*n+r[7],this}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this}clamp(t,e){return this.x=Ei(this.x,t.x,e.x),this.y=Ei(this.y,t.y,e.y),this}clampScalar(t,e){return this.x=Ei(this.x,t,e),this.y=Ei(this.y,t,e),this}clampLength(t,e){let n=this.length();return this.divideScalar(n||1).multiplyScalar(Ei(n,t,e))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(t){return this.x*t.x+this.y*t.y}cross(t){return this.x*t.y-this.y*t.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(t){let e=Math.sqrt(this.lengthSq()*t.lengthSq());if(e===0)return Math.PI/2;let n=this.dot(t)/e;return Math.acos(Ei(n,-1,1))}distanceTo(t){return Math.sqrt(this.distanceToSquared(t))}distanceToSquared(t){let e=this.x-t.x,n=this.y-t.y;return e*e+n*n}manhattanDistanceTo(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this}lerpVectors(t,e,n){return this.x=t.x+(e.x-t.x)*n,this.y=t.y+(e.y-t.y)*n,this}equals(t){return t.x===this.x&&t.y===this.y}fromArray(t,e=0){return this.x=t[e],this.y=t[e+1],this}toArray(t=[],e=0){return t[e]=this.x,t[e+1]=this.y,t}fromBufferAttribute(t,e){return this.x=t.getX(e),this.y=t.getY(e),this}rotateAround(t,e){let n=Math.cos(e),r=Math.sin(e),o=this.x-t.x,s=this.y-t.y;return this.x=o*n-s*r+t.x,this.y=o*r+s*n+t.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}},Vn=class{constructor(t=0,e=0,n=0,r=1){this.isQuaternion=!0,this._x=t,this._y=e,this._z=n,this._w=r}static slerpFlat(t,e,n,r,o,s,a){let c=n[r+0],l=n[r+1],d=n[r+2],u=n[r+3],h=o[s+0],m=o[s+1],p=o[s+2],_=o[s+3];if(a<=0){t[e+0]=c,t[e+1]=l,t[e+2]=d,t[e+3]=u;return}if(a>=1){t[e+0]=h,t[e+1]=m,t[e+2]=p,t[e+3]=_;return}if(u!==_||c!==h||l!==m||d!==p){let f=c*h+l*m+d*p+u*_;f<0&&(h=-h,m=-m,p=-p,_=-_,f=-f);let g=1-a;if(f<.9995){let C=Math.acos(f),M=Math.sin(C);g=Math.sin(g*C)/M,a=Math.sin(a*C)/M,c=c*g+h*a,l=l*g+m*a,d=d*g+p*a,u=u*g+_*a}else{c=c*g+h*a,l=l*g+m*a,d=d*g+p*a,u=u*g+_*a;let C=1/Math.sqrt(c*c+l*l+d*d+u*u);c*=C,l*=C,d*=C,u*=C}}t[e]=c,t[e+1]=l,t[e+2]=d,t[e+3]=u}static multiplyQuaternionsFlat(t,e,n,r,o,s){let a=n[r],c=n[r+1],l=n[r+2],d=n[r+3],u=o[s],h=o[s+1],m=o[s+2],p=o[s+3];return t[e]=a*p+d*u+c*m-l*h,t[e+1]=c*p+d*h+l*u-a*m,t[e+2]=l*p+d*m+a*h-c*u,t[e+3]=d*p-a*u-c*h-l*m,t}get x(){return this._x}set x(t){this._x=t,this._onChangeCallback()}get y(){return this._y}set y(t){this._y=t,this._onChangeCallback()}get z(){return this._z}set z(t){this._z=t,this._onChangeCallback()}get w(){return this._w}set w(t){this._w=t,this._onChangeCallback()}set(t,e,n,r){return this._x=t,this._y=e,this._z=n,this._w=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(t){return this._x=t.x,this._y=t.y,this._z=t.z,this._w=t.w,this._onChangeCallback(),this}setFromEuler(t,e=!0){let n=t._x,r=t._y,o=t._z,s=t._order,a=Math.cos,c=Math.sin,l=a(n/2),d=a(r/2),u=a(o/2),h=c(n/2),m=c(r/2),p=c(o/2);switch(s){case"XYZ":this._x=h*d*u+l*m*p,this._y=l*m*u-h*d*p,this._z=l*d*p+h*m*u,this._w=l*d*u-h*m*p;break;case"YXZ":this._x=h*d*u+l*m*p,this._y=l*m*u-h*d*p,this._z=l*d*p-h*m*u,this._w=l*d*u+h*m*p;break;case"ZXY":this._x=h*d*u-l*m*p,this._y=l*m*u+h*d*p,this._z=l*d*p+h*m*u,this._w=l*d*u-h*m*p;break;case"ZYX":this._x=h*d*u-l*m*p,this._y=l*m*u+h*d*p,this._z=l*d*p-h*m*u,this._w=l*d*u+h*m*p;break;case"YZX":this._x=h*d*u+l*m*p,this._y=l*m*u+h*d*p,this._z=l*d*p-h*m*u,this._w=l*d*u-h*m*p;break;case"XZY":this._x=h*d*u-l*m*p,this._y=l*m*u-h*d*p,this._z=l*d*p+h*m*u,this._w=l*d*u+h*m*p;break;default:Lt("Quaternion: .setFromEuler() encountered an unknown order: "+s)}return e===!0&&this._onChangeCallback(),this}setFromAxisAngle(t,e){let n=e/2,r=Math.sin(n);return this._x=t.x*r,this._y=t.y*r,this._z=t.z*r,this._w=Math.cos(n),this._onChangeCallback(),this}setFromRotationMatrix(t){let e=t.elements,n=e[0],r=e[4],o=e[8],s=e[1],a=e[5],c=e[9],l=e[2],d=e[6],u=e[10],h=n+a+u;if(h>0){let m=.5/Math.sqrt(h+1);this._w=.25/m,this._x=(d-c)*m,this._y=(o-l)*m,this._z=(s-r)*m}else if(n>a&&n>u){let m=2*Math.sqrt(1+n-a-u);this._w=(d-c)/m,this._x=.25*m,this._y=(r+s)/m,this._z=(o+l)/m}else if(a>u){let m=2*Math.sqrt(1+a-n-u);this._w=(o-l)/m,this._x=(r+s)/m,this._y=.25*m,this._z=(c+d)/m}else{let m=2*Math.sqrt(1+u-n-a);this._w=(s-r)/m,this._x=(o+l)/m,this._y=(c+d)/m,this._z=.25*m}return this._onChangeCallback(),this}setFromUnitVectors(t,e){let n=t.dot(e)+1;return n<1e-8?(n=0,Math.abs(t.x)>Math.abs(t.z)?(this._x=-t.y,this._y=t.x,this._z=0,this._w=n):(this._x=0,this._y=-t.z,this._z=t.y,this._w=n)):(this._x=t.y*e.z-t.z*e.y,this._y=t.z*e.x-t.x*e.z,this._z=t.x*e.y-t.y*e.x,this._w=n),this.normalize()}angleTo(t){return 2*Math.acos(Math.abs(Ei(this.dot(t),-1,1)))}rotateTowards(t,e){let n=this.angleTo(t);if(n===0)return this;let r=Math.min(1,e/n);return this.slerp(t,r),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(t){return this._x*t._x+this._y*t._y+this._z*t._z+this._w*t._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let t=this.length();return t===0?(this._x=0,this._y=0,this._z=0,this._w=1):(t=1/t,this._x=this._x*t,this._y=this._y*t,this._z=this._z*t,this._w=this._w*t),this._onChangeCallback(),this}multiply(t){return this.multiplyQuaternions(this,t)}premultiply(t){return this.multiplyQuaternions(t,this)}multiplyQuaternions(t,e){let n=t._x,r=t._y,o=t._z,s=t._w,a=e._x,c=e._y,l=e._z,d=e._w;return this._x=n*d+s*a+r*l-o*c,this._y=r*d+s*c+o*a-n*l,this._z=o*d+s*l+n*c-r*a,this._w=s*d-n*a-r*c-o*l,this._onChangeCallback(),this}slerp(t,e){if(e<=0)return this;if(e>=1)return this.copy(t);let n=t._x,r=t._y,o=t._z,s=t._w,a=this.dot(t);a<0&&(n=-n,r=-r,o=-o,s=-s,a=-a);let c=1-e;if(a<.9995){let l=Math.acos(a),d=Math.sin(l);c=Math.sin(c*l)/d,e=Math.sin(e*l)/d,this._x=this._x*c+n*e,this._y=this._y*c+r*e,this._z=this._z*c+o*e,this._w=this._w*c+s*e,this._onChangeCallback()}else this._x=this._x*c+n*e,this._y=this._y*c+r*e,this._z=this._z*c+o*e,this._w=this._w*c+s*e,this.normalize();return this}slerpQuaternions(t,e,n){return this.copy(t).slerp(e,n)}random(){let t=2*Math.PI*Math.random(),e=2*Math.PI*Math.random(),n=Math.random(),r=Math.sqrt(1-n),o=Math.sqrt(n);return this.set(r*Math.sin(t),r*Math.cos(t),o*Math.sin(e),o*Math.cos(e))}equals(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._w===this._w}fromArray(t,e=0){return this._x=t[e],this._y=t[e+1],this._z=t[e+2],this._w=t[e+3],this._onChangeCallback(),this}toArray(t=[],e=0){return t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._w,t}fromBufferAttribute(t,e){return this._x=t.getX(e),this._y=t.getY(e),this._z=t.getZ(e),this._w=t.getW(e),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(t){return this._onChangeCallback=t,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}},j=class i{constructor(t=0,e=0,n=0){i.prototype.isVector3=!0,this.x=t,this.y=e,this.z=n}set(t,e,n){return n===void 0&&(n=this.z),this.x=t,this.y=e,this.z=n,this}setScalar(t){return this.x=t,this.y=t,this.z=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setZ(t){return this.z=t,this}setComponent(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;default:throw new Error("index is out of range: "+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+t)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(t){return this.x=t.x,this.y=t.y,this.z=t.z,this}add(t){return this.x+=t.x,this.y+=t.y,this.z+=t.z,this}addScalar(t){return this.x+=t,this.y+=t,this.z+=t,this}addVectors(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this}addScaledVector(t,e){return this.x+=t.x*e,this.y+=t.y*e,this.z+=t.z*e,this}sub(t){return this.x-=t.x,this.y-=t.y,this.z-=t.z,this}subScalar(t){return this.x-=t,this.y-=t,this.z-=t,this}subVectors(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this}multiply(t){return this.x*=t.x,this.y*=t.y,this.z*=t.z,this}multiplyScalar(t){return this.x*=t,this.y*=t,this.z*=t,this}multiplyVectors(t,e){return this.x=t.x*e.x,this.y=t.y*e.y,this.z=t.z*e.z,this}applyEuler(t){return this.applyQuaternion(ZX.setFromEuler(t))}applyAxisAngle(t,e){return this.applyQuaternion(ZX.setFromAxisAngle(t,e))}applyMatrix3(t){let e=this.x,n=this.y,r=this.z,o=t.elements;return this.x=o[0]*e+o[3]*n+o[6]*r,this.y=o[1]*e+o[4]*n+o[7]*r,this.z=o[2]*e+o[5]*n+o[8]*r,this}applyNormalMatrix(t){return this.applyMatrix3(t).normalize()}applyMatrix4(t){let e=this.x,n=this.y,r=this.z,o=t.elements,s=1/(o[3]*e+o[7]*n+o[11]*r+o[15]);return this.x=(o[0]*e+o[4]*n+o[8]*r+o[12])*s,this.y=(o[1]*e+o[5]*n+o[9]*r+o[13])*s,this.z=(o[2]*e+o[6]*n+o[10]*r+o[14])*s,this}applyQuaternion(t){let e=this.x,n=this.y,r=this.z,o=t.x,s=t.y,a=t.z,c=t.w,l=2*(s*r-a*n),d=2*(a*e-o*r),u=2*(o*n-s*e);return this.x=e+c*l+s*u-a*d,this.y=n+c*d+a*l-o*u,this.z=r+c*u+o*d-s*l,this}project(t){return this.applyMatrix4(t.matrixWorldInverse).applyMatrix4(t.projectionMatrix)}unproject(t){return this.applyMatrix4(t.projectionMatrixInverse).applyMatrix4(t.matrixWorld)}transformDirection(t){let e=this.x,n=this.y,r=this.z,o=t.elements;return this.x=o[0]*e+o[4]*n+o[8]*r,this.y=o[1]*e+o[5]*n+o[9]*r,this.z=o[2]*e+o[6]*n+o[10]*r,this.normalize()}divide(t){return this.x/=t.x,this.y/=t.y,this.z/=t.z,this}divideScalar(t){return this.multiplyScalar(1/t)}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this}clamp(t,e){return this.x=Ei(this.x,t.x,e.x),this.y=Ei(this.y,t.y,e.y),this.z=Ei(this.z,t.z,e.z),this}clampScalar(t,e){return this.x=Ei(this.x,t,e),this.y=Ei(this.y,t,e),this.z=Ei(this.z,t,e),this}clampLength(t,e){let n=this.length();return this.divideScalar(n||1).multiplyScalar(Ei(n,t,e))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(t){return this.x*t.x+this.y*t.y+this.z*t.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this}lerpVectors(t,e,n){return this.x=t.x+(e.x-t.x)*n,this.y=t.y+(e.y-t.y)*n,this.z=t.z+(e.z-t.z)*n,this}cross(t){return this.crossVectors(this,t)}crossVectors(t,e){let n=t.x,r=t.y,o=t.z,s=e.x,a=e.y,c=e.z;return this.x=r*c-o*a,this.y=o*s-n*c,this.z=n*a-r*s,this}projectOnVector(t){let e=t.lengthSq();if(e===0)return this.set(0,0,0);let n=t.dot(this)/e;return this.copy(t).multiplyScalar(n)}projectOnPlane(t){return $F.copy(this).projectOnVector(t),this.sub($F)}reflect(t){return this.sub($F.copy(t).multiplyScalar(2*this.dot(t)))}angleTo(t){let e=Math.sqrt(this.lengthSq()*t.lengthSq());if(e===0)return Math.PI/2;let n=this.dot(t)/e;return Math.acos(Ei(n,-1,1))}distanceTo(t){return Math.sqrt(this.distanceToSquared(t))}distanceToSquared(t){let e=this.x-t.x,n=this.y-t.y,r=this.z-t.z;return e*e+n*n+r*r}manhattanDistanceTo(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)+Math.abs(this.z-t.z)}setFromSpherical(t){return this.setFromSphericalCoords(t.radius,t.phi,t.theta)}setFromSphericalCoords(t,e,n){let r=Math.sin(e)*t;return this.x=r*Math.sin(n),this.y=Math.cos(e)*t,this.z=r*Math.cos(n),this}setFromCylindrical(t){return this.setFromCylindricalCoords(t.radius,t.theta,t.y)}setFromCylindricalCoords(t,e,n){return this.x=t*Math.sin(e),this.y=n,this.z=t*Math.cos(e),this}setFromMatrixPosition(t){let e=t.elements;return this.x=e[12],this.y=e[13],this.z=e[14],this}setFromMatrixScale(t){let e=this.setFromMatrixColumn(t,0).length(),n=this.setFromMatrixColumn(t,1).length(),r=this.setFromMatrixColumn(t,2).length();return this.x=e,this.y=n,this.z=r,this}setFromMatrixColumn(t,e){return this.fromArray(t.elements,e*4)}setFromMatrix3Column(t,e){return this.fromArray(t.elements,e*3)}setFromEuler(t){return this.x=t._x,this.y=t._y,this.z=t._z,this}setFromColor(t){return this.x=t.r,this.y=t.g,this.z=t.b,this}equals(t){return t.x===this.x&&t.y===this.y&&t.z===this.z}fromArray(t,e=0){return this.x=t[e],this.y=t[e+1],this.z=t[e+2],this}toArray(t=[],e=0){return t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t}fromBufferAttribute(t,e){return this.x=t.getX(e),this.y=t.getY(e),this.z=t.getZ(e),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){let t=Math.random()*Math.PI*2,e=Math.random()*2-1,n=Math.sqrt(1-e*e);return this.x=n*Math.cos(t),this.y=e,this.z=n*Math.sin(t),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}},$F=new j,ZX=new Vn,di=class i{constructor(t,e,n,r,o,s,a,c,l){i.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],t!==void 0&&this.set(t,e,n,r,o,s,a,c,l)}set(t,e,n,r,o,s,a,c,l){let d=this.elements;return d[0]=t,d[1]=r,d[2]=a,d[3]=e,d[4]=o,d[5]=c,d[6]=n,d[7]=s,d[8]=l,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(t){let e=this.elements,n=t.elements;return e[0]=n[0],e[1]=n[1],e[2]=n[2],e[3]=n[3],e[4]=n[4],e[5]=n[5],e[6]=n[6],e[7]=n[7],e[8]=n[8],this}extractBasis(t,e,n){return t.setFromMatrix3Column(this,0),e.setFromMatrix3Column(this,1),n.setFromMatrix3Column(this,2),this}setFromMatrix4(t){let e=t.elements;return this.set(e[0],e[4],e[8],e[1],e[5],e[9],e[2],e[6],e[10]),this}multiply(t){return this.multiplyMatrices(this,t)}premultiply(t){return this.multiplyMatrices(t,this)}multiplyMatrices(t,e){let n=t.elements,r=e.elements,o=this.elements,s=n[0],a=n[3],c=n[6],l=n[1],d=n[4],u=n[7],h=n[2],m=n[5],p=n[8],_=r[0],f=r[3],g=r[6],C=r[1],M=r[4],S=r[7],R=r[2],N=r[5],L=r[8];return o[0]=s*_+a*C+c*R,o[3]=s*f+a*M+c*N,o[6]=s*g+a*S+c*L,o[1]=l*_+d*C+u*R,o[4]=l*f+d*M+u*N,o[7]=l*g+d*S+u*L,o[2]=h*_+m*C+p*R,o[5]=h*f+m*M+p*N,o[8]=h*g+m*S+p*L,this}multiplyScalar(t){let e=this.elements;return e[0]*=t,e[3]*=t,e[6]*=t,e[1]*=t,e[4]*=t,e[7]*=t,e[2]*=t,e[5]*=t,e[8]*=t,this}determinant(){let t=this.elements,e=t[0],n=t[1],r=t[2],o=t[3],s=t[4],a=t[5],c=t[6],l=t[7],d=t[8];return e*s*d-e*a*l-n*o*d+n*a*c+r*o*l-r*s*c}invert(){let t=this.elements,e=t[0],n=t[1],r=t[2],o=t[3],s=t[4],a=t[5],c=t[6],l=t[7],d=t[8],u=d*s-a*l,h=a*c-d*o,m=l*o-s*c,p=e*u+n*h+r*m;if(p===0)return this.set(0,0,0,0,0,0,0,0,0);let _=1/p;return t[0]=u*_,t[1]=(r*l-d*n)*_,t[2]=(a*n-r*s)*_,t[3]=h*_,t[4]=(d*e-r*c)*_,t[5]=(r*o-a*e)*_,t[6]=m*_,t[7]=(n*c-l*e)*_,t[8]=(s*e-n*o)*_,this}transpose(){let t,e=this.elements;return t=e[1],e[1]=e[3],e[3]=t,t=e[2],e[2]=e[6],e[6]=t,t=e[5],e[5]=e[7],e[7]=t,this}getNormalMatrix(t){return this.setFromMatrix4(t).invert().transpose()}transposeIntoArray(t){let e=this.elements;return t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8],this}setUvTransform(t,e,n,r,o,s,a){let c=Math.cos(o),l=Math.sin(o);return this.set(n*c,n*l,-n*(c*s+l*a)+s+t,-r*l,r*c,-r*(-l*s+c*a)+a+e,0,0,1),this}scale(t,e){return this.premultiply(GF.makeScale(t,e)),this}rotate(t){return this.premultiply(GF.makeRotation(-t)),this}translate(t,e){return this.premultiply(GF.makeTranslation(t,e)),this}makeTranslation(t,e){return t.isVector2?this.set(1,0,t.x,0,1,t.y,0,0,1):this.set(1,0,t,0,1,e,0,0,1),this}makeRotation(t){let e=Math.cos(t),n=Math.sin(t);return this.set(e,-n,0,n,e,0,0,0,1),this}makeScale(t,e){return this.set(t,0,0,0,e,0,0,0,1),this}equals(t){let e=this.elements,n=t.elements;for(let r=0;r<9;r++)if(e[r]!==n[r])return!1;return!0}fromArray(t,e=0){for(let n=0;n<9;n++)this.elements[n]=t[n+e];return this}toArray(t=[],e=0){let n=this.elements;return t[e]=n[0],t[e+1]=n[1],t[e+2]=n[2],t[e+3]=n[3],t[e+4]=n[4],t[e+5]=n[5],t[e+6]=n[6],t[e+7]=n[7],t[e+8]=n[8],t}clone(){return new this.constructor().fromArray(this.elements)}},GF=new di,KX=new di().set(.4123908,.3575843,.1804808,.212639,.7151687,.0721923,.0193308,.1191948,.9505322),QX=new di().set(3.2409699,-1.5373832,-.4986108,-.9692436,1.8759675,.0415551,.0556301,-.203977,1.0569715);function Axe(){let i={enabled:!0,workingColorSpace:Ah,spaces:{},convert:function(r,o,s){return this.enabled===!1||o===s||!o||!s||(this.spaces[o].transfer===Zi&&(r.r=Cl(r.r),r.g=Cl(r.g),r.b=Cl(r.b)),this.spaces[o].primaries!==this.spaces[s].primaries&&(r.applyMatrix3(this.spaces[o].toXYZ),r.applyMatrix3(this.spaces[s].fromXYZ)),this.spaces[s].transfer===Zi&&(r.r=lf(r.r),r.g=lf(r.g),r.b=lf(r.b))),r},workingToColorSpace:function(r,o){return this.convert(r,this.workingColorSpace,o)},colorSpaceToWorking:function(r,o){return this.convert(r,o,this.workingColorSpace)},getPrimaries:function(r){return this.spaces[r].primaries},getTransfer:function(r){return r===Il?Nb:this.spaces[r].transfer},getToneMappingMode:function(r){return this.spaces[r].outputColorSpaceConfig.toneMappingMode||"standard"},getLuminanceCoefficients:function(r,o=this.workingColorSpace){return r.fromArray(this.spaces[o].luminanceCoefficients)},define:function(r){Object.assign(this.spaces,r)},_getMatrix:function(r,o,s){return r.copy(this.spaces[o].toXYZ).multiply(this.spaces[s].fromXYZ)},_getDrawingBufferColorSpace:function(r){return this.spaces[r].outputColorSpaceConfig.drawingBufferColorSpace},_getUnpackColorSpace:function(r=this.workingColorSpace){return this.spaces[r].workingColorSpaceConfig.unpackColorSpace},fromWorkingColorSpace:function(r,o){return uf("ColorManagement: .fromWorkingColorSpace() has been renamed to .workingToColorSpace()."),i.workingToColorSpace(r,o)},toWorkingColorSpace:function(r,o){return uf("ColorManagement: .toWorkingColorSpace() has been renamed to .colorSpaceToWorking()."),i.colorSpaceToWorking(r,o)}},t=[.64,.33,.3,.6,.15,.06],e=[.2126,.7152,.0722],n=[.3127,.329];return i.define({[Ah]:{primaries:t,whitePoint:n,transfer:Nb,toXYZ:KX,fromXYZ:QX,luminanceCoefficients:e,workingColorSpaceConfig:{unpackColorSpace:_s},outputColorSpaceConfig:{drawingBufferColorSpace:_s}},[_s]:{primaries:t,whitePoint:n,transfer:Zi,toXYZ:KX,fromXYZ:QX,luminanceCoefficients:e,outputColorSpaceConfig:{drawingBufferColorSpace:_s}}}),i}var Ri=Axe();function Cl(i){return i<.04045?i*.0773993808:Math.pow(i*.9478672986+.0521327014,2.4)}function lf(i){return i<.0031308?i*12.92:1.055*Math.pow(i,.41666)-.055}var Yp,sC=class{static getDataURL(t,e="image/png"){if(/^data:/i.test(t.src)||typeof HTMLCanvasElement>"u")return t.src;let n;if(t instanceof HTMLCanvasElement)n=t;else{Yp===void 0&&(Yp=Fb("canvas")),Yp.width=t.width,Yp.height=t.height;let r=Yp.getContext("2d");t instanceof ImageData?r.putImageData(t,0,0):r.drawImage(t,0,0,t.width,t.height),n=Yp}return n.toDataURL(e)}static sRGBToLinear(t){if(typeof HTMLImageElement<"u"&&t instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&t instanceof ImageBitmap){let e=Fb("canvas");e.width=t.width,e.height=t.height;let n=e.getContext("2d");n.drawImage(t,0,0,t.width,t.height);let r=n.getImageData(0,0,t.width,t.height),o=r.data;for(let s=0;s<o.length;s++)o[s]=Cl(o[s]/255)*255;return n.putImageData(r,0,0),e}else if(t.data){let e=t.data.slice(0);for(let n=0;n<e.length;n++)e instanceof Uint8Array||e instanceof Uint8ClampedArray?e[n]=Math.floor(Cl(e[n]/255)*255):e[n]=Cl(e[n]);return{data:e,width:t.width,height:t.height}}else return Lt("ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),t}},Pxe=0,mf=class{constructor(t=null){this.isSource=!0,Object.defineProperty(this,"id",{value:Pxe++}),this.uuid=Mf(),this.data=t,this.dataReady=!0,this.version=0}getSize(t){let e=this.data;return typeof HTMLVideoElement<"u"&&e instanceof HTMLVideoElement?t.set(e.videoWidth,e.videoHeight,0):typeof VideoFrame<"u"&&e instanceof VideoFrame?t.set(e.displayHeight,e.displayWidth,0):e!==null?t.set(e.width,e.height,e.depth||0):t.set(0,0,0),t}set needsUpdate(t){t===!0&&this.version++}toJSON(t){let e=t===void 0||typeof t=="string";if(!e&&t.images[this.uuid]!==void 0)return t.images[this.uuid];let n={uuid:this.uuid,url:""},r=this.data;if(r!==null){let o;if(Array.isArray(r)){o=[];for(let s=0,a=r.length;s<a;s++)r[s].isDataTexture?o.push(WF(r[s].image)):o.push(WF(r[s]))}else o=WF(r);n.url=o}return e||(t.images[this.uuid]=n),n}};function WF(i){return typeof HTMLImageElement<"u"&&i instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&i instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&i instanceof ImageBitmap?sC.getDataURL(i):i.data?{data:Array.from(i.data),width:i.width,height:i.height,type:i.data.constructor.name}:(Lt("Texture: Unable to serialize Texture."),{})}var Rxe=0,qF=new j,yc=(()=>{class i extends fc{constructor(e=i.DEFAULT_IMAGE,n=i.DEFAULT_MAPPING,r=hc,o=hc,s=Yn,a=Qd,c=Gs,l=es,d=i.DEFAULT_ANISOTROPY,u=Il){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:Rxe++}),this.uuid=Mf(),this.name="",this.source=new mf(e),this.mipmaps=[],this.mapping=n,this.channel=0,this.wrapS=r,this.wrapT=o,this.magFilter=s,this.minFilter=a,this.anisotropy=d,this.format=c,this.internalFormat=null,this.type=l,this.offset=new Ut(0,0),this.repeat=new Ut(1,1),this.center=new Ut(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new di,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=u,this.userData={},this.updateRanges=[],this.version=0,this.onUpdate=null,this.renderTarget=null,this.isRenderTargetTexture=!1,this.isArrayTexture=!!(e&&e.depth&&e.depth>1),this.pmremVersion=0}get width(){return this.source.getSize(qF).x}get height(){return this.source.getSize(qF).y}get depth(){return this.source.getSize(qF).z}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}addUpdateRange(e,n){this.updateRanges.push({start:e,count:n})}clearUpdateRanges(){this.updateRanges.length=0}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.renderTarget=e.renderTarget,this.isRenderTargetTexture=e.isRenderTargetTexture,this.isArrayTexture=e.isArrayTexture,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}setValues(e){for(let n in e){let r=e[n];if(r===void 0){Lt(`Texture.setValues(): parameter '${n}' has value of undefined.`);continue}let o=this[n];if(o===void 0){Lt(`Texture.setValues(): property '${n}' does not exist.`);continue}o&&r&&o.isVector2&&r.isVector2||o&&r&&o.isVector3&&r.isVector3||o&&r&&o.isMatrix3&&r.isMatrix3?o.copy(r):this[n]=r}}toJSON(e){let n=e===void 0||typeof e=="string";if(!n&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];let r={metadata:{version:4.7,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(r.userData=this.userData),n||(e.textures[this.uuid]=r),r}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==mL)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case nC:e.x=e.x-Math.floor(e.x);break;case hc:e.x=e.x<0?0:1;break;case rC:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case nC:e.y=e.y-Math.floor(e.y);break;case hc:e.y=e.y<0?0:1;break;case rC:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(e){e===!0&&this.pmremVersion++}}return i.DEFAULT_IMAGE=null,i.DEFAULT_MAPPING=mL,i.DEFAULT_ANISOTROPY=1,i})(),Un=class i{constructor(t=0,e=0,n=0,r=1){i.prototype.isVector4=!0,this.x=t,this.y=e,this.z=n,this.w=r}get width(){return this.z}set width(t){this.z=t}get height(){return this.w}set height(t){this.w=t}set(t,e,n,r){return this.x=t,this.y=e,this.z=n,this.w=r,this}setScalar(t){return this.x=t,this.y=t,this.z=t,this.w=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setZ(t){return this.z=t,this}setW(t){return this.w=t,this}setComponent(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;case 3:this.w=e;break;default:throw new Error("index is out of range: "+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+t)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(t){return this.x=t.x,this.y=t.y,this.z=t.z,this.w=t.w!==void 0?t.w:1,this}add(t){return this.x+=t.x,this.y+=t.y,this.z+=t.z,this.w+=t.w,this}addScalar(t){return this.x+=t,this.y+=t,this.z+=t,this.w+=t,this}addVectors(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this.w=t.w+e.w,this}addScaledVector(t,e){return this.x+=t.x*e,this.y+=t.y*e,this.z+=t.z*e,this.w+=t.w*e,this}sub(t){return this.x-=t.x,this.y-=t.y,this.z-=t.z,this.w-=t.w,this}subScalar(t){return this.x-=t,this.y-=t,this.z-=t,this.w-=t,this}subVectors(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this.w=t.w-e.w,this}multiply(t){return this.x*=t.x,this.y*=t.y,this.z*=t.z,this.w*=t.w,this}multiplyScalar(t){return this.x*=t,this.y*=t,this.z*=t,this.w*=t,this}applyMatrix4(t){let e=this.x,n=this.y,r=this.z,o=this.w,s=t.elements;return this.x=s[0]*e+s[4]*n+s[8]*r+s[12]*o,this.y=s[1]*e+s[5]*n+s[9]*r+s[13]*o,this.z=s[2]*e+s[6]*n+s[10]*r+s[14]*o,this.w=s[3]*e+s[7]*n+s[11]*r+s[15]*o,this}divide(t){return this.x/=t.x,this.y/=t.y,this.z/=t.z,this.w/=t.w,this}divideScalar(t){return this.multiplyScalar(1/t)}setAxisAngleFromQuaternion(t){this.w=2*Math.acos(t.w);let e=Math.sqrt(1-t.w*t.w);return e<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=t.x/e,this.y=t.y/e,this.z=t.z/e),this}setAxisAngleFromRotationMatrix(t){let e,n,r,o,c=t.elements,l=c[0],d=c[4],u=c[8],h=c[1],m=c[5],p=c[9],_=c[2],f=c[6],g=c[10];if(Math.abs(d-h)<.01&&Math.abs(u-_)<.01&&Math.abs(p-f)<.01){if(Math.abs(d+h)<.1&&Math.abs(u+_)<.1&&Math.abs(p+f)<.1&&Math.abs(l+m+g-3)<.1)return this.set(1,0,0,0),this;e=Math.PI;let M=(l+1)/2,S=(m+1)/2,R=(g+1)/2,N=(d+h)/4,L=(u+_)/4,z=(p+f)/4;return M>S&&M>R?M<.01?(n=0,r=.707106781,o=.707106781):(n=Math.sqrt(M),r=N/n,o=L/n):S>R?S<.01?(n=.707106781,r=0,o=.707106781):(r=Math.sqrt(S),n=N/r,o=z/r):R<.01?(n=.707106781,r=.707106781,o=0):(o=Math.sqrt(R),n=L/o,r=z/o),this.set(n,r,o,e),this}let C=Math.sqrt((f-p)*(f-p)+(u-_)*(u-_)+(h-d)*(h-d));return Math.abs(C)<.001&&(C=1),this.x=(f-p)/C,this.y=(u-_)/C,this.z=(h-d)/C,this.w=Math.acos((l+m+g-1)/2),this}setFromMatrixPosition(t){let e=t.elements;return this.x=e[12],this.y=e[13],this.z=e[14],this.w=e[15],this}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this.w=Math.min(this.w,t.w),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this.w=Math.max(this.w,t.w),this}clamp(t,e){return this.x=Ei(this.x,t.x,e.x),this.y=Ei(this.y,t.y,e.y),this.z=Ei(this.z,t.z,e.z),this.w=Ei(this.w,t.w,e.w),this}clampScalar(t,e){return this.x=Ei(this.x,t,e),this.y=Ei(this.y,t,e),this.z=Ei(this.z,t,e),this.w=Ei(this.w,t,e),this}clampLength(t,e){let n=this.length();return this.divideScalar(n||1).multiplyScalar(Ei(n,t,e))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(t){return this.x*t.x+this.y*t.y+this.z*t.z+this.w*t.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this.w+=(t.w-this.w)*e,this}lerpVectors(t,e,n){return this.x=t.x+(e.x-t.x)*n,this.y=t.y+(e.y-t.y)*n,this.z=t.z+(e.z-t.z)*n,this.w=t.w+(e.w-t.w)*n,this}equals(t){return t.x===this.x&&t.y===this.y&&t.z===this.z&&t.w===this.w}fromArray(t,e=0){return this.x=t[e],this.y=t[e+1],this.z=t[e+2],this.w=t[e+3],this}toArray(t=[],e=0){return t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t[e+3]=this.w,t}fromBufferAttribute(t,e){return this.x=t.getX(e),this.y=t.getY(e),this.z=t.getZ(e),this.w=t.getW(e),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}},aC=class extends fc{constructor(t=1,e=1,n={}){super(),n=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:Yn,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1,depth:1,multiview:!1},n),this.isRenderTarget=!0,this.width=t,this.height=e,this.depth=n.depth,this.scissor=new Un(0,0,t,e),this.scissorTest=!1,this.viewport=new Un(0,0,t,e);let r={width:t,height:e,depth:n.depth},o=new yc(r);this.textures=[];let s=n.count;for(let a=0;a<s;a++)this.textures[a]=o.clone(),this.textures[a].isRenderTargetTexture=!0,this.textures[a].renderTarget=this;this._setTextureOptions(n),this.depthBuffer=n.depthBuffer,this.stencilBuffer=n.stencilBuffer,this.resolveDepthBuffer=n.resolveDepthBuffer,this.resolveStencilBuffer=n.resolveStencilBuffer,this._depthTexture=null,this.depthTexture=n.depthTexture,this.samples=n.samples,this.multiview=n.multiview}_setTextureOptions(t={}){let e={minFilter:Yn,generateMipmaps:!1,flipY:!1,internalFormat:null};t.mapping!==void 0&&(e.mapping=t.mapping),t.wrapS!==void 0&&(e.wrapS=t.wrapS),t.wrapT!==void 0&&(e.wrapT=t.wrapT),t.wrapR!==void 0&&(e.wrapR=t.wrapR),t.magFilter!==void 0&&(e.magFilter=t.magFilter),t.minFilter!==void 0&&(e.minFilter=t.minFilter),t.format!==void 0&&(e.format=t.format),t.type!==void 0&&(e.type=t.type),t.anisotropy!==void 0&&(e.anisotropy=t.anisotropy),t.colorSpace!==void 0&&(e.colorSpace=t.colorSpace),t.flipY!==void 0&&(e.flipY=t.flipY),t.generateMipmaps!==void 0&&(e.generateMipmaps=t.generateMipmaps),t.internalFormat!==void 0&&(e.internalFormat=t.internalFormat);for(let n=0;n<this.textures.length;n++)this.textures[n].setValues(e)}get texture(){return this.textures[0]}set texture(t){this.textures[0]=t}set depthTexture(t){this._depthTexture!==null&&(this._depthTexture.renderTarget=null),t!==null&&(t.renderTarget=this),this._depthTexture=t}get depthTexture(){return this._depthTexture}setSize(t,e,n=1){if(this.width!==t||this.height!==e||this.depth!==n){this.width=t,this.height=e,this.depth=n;for(let r=0,o=this.textures.length;r<o;r++)this.textures[r].image.width=t,this.textures[r].image.height=e,this.textures[r].image.depth=n,this.textures[r].isData3DTexture!==!0&&(this.textures[r].isArrayTexture=this.textures[r].image.depth>1);this.dispose()}this.viewport.set(0,0,t,e),this.scissor.set(0,0,t,e)}clone(){return new this.constructor().copy(this)}copy(t){this.width=t.width,this.height=t.height,this.depth=t.depth,this.scissor.copy(t.scissor),this.scissorTest=t.scissorTest,this.viewport.copy(t.viewport),this.textures.length=0;for(let e=0,n=t.textures.length;e<n;e++){this.textures[e]=t.textures[e].clone(),this.textures[e].isRenderTargetTexture=!0,this.textures[e].renderTarget=this;let r=Object.assign({},t.textures[e].image);this.textures[e].source=new mf(r)}return this.depthBuffer=t.depthBuffer,this.stencilBuffer=t.stencilBuffer,this.resolveDepthBuffer=t.resolveDepthBuffer,this.resolveStencilBuffer=t.resolveStencilBuffer,t.depthTexture!==null&&(this.depthTexture=t.depthTexture.clone()),this.samples=t.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}},vs=class extends aC{constructor(t=1,e=1,n={}){super(t,e,n),this.isWebGLRenderTarget=!0}},Lb=class extends yc{constructor(t=null,e=1,n=1,r=1){super(null),this.isDataArrayTexture=!0,this.image={data:t,width:e,height:n,depth:r},this.magFilter=Br,this.minFilter=Br,this.wrapR=hc,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.layerUpdates=new Set}addLayerUpdate(t){this.layerUpdates.add(t)}clearLayerUpdates(){this.layerUpdates.clear()}};var cC=class extends yc{constructor(t=null,e=1,n=1,r=1){super(null),this.isData3DTexture=!0,this.image={data:t,width:e,height:n,depth:r},this.magFilter=Br,this.minFilter=Br,this.wrapR=hc,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}};var gc=class{constructor(t=new j(1/0,1/0,1/0),e=new j(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=t,this.max=e}set(t,e){return this.min.copy(t),this.max.copy(e),this}setFromArray(t){this.makeEmpty();for(let e=0,n=t.length;e<n;e+=3)this.expandByPoint(wa.fromArray(t,e));return this}setFromBufferAttribute(t){this.makeEmpty();for(let e=0,n=t.count;e<n;e++)this.expandByPoint(wa.fromBufferAttribute(t,e));return this}setFromPoints(t){this.makeEmpty();for(let e=0,n=t.length;e<n;e++)this.expandByPoint(t[e]);return this}setFromCenterAndSize(t,e){let n=wa.copy(e).multiplyScalar(.5);return this.min.copy(t).sub(n),this.max.copy(t).add(n),this}setFromObject(t,e=!1){return this.makeEmpty(),this.expandByObject(t,e)}clone(){return new this.constructor().copy(this)}copy(t){return this.min.copy(t.min),this.max.copy(t.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(t){return this.isEmpty()?t.set(0,0,0):t.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(t){return this.isEmpty()?t.set(0,0,0):t.subVectors(this.max,this.min)}expandByPoint(t){return this.min.min(t),this.max.max(t),this}expandByVector(t){return this.min.sub(t),this.max.add(t),this}expandByScalar(t){return this.min.addScalar(-t),this.max.addScalar(t),this}expandByObject(t,e=!1){t.updateWorldMatrix(!1,!1);let n=t.geometry;if(n!==void 0){let o=n.getAttribute("position");if(e===!0&&o!==void 0&&t.isInstancedMesh!==!0)for(let s=0,a=o.count;s<a;s++)t.isMesh===!0?t.getVertexPosition(s,wa):wa.fromBufferAttribute(o,s),wa.applyMatrix4(t.matrixWorld),this.expandByPoint(wa);else t.boundingBox!==void 0?(t.boundingBox===null&&t.computeBoundingBox(),NM.copy(t.boundingBox)):(n.boundingBox===null&&n.computeBoundingBox(),NM.copy(n.boundingBox)),NM.applyMatrix4(t.matrixWorld),this.union(NM)}let r=t.children;for(let o=0,s=r.length;o<s;o++)this.expandByObject(r[o],e);return this}containsPoint(t){return t.x>=this.min.x&&t.x<=this.max.x&&t.y>=this.min.y&&t.y<=this.max.y&&t.z>=this.min.z&&t.z<=this.max.z}containsBox(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y&&this.min.z<=t.min.z&&t.max.z<=this.max.z}getParameter(t,e){return e.set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y),(t.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(t){return t.max.x>=this.min.x&&t.min.x<=this.max.x&&t.max.y>=this.min.y&&t.min.y<=this.max.y&&t.max.z>=this.min.z&&t.min.z<=this.max.z}intersectsSphere(t){return this.clampPoint(t.center,wa),wa.distanceToSquared(t.center)<=t.radius*t.radius}intersectsPlane(t){let e,n;return t.normal.x>0?(e=t.normal.x*this.min.x,n=t.normal.x*this.max.x):(e=t.normal.x*this.max.x,n=t.normal.x*this.min.x),t.normal.y>0?(e+=t.normal.y*this.min.y,n+=t.normal.y*this.max.y):(e+=t.normal.y*this.max.y,n+=t.normal.y*this.min.y),t.normal.z>0?(e+=t.normal.z*this.min.z,n+=t.normal.z*this.max.z):(e+=t.normal.z*this.max.z,n+=t.normal.z*this.min.z),e<=-t.constant&&n>=-t.constant}intersectsTriangle(t){if(this.isEmpty())return!1;this.getCenter(Eb),OM.subVectors(this.max,Eb),Zp.subVectors(t.a,Eb),Kp.subVectors(t.b,Eb),Qp.subVectors(t.c,Eb),Fd.subVectors(Kp,Zp),Ld.subVectors(Qp,Kp),Ch.subVectors(Zp,Qp);let e=[0,-Fd.z,Fd.y,0,-Ld.z,Ld.y,0,-Ch.z,Ch.y,Fd.z,0,-Fd.x,Ld.z,0,-Ld.x,Ch.z,0,-Ch.x,-Fd.y,Fd.x,0,-Ld.y,Ld.x,0,-Ch.y,Ch.x,0];return!XF(e,Zp,Kp,Qp,OM)||(e=[1,0,0,0,1,0,0,0,1],!XF(e,Zp,Kp,Qp,OM))?!1:(FM.crossVectors(Fd,Ld),e=[FM.x,FM.y,FM.z],XF(e,Zp,Kp,Qp,OM))}clampPoint(t,e){return e.copy(t).clamp(this.min,this.max)}distanceToPoint(t){return this.clampPoint(t,wa).distanceTo(t)}getBoundingSphere(t){return this.isEmpty()?t.makeEmpty():(this.getCenter(t.center),t.radius=this.getSize(wa).length()*.5),t}intersect(t){return this.min.max(t.min),this.max.min(t.max),this.isEmpty()&&this.makeEmpty(),this}union(t){return this.min.min(t.min),this.max.max(t.max),this}applyMatrix4(t){return this.isEmpty()?this:(vl[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(t),vl[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(t),vl[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(t),vl[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(t),vl[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(t),vl[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(t),vl[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(t),vl[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(t),this.setFromPoints(vl),this)}translate(t){return this.min.add(t),this.max.add(t),this}equals(t){return t.min.equals(this.min)&&t.max.equals(this.max)}toJSON(){return{min:this.min.toArray(),max:this.max.toArray()}}fromJSON(t){return this.min.fromArray(t.min),this.max.fromArray(t.max),this}},vl=[new j,new j,new j,new j,new j,new j,new j,new j],wa=new j,NM=new gc,Zp=new j,Kp=new j,Qp=new j,Fd=new j,Ld=new j,Ch=new j,Eb=new j,OM=new j,FM=new j,Sh=new j;function XF(i,t,e,n,r){for(let o=0,s=i.length-3;o<=s;o+=3){Sh.fromArray(i,o);let a=r.x*Math.abs(Sh.x)+r.y*Math.abs(Sh.y)+r.z*Math.abs(Sh.z),c=t.dot(Sh),l=e.dot(Sh),d=n.dot(Sh);if(Math.max(-Math.max(c,l,d),Math.min(c,l,d))>a)return!1}return!0}var Nxe=new gc,Tb=new j,YF=new j,Ph=class{constructor(t=new j,e=-1){this.isSphere=!0,this.center=t,this.radius=e}set(t,e){return this.center.copy(t),this.radius=e,this}setFromPoints(t,e){let n=this.center;e!==void 0?n.copy(e):Nxe.setFromPoints(t).getCenter(n);let r=0;for(let o=0,s=t.length;o<s;o++)r=Math.max(r,n.distanceToSquared(t[o]));return this.radius=Math.sqrt(r),this}copy(t){return this.center.copy(t.center),this.radius=t.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(t){return t.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(t){return t.distanceTo(this.center)-this.radius}intersectsSphere(t){let e=this.radius+t.radius;return t.center.distanceToSquared(this.center)<=e*e}intersectsBox(t){return t.intersectsSphere(this)}intersectsPlane(t){return Math.abs(t.distanceToPoint(this.center))<=this.radius}clampPoint(t,e){let n=this.center.distanceToSquared(t);return e.copy(t),n>this.radius*this.radius&&(e.sub(this.center).normalize(),e.multiplyScalar(this.radius).add(this.center)),e}getBoundingBox(t){return this.isEmpty()?(t.makeEmpty(),t):(t.set(this.center,this.center),t.expandByScalar(this.radius),t)}applyMatrix4(t){return this.center.applyMatrix4(t),this.radius=this.radius*t.getMaxScaleOnAxis(),this}translate(t){return this.center.add(t),this}expandByPoint(t){if(this.isEmpty())return this.center.copy(t),this.radius=0,this;Tb.subVectors(t,this.center);let e=Tb.lengthSq();if(e>this.radius*this.radius){let n=Math.sqrt(e),r=(n-this.radius)*.5;this.center.addScaledVector(Tb,r/n),this.radius+=r}return this}union(t){return t.isEmpty()?this:this.isEmpty()?(this.copy(t),this):(this.center.equals(t.center)===!0?this.radius=Math.max(this.radius,t.radius):(YF.subVectors(t.center,this.center).setLength(t.radius),this.expandByPoint(Tb.copy(t.center).add(YF)),this.expandByPoint(Tb.copy(t.center).sub(YF))),this)}equals(t){return t.center.equals(this.center)&&t.radius===this.radius}clone(){return new this.constructor().copy(this)}toJSON(){return{radius:this.radius,center:this.center.toArray()}}fromJSON(t){return this.radius=t.radius,this.center.fromArray(t.center),this}},yl=new j,ZF=new j,LM=new j,Bd=new j,KF=new j,BM=new j,QF=new j,$d=class{constructor(t=new j,e=new j(0,0,-1)){this.origin=t,this.direction=e}set(t,e){return this.origin.copy(t),this.direction.copy(e),this}copy(t){return this.origin.copy(t.origin),this.direction.copy(t.direction),this}at(t,e){return e.copy(this.origin).addScaledVector(this.direction,t)}lookAt(t){return this.direction.copy(t).sub(this.origin).normalize(),this}recast(t){return this.origin.copy(this.at(t,yl)),this}closestPointToPoint(t,e){e.subVectors(t,this.origin);let n=e.dot(this.direction);return n<0?e.copy(this.origin):e.copy(this.origin).addScaledVector(this.direction,n)}distanceToPoint(t){return Math.sqrt(this.distanceSqToPoint(t))}distanceSqToPoint(t){let e=yl.subVectors(t,this.origin).dot(this.direction);return e<0?this.origin.distanceToSquared(t):(yl.copy(this.origin).addScaledVector(this.direction,e),yl.distanceToSquared(t))}distanceSqToSegment(t,e,n,r){ZF.copy(t).add(e).multiplyScalar(.5),LM.copy(e).sub(t).normalize(),Bd.copy(this.origin).sub(ZF);let o=t.distanceTo(e)*.5,s=-this.direction.dot(LM),a=Bd.dot(this.direction),c=-Bd.dot(LM),l=Bd.lengthSq(),d=Math.abs(1-s*s),u,h,m,p;if(d>0)if(u=s*c-a,h=s*a-c,p=o*d,u>=0)if(h>=-p)if(h<=p){let _=1/d;u*=_,h*=_,m=u*(u+s*h+2*a)+h*(s*u+h+2*c)+l}else h=o,u=Math.max(0,-(s*h+a)),m=-u*u+h*(h+2*c)+l;else h=-o,u=Math.max(0,-(s*h+a)),m=-u*u+h*(h+2*c)+l;else h<=-p?(u=Math.max(0,-(-s*o+a)),h=u>0?-o:Math.min(Math.max(-o,-c),o),m=-u*u+h*(h+2*c)+l):h<=p?(u=0,h=Math.min(Math.max(-o,-c),o),m=h*(h+2*c)+l):(u=Math.max(0,-(s*o+a)),h=u>0?o:Math.min(Math.max(-o,-c),o),m=-u*u+h*(h+2*c)+l);else h=s>0?-o:o,u=Math.max(0,-(s*h+a)),m=-u*u+h*(h+2*c)+l;return n&&n.copy(this.origin).addScaledVector(this.direction,u),r&&r.copy(ZF).addScaledVector(LM,h),m}intersectSphere(t,e){yl.subVectors(t.center,this.origin);let n=yl.dot(this.direction),r=yl.dot(yl)-n*n,o=t.radius*t.radius;if(r>o)return null;let s=Math.sqrt(o-r),a=n-s,c=n+s;return c<0?null:a<0?this.at(c,e):this.at(a,e)}intersectsSphere(t){return t.radius<0?!1:this.distanceSqToPoint(t.center)<=t.radius*t.radius}distanceToPlane(t){let e=t.normal.dot(this.direction);if(e===0)return t.distanceToPoint(this.origin)===0?0:null;let n=-(this.origin.dot(t.normal)+t.constant)/e;return n>=0?n:null}intersectPlane(t,e){let n=this.distanceToPlane(t);return n===null?null:this.at(n,e)}intersectsPlane(t){let e=t.distanceToPoint(this.origin);return e===0||t.normal.dot(this.direction)*e<0}intersectBox(t,e){let n,r,o,s,a,c,l=1/this.direction.x,d=1/this.direction.y,u=1/this.direction.z,h=this.origin;return l>=0?(n=(t.min.x-h.x)*l,r=(t.max.x-h.x)*l):(n=(t.max.x-h.x)*l,r=(t.min.x-h.x)*l),d>=0?(o=(t.min.y-h.y)*d,s=(t.max.y-h.y)*d):(o=(t.max.y-h.y)*d,s=(t.min.y-h.y)*d),n>s||o>r||((o>n||isNaN(n))&&(n=o),(s<r||isNaN(r))&&(r=s),u>=0?(a=(t.min.z-h.z)*u,c=(t.max.z-h.z)*u):(a=(t.max.z-h.z)*u,c=(t.min.z-h.z)*u),n>c||a>r)||((a>n||n!==n)&&(n=a),(c<r||r!==r)&&(r=c),r<0)?null:this.at(n>=0?n:r,e)}intersectsBox(t){return this.intersectBox(t,yl)!==null}intersectTriangle(t,e,n,r,o){KF.subVectors(e,t),BM.subVectors(n,t),QF.crossVectors(KF,BM);let s=this.direction.dot(QF),a;if(s>0){if(r)return null;a=1}else if(s<0)a=-1,s=-s;else return null;Bd.subVectors(this.origin,t);let c=a*this.direction.dot(BM.crossVectors(Bd,BM));if(c<0)return null;let l=a*this.direction.dot(KF.cross(Bd));if(l<0||c+l>s)return null;let d=-a*Bd.dot(QF);return d<0?null:this.at(d/s,o)}applyMatrix4(t){return this.origin.applyMatrix4(t),this.direction.transformDirection(t),this}equals(t){return t.origin.equals(this.origin)&&t.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}},vn=class i{constructor(t,e,n,r,o,s,a,c,l,d,u,h,m,p,_,f){i.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],t!==void 0&&this.set(t,e,n,r,o,s,a,c,l,d,u,h,m,p,_,f)}set(t,e,n,r,o,s,a,c,l,d,u,h,m,p,_,f){let g=this.elements;return g[0]=t,g[4]=e,g[8]=n,g[12]=r,g[1]=o,g[5]=s,g[9]=a,g[13]=c,g[2]=l,g[6]=d,g[10]=u,g[14]=h,g[3]=m,g[7]=p,g[11]=_,g[15]=f,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new i().fromArray(this.elements)}copy(t){let e=this.elements,n=t.elements;return e[0]=n[0],e[1]=n[1],e[2]=n[2],e[3]=n[3],e[4]=n[4],e[5]=n[5],e[6]=n[6],e[7]=n[7],e[8]=n[8],e[9]=n[9],e[10]=n[10],e[11]=n[11],e[12]=n[12],e[13]=n[13],e[14]=n[14],e[15]=n[15],this}copyPosition(t){let e=this.elements,n=t.elements;return e[12]=n[12],e[13]=n[13],e[14]=n[14],this}setFromMatrix3(t){let e=t.elements;return this.set(e[0],e[3],e[6],0,e[1],e[4],e[7],0,e[2],e[5],e[8],0,0,0,0,1),this}extractBasis(t,e,n){return this.determinant()===0?(t.set(1,0,0),e.set(0,1,0),n.set(0,0,1),this):(t.setFromMatrixColumn(this,0),e.setFromMatrixColumn(this,1),n.setFromMatrixColumn(this,2),this)}makeBasis(t,e,n){return this.set(t.x,e.x,n.x,0,t.y,e.y,n.y,0,t.z,e.z,n.z,0,0,0,0,1),this}extractRotation(t){if(t.determinant()===0)return this.identity();let e=this.elements,n=t.elements,r=1/Jp.setFromMatrixColumn(t,0).length(),o=1/Jp.setFromMatrixColumn(t,1).length(),s=1/Jp.setFromMatrixColumn(t,2).length();return e[0]=n[0]*r,e[1]=n[1]*r,e[2]=n[2]*r,e[3]=0,e[4]=n[4]*o,e[5]=n[5]*o,e[6]=n[6]*o,e[7]=0,e[8]=n[8]*s,e[9]=n[9]*s,e[10]=n[10]*s,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this}makeRotationFromEuler(t){let e=this.elements,n=t.x,r=t.y,o=t.z,s=Math.cos(n),a=Math.sin(n),c=Math.cos(r),l=Math.sin(r),d=Math.cos(o),u=Math.sin(o);if(t.order==="XYZ"){let h=s*d,m=s*u,p=a*d,_=a*u;e[0]=c*d,e[4]=-c*u,e[8]=l,e[1]=m+p*l,e[5]=h-_*l,e[9]=-a*c,e[2]=_-h*l,e[6]=p+m*l,e[10]=s*c}else if(t.order==="YXZ"){let h=c*d,m=c*u,p=l*d,_=l*u;e[0]=h+_*a,e[4]=p*a-m,e[8]=s*l,e[1]=s*u,e[5]=s*d,e[9]=-a,e[2]=m*a-p,e[6]=_+h*a,e[10]=s*c}else if(t.order==="ZXY"){let h=c*d,m=c*u,p=l*d,_=l*u;e[0]=h-_*a,e[4]=-s*u,e[8]=p+m*a,e[1]=m+p*a,e[5]=s*d,e[9]=_-h*a,e[2]=-s*l,e[6]=a,e[10]=s*c}else if(t.order==="ZYX"){let h=s*d,m=s*u,p=a*d,_=a*u;e[0]=c*d,e[4]=p*l-m,e[8]=h*l+_,e[1]=c*u,e[5]=_*l+h,e[9]=m*l-p,e[2]=-l,e[6]=a*c,e[10]=s*c}else if(t.order==="YZX"){let h=s*c,m=s*l,p=a*c,_=a*l;e[0]=c*d,e[4]=_-h*u,e[8]=p*u+m,e[1]=u,e[5]=s*d,e[9]=-a*d,e[2]=-l*d,e[6]=m*u+p,e[10]=h-_*u}else if(t.order==="XZY"){let h=s*c,m=s*l,p=a*c,_=a*l;e[0]=c*d,e[4]=-u,e[8]=l*d,e[1]=h*u+_,e[5]=s*d,e[9]=m*u-p,e[2]=p*u-m,e[6]=a*d,e[10]=_*u+h}return e[3]=0,e[7]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this}makeRotationFromQuaternion(t){return this.compose(Oxe,t,Fxe)}lookAt(t,e,n){let r=this.elements;return fs.subVectors(t,e),fs.lengthSq()===0&&(fs.z=1),fs.normalize(),Vd.crossVectors(n,fs),Vd.lengthSq()===0&&(Math.abs(n.z)===1?fs.x+=1e-4:fs.z+=1e-4,fs.normalize(),Vd.crossVectors(n,fs)),Vd.normalize(),VM.crossVectors(fs,Vd),r[0]=Vd.x,r[4]=VM.x,r[8]=fs.x,r[1]=Vd.y,r[5]=VM.y,r[9]=fs.y,r[2]=Vd.z,r[6]=VM.z,r[10]=fs.z,this}multiply(t){return this.multiplyMatrices(this,t)}premultiply(t){return this.multiplyMatrices(t,this)}multiplyMatrices(t,e){let n=t.elements,r=e.elements,o=this.elements,s=n[0],a=n[4],c=n[8],l=n[12],d=n[1],u=n[5],h=n[9],m=n[13],p=n[2],_=n[6],f=n[10],g=n[14],C=n[3],M=n[7],S=n[11],R=n[15],N=r[0],L=r[4],z=r[8],E=r[12],A=r[1],U=r[5],W=r[9],Z=r[13],se=r[2],ie=r[6],de=r[10],ne=r[14],Me=r[3],Pe=r[7],ze=r[11],tt=r[15];return o[0]=s*N+a*A+c*se+l*Me,o[4]=s*L+a*U+c*ie+l*Pe,o[8]=s*z+a*W+c*de+l*ze,o[12]=s*E+a*Z+c*ne+l*tt,o[1]=d*N+u*A+h*se+m*Me,o[5]=d*L+u*U+h*ie+m*Pe,o[9]=d*z+u*W+h*de+m*ze,o[13]=d*E+u*Z+h*ne+m*tt,o[2]=p*N+_*A+f*se+g*Me,o[6]=p*L+_*U+f*ie+g*Pe,o[10]=p*z+_*W+f*de+g*ze,o[14]=p*E+_*Z+f*ne+g*tt,o[3]=C*N+M*A+S*se+R*Me,o[7]=C*L+M*U+S*ie+R*Pe,o[11]=C*z+M*W+S*de+R*ze,o[15]=C*E+M*Z+S*ne+R*tt,this}multiplyScalar(t){let e=this.elements;return e[0]*=t,e[4]*=t,e[8]*=t,e[12]*=t,e[1]*=t,e[5]*=t,e[9]*=t,e[13]*=t,e[2]*=t,e[6]*=t,e[10]*=t,e[14]*=t,e[3]*=t,e[7]*=t,e[11]*=t,e[15]*=t,this}determinant(){let t=this.elements,e=t[0],n=t[4],r=t[8],o=t[12],s=t[1],a=t[5],c=t[9],l=t[13],d=t[2],u=t[6],h=t[10],m=t[14],p=t[3],_=t[7],f=t[11],g=t[15],C=c*m-l*h,M=a*m-l*u,S=a*h-c*u,R=s*m-l*d,N=s*h-c*d,L=s*u-a*d;return e*(_*C-f*M+g*S)-n*(p*C-f*R+g*N)+r*(p*M-_*R+g*L)-o*(p*S-_*N+f*L)}transpose(){let t=this.elements,e;return e=t[1],t[1]=t[4],t[4]=e,e=t[2],t[2]=t[8],t[8]=e,e=t[6],t[6]=t[9],t[9]=e,e=t[3],t[3]=t[12],t[12]=e,e=t[7],t[7]=t[13],t[13]=e,e=t[11],t[11]=t[14],t[14]=e,this}setPosition(t,e,n){let r=this.elements;return t.isVector3?(r[12]=t.x,r[13]=t.y,r[14]=t.z):(r[12]=t,r[13]=e,r[14]=n),this}invert(){let t=this.elements,e=t[0],n=t[1],r=t[2],o=t[3],s=t[4],a=t[5],c=t[6],l=t[7],d=t[8],u=t[9],h=t[10],m=t[11],p=t[12],_=t[13],f=t[14],g=t[15],C=u*f*l-_*h*l+_*c*m-a*f*m-u*c*g+a*h*g,M=p*h*l-d*f*l-p*c*m+s*f*m+d*c*g-s*h*g,S=d*_*l-p*u*l+p*a*m-s*_*m-d*a*g+s*u*g,R=p*u*c-d*_*c-p*a*h+s*_*h+d*a*f-s*u*f,N=e*C+n*M+r*S+o*R;if(N===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);let L=1/N;return t[0]=C*L,t[1]=(_*h*o-u*f*o-_*r*m+n*f*m+u*r*g-n*h*g)*L,t[2]=(a*f*o-_*c*o+_*r*l-n*f*l-a*r*g+n*c*g)*L,t[3]=(u*c*o-a*h*o-u*r*l+n*h*l+a*r*m-n*c*m)*L,t[4]=M*L,t[5]=(d*f*o-p*h*o+p*r*m-e*f*m-d*r*g+e*h*g)*L,t[6]=(p*c*o-s*f*o-p*r*l+e*f*l+s*r*g-e*c*g)*L,t[7]=(s*h*o-d*c*o+d*r*l-e*h*l-s*r*m+e*c*m)*L,t[8]=S*L,t[9]=(p*u*o-d*_*o-p*n*m+e*_*m+d*n*g-e*u*g)*L,t[10]=(s*_*o-p*a*o+p*n*l-e*_*l-s*n*g+e*a*g)*L,t[11]=(d*a*o-s*u*o-d*n*l+e*u*l+s*n*m-e*a*m)*L,t[12]=R*L,t[13]=(d*_*r-p*u*r+p*n*h-e*_*h-d*n*f+e*u*f)*L,t[14]=(p*a*r-s*_*r-p*n*c+e*_*c+s*n*f-e*a*f)*L,t[15]=(s*u*r-d*a*r+d*n*c-e*u*c-s*n*h+e*a*h)*L,this}scale(t){let e=this.elements,n=t.x,r=t.y,o=t.z;return e[0]*=n,e[4]*=r,e[8]*=o,e[1]*=n,e[5]*=r,e[9]*=o,e[2]*=n,e[6]*=r,e[10]*=o,e[3]*=n,e[7]*=r,e[11]*=o,this}getMaxScaleOnAxis(){let t=this.elements,e=t[0]*t[0]+t[1]*t[1]+t[2]*t[2],n=t[4]*t[4]+t[5]*t[5]+t[6]*t[6],r=t[8]*t[8]+t[9]*t[9]+t[10]*t[10];return Math.sqrt(Math.max(e,n,r))}makeTranslation(t,e,n){return t.isVector3?this.set(1,0,0,t.x,0,1,0,t.y,0,0,1,t.z,0,0,0,1):this.set(1,0,0,t,0,1,0,e,0,0,1,n,0,0,0,1),this}makeRotationX(t){let e=Math.cos(t),n=Math.sin(t);return this.set(1,0,0,0,0,e,-n,0,0,n,e,0,0,0,0,1),this}makeRotationY(t){let e=Math.cos(t),n=Math.sin(t);return this.set(e,0,n,0,0,1,0,0,-n,0,e,0,0,0,0,1),this}makeRotationZ(t){let e=Math.cos(t),n=Math.sin(t);return this.set(e,-n,0,0,n,e,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(t,e){let n=Math.cos(e),r=Math.sin(e),o=1-n,s=t.x,a=t.y,c=t.z,l=o*s,d=o*a;return this.set(l*s+n,l*a-r*c,l*c+r*a,0,l*a+r*c,d*a+n,d*c-r*s,0,l*c-r*a,d*c+r*s,o*c*c+n,0,0,0,0,1),this}makeScale(t,e,n){return this.set(t,0,0,0,0,e,0,0,0,0,n,0,0,0,0,1),this}makeShear(t,e,n,r,o,s){return this.set(1,n,o,0,t,1,s,0,e,r,1,0,0,0,0,1),this}compose(t,e,n){let r=this.elements,o=e._x,s=e._y,a=e._z,c=e._w,l=o+o,d=s+s,u=a+a,h=o*l,m=o*d,p=o*u,_=s*d,f=s*u,g=a*u,C=c*l,M=c*d,S=c*u,R=n.x,N=n.y,L=n.z;return r[0]=(1-(_+g))*R,r[1]=(m+S)*R,r[2]=(p-M)*R,r[3]=0,r[4]=(m-S)*N,r[5]=(1-(h+g))*N,r[6]=(f+C)*N,r[7]=0,r[8]=(p+M)*L,r[9]=(f-C)*L,r[10]=(1-(h+_))*L,r[11]=0,r[12]=t.x,r[13]=t.y,r[14]=t.z,r[15]=1,this}decompose(t,e,n){let r=this.elements;if(t.x=r[12],t.y=r[13],t.z=r[14],this.determinant()===0)return n.set(1,1,1),e.identity(),this;let o=Jp.set(r[0],r[1],r[2]).length(),s=Jp.set(r[4],r[5],r[6]).length(),a=Jp.set(r[8],r[9],r[10]).length();this.determinant()<0&&(o=-o),Ma.copy(this);let l=1/o,d=1/s,u=1/a;return Ma.elements[0]*=l,Ma.elements[1]*=l,Ma.elements[2]*=l,Ma.elements[4]*=d,Ma.elements[5]*=d,Ma.elements[6]*=d,Ma.elements[8]*=u,Ma.elements[9]*=u,Ma.elements[10]*=u,e.setFromRotationMatrix(Ma),n.x=o,n.y=s,n.z=a,this}makePerspective(t,e,n,r,o,s,a=Sa,c=!1){let l=this.elements,d=2*o/(e-t),u=2*o/(n-r),h=(e+t)/(e-t),m=(n+r)/(n-r),p,_;if(c)p=o/(s-o),_=s*o/(s-o);else if(a===Sa)p=-(s+o)/(s-o),_=-2*s*o/(s-o);else if(a===Ob)p=-s/(s-o),_=-s*o/(s-o);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+a);return l[0]=d,l[4]=0,l[8]=h,l[12]=0,l[1]=0,l[5]=u,l[9]=m,l[13]=0,l[2]=0,l[6]=0,l[10]=p,l[14]=_,l[3]=0,l[7]=0,l[11]=-1,l[15]=0,this}makeOrthographic(t,e,n,r,o,s,a=Sa,c=!1){let l=this.elements,d=2/(e-t),u=2/(n-r),h=-(e+t)/(e-t),m=-(n+r)/(n-r),p,_;if(c)p=1/(s-o),_=s/(s-o);else if(a===Sa)p=-2/(s-o),_=-(s+o)/(s-o);else if(a===Ob)p=-1/(s-o),_=-o/(s-o);else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+a);return l[0]=d,l[4]=0,l[8]=0,l[12]=h,l[1]=0,l[5]=u,l[9]=0,l[13]=m,l[2]=0,l[6]=0,l[10]=p,l[14]=_,l[3]=0,l[7]=0,l[11]=0,l[15]=1,this}equals(t){let e=this.elements,n=t.elements;for(let r=0;r<16;r++)if(e[r]!==n[r])return!1;return!0}fromArray(t,e=0){for(let n=0;n<16;n++)this.elements[n]=t[n+e];return this}toArray(t=[],e=0){let n=this.elements;return t[e]=n[0],t[e+1]=n[1],t[e+2]=n[2],t[e+3]=n[3],t[e+4]=n[4],t[e+5]=n[5],t[e+6]=n[6],t[e+7]=n[7],t[e+8]=n[8],t[e+9]=n[9],t[e+10]=n[10],t[e+11]=n[11],t[e+12]=n[12],t[e+13]=n[13],t[e+14]=n[14],t[e+15]=n[15],t}},Jp=new j,Ma=new vn,Oxe=new j(0,0,0),Fxe=new j(1,1,1),Vd=new j,VM=new j,fs=new j,JX=new vn,eY=new Vn,_c=(()=>{class i{constructor(e=0,n=0,r=0,o=i.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=n,this._z=r,this._order=o}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,n,r,o=this._order){return this._x=e,this._y=n,this._z=r,this._order=o,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,n=this._order,r=!0){let o=e.elements,s=o[0],a=o[4],c=o[8],l=o[1],d=o[5],u=o[9],h=o[2],m=o[6],p=o[10];switch(n){case"XYZ":this._y=Math.asin(Ei(c,-1,1)),Math.abs(c)<.9999999?(this._x=Math.atan2(-u,p),this._z=Math.atan2(-a,s)):(this._x=Math.atan2(m,d),this._z=0);break;case"YXZ":this._x=Math.asin(-Ei(u,-1,1)),Math.abs(u)<.9999999?(this._y=Math.atan2(c,p),this._z=Math.atan2(l,d)):(this._y=Math.atan2(-h,s),this._z=0);break;case"ZXY":this._x=Math.asin(Ei(m,-1,1)),Math.abs(m)<.9999999?(this._y=Math.atan2(-h,p),this._z=Math.atan2(-a,d)):(this._y=0,this._z=Math.atan2(l,s));break;case"ZYX":this._y=Math.asin(-Ei(h,-1,1)),Math.abs(h)<.9999999?(this._x=Math.atan2(m,p),this._z=Math.atan2(l,s)):(this._x=0,this._z=Math.atan2(-a,d));break;case"YZX":this._z=Math.asin(Ei(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-u,d),this._y=Math.atan2(-h,s)):(this._x=0,this._y=Math.atan2(c,p));break;case"XZY":this._z=Math.asin(-Ei(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(m,d),this._y=Math.atan2(c,s)):(this._x=Math.atan2(-u,p),this._y=0);break;default:Lt("Euler: .setFromRotationMatrix() encountered an unknown order: "+n)}return this._order=n,r===!0&&this._onChangeCallback(),this}setFromQuaternion(e,n,r){return JX.makeRotationFromQuaternion(e),this.setFromRotationMatrix(JX,n,r)}setFromVector3(e,n=this._order){return this.set(e.x,e.y,e.z,n)}reorder(e){return eY.setFromEuler(this),this.setFromQuaternion(eY,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}return i.DEFAULT_ORDER="XYZ",i})(),pf=class{constructor(){this.mask=1}set(t){this.mask=(1<<t|0)>>>0}enable(t){this.mask|=1<<t|0}enableAll(){this.mask=-1}toggle(t){this.mask^=1<<t|0}disable(t){this.mask&=~(1<<t|0)}disableAll(){this.mask=0}test(t){return(this.mask&t.mask)!==0}isEnabled(t){return(this.mask&(1<<t|0))!==0}},Lxe=0,tY=new j,ef=new Vn,xl=new vn,UM=new j,Ib=new j,Bxe=new j,Vxe=new Vn,iY=new j(1,0,0),nY=new j(0,1,0),rY=new j(0,0,1),oY={type:"added"},Uxe={type:"removed"},tf={type:"childadded",child:null},JF={type:"childremoved",child:null},Ro=(()=>{class i extends fc{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:Lxe++}),this.uuid=Mf(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=i.DEFAULT_UP.clone();let e=new j,n=new _c,r=new Vn,o=new j(1,1,1);function s(){r.setFromEuler(n,!1)}function a(){n.setFromQuaternion(r,void 0,!1)}n._onChange(s),r._onChange(a),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:n},quaternion:{configurable:!0,enumerable:!0,value:r},scale:{configurable:!0,enumerable:!0,value:o},modelViewMatrix:{value:new vn},normalMatrix:{value:new di}}),this.matrix=new vn,this.matrixWorld=new vn,this.matrixAutoUpdate=i.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=i.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new pf,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.customDepthMaterial=void 0,this.customDistanceMaterial=void 0,this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,n){this.quaternion.setFromAxisAngle(e,n)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,n){return ef.setFromAxisAngle(e,n),this.quaternion.multiply(ef),this}rotateOnWorldAxis(e,n){return ef.setFromAxisAngle(e,n),this.quaternion.premultiply(ef),this}rotateX(e){return this.rotateOnAxis(iY,e)}rotateY(e){return this.rotateOnAxis(nY,e)}rotateZ(e){return this.rotateOnAxis(rY,e)}translateOnAxis(e,n){return tY.copy(e).applyQuaternion(this.quaternion),this.position.add(tY.multiplyScalar(n)),this}translateX(e){return this.translateOnAxis(iY,e)}translateY(e){return this.translateOnAxis(nY,e)}translateZ(e){return this.translateOnAxis(rY,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(xl.copy(this.matrixWorld).invert())}lookAt(e,n,r){e.isVector3?UM.copy(e):UM.set(e,n,r);let o=this.parent;this.updateWorldMatrix(!0,!1),Ib.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?xl.lookAt(Ib,UM,this.up):xl.lookAt(UM,Ib,this.up),this.quaternion.setFromRotationMatrix(xl),o&&(xl.extractRotation(o.matrixWorld),ef.setFromRotationMatrix(xl),this.quaternion.premultiply(ef.invert()))}add(e){if(arguments.length>1){for(let n=0;n<arguments.length;n++)this.add(arguments[n]);return this}return e===this?(zt("Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.removeFromParent(),e.parent=this,this.children.push(e),e.dispatchEvent(oY),tf.child=e,this.dispatchEvent(tf),tf.child=null):zt("Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let r=0;r<arguments.length;r++)this.remove(arguments[r]);return this}let n=this.children.indexOf(e);return n!==-1&&(e.parent=null,this.children.splice(n,1),e.dispatchEvent(Uxe),JF.child=e,this.dispatchEvent(JF),JF.child=null),this}removeFromParent(){let e=this.parent;return e!==null&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),xl.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),xl.multiply(e.parent.matrixWorld)),e.applyMatrix4(xl),e.removeFromParent(),e.parent=this,this.children.push(e),e.updateWorldMatrix(!1,!0),e.dispatchEvent(oY),tf.child=e,this.dispatchEvent(tf),tf.child=null,this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,n){if(this[e]===n)return this;for(let r=0,o=this.children.length;r<o;r++){let a=this.children[r].getObjectByProperty(e,n);if(a!==void 0)return a}}getObjectsByProperty(e,n,r=[]){this[e]===n&&r.push(this);let o=this.children;for(let s=0,a=o.length;s<a;s++)o[s].getObjectsByProperty(e,n,r);return r}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Ib,e,Bxe),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Ib,Vxe,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);let n=this.matrixWorld.elements;return e.set(n[8],n[9],n[10]).normalize()}raycast(){}traverse(e){e(this);let n=this.children;for(let r=0,o=n.length;r<o;r++)n[r].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);let n=this.children;for(let r=0,o=n.length;r<o;r++)n[r].traverseVisible(e)}traverseAncestors(e){let n=this.parent;n!==null&&(e(n),n.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1,e=!0);let n=this.children;for(let r=0,o=n.length;r<o;r++)n[r].updateMatrixWorld(e)}updateWorldMatrix(e,n){let r=this.parent;if(e===!0&&r!==null&&r.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),n===!0){let o=this.children;for(let s=0,a=o.length;s<a;s++)o[s].updateWorldMatrix(!1,!0)}}toJSON(e){let n=e===void 0||typeof e=="string",r={};n&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},r.metadata={version:4.7,type:"Object",generator:"Object3D.toJSON"});let o={};o.uuid=this.uuid,o.type=this.type,this.name!==""&&(o.name=this.name),this.castShadow===!0&&(o.castShadow=!0),this.receiveShadow===!0&&(o.receiveShadow=!0),this.visible===!1&&(o.visible=!1),this.frustumCulled===!1&&(o.frustumCulled=!1),this.renderOrder!==0&&(o.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(o.userData=this.userData),o.layers=this.layers.mask,o.matrix=this.matrix.toArray(),o.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(o.matrixAutoUpdate=!1),this.isInstancedMesh&&(o.type="InstancedMesh",o.count=this.count,o.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(o.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(o.type="BatchedMesh",o.perObjectFrustumCulled=this.perObjectFrustumCulled,o.sortObjects=this.sortObjects,o.drawRanges=this._drawRanges,o.reservedRanges=this._reservedRanges,o.geometryInfo=this._geometryInfo.map(c=>mi(ye({},c),{boundingBox:c.boundingBox?c.boundingBox.toJSON():void 0,boundingSphere:c.boundingSphere?c.boundingSphere.toJSON():void 0})),o.instanceInfo=this._instanceInfo.map(c=>ye({},c)),o.availableInstanceIds=this._availableInstanceIds.slice(),o.availableGeometryIds=this._availableGeometryIds.slice(),o.nextIndexStart=this._nextIndexStart,o.nextVertexStart=this._nextVertexStart,o.geometryCount=this._geometryCount,o.maxInstanceCount=this._maxInstanceCount,o.maxVertexCount=this._maxVertexCount,o.maxIndexCount=this._maxIndexCount,o.geometryInitialized=this._geometryInitialized,o.matricesTexture=this._matricesTexture.toJSON(e),o.indirectTexture=this._indirectTexture.toJSON(e),this._colorsTexture!==null&&(o.colorsTexture=this._colorsTexture.toJSON(e)),this.boundingSphere!==null&&(o.boundingSphere=this.boundingSphere.toJSON()),this.boundingBox!==null&&(o.boundingBox=this.boundingBox.toJSON()));function s(c,l){return c[l.uuid]===void 0&&(c[l.uuid]=l.toJSON(e)),l.uuid}if(this.isScene)this.background&&(this.background.isColor?o.background=this.background.toJSON():this.background.isTexture&&(o.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(o.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){o.geometry=s(e.geometries,this.geometry);let c=this.geometry.parameters;if(c!==void 0&&c.shapes!==void 0){let l=c.shapes;if(Array.isArray(l))for(let d=0,u=l.length;d<u;d++){let h=l[d];s(e.shapes,h)}else s(e.shapes,l)}}if(this.isSkinnedMesh&&(o.bindMode=this.bindMode,o.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(s(e.skeletons,this.skeleton),o.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){let c=[];for(let l=0,d=this.material.length;l<d;l++)c.push(s(e.materials,this.material[l]));o.material=c}else o.material=s(e.materials,this.material);if(this.children.length>0){o.children=[];for(let c=0;c<this.children.length;c++)o.children.push(this.children[c].toJSON(e).object)}if(this.animations.length>0){o.animations=[];for(let c=0;c<this.animations.length;c++){let l=this.animations[c];o.animations.push(s(e.animations,l))}}if(n){let c=a(e.geometries),l=a(e.materials),d=a(e.textures),u=a(e.images),h=a(e.shapes),m=a(e.skeletons),p=a(e.animations),_=a(e.nodes);c.length>0&&(r.geometries=c),l.length>0&&(r.materials=l),d.length>0&&(r.textures=d),u.length>0&&(r.images=u),h.length>0&&(r.shapes=h),m.length>0&&(r.skeletons=m),p.length>0&&(r.animations=p),_.length>0&&(r.nodes=_)}return r.object=o,r;function a(c){let l=[];for(let d in c){let u=c[d];delete u.metadata,l.push(u)}return l}}clone(e){return new this.constructor().copy(this,e)}copy(e,n=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),n===!0)for(let r=0;r<e.children.length;r++){let o=e.children[r];this.add(o.clone())}return this}}return i.DEFAULT_UP=new j(0,1,0),i.DEFAULT_MATRIX_AUTO_UPDATE=!0,i.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0,i})(),Ca=new j,wl=new j,eL=new j,Ml=new j,nf=new j,rf=new j,sY=new j,tL=new j,iL=new j,nL=new j,rL=new Un,oL=new Un,sL=new Un,Hd=class i{constructor(t=new j,e=new j,n=new j){this.a=t,this.b=e,this.c=n}static getNormal(t,e,n,r){r.subVectors(n,e),Ca.subVectors(t,e),r.cross(Ca);let o=r.lengthSq();return o>0?r.multiplyScalar(1/Math.sqrt(o)):r.set(0,0,0)}static getBarycoord(t,e,n,r,o){Ca.subVectors(r,e),wl.subVectors(n,e),eL.subVectors(t,e);let s=Ca.dot(Ca),a=Ca.dot(wl),c=Ca.dot(eL),l=wl.dot(wl),d=wl.dot(eL),u=s*l-a*a;if(u===0)return o.set(0,0,0),null;let h=1/u,m=(l*c-a*d)*h,p=(s*d-a*c)*h;return o.set(1-m-p,p,m)}static containsPoint(t,e,n,r){return this.getBarycoord(t,e,n,r,Ml)===null?!1:Ml.x>=0&&Ml.y>=0&&Ml.x+Ml.y<=1}static getInterpolation(t,e,n,r,o,s,a,c){return this.getBarycoord(t,e,n,r,Ml)===null?(c.x=0,c.y=0,"z"in c&&(c.z=0),"w"in c&&(c.w=0),null):(c.setScalar(0),c.addScaledVector(o,Ml.x),c.addScaledVector(s,Ml.y),c.addScaledVector(a,Ml.z),c)}static getInterpolatedAttribute(t,e,n,r,o,s){return rL.setScalar(0),oL.setScalar(0),sL.setScalar(0),rL.fromBufferAttribute(t,e),oL.fromBufferAttribute(t,n),sL.fromBufferAttribute(t,r),s.setScalar(0),s.addScaledVector(rL,o.x),s.addScaledVector(oL,o.y),s.addScaledVector(sL,o.z),s}static isFrontFacing(t,e,n,r){return Ca.subVectors(n,e),wl.subVectors(t,e),Ca.cross(wl).dot(r)<0}set(t,e,n){return this.a.copy(t),this.b.copy(e),this.c.copy(n),this}setFromPointsAndIndices(t,e,n,r){return this.a.copy(t[e]),this.b.copy(t[n]),this.c.copy(t[r]),this}setFromAttributeAndIndices(t,e,n,r){return this.a.fromBufferAttribute(t,e),this.b.fromBufferAttribute(t,n),this.c.fromBufferAttribute(t,r),this}clone(){return new this.constructor().copy(this)}copy(t){return this.a.copy(t.a),this.b.copy(t.b),this.c.copy(t.c),this}getArea(){return Ca.subVectors(this.c,this.b),wl.subVectors(this.a,this.b),Ca.cross(wl).length()*.5}getMidpoint(t){return t.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(t){return i.getNormal(this.a,this.b,this.c,t)}getPlane(t){return t.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(t,e){return i.getBarycoord(t,this.a,this.b,this.c,e)}getInterpolation(t,e,n,r,o){return i.getInterpolation(t,this.a,this.b,this.c,e,n,r,o)}containsPoint(t){return i.containsPoint(t,this.a,this.b,this.c)}isFrontFacing(t){return i.isFrontFacing(this.a,this.b,this.c,t)}intersectsBox(t){return t.intersectsTriangle(this)}closestPointToPoint(t,e){let n=this.a,r=this.b,o=this.c,s,a;nf.subVectors(r,n),rf.subVectors(o,n),tL.subVectors(t,n);let c=nf.dot(tL),l=rf.dot(tL);if(c<=0&&l<=0)return e.copy(n);iL.subVectors(t,r);let d=nf.dot(iL),u=rf.dot(iL);if(d>=0&&u<=d)return e.copy(r);let h=c*u-d*l;if(h<=0&&c>=0&&d<=0)return s=c/(c-d),e.copy(n).addScaledVector(nf,s);nL.subVectors(t,o);let m=nf.dot(nL),p=rf.dot(nL);if(p>=0&&m<=p)return e.copy(o);let _=m*l-c*p;if(_<=0&&l>=0&&p<=0)return a=l/(l-p),e.copy(n).addScaledVector(rf,a);let f=d*p-m*u;if(f<=0&&u-d>=0&&m-p>=0)return sY.subVectors(o,r),a=(u-d)/(u-d+(m-p)),e.copy(r).addScaledVector(sY,a);let g=1/(f+_+h);return s=_*g,a=h*g,e.copy(n).addScaledVector(nf,s).addScaledVector(rf,a)}equals(t){return t.a.equals(this.a)&&t.b.equals(this.b)&&t.c.equals(this.c)}},eZ={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Ud={h:0,s:0,l:0},zM={h:0,s:0,l:0};function aL(i,t,e){return e<0&&(e+=1),e>1&&(e-=1),e<1/6?i+(t-i)*6*e:e<1/2?t:e<2/3?i+(t-i)*6*(2/3-e):i}var xi=class{constructor(t,e,n){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(t,e,n)}set(t,e,n){if(e===void 0&&n===void 0){let r=t;r&&r.isColor?this.copy(r):typeof r=="number"?this.setHex(r):typeof r=="string"&&this.setStyle(r)}else this.setRGB(t,e,n);return this}setScalar(t){return this.r=t,this.g=t,this.b=t,this}setHex(t,e=_s){return t=Math.floor(t),this.r=(t>>16&255)/255,this.g=(t>>8&255)/255,this.b=(t&255)/255,Ri.colorSpaceToWorking(this,e),this}setRGB(t,e,n,r=Ri.workingColorSpace){return this.r=t,this.g=e,this.b=n,Ri.colorSpaceToWorking(this,r),this}setHSL(t,e,n,r=Ri.workingColorSpace){if(t=WL(t,1),e=Ei(e,0,1),n=Ei(n,0,1),e===0)this.r=this.g=this.b=n;else{let o=n<=.5?n*(1+e):n+e-n*e,s=2*n-o;this.r=aL(s,o,t+1/3),this.g=aL(s,o,t),this.b=aL(s,o,t-1/3)}return Ri.colorSpaceToWorking(this,r),this}setStyle(t,e=_s){function n(o){o!==void 0&&parseFloat(o)<1&&Lt("Color: Alpha component of "+t+" will be ignored.")}let r;if(r=/^(\w+)\(([^\)]*)\)/.exec(t)){let o,s=r[1],a=r[2];switch(s){case"rgb":case"rgba":if(o=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return n(o[4]),this.setRGB(Math.min(255,parseInt(o[1],10))/255,Math.min(255,parseInt(o[2],10))/255,Math.min(255,parseInt(o[3],10))/255,e);if(o=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return n(o[4]),this.setRGB(Math.min(100,parseInt(o[1],10))/100,Math.min(100,parseInt(o[2],10))/100,Math.min(100,parseInt(o[3],10))/100,e);break;case"hsl":case"hsla":if(o=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return n(o[4]),this.setHSL(parseFloat(o[1])/360,parseFloat(o[2])/100,parseFloat(o[3])/100,e);break;default:Lt("Color: Unknown color model "+t)}}else if(r=/^\#([A-Fa-f\d]+)$/.exec(t)){let o=r[1],s=o.length;if(s===3)return this.setRGB(parseInt(o.charAt(0),16)/15,parseInt(o.charAt(1),16)/15,parseInt(o.charAt(2),16)/15,e);if(s===6)return this.setHex(parseInt(o,16),e);Lt("Color: Invalid hex color "+t)}else if(t&&t.length>0)return this.setColorName(t,e);return this}setColorName(t,e=_s){let n=eZ[t.toLowerCase()];return n!==void 0?this.setHex(n,e):Lt("Color: Unknown color "+t),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(t){return this.r=t.r,this.g=t.g,this.b=t.b,this}copySRGBToLinear(t){return this.r=Cl(t.r),this.g=Cl(t.g),this.b=Cl(t.b),this}copyLinearToSRGB(t){return this.r=lf(t.r),this.g=lf(t.g),this.b=lf(t.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(t=_s){return Ri.workingToColorSpace(uo.copy(this),t),Math.round(Ei(uo.r*255,0,255))*65536+Math.round(Ei(uo.g*255,0,255))*256+Math.round(Ei(uo.b*255,0,255))}getHexString(t=_s){return("000000"+this.getHex(t).toString(16)).slice(-6)}getHSL(t,e=Ri.workingColorSpace){Ri.workingToColorSpace(uo.copy(this),e);let n=uo.r,r=uo.g,o=uo.b,s=Math.max(n,r,o),a=Math.min(n,r,o),c,l,d=(a+s)/2;if(a===s)c=0,l=0;else{let u=s-a;switch(l=d<=.5?u/(s+a):u/(2-s-a),s){case n:c=(r-o)/u+(r<o?6:0);break;case r:c=(o-n)/u+2;break;case o:c=(n-r)/u+4;break}c/=6}return t.h=c,t.s=l,t.l=d,t}getRGB(t,e=Ri.workingColorSpace){return Ri.workingToColorSpace(uo.copy(this),e),t.r=uo.r,t.g=uo.g,t.b=uo.b,t}getStyle(t=_s){Ri.workingToColorSpace(uo.copy(this),t);let e=uo.r,n=uo.g,r=uo.b;return t!==_s?`color(${t} ${e.toFixed(3)} ${n.toFixed(3)} ${r.toFixed(3)})`:`rgb(${Math.round(e*255)},${Math.round(n*255)},${Math.round(r*255)})`}offsetHSL(t,e,n){return this.getHSL(Ud),this.setHSL(Ud.h+t,Ud.s+e,Ud.l+n)}add(t){return this.r+=t.r,this.g+=t.g,this.b+=t.b,this}addColors(t,e){return this.r=t.r+e.r,this.g=t.g+e.g,this.b=t.b+e.b,this}addScalar(t){return this.r+=t,this.g+=t,this.b+=t,this}sub(t){return this.r=Math.max(0,this.r-t.r),this.g=Math.max(0,this.g-t.g),this.b=Math.max(0,this.b-t.b),this}multiply(t){return this.r*=t.r,this.g*=t.g,this.b*=t.b,this}multiplyScalar(t){return this.r*=t,this.g*=t,this.b*=t,this}lerp(t,e){return this.r+=(t.r-this.r)*e,this.g+=(t.g-this.g)*e,this.b+=(t.b-this.b)*e,this}lerpColors(t,e,n){return this.r=t.r+(e.r-t.r)*n,this.g=t.g+(e.g-t.g)*n,this.b=t.b+(e.b-t.b)*n,this}lerpHSL(t,e){this.getHSL(Ud),t.getHSL(zM);let n=Pb(Ud.h,zM.h,e),r=Pb(Ud.s,zM.s,e),o=Pb(Ud.l,zM.l,e);return this.setHSL(n,r,o),this}setFromVector3(t){return this.r=t.x,this.g=t.y,this.b=t.z,this}applyMatrix3(t){let e=this.r,n=this.g,r=this.b,o=t.elements;return this.r=o[0]*e+o[3]*n+o[6]*r,this.g=o[1]*e+o[4]*n+o[7]*r,this.b=o[2]*e+o[5]*n+o[8]*r,this}equals(t){return t.r===this.r&&t.g===this.g&&t.b===this.b}fromArray(t,e=0){return this.r=t[e],this.g=t[e+1],this.b=t[e+2],this}toArray(t=[],e=0){return t[e]=this.r,t[e+1]=this.g,t[e+2]=this.b,t}fromBufferAttribute(t,e){return this.r=t.getX(e),this.g=t.getY(e),this.b=t.getZ(e),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}},uo=new xi;xi.NAMES=eZ;var zxe=0,El=class extends fc{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:zxe++}),this.uuid=Mf(),this.name="",this.type="Material",this.blending=Dh,this.side=Sl,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=tC,this.blendDst=iC,this.blendEquation=jd,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new xi(0,0,0),this.blendAlpha=0,this.depthFunc=kh,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=_L,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=Ih,this.stencilZFail=Ih,this.stencilZPass=Ih,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.allowOverride=!0,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(t){this._alphaTest>0!=t>0&&this.version++,this._alphaTest=t}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(t){if(t!==void 0)for(let e in t){let n=t[e];if(n===void 0){Lt(`Material: parameter '${e}' has value of undefined.`);continue}let r=this[e];if(r===void 0){Lt(`Material: '${e}' is not a property of THREE.${this.type}.`);continue}r&&r.isColor?r.set(n):r&&r.isVector3&&n&&n.isVector3?r.copy(n):this[e]=n}}toJSON(t){let e=t===void 0||typeof t=="string";e&&(t={textures:{},images:{}});let n={metadata:{version:4.7,type:"Material",generator:"Material.toJSON"}};n.uuid=this.uuid,n.type=this.type,this.name!==""&&(n.name=this.name),this.color&&this.color.isColor&&(n.color=this.color.getHex()),this.roughness!==void 0&&(n.roughness=this.roughness),this.metalness!==void 0&&(n.metalness=this.metalness),this.sheen!==void 0&&(n.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(n.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(n.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(n.emissive=this.emissive.getHex()),this.emissiveIntensity!==void 0&&this.emissiveIntensity!==1&&(n.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(n.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(n.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(n.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(n.shininess=this.shininess),this.clearcoat!==void 0&&(n.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(n.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(n.clearcoatMap=this.clearcoatMap.toJSON(t).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(n.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(t).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(n.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(t).uuid,n.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.sheenColorMap&&this.sheenColorMap.isTexture&&(n.sheenColorMap=this.sheenColorMap.toJSON(t).uuid),this.sheenRoughnessMap&&this.sheenRoughnessMap.isTexture&&(n.sheenRoughnessMap=this.sheenRoughnessMap.toJSON(t).uuid),this.dispersion!==void 0&&(n.dispersion=this.dispersion),this.iridescence!==void 0&&(n.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(n.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(n.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(n.iridescenceMap=this.iridescenceMap.toJSON(t).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(n.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(t).uuid),this.anisotropy!==void 0&&(n.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(n.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(n.anisotropyMap=this.anisotropyMap.toJSON(t).uuid),this.map&&this.map.isTexture&&(n.map=this.map.toJSON(t).uuid),this.matcap&&this.matcap.isTexture&&(n.matcap=this.matcap.toJSON(t).uuid),this.alphaMap&&this.alphaMap.isTexture&&(n.alphaMap=this.alphaMap.toJSON(t).uuid),this.lightMap&&this.lightMap.isTexture&&(n.lightMap=this.lightMap.toJSON(t).uuid,n.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(n.aoMap=this.aoMap.toJSON(t).uuid,n.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(n.bumpMap=this.bumpMap.toJSON(t).uuid,n.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(n.normalMap=this.normalMap.toJSON(t).uuid,n.normalMapType=this.normalMapType,n.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(n.displacementMap=this.displacementMap.toJSON(t).uuid,n.displacementScale=this.displacementScale,n.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(n.roughnessMap=this.roughnessMap.toJSON(t).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(n.metalnessMap=this.metalnessMap.toJSON(t).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(n.emissiveMap=this.emissiveMap.toJSON(t).uuid),this.specularMap&&this.specularMap.isTexture&&(n.specularMap=this.specularMap.toJSON(t).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(n.specularIntensityMap=this.specularIntensityMap.toJSON(t).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(n.specularColorMap=this.specularColorMap.toJSON(t).uuid),this.envMap&&this.envMap.isTexture&&(n.envMap=this.envMap.toJSON(t).uuid,this.combine!==void 0&&(n.combine=this.combine)),this.envMapRotation!==void 0&&(n.envMapRotation=this.envMapRotation.toArray()),this.envMapIntensity!==void 0&&(n.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(n.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(n.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(n.gradientMap=this.gradientMap.toJSON(t).uuid),this.transmission!==void 0&&(n.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(n.transmissionMap=this.transmissionMap.toJSON(t).uuid),this.thickness!==void 0&&(n.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(n.thicknessMap=this.thicknessMap.toJSON(t).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(n.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(n.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(n.size=this.size),this.shadowSide!==null&&(n.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(n.sizeAttenuation=this.sizeAttenuation),this.blending!==Dh&&(n.blending=this.blending),this.side!==Sl&&(n.side=this.side),this.vertexColors===!0&&(n.vertexColors=!0),this.opacity<1&&(n.opacity=this.opacity),this.transparent===!0&&(n.transparent=!0),this.blendSrc!==tC&&(n.blendSrc=this.blendSrc),this.blendDst!==iC&&(n.blendDst=this.blendDst),this.blendEquation!==jd&&(n.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(n.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(n.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(n.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(n.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(n.blendAlpha=this.blendAlpha),this.depthFunc!==kh&&(n.depthFunc=this.depthFunc),this.depthTest===!1&&(n.depthTest=this.depthTest),this.depthWrite===!1&&(n.depthWrite=this.depthWrite),this.colorWrite===!1&&(n.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(n.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==_L&&(n.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(n.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(n.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==Ih&&(n.stencilFail=this.stencilFail),this.stencilZFail!==Ih&&(n.stencilZFail=this.stencilZFail),this.stencilZPass!==Ih&&(n.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(n.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(n.rotation=this.rotation),this.polygonOffset===!0&&(n.polygonOffset=!0),this.polygonOffsetFactor!==0&&(n.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(n.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(n.linewidth=this.linewidth),this.dashSize!==void 0&&(n.dashSize=this.dashSize),this.gapSize!==void 0&&(n.gapSize=this.gapSize),this.scale!==void 0&&(n.scale=this.scale),this.dithering===!0&&(n.dithering=!0),this.alphaTest>0&&(n.alphaTest=this.alphaTest),this.alphaHash===!0&&(n.alphaHash=!0),this.alphaToCoverage===!0&&(n.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(n.premultipliedAlpha=!0),this.forceSinglePass===!0&&(n.forceSinglePass=!0),this.allowOverride===!1&&(n.allowOverride=!1),this.wireframe===!0&&(n.wireframe=!0),this.wireframeLinewidth>1&&(n.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(n.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(n.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(n.flatShading=!0),this.visible===!1&&(n.visible=!1),this.toneMapped===!1&&(n.toneMapped=!1),this.fog===!1&&(n.fog=!1),Object.keys(this.userData).length>0&&(n.userData=this.userData);function r(o){let s=[];for(let a in o){let c=o[a];delete c.metadata,s.push(c)}return s}if(e){let o=r(t.textures),s=r(t.images);o.length>0&&(n.textures=o),s.length>0&&(n.images=s)}return n}clone(){return new this.constructor().copy(this)}copy(t){this.name=t.name,this.blending=t.blending,this.side=t.side,this.vertexColors=t.vertexColors,this.opacity=t.opacity,this.transparent=t.transparent,this.blendSrc=t.blendSrc,this.blendDst=t.blendDst,this.blendEquation=t.blendEquation,this.blendSrcAlpha=t.blendSrcAlpha,this.blendDstAlpha=t.blendDstAlpha,this.blendEquationAlpha=t.blendEquationAlpha,this.blendColor.copy(t.blendColor),this.blendAlpha=t.blendAlpha,this.depthFunc=t.depthFunc,this.depthTest=t.depthTest,this.depthWrite=t.depthWrite,this.stencilWriteMask=t.stencilWriteMask,this.stencilFunc=t.stencilFunc,this.stencilRef=t.stencilRef,this.stencilFuncMask=t.stencilFuncMask,this.stencilFail=t.stencilFail,this.stencilZFail=t.stencilZFail,this.stencilZPass=t.stencilZPass,this.stencilWrite=t.stencilWrite;let e=t.clippingPlanes,n=null;if(e!==null){let r=e.length;n=new Array(r);for(let o=0;o!==r;++o)n[o]=e[o].clone()}return this.clippingPlanes=n,this.clipIntersection=t.clipIntersection,this.clipShadows=t.clipShadows,this.shadowSide=t.shadowSide,this.colorWrite=t.colorWrite,this.precision=t.precision,this.polygonOffset=t.polygonOffset,this.polygonOffsetFactor=t.polygonOffsetFactor,this.polygonOffsetUnits=t.polygonOffsetUnits,this.dithering=t.dithering,this.alphaTest=t.alphaTest,this.alphaHash=t.alphaHash,this.alphaToCoverage=t.alphaToCoverage,this.premultipliedAlpha=t.premultipliedAlpha,this.forceSinglePass=t.forceSinglePass,this.allowOverride=t.allowOverride,this.visible=t.visible,this.toneMapped=t.toneMapped,this.userData=JSON.parse(JSON.stringify(t.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(t){t===!0&&this.version++}},Ea=class extends El{constructor(t){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new xi(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new _c,this.combine=TL,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.envMapRotation.copy(t.envMapRotation),this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.fog=t.fog,this}};var fr=new j,HM=new Ut,Hxe=0,bs=class{constructor(t,e,n=!1){if(Array.isArray(t))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,Object.defineProperty(this,"id",{value:Hxe++}),this.name="",this.array=t,this.itemSize=e,this.count=t!==void 0?t.length/e:0,this.normalized=n,this.usage=bL,this.updateRanges=[],this.gpuType=ka,this.version=0}onUploadCallback(){}set needsUpdate(t){t===!0&&this.version++}setUsage(t){return this.usage=t,this}addUpdateRange(t,e){this.updateRanges.push({start:t,count:e})}clearUpdateRanges(){this.updateRanges.length=0}copy(t){return this.name=t.name,this.array=new t.array.constructor(t.array),this.itemSize=t.itemSize,this.count=t.count,this.normalized=t.normalized,this.usage=t.usage,this.gpuType=t.gpuType,this}copyAt(t,e,n){t*=this.itemSize,n*=e.itemSize;for(let r=0,o=this.itemSize;r<o;r++)this.array[t+r]=e.array[n+r];return this}copyArray(t){return this.array.set(t),this}applyMatrix3(t){if(this.itemSize===2)for(let e=0,n=this.count;e<n;e++)HM.fromBufferAttribute(this,e),HM.applyMatrix3(t),this.setXY(e,HM.x,HM.y);else if(this.itemSize===3)for(let e=0,n=this.count;e<n;e++)fr.fromBufferAttribute(this,e),fr.applyMatrix3(t),this.setXYZ(e,fr.x,fr.y,fr.z);return this}applyMatrix4(t){for(let e=0,n=this.count;e<n;e++)fr.fromBufferAttribute(this,e),fr.applyMatrix4(t),this.setXYZ(e,fr.x,fr.y,fr.z);return this}applyNormalMatrix(t){for(let e=0,n=this.count;e<n;e++)fr.fromBufferAttribute(this,e),fr.applyNormalMatrix(t),this.setXYZ(e,fr.x,fr.y,fr.z);return this}transformDirection(t){for(let e=0,n=this.count;e<n;e++)fr.fromBufferAttribute(this,e),fr.transformDirection(t),this.setXYZ(e,fr.x,fr.y,fr.z);return this}set(t,e=0){return this.array.set(t,e),this}getComponent(t,e){let n=this.array[t*this.itemSize+e];return this.normalized&&(n=cf(n,this.array)),n}setComponent(t,e,n){return this.normalized&&(n=Po(n,this.array)),this.array[t*this.itemSize+e]=n,this}getX(t){let e=this.array[t*this.itemSize];return this.normalized&&(e=cf(e,this.array)),e}setX(t,e){return this.normalized&&(e=Po(e,this.array)),this.array[t*this.itemSize]=e,this}getY(t){let e=this.array[t*this.itemSize+1];return this.normalized&&(e=cf(e,this.array)),e}setY(t,e){return this.normalized&&(e=Po(e,this.array)),this.array[t*this.itemSize+1]=e,this}getZ(t){let e=this.array[t*this.itemSize+2];return this.normalized&&(e=cf(e,this.array)),e}setZ(t,e){return this.normalized&&(e=Po(e,this.array)),this.array[t*this.itemSize+2]=e,this}getW(t){let e=this.array[t*this.itemSize+3];return this.normalized&&(e=cf(e,this.array)),e}setW(t,e){return this.normalized&&(e=Po(e,this.array)),this.array[t*this.itemSize+3]=e,this}setXY(t,e,n){return t*=this.itemSize,this.normalized&&(e=Po(e,this.array),n=Po(n,this.array)),this.array[t+0]=e,this.array[t+1]=n,this}setXYZ(t,e,n,r){return t*=this.itemSize,this.normalized&&(e=Po(e,this.array),n=Po(n,this.array),r=Po(r,this.array)),this.array[t+0]=e,this.array[t+1]=n,this.array[t+2]=r,this}setXYZW(t,e,n,r,o){return t*=this.itemSize,this.normalized&&(e=Po(e,this.array),n=Po(n,this.array),r=Po(r,this.array),o=Po(o,this.array)),this.array[t+0]=e,this.array[t+1]=n,this.array[t+2]=r,this.array[t+3]=o,this}onUpload(t){return this.onUploadCallback=t,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){let t={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(t.name=this.name),this.usage!==bL&&(t.usage=this.usage),t}};var Bb=class extends bs{constructor(t,e,n){super(new Uint16Array(t),e,n)}};var Vb=class extends bs{constructor(t,e,n){super(new Uint32Array(t),e,n)}};var Wi=class extends bs{constructor(t,e,n){super(new Float32Array(t),e,n)}},jxe=0,Hs=new vn,cL=new Ro,of=new j,gs=new gc,Db=new gc,Lr=new j,Mr=class i extends fc{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:jxe++}),this.uuid=Mf(),this.name="",this.type="BufferGeometry",this.index=null,this.indirect=null,this.indirectOffset=0,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(t){return Array.isArray(t)?this.index=new($L(t)?Vb:Bb)(t,1):this.index=t,this}setIndirect(t,e=0){return this.indirect=t,this.indirectOffset=e,this}getIndirect(){return this.indirect}getAttribute(t){return this.attributes[t]}setAttribute(t,e){return this.attributes[t]=e,this}deleteAttribute(t){return delete this.attributes[t],this}hasAttribute(t){return this.attributes[t]!==void 0}addGroup(t,e,n=0){this.groups.push({start:t,count:e,materialIndex:n})}clearGroups(){this.groups=[]}setDrawRange(t,e){this.drawRange.start=t,this.drawRange.count=e}applyMatrix4(t){let e=this.attributes.position;e!==void 0&&(e.applyMatrix4(t),e.needsUpdate=!0);let n=this.attributes.normal;if(n!==void 0){let o=new di().getNormalMatrix(t);n.applyNormalMatrix(o),n.needsUpdate=!0}let r=this.attributes.tangent;return r!==void 0&&(r.transformDirection(t),r.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(t){return Hs.makeRotationFromQuaternion(t),this.applyMatrix4(Hs),this}rotateX(t){return Hs.makeRotationX(t),this.applyMatrix4(Hs),this}rotateY(t){return Hs.makeRotationY(t),this.applyMatrix4(Hs),this}rotateZ(t){return Hs.makeRotationZ(t),this.applyMatrix4(Hs),this}translate(t,e,n){return Hs.makeTranslation(t,e,n),this.applyMatrix4(Hs),this}scale(t,e,n){return Hs.makeScale(t,e,n),this.applyMatrix4(Hs),this}lookAt(t){return cL.lookAt(t),cL.updateMatrix(),this.applyMatrix4(cL.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(of).negate(),this.translate(of.x,of.y,of.z),this}setFromPoints(t){let e=this.getAttribute("position");if(e===void 0){let n=[];for(let r=0,o=t.length;r<o;r++){let s=t[r];n.push(s.x,s.y,s.z||0)}this.setAttribute("position",new Wi(n,3))}else{let n=Math.min(t.length,e.count);for(let r=0;r<n;r++){let o=t[r];e.setXYZ(r,o.x,o.y,o.z||0)}t.length>e.count&&Lt("BufferGeometry: Buffer size too small for points data. Use .dispose() and create a new geometry."),e.needsUpdate=!0}return this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new gc);let t=this.attributes.position,e=this.morphAttributes.position;if(t&&t.isGLBufferAttribute){zt("BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),this.boundingBox.set(new j(-1/0,-1/0,-1/0),new j(1/0,1/0,1/0));return}if(t!==void 0){if(this.boundingBox.setFromBufferAttribute(t),e)for(let n=0,r=e.length;n<r;n++){let o=e[n];gs.setFromBufferAttribute(o),this.morphTargetsRelative?(Lr.addVectors(this.boundingBox.min,gs.min),this.boundingBox.expandByPoint(Lr),Lr.addVectors(this.boundingBox.max,gs.max),this.boundingBox.expandByPoint(Lr)):(this.boundingBox.expandByPoint(gs.min),this.boundingBox.expandByPoint(gs.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&zt('BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Ph);let t=this.attributes.position,e=this.morphAttributes.position;if(t&&t.isGLBufferAttribute){zt("BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),this.boundingSphere.set(new j,1/0);return}if(t){let n=this.boundingSphere.center;if(gs.setFromBufferAttribute(t),e)for(let o=0,s=e.length;o<s;o++){let a=e[o];Db.setFromBufferAttribute(a),this.morphTargetsRelative?(Lr.addVectors(gs.min,Db.min),gs.expandByPoint(Lr),Lr.addVectors(gs.max,Db.max),gs.expandByPoint(Lr)):(gs.expandByPoint(Db.min),gs.expandByPoint(Db.max))}gs.getCenter(n);let r=0;for(let o=0,s=t.count;o<s;o++)Lr.fromBufferAttribute(t,o),r=Math.max(r,n.distanceToSquared(Lr));if(e)for(let o=0,s=e.length;o<s;o++){let a=e[o],c=this.morphTargetsRelative;for(let l=0,d=a.count;l<d;l++)Lr.fromBufferAttribute(a,l),c&&(of.fromBufferAttribute(t,l),Lr.add(of)),r=Math.max(r,n.distanceToSquared(Lr))}this.boundingSphere.radius=Math.sqrt(r),isNaN(this.boundingSphere.radius)&&zt('BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){let t=this.index,e=this.attributes;if(t===null||e.position===void 0||e.normal===void 0||e.uv===void 0){zt("BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}let n=e.position,r=e.normal,o=e.uv;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new bs(new Float32Array(4*n.count),4));let s=this.getAttribute("tangent"),a=[],c=[];for(let z=0;z<n.count;z++)a[z]=new j,c[z]=new j;let l=new j,d=new j,u=new j,h=new Ut,m=new Ut,p=new Ut,_=new j,f=new j;function g(z,E,A){l.fromBufferAttribute(n,z),d.fromBufferAttribute(n,E),u.fromBufferAttribute(n,A),h.fromBufferAttribute(o,z),m.fromBufferAttribute(o,E),p.fromBufferAttribute(o,A),d.sub(l),u.sub(l),m.sub(h),p.sub(h);let U=1/(m.x*p.y-p.x*m.y);isFinite(U)&&(_.copy(d).multiplyScalar(p.y).addScaledVector(u,-m.y).multiplyScalar(U),f.copy(u).multiplyScalar(m.x).addScaledVector(d,-p.x).multiplyScalar(U),a[z].add(_),a[E].add(_),a[A].add(_),c[z].add(f),c[E].add(f),c[A].add(f))}let C=this.groups;C.length===0&&(C=[{start:0,count:t.count}]);for(let z=0,E=C.length;z<E;++z){let A=C[z],U=A.start,W=A.count;for(let Z=U,se=U+W;Z<se;Z+=3)g(t.getX(Z+0),t.getX(Z+1),t.getX(Z+2))}let M=new j,S=new j,R=new j,N=new j;function L(z){R.fromBufferAttribute(r,z),N.copy(R);let E=a[z];M.copy(E),M.sub(R.multiplyScalar(R.dot(E))).normalize(),S.crossVectors(N,E);let U=S.dot(c[z])<0?-1:1;s.setXYZW(z,M.x,M.y,M.z,U)}for(let z=0,E=C.length;z<E;++z){let A=C[z],U=A.start,W=A.count;for(let Z=U,se=U+W;Z<se;Z+=3)L(t.getX(Z+0)),L(t.getX(Z+1)),L(t.getX(Z+2))}}computeVertexNormals(){let t=this.index,e=this.getAttribute("position");if(e!==void 0){let n=this.getAttribute("normal");if(n===void 0)n=new bs(new Float32Array(e.count*3),3),this.setAttribute("normal",n);else for(let h=0,m=n.count;h<m;h++)n.setXYZ(h,0,0,0);let r=new j,o=new j,s=new j,a=new j,c=new j,l=new j,d=new j,u=new j;if(t)for(let h=0,m=t.count;h<m;h+=3){let p=t.getX(h+0),_=t.getX(h+1),f=t.getX(h+2);r.fromBufferAttribute(e,p),o.fromBufferAttribute(e,_),s.fromBufferAttribute(e,f),d.subVectors(s,o),u.subVectors(r,o),d.cross(u),a.fromBufferAttribute(n,p),c.fromBufferAttribute(n,_),l.fromBufferAttribute(n,f),a.add(d),c.add(d),l.add(d),n.setXYZ(p,a.x,a.y,a.z),n.setXYZ(_,c.x,c.y,c.z),n.setXYZ(f,l.x,l.y,l.z)}else for(let h=0,m=e.count;h<m;h+=3)r.fromBufferAttribute(e,h+0),o.fromBufferAttribute(e,h+1),s.fromBufferAttribute(e,h+2),d.subVectors(s,o),u.subVectors(r,o),d.cross(u),n.setXYZ(h+0,d.x,d.y,d.z),n.setXYZ(h+1,d.x,d.y,d.z),n.setXYZ(h+2,d.x,d.y,d.z);this.normalizeNormals(),n.needsUpdate=!0}}normalizeNormals(){let t=this.attributes.normal;for(let e=0,n=t.count;e<n;e++)Lr.fromBufferAttribute(t,e),Lr.normalize(),t.setXYZ(e,Lr.x,Lr.y,Lr.z)}toNonIndexed(){function t(a,c){let l=a.array,d=a.itemSize,u=a.normalized,h=new l.constructor(c.length*d),m=0,p=0;for(let _=0,f=c.length;_<f;_++){a.isInterleavedBufferAttribute?m=c[_]*a.data.stride+a.offset:m=c[_]*d;for(let g=0;g<d;g++)h[p++]=l[m++]}return new bs(h,d,u)}if(this.index===null)return Lt("BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;let e=new i,n=this.index.array,r=this.attributes;for(let a in r){let c=r[a],l=t(c,n);e.setAttribute(a,l)}let o=this.morphAttributes;for(let a in o){let c=[],l=o[a];for(let d=0,u=l.length;d<u;d++){let h=l[d],m=t(h,n);c.push(m)}e.morphAttributes[a]=c}e.morphTargetsRelative=this.morphTargetsRelative;let s=this.groups;for(let a=0,c=s.length;a<c;a++){let l=s[a];e.addGroup(l.start,l.count,l.materialIndex)}return e}toJSON(){let t={metadata:{version:4.7,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(t.uuid=this.uuid,t.type=this.type,this.name!==""&&(t.name=this.name),Object.keys(this.userData).length>0&&(t.userData=this.userData),this.parameters!==void 0){let c=this.parameters;for(let l in c)c[l]!==void 0&&(t[l]=c[l]);return t}t.data={attributes:{}};let e=this.index;e!==null&&(t.data.index={type:e.array.constructor.name,array:Array.prototype.slice.call(e.array)});let n=this.attributes;for(let c in n){let l=n[c];t.data.attributes[c]=l.toJSON(t.data)}let r={},o=!1;for(let c in this.morphAttributes){let l=this.morphAttributes[c],d=[];for(let u=0,h=l.length;u<h;u++){let m=l[u];d.push(m.toJSON(t.data))}d.length>0&&(r[c]=d,o=!0)}o&&(t.data.morphAttributes=r,t.data.morphTargetsRelative=this.morphTargetsRelative);let s=this.groups;s.length>0&&(t.data.groups=JSON.parse(JSON.stringify(s)));let a=this.boundingSphere;return a!==null&&(t.data.boundingSphere=a.toJSON()),t}clone(){return new this.constructor().copy(this)}copy(t){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;let e={};this.name=t.name;let n=t.index;n!==null&&this.setIndex(n.clone());let r=t.attributes;for(let l in r){let d=r[l];this.setAttribute(l,d.clone(e))}let o=t.morphAttributes;for(let l in o){let d=[],u=o[l];for(let h=0,m=u.length;h<m;h++)d.push(u[h].clone(e));this.morphAttributes[l]=d}this.morphTargetsRelative=t.morphTargetsRelative;let s=t.groups;for(let l=0,d=s.length;l<d;l++){let u=s[l];this.addGroup(u.start,u.count,u.materialIndex)}let a=t.boundingBox;a!==null&&(this.boundingBox=a.clone());let c=t.boundingSphere;return c!==null&&(this.boundingSphere=c.clone()),this.drawRange.start=t.drawRange.start,this.drawRange.count=t.drawRange.count,this.userData=t.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}},aY=new vn,Eh=new $d,jM=new Ph,cY=new j,$M=new j,GM=new j,WM=new j,lL=new j,qM=new j,lY=new j,XM=new j,He=class extends Ro{constructor(t=new Mr,e=new Ea){super(),this.isMesh=!0,this.type="Mesh",this.geometry=t,this.material=e,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.count=1,this.updateMorphTargets()}copy(t,e){return super.copy(t,e),t.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=t.morphTargetInfluences.slice()),t.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},t.morphTargetDictionary)),this.material=Array.isArray(t.material)?t.material.slice():t.material,this.geometry=t.geometry,this}updateMorphTargets(){let e=this.geometry.morphAttributes,n=Object.keys(e);if(n.length>0){let r=e[n[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let o=0,s=r.length;o<s;o++){let a=r[o].name||String(o);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=o}}}}getVertexPosition(t,e){let n=this.geometry,r=n.attributes.position,o=n.morphAttributes.position,s=n.morphTargetsRelative;e.fromBufferAttribute(r,t);let a=this.morphTargetInfluences;if(o&&a){qM.set(0,0,0);for(let c=0,l=o.length;c<l;c++){let d=a[c],u=o[c];d!==0&&(lL.fromBufferAttribute(u,t),s?qM.addScaledVector(lL,d):qM.addScaledVector(lL.sub(e),d))}e.add(qM)}return e}raycast(t,e){let n=this.geometry,r=this.material,o=this.matrixWorld;r!==void 0&&(n.boundingSphere===null&&n.computeBoundingSphere(),jM.copy(n.boundingSphere),jM.applyMatrix4(o),Eh.copy(t.ray).recast(t.near),!(jM.containsPoint(Eh.origin)===!1&&(Eh.intersectSphere(jM,cY)===null||Eh.origin.distanceToSquared(cY)>(t.far-t.near)**2))&&(aY.copy(o).invert(),Eh.copy(t.ray).applyMatrix4(aY),!(n.boundingBox!==null&&Eh.intersectsBox(n.boundingBox)===!1)&&this._computeIntersections(t,e,Eh)))}_computeIntersections(t,e,n){let r,o=this.geometry,s=this.material,a=o.index,c=o.attributes.position,l=o.attributes.uv,d=o.attributes.uv1,u=o.attributes.normal,h=o.groups,m=o.drawRange;if(a!==null)if(Array.isArray(s))for(let p=0,_=h.length;p<_;p++){let f=h[p],g=s[f.materialIndex],C=Math.max(f.start,m.start),M=Math.min(a.count,Math.min(f.start+f.count,m.start+m.count));for(let S=C,R=M;S<R;S+=3){let N=a.getX(S),L=a.getX(S+1),z=a.getX(S+2);r=YM(this,g,t,n,l,d,u,N,L,z),r&&(r.faceIndex=Math.floor(S/3),r.face.materialIndex=f.materialIndex,e.push(r))}}else{let p=Math.max(0,m.start),_=Math.min(a.count,m.start+m.count);for(let f=p,g=_;f<g;f+=3){let C=a.getX(f),M=a.getX(f+1),S=a.getX(f+2);r=YM(this,s,t,n,l,d,u,C,M,S),r&&(r.faceIndex=Math.floor(f/3),e.push(r))}}else if(c!==void 0)if(Array.isArray(s))for(let p=0,_=h.length;p<_;p++){let f=h[p],g=s[f.materialIndex],C=Math.max(f.start,m.start),M=Math.min(c.count,Math.min(f.start+f.count,m.start+m.count));for(let S=C,R=M;S<R;S+=3){let N=S,L=S+1,z=S+2;r=YM(this,g,t,n,l,d,u,N,L,z),r&&(r.faceIndex=Math.floor(S/3),r.face.materialIndex=f.materialIndex,e.push(r))}}else{let p=Math.max(0,m.start),_=Math.min(c.count,m.start+m.count);for(let f=p,g=_;f<g;f+=3){let C=f,M=f+1,S=f+2;r=YM(this,s,t,n,l,d,u,C,M,S),r&&(r.faceIndex=Math.floor(f/3),e.push(r))}}}};function $xe(i,t,e,n,r,o,s,a){let c;if(t.side===No?c=n.intersectTriangle(s,o,r,!0,a):c=n.intersectTriangle(r,o,s,t.side===Sl,a),c===null)return null;XM.copy(a),XM.applyMatrix4(i.matrixWorld);let l=e.ray.origin.distanceTo(XM);return l<e.near||l>e.far?null:{distance:l,point:XM.clone(),object:i}}function YM(i,t,e,n,r,o,s,a,c,l){i.getVertexPosition(a,$M),i.getVertexPosition(c,GM),i.getVertexPosition(l,WM);let d=$xe(i,t,e,n,$M,GM,WM,lY);if(d){let u=new j;Hd.getBarycoord(lY,$M,GM,WM,u),r&&(d.uv=Hd.getInterpolatedAttribute(r,a,c,l,u,new Ut)),o&&(d.uv1=Hd.getInterpolatedAttribute(o,a,c,l,u,new Ut)),s&&(d.normal=Hd.getInterpolatedAttribute(s,a,c,l,u,new j),d.normal.dot(n.direction)>0&&d.normal.multiplyScalar(-1));let h={a,b:c,c:l,normal:new j,materialIndex:0};Hd.getNormal($M,GM,WM,h.normal),d.face=h,d.barycoord=u}return d}var Ki=class i extends Mr{constructor(t=1,e=1,n=1,r=1,o=1,s=1){super(),this.type="BoxGeometry",this.parameters={width:t,height:e,depth:n,widthSegments:r,heightSegments:o,depthSegments:s};let a=this;r=Math.floor(r),o=Math.floor(o),s=Math.floor(s);let c=[],l=[],d=[],u=[],h=0,m=0;p("z","y","x",-1,-1,n,e,t,s,o,0),p("z","y","x",1,-1,n,e,-t,s,o,1),p("x","z","y",1,1,t,n,e,r,s,2),p("x","z","y",1,-1,t,n,-e,r,s,3),p("x","y","z",1,-1,t,e,n,r,o,4),p("x","y","z",-1,-1,t,e,-n,r,o,5),this.setIndex(c),this.setAttribute("position",new Wi(l,3)),this.setAttribute("normal",new Wi(d,3)),this.setAttribute("uv",new Wi(u,2));function p(_,f,g,C,M,S,R,N,L,z,E){let A=S/L,U=R/z,W=S/2,Z=R/2,se=N/2,ie=L+1,de=z+1,ne=0,Me=0,Pe=new j;for(let ze=0;ze<de;ze++){let tt=ze*U-Z;for(let ai=0;ai<ie;ai++){let ui=ai*A-W;Pe[_]=ui*C,Pe[f]=tt*M,Pe[g]=se,l.push(Pe.x,Pe.y,Pe.z),Pe[_]=0,Pe[f]=0,Pe[g]=N>0?1:-1,d.push(Pe.x,Pe.y,Pe.z),u.push(ai/L),u.push(1-ze/z),ne+=1}}for(let ze=0;ze<z;ze++)for(let tt=0;tt<L;tt++){let ai=h+tt+ie*ze,ui=h+tt+ie*(ze+1),xn=h+(tt+1)+ie*(ze+1),In=h+(tt+1)+ie*ze;c.push(ai,ui,In),c.push(ui,xn,In),Me+=6}a.addGroup(m,Me,E),m+=Me,h+=ne}}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new i(t.width,t.height,t.depth,t.widthSegments,t.heightSegments,t.depthSegments)}};function Vh(i){let t={};for(let e in i){t[e]={};for(let n in i[e]){let r=i[e][n];r&&(r.isColor||r.isMatrix3||r.isMatrix4||r.isVector2||r.isVector3||r.isVector4||r.isTexture||r.isQuaternion)?r.isRenderTargetTexture?(Lt("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),t[e][n]=null):t[e][n]=r.clone():Array.isArray(r)?t[e][n]=r.slice():t[e][n]=r}}return t}function po(i){let t={};for(let e=0;e<i.length;e++){let n=Vh(i[e]);for(let r in n)t[r]=n[r]}return t}function Gxe(i){let t=[];for(let e=0;e<i.length;e++)t.push(i[e].clone());return t}function XL(i){let t=i.getRenderTarget();return t===null?i.outputColorSpace:t.isXRRenderTarget===!0?t.texture.colorSpace:Ri.workingColorSpace}var tZ={clone:Vh,merge:po},Wxe=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,qxe=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`,ys=class extends El{constructor(t){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=Wxe,this.fragmentShader=qxe,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,t!==void 0&&this.setValues(t)}copy(t){return super.copy(t),this.fragmentShader=t.fragmentShader,this.vertexShader=t.vertexShader,this.uniforms=Vh(t.uniforms),this.uniformsGroups=Gxe(t.uniformsGroups),this.defines=Object.assign({},t.defines),this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.fog=t.fog,this.lights=t.lights,this.clipping=t.clipping,this.extensions=Object.assign({},t.extensions),this.glslVersion=t.glslVersion,this.defaultAttributeValues=Object.assign({},t.defaultAttributeValues),this.index0AttributeName=t.index0AttributeName,this.uniformsNeedUpdate=t.uniformsNeedUpdate,this}toJSON(t){let e=super.toJSON(t);e.glslVersion=this.glslVersion,e.uniforms={};for(let r in this.uniforms){let s=this.uniforms[r].value;s&&s.isTexture?e.uniforms[r]={type:"t",value:s.toJSON(t).uuid}:s&&s.isColor?e.uniforms[r]={type:"c",value:s.getHex()}:s&&s.isVector2?e.uniforms[r]={type:"v2",value:s.toArray()}:s&&s.isVector3?e.uniforms[r]={type:"v3",value:s.toArray()}:s&&s.isVector4?e.uniforms[r]={type:"v4",value:s.toArray()}:s&&s.isMatrix3?e.uniforms[r]={type:"m3",value:s.toArray()}:s&&s.isMatrix4?e.uniforms[r]={type:"m4",value:s.toArray()}:e.uniforms[r]={value:s}}Object.keys(this.defines).length>0&&(e.defines=this.defines),e.vertexShader=this.vertexShader,e.fragmentShader=this.fragmentShader,e.lights=this.lights,e.clipping=this.clipping;let n={};for(let r in this.extensions)this.extensions[r]===!0&&(n[r]=!0);return Object.keys(n).length>0&&(e.extensions=n),e}},Ub=class extends Ro{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new vn,this.projectionMatrix=new vn,this.projectionMatrixInverse=new vn,this.coordinateSystem=Sa,this._reversedDepth=!1}get reversedDepth(){return this._reversedDepth}copy(t,e){return super.copy(t,e),this.matrixWorldInverse.copy(t.matrixWorldInverse),this.projectionMatrix.copy(t.projectionMatrix),this.projectionMatrixInverse.copy(t.projectionMatrixInverse),this.coordinateSystem=t.coordinateSystem,this}getWorldDirection(t){return super.getWorldDirection(t).negate()}updateMatrixWorld(t){super.updateMatrixWorld(t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(t,e){super.updateWorldMatrix(t,e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}},zd=new j,dY=new Ut,uY=new Ut,ho=class extends Ub{constructor(t=50,e=1,n=.1,r=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=t,this.zoom=1,this.near=n,this.far=r,this.focus=10,this.aspect=e,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(t,e){return super.copy(t,e),this.fov=t.fov,this.zoom=t.zoom,this.near=t.near,this.far=t.far,this.focus=t.focus,this.aspect=t.aspect,this.view=t.view===null?null:Object.assign({},t.view),this.filmGauge=t.filmGauge,this.filmOffset=t.filmOffset,this}setFocalLength(t){let e=.5*this.getFilmHeight()/t;this.fov=hf*2*Math.atan(e),this.updateProjectionMatrix()}getFocalLength(){let t=Math.tan(Ab*.5*this.fov);return .5*this.getFilmHeight()/t}getEffectiveFOV(){return hf*2*Math.atan(Math.tan(Ab*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(t,e,n){zd.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),e.set(zd.x,zd.y).multiplyScalar(-t/zd.z),zd.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),n.set(zd.x,zd.y).multiplyScalar(-t/zd.z)}getViewSize(t,e){return this.getViewBounds(t,dY,uY),e.subVectors(uY,dY)}setViewOffset(t,e,n,r,o,s){this.aspect=t/e,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=t,this.view.fullHeight=e,this.view.offsetX=n,this.view.offsetY=r,this.view.width=o,this.view.height=s,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){let t=this.near,e=t*Math.tan(Ab*.5*this.fov)/this.zoom,n=2*e,r=this.aspect*n,o=-.5*r,s=this.view;if(this.view!==null&&this.view.enabled){let c=s.fullWidth,l=s.fullHeight;o+=s.offsetX*r/c,e-=s.offsetY*n/l,r*=s.width/c,n*=s.height/l}let a=this.filmOffset;a!==0&&(o+=t*a/this.getFilmWidth()),this.projectionMatrix.makePerspective(o,o+r,e,e-n,t,this.far,this.coordinateSystem,this.reversedDepth),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(t){let e=super.toJSON(t);return e.object.fov=this.fov,e.object.zoom=this.zoom,e.object.near=this.near,e.object.far=this.far,e.object.focus=this.focus,e.object.aspect=this.aspect,this.view!==null&&(e.object.view=Object.assign({},this.view)),e.object.filmGauge=this.filmGauge,e.object.filmOffset=this.filmOffset,e}},sf=-90,af=1,lC=class extends Ro{constructor(t,e,n){super(),this.type="CubeCamera",this.renderTarget=n,this.coordinateSystem=null,this.activeMipmapLevel=0;let r=new ho(sf,af,t,e);r.layers=this.layers,this.add(r);let o=new ho(sf,af,t,e);o.layers=this.layers,this.add(o);let s=new ho(sf,af,t,e);s.layers=this.layers,this.add(s);let a=new ho(sf,af,t,e);a.layers=this.layers,this.add(a);let c=new ho(sf,af,t,e);c.layers=this.layers,this.add(c);let l=new ho(sf,af,t,e);l.layers=this.layers,this.add(l)}updateCoordinateSystem(){let t=this.coordinateSystem,e=this.children.concat(),[n,r,o,s,a,c]=e;for(let l of e)this.remove(l);if(t===Sa)n.up.set(0,1,0),n.lookAt(1,0,0),r.up.set(0,1,0),r.lookAt(-1,0,0),o.up.set(0,0,-1),o.lookAt(0,1,0),s.up.set(0,0,1),s.lookAt(0,-1,0),a.up.set(0,1,0),a.lookAt(0,0,1),c.up.set(0,1,0),c.lookAt(0,0,-1);else if(t===Ob)n.up.set(0,-1,0),n.lookAt(-1,0,0),r.up.set(0,-1,0),r.lookAt(1,0,0),o.up.set(0,0,1),o.lookAt(0,1,0),s.up.set(0,0,-1),s.lookAt(0,-1,0),a.up.set(0,-1,0),a.lookAt(0,0,1),c.up.set(0,-1,0),c.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+t);for(let l of e)this.add(l),l.updateMatrixWorld()}update(t,e){this.parent===null&&this.updateMatrixWorld();let{renderTarget:n,activeMipmapLevel:r}=this;this.coordinateSystem!==t.coordinateSystem&&(this.coordinateSystem=t.coordinateSystem,this.updateCoordinateSystem());let[o,s,a,c,l,d]=this.children,u=t.getRenderTarget(),h=t.getActiveCubeFace(),m=t.getActiveMipmapLevel(),p=t.xr.enabled;t.xr.enabled=!1;let _=n.texture.generateMipmaps;n.texture.generateMipmaps=!1,t.setRenderTarget(n,0,r),t.render(e,o),t.setRenderTarget(n,1,r),t.render(e,s),t.setRenderTarget(n,2,r),t.render(e,a),t.setRenderTarget(n,3,r),t.render(e,c),t.setRenderTarget(n,4,r),t.render(e,l),n.texture.generateMipmaps=_,t.setRenderTarget(n,5,r),t.render(e,d),t.setRenderTarget(u,h,m),t.xr.enabled=p,n.texture.needsPMREMUpdate=!0}},zb=class extends yc{constructor(t=[],e=Kd,n,r,o,s,a,c,l,d){super(t,e,n,r,o,s,a,c,l,d),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(t){this.image=t}},Hb=class extends vs{constructor(t=1,e={}){super(t,t,e),this.isWebGLCubeRenderTarget=!0;let n={width:t,height:t,depth:1},r=[n,n,n,n,n,n];this.texture=new zb(r),this._setTextureOptions(e),this.texture.isRenderTargetTexture=!0}fromEquirectangularTexture(t,e){this.texture.type=e.type,this.texture.colorSpace=e.colorSpace,this.texture.generateMipmaps=e.generateMipmaps,this.texture.minFilter=e.minFilter,this.texture.magFilter=e.magFilter;let n={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},r=new Ki(5,5,5),o=new ys({name:"CubemapFromEquirect",uniforms:Vh(n.uniforms),vertexShader:n.vertexShader,fragmentShader:n.fragmentShader,side:No,blending:bc});o.uniforms.tEquirect.value=e;let s=new He(r,o),a=e.minFilter;return e.minFilter===Qd&&(e.minFilter=Yn),new lC(1,10,this).update(t,s),e.minFilter=a,s.geometry.dispose(),s.material.dispose(),this}clear(t,e=!0,n=!0,r=!0){let o=t.getRenderTarget();for(let s=0;s<6;s++)t.setRenderTarget(this,s),t.clear(e,n,r);t.setRenderTarget(o)}},mc=class extends Ro{constructor(){super(),this.isGroup=!0,this.type="Group"}},Xxe={type:"move"},ff=class{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new mc,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new mc,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new j,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new j),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new mc,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new j,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new j),this._grip}dispatchEvent(t){return this._targetRay!==null&&this._targetRay.dispatchEvent(t),this._grip!==null&&this._grip.dispatchEvent(t),this._hand!==null&&this._hand.dispatchEvent(t),this}connect(t){if(t&&t.hand){let e=this._hand;if(e)for(let n of t.hand.values())this._getHandJoint(e,n)}return this.dispatchEvent({type:"connected",data:t}),this}disconnect(t){return this.dispatchEvent({type:"disconnected",data:t}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(t,e,n){let r=null,o=null,s=null,a=this._targetRay,c=this._grip,l=this._hand;if(t&&e.session.visibilityState!=="visible-blurred"){if(l&&t.hand){s=!0;for(let _ of t.hand.values()){let f=e.getJointPose(_,n),g=this._getHandJoint(l,_);f!==null&&(g.matrix.fromArray(f.transform.matrix),g.matrix.decompose(g.position,g.rotation,g.scale),g.matrixWorldNeedsUpdate=!0,g.jointRadius=f.radius),g.visible=f!==null}let d=l.joints["index-finger-tip"],u=l.joints["thumb-tip"],h=d.position.distanceTo(u.position),m=.02,p=.005;l.inputState.pinching&&h>m+p?(l.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:t.handedness,target:this})):!l.inputState.pinching&&h<=m-p&&(l.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:t.handedness,target:this}))}else c!==null&&t.gripSpace&&(o=e.getPose(t.gripSpace,n),o!==null&&(c.matrix.fromArray(o.transform.matrix),c.matrix.decompose(c.position,c.rotation,c.scale),c.matrixWorldNeedsUpdate=!0,o.linearVelocity?(c.hasLinearVelocity=!0,c.linearVelocity.copy(o.linearVelocity)):c.hasLinearVelocity=!1,o.angularVelocity?(c.hasAngularVelocity=!0,c.angularVelocity.copy(o.angularVelocity)):c.hasAngularVelocity=!1));a!==null&&(r=e.getPose(t.targetRaySpace,n),r===null&&o!==null&&(r=o),r!==null&&(a.matrix.fromArray(r.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale),a.matrixWorldNeedsUpdate=!0,r.linearVelocity?(a.hasLinearVelocity=!0,a.linearVelocity.copy(r.linearVelocity)):a.hasLinearVelocity=!1,r.angularVelocity?(a.hasAngularVelocity=!0,a.angularVelocity.copy(r.angularVelocity)):a.hasAngularVelocity=!1,this.dispatchEvent(Xxe)))}return a!==null&&(a.visible=r!==null),c!==null&&(c.visible=o!==null),l!==null&&(l.visible=s!==null),this}_getHandJoint(t,e){if(t.joints[e.jointName]===void 0){let n=new mc;n.matrixAutoUpdate=!1,n.visible=!1,t.joints[e.jointName]=n,t.add(n)}return t.joints[e.jointName]}};var jb=class extends Ro{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new _c,this.environmentIntensity=1,this.environmentRotation=new _c,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(t,e){return super.copy(t,e),t.background!==null&&(this.background=t.background.clone()),t.environment!==null&&(this.environment=t.environment.clone()),t.fog!==null&&(this.fog=t.fog.clone()),this.backgroundBlurriness=t.backgroundBlurriness,this.backgroundIntensity=t.backgroundIntensity,this.backgroundRotation.copy(t.backgroundRotation),this.environmentIntensity=t.environmentIntensity,this.environmentRotation.copy(t.environmentRotation),t.overrideMaterial!==null&&(this.overrideMaterial=t.overrideMaterial.clone()),this.matrixAutoUpdate=t.matrixAutoUpdate,this}toJSON(t){let e=super.toJSON(t);return this.fog!==null&&(e.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(e.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(e.object.backgroundIntensity=this.backgroundIntensity),e.object.backgroundRotation=this.backgroundRotation.toArray(),this.environmentIntensity!==1&&(e.object.environmentIntensity=this.environmentIntensity),e.object.environmentRotation=this.environmentRotation.toArray(),e}};var dC=class extends yc{constructor(t=null,e=1,n=1,r,o,s,a,c,l=Br,d=Br,u,h){super(null,s,a,c,l,d,r,o,u,h),this.isDataTexture=!0,this.image={data:t,width:e,height:n},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}};var dL=new j,Yxe=new j,Zxe=new di,js=class{constructor(t=new j(1,0,0),e=0){this.isPlane=!0,this.normal=t,this.constant=e}set(t,e){return this.normal.copy(t),this.constant=e,this}setComponents(t,e,n,r){return this.normal.set(t,e,n),this.constant=r,this}setFromNormalAndCoplanarPoint(t,e){return this.normal.copy(t),this.constant=-e.dot(this.normal),this}setFromCoplanarPoints(t,e,n){let r=dL.subVectors(n,e).cross(Yxe.subVectors(t,e)).normalize();return this.setFromNormalAndCoplanarPoint(r,t),this}copy(t){return this.normal.copy(t.normal),this.constant=t.constant,this}normalize(){let t=1/this.normal.length();return this.normal.multiplyScalar(t),this.constant*=t,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(t){return this.normal.dot(t)+this.constant}distanceToSphere(t){return this.distanceToPoint(t.center)-t.radius}projectPoint(t,e){return e.copy(t).addScaledVector(this.normal,-this.distanceToPoint(t))}intersectLine(t,e){let n=t.delta(dL),r=this.normal.dot(n);if(r===0)return this.distanceToPoint(t.start)===0?e.copy(t.start):null;let o=-(t.start.dot(this.normal)+this.constant)/r;return o<0||o>1?null:e.copy(t.start).addScaledVector(n,o)}intersectsLine(t){let e=this.distanceToPoint(t.start),n=this.distanceToPoint(t.end);return e<0&&n>0||n<0&&e>0}intersectsBox(t){return t.intersectsPlane(this)}intersectsSphere(t){return t.intersectsPlane(this)}coplanarPoint(t){return t.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(t,e){let n=e||Zxe.getNormalMatrix(t),r=this.coplanarPoint(dL).applyMatrix4(t),o=this.normal.applyMatrix3(n).normalize();return this.constant=-r.dot(o),this}translate(t){return this.constant-=t.dot(this.normal),this}equals(t){return t.normal.equals(this.normal)&&t.constant===this.constant}clone(){return new this.constructor().copy(this)}},Th=new Ph,Kxe=new Ut(.5,.5),ZM=new j,gf=class{constructor(t=new js,e=new js,n=new js,r=new js,o=new js,s=new js){this.planes=[t,e,n,r,o,s]}set(t,e,n,r,o,s){let a=this.planes;return a[0].copy(t),a[1].copy(e),a[2].copy(n),a[3].copy(r),a[4].copy(o),a[5].copy(s),this}copy(t){let e=this.planes;for(let n=0;n<6;n++)e[n].copy(t.planes[n]);return this}setFromProjectionMatrix(t,e=Sa,n=!1){let r=this.planes,o=t.elements,s=o[0],a=o[1],c=o[2],l=o[3],d=o[4],u=o[5],h=o[6],m=o[7],p=o[8],_=o[9],f=o[10],g=o[11],C=o[12],M=o[13],S=o[14],R=o[15];if(r[0].setComponents(l-s,m-d,g-p,R-C).normalize(),r[1].setComponents(l+s,m+d,g+p,R+C).normalize(),r[2].setComponents(l+a,m+u,g+_,R+M).normalize(),r[3].setComponents(l-a,m-u,g-_,R-M).normalize(),n)r[4].setComponents(c,h,f,S).normalize(),r[5].setComponents(l-c,m-h,g-f,R-S).normalize();else if(r[4].setComponents(l-c,m-h,g-f,R-S).normalize(),e===Sa)r[5].setComponents(l+c,m+h,g+f,R+S).normalize();else if(e===Ob)r[5].setComponents(c,h,f,S).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+e);return this}intersectsObject(t){if(t.boundingSphere!==void 0)t.boundingSphere===null&&t.computeBoundingSphere(),Th.copy(t.boundingSphere).applyMatrix4(t.matrixWorld);else{let e=t.geometry;e.boundingSphere===null&&e.computeBoundingSphere(),Th.copy(e.boundingSphere).applyMatrix4(t.matrixWorld)}return this.intersectsSphere(Th)}intersectsSprite(t){Th.center.set(0,0,0);let e=Kxe.distanceTo(t.center);return Th.radius=.7071067811865476+e,Th.applyMatrix4(t.matrixWorld),this.intersectsSphere(Th)}intersectsSphere(t){let e=this.planes,n=t.center,r=-t.radius;for(let o=0;o<6;o++)if(e[o].distanceToPoint(n)<r)return!1;return!0}intersectsBox(t){let e=this.planes;for(let n=0;n<6;n++){let r=e[n];if(ZM.x=r.normal.x>0?t.max.x:t.min.x,ZM.y=r.normal.y>0?t.max.y:t.min.y,ZM.z=r.normal.z>0?t.max.z:t.min.z,r.distanceToPoint(ZM)<0)return!1}return!0}containsPoint(t){let e=this.planes;for(let n=0;n<6;n++)if(e[n].distanceToPoint(t)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}};var Rh=class extends El{constructor(t){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new xi(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.linewidth=t.linewidth,this.linecap=t.linecap,this.linejoin=t.linejoin,this.fog=t.fog,this}},uC=new j,hC=new j,hY=new vn,kb=new $d,KM=new Ph,uL=new j,mY=new j,xs=class extends Ro{constructor(t=new Mr,e=new Rh){super(),this.isLine=!0,this.type="Line",this.geometry=t,this.material=e,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(t,e){return super.copy(t,e),this.material=Array.isArray(t.material)?t.material.slice():t.material,this.geometry=t.geometry,this}computeLineDistances(){let t=this.geometry;if(t.index===null){let e=t.attributes.position,n=[0];for(let r=1,o=e.count;r<o;r++)uC.fromBufferAttribute(e,r-1),hC.fromBufferAttribute(e,r),n[r]=n[r-1],n[r]+=uC.distanceTo(hC);t.setAttribute("lineDistance",new Wi(n,1))}else Lt("Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(t,e){let n=this.geometry,r=this.matrixWorld,o=t.params.Line.threshold,s=n.drawRange;if(n.boundingSphere===null&&n.computeBoundingSphere(),KM.copy(n.boundingSphere),KM.applyMatrix4(r),KM.radius+=o,t.ray.intersectsSphere(KM)===!1)return;hY.copy(r).invert(),kb.copy(t.ray).applyMatrix4(hY);let a=o/((this.scale.x+this.scale.y+this.scale.z)/3),c=a*a,l=this.isLineSegments?2:1,d=n.index,h=n.attributes.position;if(d!==null){let m=Math.max(0,s.start),p=Math.min(d.count,s.start+s.count);for(let _=m,f=p-1;_<f;_+=l){let g=d.getX(_),C=d.getX(_+1),M=QM(this,t,kb,c,g,C,_);M&&e.push(M)}if(this.isLineLoop){let _=d.getX(p-1),f=d.getX(m),g=QM(this,t,kb,c,_,f,p-1);g&&e.push(g)}}else{let m=Math.max(0,s.start),p=Math.min(h.count,s.start+s.count);for(let _=m,f=p-1;_<f;_+=l){let g=QM(this,t,kb,c,_,_+1,_);g&&e.push(g)}if(this.isLineLoop){let _=QM(this,t,kb,c,p-1,m,p-1);_&&e.push(_)}}}updateMorphTargets(){let e=this.geometry.morphAttributes,n=Object.keys(e);if(n.length>0){let r=e[n[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let o=0,s=r.length;o<s;o++){let a=r[o].name||String(o);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=o}}}}};function QM(i,t,e,n,r,o,s){let a=i.geometry.attributes.position;if(uC.fromBufferAttribute(a,r),hC.fromBufferAttribute(a,o),e.distanceSqToSegment(uC,hC,uL,mY)>n)return;uL.applyMatrix4(i.matrixWorld);let l=t.ray.origin.distanceTo(uL);if(!(l<t.near||l>t.far))return{distance:l,point:mY.clone().applyMatrix4(i.matrixWorld),index:s,face:null,faceIndex:null,barycoord:null,object:i}}var pY=new j,fY=new j,mC=class extends xs{constructor(t,e){super(t,e),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){let t=this.geometry;if(t.index===null){let e=t.attributes.position,n=[];for(let r=0,o=e.count;r<o;r+=2)pY.fromBufferAttribute(e,r),fY.fromBufferAttribute(e,r+1),n[r]=r===0?0:n[r-1],n[r+1]=n[r]+pY.distanceTo(fY);t.setAttribute("lineDistance",new Wi(n,1))}else Lt("LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}};var _f=class extends yc{constructor(t,e,n,r,o,s,a,c,l){super(t,e,n,r,o,s,a,c,l),this.isCanvasTexture=!0,this.needsUpdate=!0}},Gd=class extends yc{constructor(t,e,n=Da,r,o,s,a=Br,c=Br,l,d=pc,u=1){if(d!==pc&&d!==Jd)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");let h={width:t,height:e,depth:u};super(h,r,o,s,a,c,d,n,l),this.isDepthTexture=!0,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(t){return super.copy(t),this.source=new mf(Object.assign({},t.image)),this.compareFunction=t.compareFunction,this}toJSON(t){let e=super.toJSON(t);return this.compareFunction!==null&&(e.compareFunction=this.compareFunction),e}},pC=class extends Gd{constructor(t,e=Da,n=Kd,r,o,s=Br,a=Br,c,l=pc){let d={width:t,height:t,depth:1},u=[d,d,d,d,d,d];super(t,t,e,n,r,o,s,a,c,l),this.image=u,this.isCubeDepthTexture=!0,this.isCubeTexture=!0}get images(){return this.image}set images(t){this.image=t}},$b=class extends yc{constructor(t=null){super(),this.sourceTexture=t,this.isExternalTexture=!0}copy(t){return super.copy(t),this.sourceTexture=t.sourceTexture,this}};var gr=class i extends Mr{constructor(t=1,e=1,n=1,r=32,o=1,s=!1,a=0,c=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:t,radiusBottom:e,height:n,radialSegments:r,heightSegments:o,openEnded:s,thetaStart:a,thetaLength:c};let l=this;r=Math.floor(r),o=Math.floor(o);let d=[],u=[],h=[],m=[],p=0,_=[],f=n/2,g=0;C(),s===!1&&(t>0&&M(!0),e>0&&M(!1)),this.setIndex(d),this.setAttribute("position",new Wi(u,3)),this.setAttribute("normal",new Wi(h,3)),this.setAttribute("uv",new Wi(m,2));function C(){let S=new j,R=new j,N=0,L=(e-t)/n;for(let z=0;z<=o;z++){let E=[],A=z/o,U=A*(e-t)+t;for(let W=0;W<=r;W++){let Z=W/r,se=Z*c+a,ie=Math.sin(se),de=Math.cos(se);R.x=U*ie,R.y=-A*n+f,R.z=U*de,u.push(R.x,R.y,R.z),S.set(ie,L,de).normalize(),h.push(S.x,S.y,S.z),m.push(Z,1-A),E.push(p++)}_.push(E)}for(let z=0;z<r;z++)for(let E=0;E<o;E++){let A=_[E][z],U=_[E+1][z],W=_[E+1][z+1],Z=_[E][z+1];(t>0||E!==0)&&(d.push(A,U,Z),N+=3),(e>0||E!==o-1)&&(d.push(U,W,Z),N+=3)}l.addGroup(g,N,0),g+=N}function M(S){let R=p,N=new Ut,L=new j,z=0,E=S===!0?t:e,A=S===!0?1:-1;for(let W=1;W<=r;W++)u.push(0,f*A,0),h.push(0,A,0),m.push(.5,.5),p++;let U=p;for(let W=0;W<=r;W++){let se=W/r*c+a,ie=Math.cos(se),de=Math.sin(se);L.x=E*de,L.y=f*A,L.z=E*ie,u.push(L.x,L.y,L.z),h.push(0,A,0),N.x=ie*.5+.5,N.y=de*.5*A+.5,m.push(N.x,N.y),p++}for(let W=0;W<r;W++){let Z=R+W,se=U+W;S===!0?d.push(se,se+1,Z):d.push(se+1,se,Z),z+=3}l.addGroup(g,z,S===!0?1:2),g+=z}}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new i(t.radiusTop,t.radiusBottom,t.height,t.radialSegments,t.heightSegments,t.openEnded,t.thetaStart,t.thetaLength)}};var fC=class i extends Mr{constructor(t=[],e=[],n=1,r=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:t,indices:e,radius:n,detail:r};let o=[],s=[];a(r),l(n),d(),this.setAttribute("position",new Wi(o,3)),this.setAttribute("normal",new Wi(o.slice(),3)),this.setAttribute("uv",new Wi(s,2)),r===0?this.computeVertexNormals():this.normalizeNormals();function a(C){let M=new j,S=new j,R=new j;for(let N=0;N<e.length;N+=3)m(e[N+0],M),m(e[N+1],S),m(e[N+2],R),c(M,S,R,C)}function c(C,M,S,R){let N=R+1,L=[];for(let z=0;z<=N;z++){L[z]=[];let E=C.clone().lerp(S,z/N),A=M.clone().lerp(S,z/N),U=N-z;for(let W=0;W<=U;W++)W===0&&z===N?L[z][W]=E:L[z][W]=E.clone().lerp(A,W/U)}for(let z=0;z<N;z++)for(let E=0;E<2*(N-z)-1;E++){let A=Math.floor(E/2);E%2===0?(h(L[z][A+1]),h(L[z+1][A]),h(L[z][A])):(h(L[z][A+1]),h(L[z+1][A+1]),h(L[z+1][A]))}}function l(C){let M=new j;for(let S=0;S<o.length;S+=3)M.x=o[S+0],M.y=o[S+1],M.z=o[S+2],M.normalize().multiplyScalar(C),o[S+0]=M.x,o[S+1]=M.y,o[S+2]=M.z}function d(){let C=new j;for(let M=0;M<o.length;M+=3){C.x=o[M+0],C.y=o[M+1],C.z=o[M+2];let S=f(C)/2/Math.PI+.5,R=g(C)/Math.PI+.5;s.push(S,1-R)}p(),u()}function u(){for(let C=0;C<s.length;C+=6){let M=s[C+0],S=s[C+2],R=s[C+4],N=Math.max(M,S,R),L=Math.min(M,S,R);N>.9&&L<.1&&(M<.2&&(s[C+0]+=1),S<.2&&(s[C+2]+=1),R<.2&&(s[C+4]+=1))}}function h(C){o.push(C.x,C.y,C.z)}function m(C,M){let S=C*3;M.x=t[S+0],M.y=t[S+1],M.z=t[S+2]}function p(){let C=new j,M=new j,S=new j,R=new j,N=new Ut,L=new Ut,z=new Ut;for(let E=0,A=0;E<o.length;E+=9,A+=6){C.set(o[E+0],o[E+1],o[E+2]),M.set(o[E+3],o[E+4],o[E+5]),S.set(o[E+6],o[E+7],o[E+8]),N.set(s[A+0],s[A+1]),L.set(s[A+2],s[A+3]),z.set(s[A+4],s[A+5]),R.copy(C).add(M).add(S).divideScalar(3);let U=f(R);_(N,A+0,C,U),_(L,A+2,M,U),_(z,A+4,S,U)}}function _(C,M,S,R){R<0&&C.x===1&&(s[M]=C.x-1),S.x===0&&S.z===0&&(s[M]=R/2/Math.PI+.5)}function f(C){return Math.atan2(C.z,-C.x)}function g(C){return Math.atan2(-C.y,Math.sqrt(C.x*C.x+C.z*C.z))}}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new i(t.vertices,t.indices,t.radius,t.detail)}};var Wd=class i extends fC{constructor(t=1,e=0){let n=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],r=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(n,r,t,e),this.type="OctahedronGeometry",this.parameters={radius:t,detail:e}}static fromJSON(t){return new i(t.radius,t.detail)}},$s=class i extends Mr{constructor(t=1,e=1,n=1,r=1){super(),this.type="PlaneGeometry",this.parameters={width:t,height:e,widthSegments:n,heightSegments:r};let o=t/2,s=e/2,a=Math.floor(n),c=Math.floor(r),l=a+1,d=c+1,u=t/a,h=e/c,m=[],p=[],_=[],f=[];for(let g=0;g<d;g++){let C=g*h-s;for(let M=0;M<l;M++){let S=M*u-o;p.push(S,-C,0),_.push(0,0,1),f.push(M/a),f.push(1-g/c)}}for(let g=0;g<c;g++)for(let C=0;C<a;C++){let M=C+l*g,S=C+l*(g+1),R=C+1+l*(g+1),N=C+1+l*g;m.push(M,S,N),m.push(S,R,N)}this.setIndex(m),this.setAttribute("position",new Wi(p,3)),this.setAttribute("normal",new Wi(_,3)),this.setAttribute("uv",new Wi(f,2))}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new i(t.width,t.height,t.widthSegments,t.heightSegments)}};var Gb=class i extends Mr{constructor(t=1,e=32,n=16,r=0,o=Math.PI*2,s=0,a=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:t,widthSegments:e,heightSegments:n,phiStart:r,phiLength:o,thetaStart:s,thetaLength:a},e=Math.max(3,Math.floor(e)),n=Math.max(2,Math.floor(n));let c=Math.min(s+a,Math.PI),l=0,d=[],u=new j,h=new j,m=[],p=[],_=[],f=[];for(let g=0;g<=n;g++){let C=[],M=g/n,S=0;g===0&&s===0?S=.5/e:g===n&&c===Math.PI&&(S=-.5/e);for(let R=0;R<=e;R++){let N=R/e;u.x=-t*Math.cos(r+N*o)*Math.sin(s+M*a),u.y=t*Math.cos(s+M*a),u.z=t*Math.sin(r+N*o)*Math.sin(s+M*a),p.push(u.x,u.y,u.z),h.copy(u).normalize(),_.push(h.x,h.y,h.z),f.push(N+S,1-M),C.push(l++)}d.push(C)}for(let g=0;g<n;g++)for(let C=0;C<e;C++){let M=d[g][C+1],S=d[g][C],R=d[g+1][C],N=d[g+1][C+1];(g!==0||s>0)&&m.push(M,S,N),(g!==n-1||c<Math.PI)&&m.push(S,R,N)}this.setIndex(m),this.setAttribute("position",new Wi(p,3)),this.setAttribute("normal",new Wi(_,3)),this.setAttribute("uv",new Wi(f,2))}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new i(t.radius,t.widthSegments,t.heightSegments,t.phiStart,t.phiLength,t.thetaStart,t.thetaLength)}};var Tl=class i extends Mr{constructor(t=1,e=.4,n=12,r=48,o=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:t,tube:e,radialSegments:n,tubularSegments:r,arc:o},n=Math.floor(n),r=Math.floor(r);let s=[],a=[],c=[],l=[],d=new j,u=new j,h=new j;for(let m=0;m<=n;m++)for(let p=0;p<=r;p++){let _=p/r*o,f=m/n*Math.PI*2;u.x=(t+e*Math.cos(f))*Math.cos(_),u.y=(t+e*Math.cos(f))*Math.sin(_),u.z=e*Math.sin(f),a.push(u.x,u.y,u.z),d.x=t*Math.cos(_),d.y=t*Math.sin(_),h.subVectors(u,d).normalize(),c.push(h.x,h.y,h.z),l.push(p/r),l.push(m/n)}for(let m=1;m<=n;m++)for(let p=1;p<=r;p++){let _=(r+1)*m+p-1,f=(r+1)*(m-1)+p-1,g=(r+1)*(m-1)+p,C=(r+1)*m+p;s.push(_,f,C),s.push(f,g,C)}this.setIndex(s),this.setAttribute("position",new Wi(a,3)),this.setAttribute("normal",new Wi(c,3)),this.setAttribute("uv",new Wi(l,2))}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new i(t.radius,t.tube,t.radialSegments,t.tubularSegments,t.arc)}};var gC=class extends ys{constructor(t){super(t),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}},Ta=class extends El{constructor(t){super(),this.isMeshStandardMaterial=!0,this.type="MeshStandardMaterial",this.defines={STANDARD:""},this.color=new xi(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new xi(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=HL,this.normalScale=new Ut(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new _c,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.defines={STANDARD:""},this.color.copy(t.color),this.roughness=t.roughness,this.metalness=t.metalness,this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.roughnessMap=t.roughnessMap,this.metalnessMap=t.metalnessMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.envMapRotation.copy(t.envMapRotation),this.envMapIntensity=t.envMapIntensity,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.flatShading=t.flatShading,this.fog=t.fog,this}};var _C=class extends El{constructor(t){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=$Y,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(t)}copy(t){return super.copy(t),this.depthPacking=t.depthPacking,this.map=t.map,this.alphaMap=t.alphaMap,this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this}},bC=class extends El{constructor(t){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(t)}copy(t){return super.copy(t),this.map=t.map,this.alphaMap=t.alphaMap,this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this}};function JM(i,t){return!i||i.constructor===t?i:typeof t.BYTES_PER_ELEMENT=="number"?new t(i):Array.prototype.slice.call(i)}var Nh=class{constructor(t,e,n,r){this.parameterPositions=t,this._cachedIndex=0,this.resultBuffer=r!==void 0?r:new e.constructor(n),this.sampleValues=e,this.valueSize=n,this.settings=null,this.DefaultSettings_={}}evaluate(t){let e=this.parameterPositions,n=this._cachedIndex,r=e[n],o=e[n-1];e:{t:{let s;i:{n:if(!(t<r)){for(let a=n+2;;){if(r===void 0){if(t<o)break n;return n=e.length,this._cachedIndex=n,this.copySampleValue_(n-1)}if(n===a)break;if(o=r,r=e[++n],t<r)break t}s=e.length;break i}if(!(t>=o)){let a=e[1];t<a&&(n=2,o=a);for(let c=n-2;;){if(o===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(n===c)break;if(r=o,o=e[--n-1],t>=o)break t}s=n,n=0;break i}break e}for(;n<s;){let a=n+s>>>1;t<e[a]?s=a:n=a+1}if(r=e[n],o=e[n-1],o===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===void 0)return n=e.length,this._cachedIndex=n,this.copySampleValue_(n-1)}this._cachedIndex=n,this.intervalChanged_(n,o,r)}return this.interpolate_(n,o,t,r)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(t){let e=this.resultBuffer,n=this.sampleValues,r=this.valueSize,o=t*r;for(let s=0;s!==r;++s)e[s]=n[o+s];return e}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}},vC=class extends Nh{constructor(t,e,n,r){super(t,e,n,r),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:pL,endingEnd:pL}}intervalChanged_(t,e,n){let r=this.parameterPositions,o=t-2,s=t+1,a=r[o],c=r[s];if(a===void 0)switch(this.getSettings_().endingStart){case fL:o=t,a=2*e-n;break;case gL:o=r.length-2,a=e+r[o]-r[o+1];break;default:o=t,a=n}if(c===void 0)switch(this.getSettings_().endingEnd){case fL:s=t,c=2*n-e;break;case gL:s=1,c=n+r[1]-r[0];break;default:s=t-1,c=e}let l=(n-e)*.5,d=this.valueSize;this._weightPrev=l/(e-a),this._weightNext=l/(c-n),this._offsetPrev=o*d,this._offsetNext=s*d}interpolate_(t,e,n,r){let o=this.resultBuffer,s=this.sampleValues,a=this.valueSize,c=t*a,l=c-a,d=this._offsetPrev,u=this._offsetNext,h=this._weightPrev,m=this._weightNext,p=(n-e)/(r-e),_=p*p,f=_*p,g=-h*f+2*h*_-h*p,C=(1+h)*f+(-1.5-2*h)*_+(-.5+h)*p+1,M=(-1-m)*f+(1.5+m)*_+.5*p,S=m*f-m*_;for(let R=0;R!==a;++R)o[R]=g*s[d+R]+C*s[l+R]+M*s[c+R]+S*s[u+R];return o}},yC=class extends Nh{constructor(t,e,n,r){super(t,e,n,r)}interpolate_(t,e,n,r){let o=this.resultBuffer,s=this.sampleValues,a=this.valueSize,c=t*a,l=c-a,d=(n-e)/(r-e),u=1-d;for(let h=0;h!==a;++h)o[h]=s[l+h]*u+s[c+h]*d;return o}},xC=class extends Nh{constructor(t,e,n,r){super(t,e,n,r)}interpolate_(t){return this.copySampleValue_(t-1)}},ws=class{constructor(t,e,n,r){if(t===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(e===void 0||e.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+t);this.name=t,this.times=JM(e,this.TimeBufferType),this.values=JM(n,this.ValueBufferType),this.setInterpolation(r||this.DefaultInterpolation)}static toJSON(t){let e=t.constructor,n;if(e.toJSON!==this.toJSON)n=e.toJSON(t);else{n={name:t.name,times:JM(t.times,Array),values:JM(t.values,Array)};let r=t.getInterpolation();r!==t.DefaultInterpolation&&(n.interpolation=r)}return n.type=t.ValueTypeName,n}InterpolantFactoryMethodDiscrete(t){return new xC(this.times,this.values,this.getValueSize(),t)}InterpolantFactoryMethodLinear(t){return new yC(this.times,this.values,this.getValueSize(),t)}InterpolantFactoryMethodSmooth(t){return new vC(this.times,this.values,this.getValueSize(),t)}setInterpolation(t){let e;switch(t){case Rb:e=this.InterpolantFactoryMethodDiscrete;break;case oC:e=this.InterpolantFactoryMethodLinear;break;case eC:e=this.InterpolantFactoryMethodSmooth;break}if(e===void 0){let n="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(t!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(n);return Lt("KeyframeTrack:",n),this}return this.createInterpolant=e,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return Rb;case this.InterpolantFactoryMethodLinear:return oC;case this.InterpolantFactoryMethodSmooth:return eC}}getValueSize(){return this.values.length/this.times.length}shift(t){if(t!==0){let e=this.times;for(let n=0,r=e.length;n!==r;++n)e[n]+=t}return this}scale(t){if(t!==1){let e=this.times;for(let n=0,r=e.length;n!==r;++n)e[n]*=t}return this}trim(t,e){let n=this.times,r=n.length,o=0,s=r-1;for(;o!==r&&n[o]<t;)++o;for(;s!==-1&&n[s]>e;)--s;if(++s,o!==0||s!==r){o>=s&&(s=Math.max(s,1),o=s-1);let a=this.getValueSize();this.times=n.slice(o,s),this.values=this.values.slice(o*a,s*a)}return this}validate(){let t=!0,e=this.getValueSize();e-Math.floor(e)!==0&&(zt("KeyframeTrack: Invalid value size in track.",this),t=!1);let n=this.times,r=this.values,o=n.length;o===0&&(zt("KeyframeTrack: Track is empty.",this),t=!1);let s=null;for(let a=0;a!==o;a++){let c=n[a];if(typeof c=="number"&&isNaN(c)){zt("KeyframeTrack: Time is not a valid number.",this,a,c),t=!1;break}if(s!==null&&s>c){zt("KeyframeTrack: Out of order keys.",this,a,c,s),t=!1;break}s=c}if(r!==void 0&&pxe(r))for(let a=0,c=r.length;a!==c;++a){let l=r[a];if(isNaN(l)){zt("KeyframeTrack: Value is not a valid number.",this,a,l),t=!1;break}}return t}optimize(){let t=this.times.slice(),e=this.values.slice(),n=this.getValueSize(),r=this.getInterpolation()===eC,o=t.length-1,s=1;for(let a=1;a<o;++a){let c=!1,l=t[a],d=t[a+1];if(l!==d&&(a!==1||l!==t[0]))if(r)c=!0;else{let u=a*n,h=u-n,m=u+n;for(let p=0;p!==n;++p){let _=e[u+p];if(_!==e[h+p]||_!==e[m+p]){c=!0;break}}}if(c){if(a!==s){t[s]=t[a];let u=a*n,h=s*n;for(let m=0;m!==n;++m)e[h+m]=e[u+m]}++s}}if(o>0){t[s]=t[o];for(let a=o*n,c=s*n,l=0;l!==n;++l)e[c+l]=e[a+l];++s}return s!==t.length?(this.times=t.slice(0,s),this.values=e.slice(0,s*n)):(this.times=t,this.values=e),this}clone(){let t=this.times.slice(),e=this.values.slice(),n=this.constructor,r=new n(this.name,t,e);return r.createInterpolant=this.createInterpolant,r}};ws.prototype.ValueTypeName="";ws.prototype.TimeBufferType=Float32Array;ws.prototype.ValueBufferType=Float32Array;ws.prototype.DefaultInterpolation=oC;var qd=class extends ws{constructor(t,e,n){super(t,e,n)}};qd.prototype.ValueTypeName="bool";qd.prototype.ValueBufferType=Array;qd.prototype.DefaultInterpolation=Rb;qd.prototype.InterpolantFactoryMethodLinear=void 0;qd.prototype.InterpolantFactoryMethodSmooth=void 0;var wC=class extends ws{constructor(t,e,n,r){super(t,e,n,r)}};wC.prototype.ValueTypeName="color";var MC=class extends ws{constructor(t,e,n,r){super(t,e,n,r)}};MC.prototype.ValueTypeName="number";var CC=class extends Nh{constructor(t,e,n,r){super(t,e,n,r)}interpolate_(t,e,n,r){let o=this.resultBuffer,s=this.sampleValues,a=this.valueSize,c=(n-e)/(r-e),l=t*a;for(let d=l+a;l!==d;l+=4)Vn.slerpFlat(o,0,s,l-a,s,l,c);return o}},Wb=class extends ws{constructor(t,e,n,r){super(t,e,n,r)}InterpolantFactoryMethodLinear(t){return new CC(this.times,this.values,this.getValueSize(),t)}};Wb.prototype.ValueTypeName="quaternion";Wb.prototype.InterpolantFactoryMethodSmooth=void 0;var Xd=class extends ws{constructor(t,e,n){super(t,e,n)}};Xd.prototype.ValueTypeName="string";Xd.prototype.ValueBufferType=Array;Xd.prototype.DefaultInterpolation=Rb;Xd.prototype.InterpolantFactoryMethodLinear=void 0;Xd.prototype.InterpolantFactoryMethodSmooth=void 0;var SC=class extends ws{constructor(t,e,n,r){super(t,e,n,r)}};SC.prototype.ValueTypeName="vector";var qb=class extends Ro{constructor(t,e=1){super(),this.isLight=!0,this.type="Light",this.color=new xi(t),this.intensity=e}dispose(){this.dispatchEvent({type:"dispose"})}copy(t,e){return super.copy(t,e),this.color.copy(t.color),this.intensity=t.intensity,this}toJSON(t){let e=super.toJSON(t);return e.object.color=this.color.getHex(),e.object.intensity=this.intensity,e}};var hL=new vn,gY=new j,_Y=new j,vL=class{constructor(t){this.camera=t,this.intensity=1,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new Ut(512,512),this.mapType=es,this.map=null,this.mapPass=null,this.matrix=new vn,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new gf,this._frameExtents=new Ut(1,1),this._viewportCount=1,this._viewports=[new Un(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(t){let e=this.camera,n=this.matrix;gY.setFromMatrixPosition(t.matrixWorld),e.position.copy(gY),_Y.setFromMatrixPosition(t.target.matrixWorld),e.lookAt(_Y),e.updateMatrixWorld(),hL.multiplyMatrices(e.projectionMatrix,e.matrixWorldInverse),this._frustum.setFromProjectionMatrix(hL,e.coordinateSystem,e.reversedDepth),e.reversedDepth?n.set(.5,0,0,.5,0,.5,0,.5,0,0,1,0,0,0,0,1):n.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),n.multiply(hL)}getViewport(t){return this._viewports[t]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(t){return this.camera=t.camera.clone(),this.intensity=t.intensity,this.bias=t.bias,this.radius=t.radius,this.autoUpdate=t.autoUpdate,this.needsUpdate=t.needsUpdate,this.normalBias=t.normalBias,this.blurSamples=t.blurSamples,this.mapSize.copy(t.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){let t={};return this.intensity!==1&&(t.intensity=this.intensity),this.bias!==0&&(t.bias=this.bias),this.normalBias!==0&&(t.normalBias=this.normalBias),this.radius!==1&&(t.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(t.mapSize=this.mapSize.toArray()),t.camera=this.camera.toJSON(!1).object,delete t.camera.matrix,t}};var bf=class extends Ub{constructor(t=-1,e=1,n=1,r=-1,o=.1,s=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=t,this.right=e,this.top=n,this.bottom=r,this.near=o,this.far=s,this.updateProjectionMatrix()}copy(t,e){return super.copy(t,e),this.left=t.left,this.right=t.right,this.top=t.top,this.bottom=t.bottom,this.near=t.near,this.far=t.far,this.zoom=t.zoom,this.view=t.view===null?null:Object.assign({},t.view),this}setViewOffset(t,e,n,r,o,s){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=t,this.view.fullHeight=e,this.view.offsetX=n,this.view.offsetY=r,this.view.width=o,this.view.height=s,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){let t=(this.right-this.left)/(2*this.zoom),e=(this.top-this.bottom)/(2*this.zoom),n=(this.right+this.left)/2,r=(this.top+this.bottom)/2,o=n-t,s=n+t,a=r+e,c=r-e;if(this.view!==null&&this.view.enabled){let l=(this.right-this.left)/this.view.fullWidth/this.zoom,d=(this.top-this.bottom)/this.view.fullHeight/this.zoom;o+=l*this.view.offsetX,s=o+l*this.view.width,a-=d*this.view.offsetY,c=a-d*this.view.height}this.projectionMatrix.makeOrthographic(o,s,a,c,this.near,this.far,this.coordinateSystem,this.reversedDepth),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(t){let e=super.toJSON(t);return e.object.zoom=this.zoom,e.object.left=this.left,e.object.right=this.right,e.object.top=this.top,e.object.bottom=this.bottom,e.object.near=this.near,e.object.far=this.far,this.view!==null&&(e.object.view=Object.assign({},this.view)),e}},yL=class extends vL{constructor(){super(new bf(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}},Xb=class extends qb{constructor(t,e){super(t,e),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(Ro.DEFAULT_UP),this.updateMatrix(),this.target=new Ro,this.shadow=new yL}dispose(){super.dispose(),this.shadow.dispose()}copy(t){return super.copy(t),this.target=t.target.clone(),this.shadow=t.shadow.clone(),this}toJSON(t){let e=super.toJSON(t);return e.object.shadow=this.shadow.toJSON(),e.object.target=this.target.uuid,e}},Yb=class extends qb{constructor(t,e){super(t,e),this.isAmbientLight=!0,this.type="AmbientLight"}};var EC=class extends ho{constructor(t=[]){super(),this.isArrayCamera=!0,this.isMultiViewCamera=!1,this.cameras=t}};var YL="\\[\\]\\.:\\/",Qxe=new RegExp("["+YL+"]","g"),ZL="[^"+YL+"]",Jxe="[^"+YL.replace("\\.","")+"]",ewe=/((?:WC+[\/:])*)/.source.replace("WC",ZL),twe=/(WCOD+)?/.source.replace("WCOD",Jxe),iwe=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",ZL),nwe=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",ZL),rwe=new RegExp("^"+ewe+twe+iwe+nwe+"$"),owe=["material","materials","bones","map"],xL=class{constructor(t,e,n){let r=n||Xn.parseTrackName(e);this._targetGroup=t,this._bindings=t.subscribe_(e,r)}getValue(t,e){this.bind();let n=this._targetGroup.nCachedObjects_,r=this._bindings[n];r!==void 0&&r.getValue(t,e)}setValue(t,e){let n=this._bindings;for(let r=this._targetGroup.nCachedObjects_,o=n.length;r!==o;++r)n[r].setValue(t,e)}bind(){let t=this._bindings;for(let e=this._targetGroup.nCachedObjects_,n=t.length;e!==n;++e)t[e].bind()}unbind(){let t=this._bindings;for(let e=this._targetGroup.nCachedObjects_,n=t.length;e!==n;++e)t[e].unbind()}},Xn=(()=>{class i{constructor(e,n,r){this.path=n,this.parsedPath=r||i.parseTrackName(n),this.node=i.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,n,r){return e&&e.isAnimationObjectGroup?new i.Composite(e,n,r):new i(e,n,r)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(Qxe,"")}static parseTrackName(e){let n=rwe.exec(e);if(n===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);let r={nodeName:n[2],objectName:n[3],objectIndex:n[4],propertyName:n[5],propertyIndex:n[6]},o=r.nodeName&&r.nodeName.lastIndexOf(".");if(o!==void 0&&o!==-1){let s=r.nodeName.substring(o+1);owe.indexOf(s)!==-1&&(r.nodeName=r.nodeName.substring(0,o),r.objectName=s)}if(r.propertyName===null||r.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return r}static findNode(e,n){if(n===void 0||n===""||n==="."||n===-1||n===e.name||n===e.uuid)return e;if(e.skeleton){let r=e.skeleton.getBoneByName(n);if(r!==void 0)return r}if(e.children){let r=function(s){for(let a=0;a<s.length;a++){let c=s[a];if(c.name===n||c.uuid===n)return c;let l=r(c.children);if(l)return l}return null},o=r(e.children);if(o)return o}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,n){e[n]=this.targetObject[this.propertyName]}_getValue_array(e,n){let r=this.resolvedProperty;for(let o=0,s=r.length;o!==s;++o)e[n++]=r[o]}_getValue_arrayElement(e,n){e[n]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,n){this.resolvedProperty.toArray(e,n)}_setValue_direct(e,n){this.targetObject[this.propertyName]=e[n]}_setValue_direct_setNeedsUpdate(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,n){let r=this.resolvedProperty;for(let o=0,s=r.length;o!==s;++o)r[o]=e[n++]}_setValue_array_setNeedsUpdate(e,n){let r=this.resolvedProperty;for(let o=0,s=r.length;o!==s;++o)r[o]=e[n++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,n){let r=this.resolvedProperty;for(let o=0,s=r.length;o!==s;++o)r[o]=e[n++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,n){this.resolvedProperty[this.propertyIndex]=e[n]}_setValue_arrayElement_setNeedsUpdate(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,n){this.resolvedProperty.fromArray(e,n)}_setValue_fromArray_setNeedsUpdate(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,n){this.bind(),this.getValue(e,n)}_setValue_unbound(e,n){this.bind(),this.setValue(e,n)}bind(){let e=this.node,n=this.parsedPath,r=n.objectName,o=n.propertyName,s=n.propertyIndex;if(e||(e=i.findNode(this.rootNode,n.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){Lt("PropertyBinding: No target node found for track: "+this.path+".");return}if(r){let d=n.objectIndex;switch(r){case"materials":if(!e.material){zt("PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){zt("PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){zt("PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let u=0;u<e.length;u++)if(e[u].name===d){d=u;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){zt("PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){zt("PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[r]===void 0){zt("PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[r]}if(d!==void 0){if(e[d]===void 0){zt("PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[d]}}let a=e[o];if(a===void 0){let d=n.nodeName;zt("PropertyBinding: Trying to update property for track: "+d+"."+o+" but it wasn't found.",e);return}let c=this.Versioning.None;this.targetObject=e,e.isMaterial===!0?c=this.Versioning.NeedsUpdate:e.isObject3D===!0&&(c=this.Versioning.MatrixWorldNeedsUpdate);let l=this.BindingType.Direct;if(s!==void 0){if(o==="morphTargetInfluences"){if(!e.geometry){zt("PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){zt("PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[s]!==void 0&&(s=e.morphTargetDictionary[s])}l=this.BindingType.ArrayElement,this.resolvedProperty=a,this.propertyIndex=s}else a.fromArray!==void 0&&a.toArray!==void 0?(l=this.BindingType.HasFromToArray,this.resolvedProperty=a):Array.isArray(a)?(l=this.BindingType.EntireArray,this.resolvedProperty=a):this.propertyName=o;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][c]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}return i.Composite=xL,i})();Xn.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};Xn.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};Xn.prototype.GetterByBindingType=[Xn.prototype._getValue_direct,Xn.prototype._getValue_array,Xn.prototype._getValue_arrayElement,Xn.prototype._getValue_toArray];Xn.prototype.SetterByBindingTypeAndVersioning=[[Xn.prototype._setValue_direct,Xn.prototype._setValue_direct_setNeedsUpdate,Xn.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[Xn.prototype._setValue_array,Xn.prototype._setValue_array_setNeedsUpdate,Xn.prototype._setValue_array_setMatrixWorldNeedsUpdate],[Xn.prototype._setValue_arrayElement,Xn.prototype._setValue_arrayElement_setNeedsUpdate,Xn.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[Xn.prototype._setValue_fromArray,Xn.prototype._setValue_fromArray_setNeedsUpdate,Xn.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];var jyt=new Float32Array(1);var bY=new vn,Oh=class{constructor(t,e,n=0,r=1/0){this.ray=new $d(t,e),this.near=n,this.far=r,this.camera=null,this.layers=new pf,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(t,e){this.ray.set(t,e)}setFromCamera(t,e){e.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(t.x,t.y,.5).unproject(e).sub(this.ray.origin).normalize(),this.camera=e):e.isOrthographicCamera?(this.ray.origin.set(t.x,t.y,(e.near+e.far)/(e.near-e.far)).unproject(e),this.ray.direction.set(0,0,-1).transformDirection(e.matrixWorld),this.camera=e):zt("Raycaster: Unsupported camera type: "+e.type)}setFromXRController(t){return bY.identity().extractRotation(t.matrixWorld),this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(0,0,-1).applyMatrix4(bY),this}intersectObject(t,e=!0,n=[]){return wL(t,this,n,e),n.sort(vY),n}intersectObjects(t,e=!0,n=[]){for(let r=0,o=t.length;r<o;r++)wL(t[r],this,n,e);return n.sort(vY),n}};function vY(i,t){return i.distance-t.distance}function wL(i,t,e,n){let r=!0;if(i.layers.test(t.layers)&&i.raycast(t,e)===!1&&(r=!1),r===!0&&n===!0){let o=i.children;for(let s=0,a=o.length;s<a;s++)wL(o[s],t,e,!0)}}var vf=class{constructor(t=1,e=0,n=0){this.radius=t,this.phi=e,this.theta=n}set(t,e,n){return this.radius=t,this.phi=e,this.theta=n,this}copy(t){return this.radius=t.radius,this.phi=t.phi,this.theta=t.theta,this}makeSafe(){return this.phi=Ei(this.phi,1e-6,Math.PI-1e-6),this}setFromVector3(t){return this.setFromCartesianCoords(t.x,t.y,t.z)}setFromCartesianCoords(t,e,n){return this.radius=Math.sqrt(t*t+e*e+n*n),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(t,n),this.phi=Math.acos(Ei(e/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}};var Zb=class extends mC{constructor(t=10,e=10,n=4473924,r=8947848){n=new xi(n),r=new xi(r);let o=e/2,s=t/e,a=t/2,c=[],l=[];for(let h=0,m=0,p=-a;h<=e;h++,p+=s){c.push(-a,0,p,a,0,p),c.push(p,0,-a,p,0,a);let _=h===o?n:r;_.toArray(l,m),m+=3,_.toArray(l,m),m+=3,_.toArray(l,m),m+=3,_.toArray(l,m),m+=3}let d=new Mr;d.setAttribute("position",new Wi(c,3)),d.setAttribute("color",new Wi(l,3));let u=new Rh({vertexColors:!0,toneMapped:!1});super(d,u),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}};var Fh=class extends fc{constructor(t,e=null){super(),this.object=t,this.domElement=e,this.enabled=!0,this.state=-1,this.keys={},this.mouseButtons={LEFT:null,MIDDLE:null,RIGHT:null},this.touches={ONE:null,TWO:null}}connect(t){if(t===void 0){Lt("Controls: connect() now requires an element.");return}this.domElement!==null&&this.disconnect(),this.domElement=t}disconnect(){}dispose(){}update(){}};function KL(i,t,e,n){let r=swe(n);switch(e){case VL:return i*t;case zL:return i*t/r.components*r.byteLength;case zC:return i*t/r.components*r.byteLength;case Bh:return i*t*2/r.components*r.byteLength;case HC:return i*t*2/r.components*r.byteLength;case UL:return i*t*3/r.components*r.byteLength;case Gs:return i*t*4/r.components*r.byteLength;case jC:return i*t*4/r.components*r.byteLength;case e0:case t0:return Math.floor((i+3)/4)*Math.floor((t+3)/4)*8;case i0:case n0:return Math.floor((i+3)/4)*Math.floor((t+3)/4)*16;case GC:case qC:return Math.max(i,16)*Math.max(t,8)/4;case $C:case WC:return Math.max(i,8)*Math.max(t,8)/2;case XC:case YC:case KC:case QC:return Math.floor((i+3)/4)*Math.floor((t+3)/4)*8;case ZC:case JC:case eS:return Math.floor((i+3)/4)*Math.floor((t+3)/4)*16;case tS:return Math.floor((i+3)/4)*Math.floor((t+3)/4)*16;case iS:return Math.floor((i+4)/5)*Math.floor((t+3)/4)*16;case nS:return Math.floor((i+4)/5)*Math.floor((t+4)/5)*16;case rS:return Math.floor((i+5)/6)*Math.floor((t+4)/5)*16;case oS:return Math.floor((i+5)/6)*Math.floor((t+5)/6)*16;case sS:return Math.floor((i+7)/8)*Math.floor((t+4)/5)*16;case aS:return Math.floor((i+7)/8)*Math.floor((t+5)/6)*16;case cS:return Math.floor((i+7)/8)*Math.floor((t+7)/8)*16;case lS:return Math.floor((i+9)/10)*Math.floor((t+4)/5)*16;case dS:return Math.floor((i+9)/10)*Math.floor((t+5)/6)*16;case uS:return Math.floor((i+9)/10)*Math.floor((t+7)/8)*16;case hS:return Math.floor((i+9)/10)*Math.floor((t+9)/10)*16;case mS:return Math.floor((i+11)/12)*Math.floor((t+9)/10)*16;case pS:return Math.floor((i+11)/12)*Math.floor((t+11)/12)*16;case fS:case gS:case _S:return Math.ceil(i/4)*Math.ceil(t/4)*16;case bS:case vS:return Math.ceil(i/4)*Math.ceil(t/4)*8;case yS:case xS:return Math.ceil(i/4)*Math.ceil(t/4)*16}throw new Error(`Unable to determine texture byte length for ${e} format.`)}function swe(i){switch(i){case es:case OL:return{byteLength:1,components:1};case xf:case FL:case vc:return{byteLength:2,components:1};case VC:case UC:return{byteLength:2,components:4};case Da:case BC:case ka:return{byteLength:4,components:1};case LL:case BL:return{byteLength:4,components:3}}throw new Error(`Unknown texture type ${i}.`)}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:TC}}));typeof window<"u"&&(window.__THREE__?Lt("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=TC);function CZ(){let i=null,t=!1,e=null,n=null;function r(o,s){e(o,s),n=i.requestAnimationFrame(r)}return{start:function(){t!==!0&&e!==null&&(n=i.requestAnimationFrame(r),t=!0)},stop:function(){i.cancelAnimationFrame(n),t=!1},setAnimationLoop:function(o){e=o},setContext:function(o){i=o}}}function awe(i){let t=new WeakMap;function e(a,c){let l=a.array,d=a.usage,u=l.byteLength,h=i.createBuffer();i.bindBuffer(c,h),i.bufferData(c,l,d),a.onUploadCallback();let m;if(l instanceof Float32Array)m=i.FLOAT;else if(typeof Float16Array<"u"&&l instanceof Float16Array)m=i.HALF_FLOAT;else if(l instanceof Uint16Array)a.isFloat16BufferAttribute?m=i.HALF_FLOAT:m=i.UNSIGNED_SHORT;else if(l instanceof Int16Array)m=i.SHORT;else if(l instanceof Uint32Array)m=i.UNSIGNED_INT;else if(l instanceof Int32Array)m=i.INT;else if(l instanceof Int8Array)m=i.BYTE;else if(l instanceof Uint8Array)m=i.UNSIGNED_BYTE;else if(l instanceof Uint8ClampedArray)m=i.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+l);return{buffer:h,type:m,bytesPerElement:l.BYTES_PER_ELEMENT,version:a.version,size:u}}function n(a,c,l){let d=c.array,u=c.updateRanges;if(i.bindBuffer(l,a),u.length===0)i.bufferSubData(l,0,d);else{u.sort((m,p)=>m.start-p.start);let h=0;for(let m=1;m<u.length;m++){let p=u[h],_=u[m];_.start<=p.start+p.count+1?p.count=Math.max(p.count,_.start+_.count-p.start):(++h,u[h]=_)}u.length=h+1;for(let m=0,p=u.length;m<p;m++){let _=u[m];i.bufferSubData(l,_.start*d.BYTES_PER_ELEMENT,d,_.start,_.count)}c.clearUpdateRanges()}c.onUploadCallback()}function r(a){return a.isInterleavedBufferAttribute&&(a=a.data),t.get(a)}function o(a){a.isInterleavedBufferAttribute&&(a=a.data);let c=t.get(a);c&&(i.deleteBuffer(c.buffer),t.delete(a))}function s(a,c){if(a.isInterleavedBufferAttribute&&(a=a.data),a.isGLBufferAttribute){let d=t.get(a);(!d||d.version<a.version)&&t.set(a,{buffer:a.buffer,type:a.type,bytesPerElement:a.elementSize,version:a.version});return}let l=t.get(a);if(l===void 0)t.set(a,e(a,c));else if(l.version<a.version){if(l.size!==a.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");n(l.buffer,a,c),l.version=a.version}}return{get:r,remove:o,update:s}}var cwe=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,lwe=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,dwe=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,uwe=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,hwe=`#ifdef USE_ALPHATEST
	#ifdef ALPHA_TO_COVERAGE
	diffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );
	if ( diffuseColor.a == 0.0 ) discard;
	#else
	if ( diffuseColor.a < alphaTest ) discard;
	#endif
#endif`,mwe=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,pwe=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,fwe=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,gwe=`#ifdef USE_BATCHING
	#if ! defined( GL_ANGLE_multi_draw )
	#define gl_DrawID _gl_DrawID
	uniform int _gl_DrawID;
	#endif
	uniform highp sampler2D batchingTexture;
	uniform highp usampler2D batchingIdTexture;
	mat4 getBatchingMatrix( const in float i ) {
		int size = textureSize( batchingTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
	float getIndirectIndex( const in int i ) {
		int size = textureSize( batchingIdTexture, 0 ).x;
		int x = i % size;
		int y = i / size;
		return float( texelFetch( batchingIdTexture, ivec2( x, y ), 0 ).r );
	}
#endif
#ifdef USE_BATCHING_COLOR
	uniform sampler2D batchingColorTexture;
	vec3 getBatchingColor( const in float i ) {
		int size = textureSize( batchingColorTexture, 0 ).x;
		int j = int( i );
		int x = j % size;
		int y = j / size;
		return texelFetch( batchingColorTexture, ivec2( x, y ), 0 ).rgb;
	}
#endif`,_we=`#ifdef USE_BATCHING
	mat4 batchingMatrix = getBatchingMatrix( getIndirectIndex( gl_DrawID ) );
#endif`,bwe=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,vwe=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,ywe=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,xwe=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,wwe=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,Mwe=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#ifdef ALPHA_TO_COVERAGE
		float distanceToPlane, distanceGradient;
		float clipOpacity = 1.0;
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
			distanceGradient = fwidth( distanceToPlane ) / 2.0;
			clipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			if ( clipOpacity == 0.0 ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			float unionClipOpacity = 1.0;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
				distanceGradient = fwidth( distanceToPlane ) / 2.0;
				unionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			}
			#pragma unroll_loop_end
			clipOpacity *= 1.0 - unionClipOpacity;
		#endif
		diffuseColor.a *= clipOpacity;
		if ( diffuseColor.a == 0.0 ) discard;
	#else
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			bool clipped = true;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
			}
			#pragma unroll_loop_end
			if ( clipped ) discard;
		#endif
	#endif
#endif`,Cwe=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,Swe=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,Ewe=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,Twe=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,Iwe=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,Dwe=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	varying vec3 vColor;
#endif`,kwe=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif
#ifdef USE_BATCHING_COLOR
	vec3 batchingColor = getBatchingColor( getIndirectIndex( gl_DrawID ) );
	vColor.xyz *= batchingColor.xyz;
#endif`,Awe=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,Pwe=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,Rwe=`vec3 transformedNormal = objectNormal;
#ifdef USE_TANGENT
	vec3 transformedTangent = objectTangent;
#endif
#ifdef USE_BATCHING
	mat3 bm = mat3( batchingMatrix );
	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );
	transformedNormal = bm * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = bm * transformedTangent;
	#endif
#endif
#ifdef USE_INSTANCING
	mat3 im = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );
	transformedNormal = im * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = im * transformedTangent;
	#endif
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,Nwe=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,Owe=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,Fwe=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	#ifdef DECODE_VIDEO_TEXTURE_EMISSIVE
		emissiveColor = sRGBTransferEOTF( emissiveColor );
	#endif
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,Lwe=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,Bwe="gl_FragColor = linearToOutputTexel( gl_FragColor );",Vwe=`vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferEOTF( in vec4 value ) {
	return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,Uwe=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,zwe=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform mat3 envMapRotation;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
#endif`,Hwe=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,jwe=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,$we=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,Gwe=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,Wwe=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,qwe=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,Xwe=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,Ywe=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,Zwe=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,Kwe=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,Qwe=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,Jwe=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
	if ( cutoffDistance > 0.0 ) {
		distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
	}
	return distanceFalloff;
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,eMe=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, pow4( roughness ) ) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,tMe=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,iMe=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,nMe=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,rMe=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,oMe=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.diffuseContribution = diffuseColor.rgb * ( 1.0 - metalnessFactor );
material.metalness = metalnessFactor;
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor;
	material.specularColorBlended = mix( material.specularColor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = vec3( 0.04 );
	material.specularColorBlended = mix( material.specularColor, diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_DISPERSION
	material.dispersion = dispersion;
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.0001, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	if( material.anisotropy == 0.0 ) {
		anisotropyV = vec2( 1.0, 0.0 );
	} else {
		anisotropyV /= material.anisotropy;
		material.anisotropy = saturate( material.anisotropy );
	}
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;
#endif`,sMe=`uniform sampler2D dfgLUT;
struct PhysicalMaterial {
	vec3 diffuseColor;
	vec3 diffuseContribution;
	vec3 specularColor;
	vec3 specularColorBlended;
	float roughness;
	float metalness;
	float specularF90;
	float dispersion;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
		vec3 iridescenceFresnelDielectric;
		vec3 iridescenceFresnelMetallic;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return v;
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColorBlended;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transpose( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float rInv = 1.0 / ( roughness + 0.1 );
	float a = -1.9362 + 1.0678 * roughness + 0.4573 * r2 - 0.8469 * rInv;
	float b = -0.6014 + 0.5538 * roughness - 0.4670 * r2 - 0.1255 * rInv;
	float DG = exp( a * dotNV + b );
	return saturate( DG );
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	vec2 fab = texture2D( dfgLUT, vec2( roughness, dotNV ) ).rg;
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	float dotNV = saturate( dot( normal, viewDir ) );
	vec2 fab = texture2D( dfgLUT, vec2( roughness, dotNV ) ).rg;
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
vec3 BRDF_GGX_Multiscatter( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 singleScatter = BRDF_GGX( lightDir, viewDir, normal, material );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	vec2 dfgV = texture2D( dfgLUT, vec2( material.roughness, dotNV ) ).rg;
	vec2 dfgL = texture2D( dfgLUT, vec2( material.roughness, dotNL ) ).rg;
	vec3 FssEss_V = material.specularColorBlended * dfgV.x + material.specularF90 * dfgV.y;
	vec3 FssEss_L = material.specularColorBlended * dfgL.x + material.specularF90 * dfgL.y;
	float Ess_V = dfgV.x + dfgV.y;
	float Ess_L = dfgL.x + dfgL.y;
	float Ems_V = 1.0 - Ess_V;
	float Ems_L = 1.0 - Ess_L;
	vec3 Favg = material.specularColorBlended + ( 1.0 - material.specularColorBlended ) * 0.047619;
	vec3 Fms = FssEss_V * FssEss_L * Favg / ( 1.0 - Ems_V * Ems_L * Favg + EPSILON );
	float compensationFactor = Ems_V * Ems_L;
	vec3 multiScatter = Fms * compensationFactor;
	return singleScatter + multiScatter;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColorBlended * t2.x + ( vec3( 1.0 ) - material.specularColorBlended ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseContribution * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
 
 		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
 
 		float sheenAlbedoV = IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
 		float sheenAlbedoL = IBLSheenBRDF( geometryNormal, directLight.direction, material.sheenRoughness );
 
 		float sheenEnergyComp = 1.0 - max3( material.sheenColor ) * max( sheenAlbedoV, sheenAlbedoL );
 
 		irradiance *= sheenEnergyComp;
 
 	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX_Multiscatter( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseContribution );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 diffuse = irradiance * BRDF_Lambert( material.diffuseContribution );
	#ifdef USE_SHEEN
		float sheenAlbedo = IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
		float sheenEnergyComp = 1.0 - max3( material.sheenColor ) * sheenAlbedo;
		diffuse *= sheenEnergyComp;
	#endif
	reflectedLight.indirectDiffuse += diffuse;
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness ) * RECIPROCAL_PI;
 	#endif
	vec3 singleScatteringDielectric = vec3( 0.0 );
	vec3 multiScatteringDielectric = vec3( 0.0 );
	vec3 singleScatteringMetallic = vec3( 0.0 );
	vec3 multiScatteringMetallic = vec3( 0.0 );
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnelDielectric, material.roughness, singleScatteringDielectric, multiScatteringDielectric );
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.diffuseColor, material.specularF90, material.iridescence, material.iridescenceFresnelMetallic, material.roughness, singleScatteringMetallic, multiScatteringMetallic );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScatteringDielectric, multiScatteringDielectric );
		computeMultiscattering( geometryNormal, geometryViewDir, material.diffuseColor, material.specularF90, material.roughness, singleScatteringMetallic, multiScatteringMetallic );
	#endif
	vec3 singleScattering = mix( singleScatteringDielectric, singleScatteringMetallic, material.metalness );
	vec3 multiScattering = mix( multiScatteringDielectric, multiScatteringMetallic, material.metalness );
	vec3 totalScatteringDielectric = singleScatteringDielectric + multiScatteringDielectric;
	vec3 diffuse = material.diffuseContribution * ( 1.0 - totalScatteringDielectric );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	vec3 indirectSpecular = radiance * singleScattering;
	indirectSpecular += multiScattering * cosineWeightedIrradiance;
	vec3 indirectDiffuse = diffuse * cosineWeightedIrradiance;
	#ifdef USE_SHEEN
		float sheenAlbedo = IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
		float sheenEnergyComp = 1.0 - max3( material.sheenColor ) * sheenAlbedo;
		indirectSpecular *= sheenEnergyComp;
		indirectDiffuse *= sheenEnergyComp;
	#endif
	reflectedLight.indirectSpecular += indirectSpecular;
	reflectedLight.indirectDiffuse += indirectDiffuse;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,aMe=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnelDielectric = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceFresnelMetallic = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.diffuseColor );
		material.iridescenceFresnel = mix( material.iridescenceFresnelDielectric, material.iridescenceFresnelMetallic, material.metalness );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS ) && ( defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_BASIC ) )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowIntensity, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowIntensity, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowIntensity, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,cMe=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,lMe=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,dMe=`#if defined( USE_LOGARITHMIC_DEPTH_BUFFER )
	gl_FragDepth = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,uMe=`#if defined( USE_LOGARITHMIC_DEPTH_BUFFER )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,hMe=`#ifdef USE_LOGARITHMIC_DEPTH_BUFFER
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,mMe=`#ifdef USE_LOGARITHMIC_DEPTH_BUFFER
	vFragDepth = 1.0 + gl_Position.w;
	vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
#endif`,pMe=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = sRGBTransferEOTF( sampledDiffuseColor );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,fMe=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,gMe=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,_Me=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,bMe=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,vMe=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,yMe=`#ifdef USE_INSTANCING_MORPH
	float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	float morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		morphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;
	}
#endif`,xMe=`#if defined( USE_MORPHCOLORS )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,wMe=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,MMe=`#ifdef USE_MORPHTARGETS
	#ifndef USE_INSTANCING_MORPH
		uniform float morphTargetBaseInfluence;
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	#endif
	uniform sampler2DArray morphTargetsTexture;
	uniform ivec2 morphTargetsTextureSize;
	vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
		int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
		int y = texelIndex / morphTargetsTextureSize.x;
		int x = texelIndex - y * morphTargetsTextureSize.x;
		ivec3 morphUV = ivec3( x, y, morphTargetIndex );
		return texelFetch( morphTargetsTexture, morphUV, 0 );
	}
#endif`,CMe=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,SMe=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,EMe=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,TMe=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,IMe=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,DMe=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,kMe=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,AMe=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,PMe=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,RMe=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,NMe=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,OMe=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,FMe=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;const float ShiftRight8 = 1. / 256.;
const float Inv255 = 1. / 255.;
const vec4 PackFactors = vec4( 1.0, 256.0, 256.0 * 256.0, 256.0 * 256.0 * 256.0 );
const vec2 UnpackFactors2 = vec2( UnpackDownscale, 1.0 / PackFactors.g );
const vec3 UnpackFactors3 = vec3( UnpackDownscale / PackFactors.rg, 1.0 / PackFactors.b );
const vec4 UnpackFactors4 = vec4( UnpackDownscale / PackFactors.rgb, 1.0 / PackFactors.a );
vec4 packDepthToRGBA( const in float v ) {
	if( v <= 0.0 )
		return vec4( 0., 0., 0., 0. );
	if( v >= 1.0 )
		return vec4( 1., 1., 1., 1. );
	float vuf;
	float af = modf( v * PackFactors.a, vuf );
	float bf = modf( vuf * ShiftRight8, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec4( vuf * Inv255, gf * PackUpscale, bf * PackUpscale, af );
}
vec3 packDepthToRGB( const in float v ) {
	if( v <= 0.0 )
		return vec3( 0., 0., 0. );
	if( v >= 1.0 )
		return vec3( 1., 1., 1. );
	float vuf;
	float bf = modf( v * PackFactors.b, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec3( vuf * Inv255, gf * PackUpscale, bf );
}
vec2 packDepthToRG( const in float v ) {
	if( v <= 0.0 )
		return vec2( 0., 0. );
	if( v >= 1.0 )
		return vec2( 1., 1. );
	float vuf;
	float gf = modf( v * 256., vuf );
	return vec2( vuf * Inv255, gf );
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors4 );
}
float unpackRGBToDepth( const in vec3 v ) {
	return dot( v, UnpackFactors3 );
}
float unpackRGToDepth( const in vec2 v ) {
	return v.r * UnpackFactors2.r + v.g * UnpackFactors2.g;
}
vec4 pack2HalfToRGBA( const in vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( const in vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,LMe=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,BMe=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_BATCHING
	mvPosition = batchingMatrix * mvPosition;
#endif
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,VMe=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,UMe=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,zMe=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,HMe=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,jMe=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#if defined( SHADOWMAP_TYPE_PCF )
			uniform sampler2DShadow directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		#else
			uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		#endif
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		#if defined( SHADOWMAP_TYPE_PCF )
			uniform sampler2DShadow spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		#else
			uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		#endif
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#if defined( SHADOWMAP_TYPE_PCF )
			uniform samplerCubeShadow pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		#elif defined( SHADOWMAP_TYPE_BASIC )
			uniform samplerCube pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		#endif
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	#if defined( SHADOWMAP_TYPE_PCF )
		float interleavedGradientNoise( vec2 position ) {
			return fract( 52.9829189 * fract( dot( position, vec2( 0.06711056, 0.00583715 ) ) ) );
		}
		vec2 vogelDiskSample( int sampleIndex, int samplesCount, float phi ) {
			const float goldenAngle = 2.399963229728653;
			float r = sqrt( ( float( sampleIndex ) + 0.5 ) / float( samplesCount ) );
			float theta = float( sampleIndex ) * goldenAngle + phi;
			return vec2( cos( theta ), sin( theta ) ) * r;
		}
	#endif
	#if defined( SHADOWMAP_TYPE_PCF )
		float getShadow( sampler2DShadow shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
			float shadow = 1.0;
			shadowCoord.xyz /= shadowCoord.w;
			shadowCoord.z += shadowBias;
			bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
			bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
			if ( frustumTest ) {
				vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
				float radius = shadowRadius * texelSize.x;
				float phi = interleavedGradientNoise( gl_FragCoord.xy ) * 6.28318530718;
				shadow = (
					texture( shadowMap, vec3( shadowCoord.xy + vogelDiskSample( 0, 5, phi ) * radius, shadowCoord.z ) ) +
					texture( shadowMap, vec3( shadowCoord.xy + vogelDiskSample( 1, 5, phi ) * radius, shadowCoord.z ) ) +
					texture( shadowMap, vec3( shadowCoord.xy + vogelDiskSample( 2, 5, phi ) * radius, shadowCoord.z ) ) +
					texture( shadowMap, vec3( shadowCoord.xy + vogelDiskSample( 3, 5, phi ) * radius, shadowCoord.z ) ) +
					texture( shadowMap, vec3( shadowCoord.xy + vogelDiskSample( 4, 5, phi ) * radius, shadowCoord.z ) )
				) * 0.2;
			}
			return mix( 1.0, shadow, shadowIntensity );
		}
	#elif defined( SHADOWMAP_TYPE_VSM )
		float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
			float shadow = 1.0;
			shadowCoord.xyz /= shadowCoord.w;
			shadowCoord.z += shadowBias;
			bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
			bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
			if ( frustumTest ) {
				vec2 distribution = texture2D( shadowMap, shadowCoord.xy ).rg;
				float mean = distribution.x;
				float variance = distribution.y * distribution.y;
				#ifdef USE_REVERSED_DEPTH_BUFFER
					float hard_shadow = step( mean, shadowCoord.z );
				#else
					float hard_shadow = step( shadowCoord.z, mean );
				#endif
				if ( hard_shadow == 1.0 ) {
					shadow = 1.0;
				} else {
					variance = max( variance, 0.0000001 );
					float d = shadowCoord.z - mean;
					float p_max = variance / ( variance + d * d );
					p_max = clamp( ( p_max - 0.3 ) / 0.65, 0.0, 1.0 );
					shadow = max( hard_shadow, p_max );
				}
			}
			return mix( 1.0, shadow, shadowIntensity );
		}
	#else
		float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
			float shadow = 1.0;
			shadowCoord.xyz /= shadowCoord.w;
			shadowCoord.z += shadowBias;
			bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
			bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
			if ( frustumTest ) {
				float depth = texture2D( shadowMap, shadowCoord.xy ).r;
				#ifdef USE_REVERSED_DEPTH_BUFFER
					shadow = step( depth, shadowCoord.z );
				#else
					shadow = step( shadowCoord.z, depth );
				#endif
			}
			return mix( 1.0, shadow, shadowIntensity );
		}
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	#if defined( SHADOWMAP_TYPE_PCF )
	float getPointShadow( samplerCubeShadow shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		float shadow = 1.0;
		vec3 lightToPosition = shadowCoord.xyz;
		vec3 bd3D = normalize( lightToPosition );
		vec3 absVec = abs( lightToPosition );
		float viewSpaceZ = max( max( absVec.x, absVec.y ), absVec.z );
		if ( viewSpaceZ - shadowCameraFar <= 0.0 && viewSpaceZ - shadowCameraNear >= 0.0 ) {
			float dp = ( shadowCameraFar * ( viewSpaceZ - shadowCameraNear ) ) / ( viewSpaceZ * ( shadowCameraFar - shadowCameraNear ) );
			dp += shadowBias;
			float texelSize = shadowRadius / shadowMapSize.x;
			vec3 absDir = abs( bd3D );
			vec3 tangent = absDir.x > absDir.z ? vec3( 0.0, 1.0, 0.0 ) : vec3( 1.0, 0.0, 0.0 );
			tangent = normalize( cross( bd3D, tangent ) );
			vec3 bitangent = cross( bd3D, tangent );
			float phi = interleavedGradientNoise( gl_FragCoord.xy ) * 6.28318530718;
			shadow = (
				texture( shadowMap, vec4( bd3D + ( tangent * vogelDiskSample( 0, 5, phi ).x + bitangent * vogelDiskSample( 0, 5, phi ).y ) * texelSize, dp ) ) +
				texture( shadowMap, vec4( bd3D + ( tangent * vogelDiskSample( 1, 5, phi ).x + bitangent * vogelDiskSample( 1, 5, phi ).y ) * texelSize, dp ) ) +
				texture( shadowMap, vec4( bd3D + ( tangent * vogelDiskSample( 2, 5, phi ).x + bitangent * vogelDiskSample( 2, 5, phi ).y ) * texelSize, dp ) ) +
				texture( shadowMap, vec4( bd3D + ( tangent * vogelDiskSample( 3, 5, phi ).x + bitangent * vogelDiskSample( 3, 5, phi ).y ) * texelSize, dp ) ) +
				texture( shadowMap, vec4( bd3D + ( tangent * vogelDiskSample( 4, 5, phi ).x + bitangent * vogelDiskSample( 4, 5, phi ).y ) * texelSize, dp ) )
			) * 0.2;
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
	#elif defined( SHADOWMAP_TYPE_BASIC )
	float getPointShadow( samplerCube shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		float shadow = 1.0;
		vec3 lightToPosition = shadowCoord.xyz;
		vec3 bd3D = normalize( lightToPosition );
		vec3 absVec = abs( lightToPosition );
		float viewSpaceZ = max( max( absVec.x, absVec.y ), absVec.z );
		if ( viewSpaceZ - shadowCameraFar <= 0.0 && viewSpaceZ - shadowCameraNear >= 0.0 ) {
			float dp = ( shadowCameraFar * ( viewSpaceZ - shadowCameraNear ) ) / ( viewSpaceZ * ( shadowCameraFar - shadowCameraNear ) );
			dp += shadowBias;
			float depth = textureCube( shadowMap, bd3D ).r;
			#ifdef USE_REVERSED_DEPTH_BUFFER
				shadow = step( depth, dp );
			#else
				shadow = step( dp, depth );
			#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
	#endif
	#endif
#endif`,$Me=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,GMe=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,WMe=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowIntensity, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowIntensity, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0 && ( defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_BASIC ) )
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowIntensity, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,qMe=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,XMe=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	mat4 getBoneMatrix( const in float i ) {
		int size = textureSize( boneTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,YMe=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,ZMe=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,KMe=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,QMe=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,JMe=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,eCe=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 CineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
const mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(
	vec3( 1.6605, - 0.1246, - 0.0182 ),
	vec3( - 0.5876, 1.1329, - 0.1006 ),
	vec3( - 0.0728, - 0.0083, 1.1187 )
);
const mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(
	vec3( 0.6274, 0.0691, 0.0164 ),
	vec3( 0.3293, 0.9195, 0.0880 ),
	vec3( 0.0433, 0.0113, 0.8956 )
);
vec3 agxDefaultContrastApprox( vec3 x ) {
	vec3 x2 = x * x;
	vec3 x4 = x2 * x2;
	return + 15.5 * x4 * x2
		- 40.14 * x4 * x
		+ 31.96 * x4
		- 6.868 * x2 * x
		+ 0.4298 * x2
		+ 0.1191 * x
		- 0.00232;
}
vec3 AgXToneMapping( vec3 color ) {
	const mat3 AgXInsetMatrix = mat3(
		vec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),
		vec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),
		vec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )
	);
	const mat3 AgXOutsetMatrix = mat3(
		vec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),
		vec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),
		vec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )
	);
	const float AgxMinEv = - 12.47393;	const float AgxMaxEv = 4.026069;
	color *= toneMappingExposure;
	color = LINEAR_SRGB_TO_LINEAR_REC2020 * color;
	color = AgXInsetMatrix * color;
	color = max( color, 1e-10 );	color = log2( color );
	color = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );
	color = clamp( color, 0.0, 1.0 );
	color = agxDefaultContrastApprox( color );
	color = AgXOutsetMatrix * color;
	color = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );
	color = LINEAR_REC2020_TO_LINEAR_SRGB * color;
	color = clamp( color, 0.0, 1.0 );
	return color;
}
vec3 NeutralToneMapping( vec3 color ) {
	const float StartCompression = 0.8 - 0.04;
	const float Desaturation = 0.15;
	color *= toneMappingExposure;
	float x = min( color.r, min( color.g, color.b ) );
	float offset = x < 0.08 ? x - 6.25 * x * x : 0.04;
	color -= offset;
	float peak = max( color.r, max( color.g, color.b ) );
	if ( peak < StartCompression ) return color;
	float d = 1. - StartCompression;
	float newPeak = 1. - d * d / ( peak + d - StartCompression );
	color *= newPeak / peak;
	float g = 1. - 1. / ( Desaturation * ( peak - newPeak ) + 1. );
	return mix( color, vec3( newPeak ), g );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,tCe=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseContribution, material.specularColorBlended, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.dispersion, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,iCe=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float dispersion, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec4 transmittedLight;
		vec3 transmittance;
		#ifdef USE_DISPERSION
			float halfSpread = ( ior - 1.0 ) * 0.025 * dispersion;
			vec3 iors = vec3( ior - halfSpread, ior, ior + halfSpread );
			for ( int i = 0; i < 3; i ++ ) {
				vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, iors[ i ], modelMatrix );
				vec3 refractedRayExit = position + transmissionRay;
				vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
				vec2 refractionCoords = ndcPos.xy / ndcPos.w;
				refractionCoords += 1.0;
				refractionCoords /= 2.0;
				vec4 transmissionSample = getTransmissionSample( refractionCoords, roughness, iors[ i ] );
				transmittedLight[ i ] = transmissionSample[ i ];
				transmittedLight.a += transmissionSample.a;
				transmittance[ i ] = diffuseColor[ i ] * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance )[ i ];
			}
			transmittedLight.a /= 3.0;
		#else
			vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
			vec3 refractedRayExit = position + transmissionRay;
			vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
			vec2 refractionCoords = ndcPos.xy / ndcPos.w;
			refractionCoords += 1.0;
			refractionCoords /= 2.0;
			transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
			transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		#endif
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,nCe=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,rCe=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,oCe=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,sCe=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_BATCHING
		worldPosition = batchingMatrix * worldPosition;
	#endif
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`,aCe=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,cCe=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,lCe=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,dCe=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
uniform mat3 backgroundRotation;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,uCe=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,hCe=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,mCe=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,pCe=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	#ifdef USE_REVERSED_DEPTH_BUFFER
		float fragCoordZ = vHighPrecisionZW[ 0 ] / vHighPrecisionZW[ 1 ];
	#else
		float fragCoordZ = 0.5 * vHighPrecisionZW[ 0 ] / vHighPrecisionZW[ 1 ] + 0.5;
	#endif
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#elif DEPTH_PACKING == 3202
		gl_FragColor = vec4( packDepthToRGB( fragCoordZ ), 1.0 );
	#elif DEPTH_PACKING == 3203
		gl_FragColor = vec4( packDepthToRG( fragCoordZ ), 0.0, 1.0 );
	#endif
}`,fCe=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,gCe=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = vec4( dist, 0.0, 0.0, 1.0 );
}`,_Ce=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,bCe=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,vCe=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,yCe=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,xCe=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,wCe=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,MCe=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,CCe=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,SCe=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,ECe=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,TCe=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,ICe=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( normalize( normal ) * 0.5 + 0.5, diffuseColor.a );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,DCe=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,kCe=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,ACe=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,PCe=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_DISPERSION
	uniform float dispersion;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
 
		outgoingLight = outgoingLight + sheenSpecularDirect + sheenSpecularIndirect;
 
 	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,RCe=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,NCe=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,OCe=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,FCe=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,LCe=`#include <common>
#include <batching_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,BCe=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,VCe=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix[ 3 ];
	vec2 scale = vec2( length( modelMatrix[ 0 ].xyz ), length( modelMatrix[ 1 ].xyz ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,UCe=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,_i={alphahash_fragment:cwe,alphahash_pars_fragment:lwe,alphamap_fragment:dwe,alphamap_pars_fragment:uwe,alphatest_fragment:hwe,alphatest_pars_fragment:mwe,aomap_fragment:pwe,aomap_pars_fragment:fwe,batching_pars_vertex:gwe,batching_vertex:_we,begin_vertex:bwe,beginnormal_vertex:vwe,bsdfs:ywe,iridescence_fragment:xwe,bumpmap_pars_fragment:wwe,clipping_planes_fragment:Mwe,clipping_planes_pars_fragment:Cwe,clipping_planes_pars_vertex:Swe,clipping_planes_vertex:Ewe,color_fragment:Twe,color_pars_fragment:Iwe,color_pars_vertex:Dwe,color_vertex:kwe,common:Awe,cube_uv_reflection_fragment:Pwe,defaultnormal_vertex:Rwe,displacementmap_pars_vertex:Nwe,displacementmap_vertex:Owe,emissivemap_fragment:Fwe,emissivemap_pars_fragment:Lwe,colorspace_fragment:Bwe,colorspace_pars_fragment:Vwe,envmap_fragment:Uwe,envmap_common_pars_fragment:zwe,envmap_pars_fragment:Hwe,envmap_pars_vertex:jwe,envmap_physical_pars_fragment:eMe,envmap_vertex:$we,fog_vertex:Gwe,fog_pars_vertex:Wwe,fog_fragment:qwe,fog_pars_fragment:Xwe,gradientmap_pars_fragment:Ywe,lightmap_pars_fragment:Zwe,lights_lambert_fragment:Kwe,lights_lambert_pars_fragment:Qwe,lights_pars_begin:Jwe,lights_toon_fragment:tMe,lights_toon_pars_fragment:iMe,lights_phong_fragment:nMe,lights_phong_pars_fragment:rMe,lights_physical_fragment:oMe,lights_physical_pars_fragment:sMe,lights_fragment_begin:aMe,lights_fragment_maps:cMe,lights_fragment_end:lMe,logdepthbuf_fragment:dMe,logdepthbuf_pars_fragment:uMe,logdepthbuf_pars_vertex:hMe,logdepthbuf_vertex:mMe,map_fragment:pMe,map_pars_fragment:fMe,map_particle_fragment:gMe,map_particle_pars_fragment:_Me,metalnessmap_fragment:bMe,metalnessmap_pars_fragment:vMe,morphinstance_vertex:yMe,morphcolor_vertex:xMe,morphnormal_vertex:wMe,morphtarget_pars_vertex:MMe,morphtarget_vertex:CMe,normal_fragment_begin:SMe,normal_fragment_maps:EMe,normal_pars_fragment:TMe,normal_pars_vertex:IMe,normal_vertex:DMe,normalmap_pars_fragment:kMe,clearcoat_normal_fragment_begin:AMe,clearcoat_normal_fragment_maps:PMe,clearcoat_pars_fragment:RMe,iridescence_pars_fragment:NMe,opaque_fragment:OMe,packing:FMe,premultiplied_alpha_fragment:LMe,project_vertex:BMe,dithering_fragment:VMe,dithering_pars_fragment:UMe,roughnessmap_fragment:zMe,roughnessmap_pars_fragment:HMe,shadowmap_pars_fragment:jMe,shadowmap_pars_vertex:$Me,shadowmap_vertex:GMe,shadowmask_pars_fragment:WMe,skinbase_vertex:qMe,skinning_pars_vertex:XMe,skinning_vertex:YMe,skinnormal_vertex:ZMe,specularmap_fragment:KMe,specularmap_pars_fragment:QMe,tonemapping_fragment:JMe,tonemapping_pars_fragment:eCe,transmission_fragment:tCe,transmission_pars_fragment:iCe,uv_pars_fragment:nCe,uv_pars_vertex:rCe,uv_vertex:oCe,worldpos_vertex:sCe,background_vert:aCe,background_frag:cCe,backgroundCube_vert:lCe,backgroundCube_frag:dCe,cube_vert:uCe,cube_frag:hCe,depth_vert:mCe,depth_frag:pCe,distance_vert:fCe,distance_frag:gCe,equirect_vert:_Ce,equirect_frag:bCe,linedashed_vert:vCe,linedashed_frag:yCe,meshbasic_vert:xCe,meshbasic_frag:wCe,meshlambert_vert:MCe,meshlambert_frag:CCe,meshmatcap_vert:SCe,meshmatcap_frag:ECe,meshnormal_vert:TCe,meshnormal_frag:ICe,meshphong_vert:DCe,meshphong_frag:kCe,meshphysical_vert:ACe,meshphysical_frag:PCe,meshtoon_vert:RCe,meshtoon_frag:NCe,points_vert:OCe,points_frag:FCe,shadow_vert:LCe,shadow_frag:BCe,sprite_vert:VCe,sprite_frag:UCe},et={common:{diffuse:{value:new xi(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new di},alphaMap:{value:null},alphaMapTransform:{value:new di},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new di}},envmap:{envMap:{value:null},envMapRotation:{value:new di},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98},dfgLUT:{value:null}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new di}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new di}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new di},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new di},normalScale:{value:new Ut(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new di},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new di}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new di}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new di}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new xi(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new xi(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new di},alphaTest:{value:0},uvTransform:{value:new di}},sprite:{diffuse:{value:new xi(16777215)},opacity:{value:1},center:{value:new Ut(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new di},alphaMap:{value:null},alphaMapTransform:{value:new di},alphaTest:{value:0}}},wc={basic:{uniforms:po([et.common,et.specularmap,et.envmap,et.aomap,et.lightmap,et.fog]),vertexShader:_i.meshbasic_vert,fragmentShader:_i.meshbasic_frag},lambert:{uniforms:po([et.common,et.specularmap,et.envmap,et.aomap,et.lightmap,et.emissivemap,et.bumpmap,et.normalmap,et.displacementmap,et.fog,et.lights,{emissive:{value:new xi(0)}}]),vertexShader:_i.meshlambert_vert,fragmentShader:_i.meshlambert_frag},phong:{uniforms:po([et.common,et.specularmap,et.envmap,et.aomap,et.lightmap,et.emissivemap,et.bumpmap,et.normalmap,et.displacementmap,et.fog,et.lights,{emissive:{value:new xi(0)},specular:{value:new xi(1118481)},shininess:{value:30}}]),vertexShader:_i.meshphong_vert,fragmentShader:_i.meshphong_frag},standard:{uniforms:po([et.common,et.envmap,et.aomap,et.lightmap,et.emissivemap,et.bumpmap,et.normalmap,et.displacementmap,et.roughnessmap,et.metalnessmap,et.fog,et.lights,{emissive:{value:new xi(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:_i.meshphysical_vert,fragmentShader:_i.meshphysical_frag},toon:{uniforms:po([et.common,et.aomap,et.lightmap,et.emissivemap,et.bumpmap,et.normalmap,et.displacementmap,et.gradientmap,et.fog,et.lights,{emissive:{value:new xi(0)}}]),vertexShader:_i.meshtoon_vert,fragmentShader:_i.meshtoon_frag},matcap:{uniforms:po([et.common,et.bumpmap,et.normalmap,et.displacementmap,et.fog,{matcap:{value:null}}]),vertexShader:_i.meshmatcap_vert,fragmentShader:_i.meshmatcap_frag},points:{uniforms:po([et.points,et.fog]),vertexShader:_i.points_vert,fragmentShader:_i.points_frag},dashed:{uniforms:po([et.common,et.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:_i.linedashed_vert,fragmentShader:_i.linedashed_frag},depth:{uniforms:po([et.common,et.displacementmap]),vertexShader:_i.depth_vert,fragmentShader:_i.depth_frag},normal:{uniforms:po([et.common,et.bumpmap,et.normalmap,et.displacementmap,{opacity:{value:1}}]),vertexShader:_i.meshnormal_vert,fragmentShader:_i.meshnormal_frag},sprite:{uniforms:po([et.sprite,et.fog]),vertexShader:_i.sprite_vert,fragmentShader:_i.sprite_frag},background:{uniforms:{uvTransform:{value:new di},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:_i.background_vert,fragmentShader:_i.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new di}},vertexShader:_i.backgroundCube_vert,fragmentShader:_i.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:_i.cube_vert,fragmentShader:_i.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:_i.equirect_vert,fragmentShader:_i.equirect_frag},distance:{uniforms:po([et.common,et.displacementmap,{referencePosition:{value:new j},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:_i.distance_vert,fragmentShader:_i.distance_frag},shadow:{uniforms:po([et.lights,et.fog,{color:{value:new xi(0)},opacity:{value:1}}]),vertexShader:_i.shadow_vert,fragmentShader:_i.shadow_frag}};wc.physical={uniforms:po([wc.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new di},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new di},clearcoatNormalScale:{value:new Ut(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new di},dispersion:{value:0},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new di},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new di},sheen:{value:0},sheenColor:{value:new xi(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new di},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new di},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new di},transmissionSamplerSize:{value:new Ut},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new di},attenuationDistance:{value:0},attenuationColor:{value:new xi(0)},specularColor:{value:new xi(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new di},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new di},anisotropyVector:{value:new Ut},anisotropyMap:{value:null},anisotropyMapTransform:{value:new di}}]),vertexShader:_i.meshphysical_vert,fragmentShader:_i.meshphysical_frag};var CS={r:0,b:0,g:0},Uh=new _c,zCe=new vn;function HCe(i,t,e,n,r,o,s){let a=new xi(0),c=o===!0?0:1,l,d,u=null,h=0,m=null;function p(M){let S=M.isScene===!0?M.background:null;return S&&S.isTexture&&(S=(M.backgroundBlurriness>0?e:t).get(S)),S}function _(M){let S=!1,R=p(M);R===null?g(a,c):R&&R.isColor&&(g(R,1),S=!0);let N=i.xr.getEnvironmentBlendMode();N==="additive"?n.buffers.color.setClear(0,0,0,1,s):N==="alpha-blend"&&n.buffers.color.setClear(0,0,0,0,s),(i.autoClear||S)&&(n.buffers.depth.setTest(!0),n.buffers.depth.setMask(!0),n.buffers.color.setMask(!0),i.clear(i.autoClearColor,i.autoClearDepth,i.autoClearStencil))}function f(M,S){let R=p(S);R&&(R.isCubeTexture||R.mapping===Qb)?(d===void 0&&(d=new He(new Ki(1,1,1),new ys({name:"BackgroundCubeMaterial",uniforms:Vh(wc.backgroundCube.uniforms),vertexShader:wc.backgroundCube.vertexShader,fragmentShader:wc.backgroundCube.fragmentShader,side:No,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),d.geometry.deleteAttribute("normal"),d.geometry.deleteAttribute("uv"),d.onBeforeRender=function(N,L,z){this.matrixWorld.copyPosition(z.matrixWorld)},Object.defineProperty(d.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),r.update(d)),Uh.copy(S.backgroundRotation),Uh.x*=-1,Uh.y*=-1,Uh.z*=-1,R.isCubeTexture&&R.isRenderTargetTexture===!1&&(Uh.y*=-1,Uh.z*=-1),d.material.uniforms.envMap.value=R,d.material.uniforms.flipEnvMap.value=R.isCubeTexture&&R.isRenderTargetTexture===!1?-1:1,d.material.uniforms.backgroundBlurriness.value=S.backgroundBlurriness,d.material.uniforms.backgroundIntensity.value=S.backgroundIntensity,d.material.uniforms.backgroundRotation.value.setFromMatrix4(zCe.makeRotationFromEuler(Uh)),d.material.toneMapped=Ri.getTransfer(R.colorSpace)!==Zi,(u!==R||h!==R.version||m!==i.toneMapping)&&(d.material.needsUpdate=!0,u=R,h=R.version,m=i.toneMapping),d.layers.enableAll(),M.unshift(d,d.geometry,d.material,0,0,null)):R&&R.isTexture&&(l===void 0&&(l=new He(new $s(2,2),new ys({name:"BackgroundMaterial",uniforms:Vh(wc.background.uniforms),vertexShader:wc.background.vertexShader,fragmentShader:wc.background.fragmentShader,side:Sl,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),l.geometry.deleteAttribute("normal"),Object.defineProperty(l.material,"map",{get:function(){return this.uniforms.t2D.value}}),r.update(l)),l.material.uniforms.t2D.value=R,l.material.uniforms.backgroundIntensity.value=S.backgroundIntensity,l.material.toneMapped=Ri.getTransfer(R.colorSpace)!==Zi,R.matrixAutoUpdate===!0&&R.updateMatrix(),l.material.uniforms.uvTransform.value.copy(R.matrix),(u!==R||h!==R.version||m!==i.toneMapping)&&(l.material.needsUpdate=!0,u=R,h=R.version,m=i.toneMapping),l.layers.enableAll(),M.unshift(l,l.geometry,l.material,0,0,null))}function g(M,S){M.getRGB(CS,XL(i)),n.buffers.color.setClear(CS.r,CS.g,CS.b,S,s)}function C(){d!==void 0&&(d.geometry.dispose(),d.material.dispose(),d=void 0),l!==void 0&&(l.geometry.dispose(),l.material.dispose(),l=void 0)}return{getClearColor:function(){return a},setClearColor:function(M,S=1){a.set(M),c=S,g(a,c)},getClearAlpha:function(){return c},setClearAlpha:function(M){c=M,g(a,c)},render:_,addToRenderList:f,dispose:C}}function jCe(i,t){let e=i.getParameter(i.MAX_VERTEX_ATTRIBS),n={},r=h(null),o=r,s=!1;function a(A,U,W,Z,se){let ie=!1,de=u(Z,W,U);o!==de&&(o=de,l(o.object)),ie=m(A,Z,W,se),ie&&p(A,Z,W,se),se!==null&&t.update(se,i.ELEMENT_ARRAY_BUFFER),(ie||s)&&(s=!1,S(A,U,W,Z),se!==null&&i.bindBuffer(i.ELEMENT_ARRAY_BUFFER,t.get(se).buffer))}function c(){return i.createVertexArray()}function l(A){return i.bindVertexArray(A)}function d(A){return i.deleteVertexArray(A)}function u(A,U,W){let Z=W.wireframe===!0,se=n[A.id];se===void 0&&(se={},n[A.id]=se);let ie=se[U.id];ie===void 0&&(ie={},se[U.id]=ie);let de=ie[Z];return de===void 0&&(de=h(c()),ie[Z]=de),de}function h(A){let U=[],W=[],Z=[];for(let se=0;se<e;se++)U[se]=0,W[se]=0,Z[se]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:U,enabledAttributes:W,attributeDivisors:Z,object:A,attributes:{},index:null}}function m(A,U,W,Z){let se=o.attributes,ie=U.attributes,de=0,ne=W.getAttributes();for(let Me in ne)if(ne[Me].location>=0){let ze=se[Me],tt=ie[Me];if(tt===void 0&&(Me==="instanceMatrix"&&A.instanceMatrix&&(tt=A.instanceMatrix),Me==="instanceColor"&&A.instanceColor&&(tt=A.instanceColor)),ze===void 0||ze.attribute!==tt||tt&&ze.data!==tt.data)return!0;de++}return o.attributesNum!==de||o.index!==Z}function p(A,U,W,Z){let se={},ie=U.attributes,de=0,ne=W.getAttributes();for(let Me in ne)if(ne[Me].location>=0){let ze=ie[Me];ze===void 0&&(Me==="instanceMatrix"&&A.instanceMatrix&&(ze=A.instanceMatrix),Me==="instanceColor"&&A.instanceColor&&(ze=A.instanceColor));let tt={};tt.attribute=ze,ze&&ze.data&&(tt.data=ze.data),se[Me]=tt,de++}o.attributes=se,o.attributesNum=de,o.index=Z}function _(){let A=o.newAttributes;for(let U=0,W=A.length;U<W;U++)A[U]=0}function f(A){g(A,0)}function g(A,U){let W=o.newAttributes,Z=o.enabledAttributes,se=o.attributeDivisors;W[A]=1,Z[A]===0&&(i.enableVertexAttribArray(A),Z[A]=1),se[A]!==U&&(i.vertexAttribDivisor(A,U),se[A]=U)}function C(){let A=o.newAttributes,U=o.enabledAttributes;for(let W=0,Z=U.length;W<Z;W++)U[W]!==A[W]&&(i.disableVertexAttribArray(W),U[W]=0)}function M(A,U,W,Z,se,ie,de){de===!0?i.vertexAttribIPointer(A,U,W,se,ie):i.vertexAttribPointer(A,U,W,Z,se,ie)}function S(A,U,W,Z){_();let se=Z.attributes,ie=W.getAttributes(),de=U.defaultAttributeValues;for(let ne in ie){let Me=ie[ne];if(Me.location>=0){let Pe=se[ne];if(Pe===void 0&&(ne==="instanceMatrix"&&A.instanceMatrix&&(Pe=A.instanceMatrix),ne==="instanceColor"&&A.instanceColor&&(Pe=A.instanceColor)),Pe!==void 0){let ze=Pe.normalized,tt=Pe.itemSize,ai=t.get(Pe);if(ai===void 0)continue;let ui=ai.buffer,xn=ai.type,In=ai.bytesPerElement,Ce=xn===i.INT||xn===i.UNSIGNED_INT||Pe.gpuType===BC;if(Pe.isInterleavedBufferAttribute){let De=Pe.data,ut=De.stride,hi=Pe.offset;if(De.isInstancedInterleavedBuffer){for(let gt=0;gt<Me.locationSize;gt++)g(Me.location+gt,De.meshPerAttribute);A.isInstancedMesh!==!0&&Z._maxInstanceCount===void 0&&(Z._maxInstanceCount=De.meshPerAttribute*De.count)}else for(let gt=0;gt<Me.locationSize;gt++)f(Me.location+gt);i.bindBuffer(i.ARRAY_BUFFER,ui);for(let gt=0;gt<Me.locationSize;gt++)M(Me.location+gt,tt/Me.locationSize,xn,ze,ut*In,(hi+tt/Me.locationSize*gt)*In,Ce)}else{if(Pe.isInstancedBufferAttribute){for(let De=0;De<Me.locationSize;De++)g(Me.location+De,Pe.meshPerAttribute);A.isInstancedMesh!==!0&&Z._maxInstanceCount===void 0&&(Z._maxInstanceCount=Pe.meshPerAttribute*Pe.count)}else for(let De=0;De<Me.locationSize;De++)f(Me.location+De);i.bindBuffer(i.ARRAY_BUFFER,ui);for(let De=0;De<Me.locationSize;De++)M(Me.location+De,tt/Me.locationSize,xn,ze,tt*In,tt/Me.locationSize*De*In,Ce)}}else if(de!==void 0){let ze=de[ne];if(ze!==void 0)switch(ze.length){case 2:i.vertexAttrib2fv(Me.location,ze);break;case 3:i.vertexAttrib3fv(Me.location,ze);break;case 4:i.vertexAttrib4fv(Me.location,ze);break;default:i.vertexAttrib1fv(Me.location,ze)}}}}C()}function R(){z();for(let A in n){let U=n[A];for(let W in U){let Z=U[W];for(let se in Z)d(Z[se].object),delete Z[se];delete U[W]}delete n[A]}}function N(A){if(n[A.id]===void 0)return;let U=n[A.id];for(let W in U){let Z=U[W];for(let se in Z)d(Z[se].object),delete Z[se];delete U[W]}delete n[A.id]}function L(A){for(let U in n){let W=n[U];if(W[A.id]===void 0)continue;let Z=W[A.id];for(let se in Z)d(Z[se].object),delete Z[se];delete W[A.id]}}function z(){E(),s=!0,o!==r&&(o=r,l(o.object))}function E(){r.geometry=null,r.program=null,r.wireframe=!1}return{setup:a,reset:z,resetDefaultState:E,dispose:R,releaseStatesOfGeometry:N,releaseStatesOfProgram:L,initAttributes:_,enableAttribute:f,disableUnusedAttributes:C}}function $Ce(i,t,e){let n;function r(l){n=l}function o(l,d){i.drawArrays(n,l,d),e.update(d,n,1)}function s(l,d,u){u!==0&&(i.drawArraysInstanced(n,l,d,u),e.update(d,n,u))}function a(l,d,u){if(u===0)return;t.get("WEBGL_multi_draw").multiDrawArraysWEBGL(n,l,0,d,0,u);let m=0;for(let p=0;p<u;p++)m+=d[p];e.update(m,n,1)}function c(l,d,u,h){if(u===0)return;let m=t.get("WEBGL_multi_draw");if(m===null)for(let p=0;p<l.length;p++)s(l[p],d[p],h[p]);else{m.multiDrawArraysInstancedWEBGL(n,l,0,d,0,h,0,u);let p=0;for(let _=0;_<u;_++)p+=d[_]*h[_];e.update(p,n,1)}}this.setMode=r,this.render=o,this.renderInstances=s,this.renderMultiDraw=a,this.renderMultiDrawInstances=c}function GCe(i,t,e,n){let r;function o(){if(r!==void 0)return r;if(t.has("EXT_texture_filter_anisotropic")===!0){let L=t.get("EXT_texture_filter_anisotropic");r=i.getParameter(L.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else r=0;return r}function s(L){return!(L!==Gs&&n.convert(L)!==i.getParameter(i.IMPLEMENTATION_COLOR_READ_FORMAT))}function a(L){let z=L===vc&&(t.has("EXT_color_buffer_half_float")||t.has("EXT_color_buffer_float"));return!(L!==es&&n.convert(L)!==i.getParameter(i.IMPLEMENTATION_COLOR_READ_TYPE)&&L!==ka&&!z)}function c(L){if(L==="highp"){if(i.getShaderPrecisionFormat(i.VERTEX_SHADER,i.HIGH_FLOAT).precision>0&&i.getShaderPrecisionFormat(i.FRAGMENT_SHADER,i.HIGH_FLOAT).precision>0)return"highp";L="mediump"}return L==="mediump"&&i.getShaderPrecisionFormat(i.VERTEX_SHADER,i.MEDIUM_FLOAT).precision>0&&i.getShaderPrecisionFormat(i.FRAGMENT_SHADER,i.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}let l=e.precision!==void 0?e.precision:"highp",d=c(l);d!==l&&(Lt("WebGLRenderer:",l,"not supported, using",d,"instead."),l=d);let u=e.logarithmicDepthBuffer===!0,h=e.reversedDepthBuffer===!0&&t.has("EXT_clip_control"),m=i.getParameter(i.MAX_TEXTURE_IMAGE_UNITS),p=i.getParameter(i.MAX_VERTEX_TEXTURE_IMAGE_UNITS),_=i.getParameter(i.MAX_TEXTURE_SIZE),f=i.getParameter(i.MAX_CUBE_MAP_TEXTURE_SIZE),g=i.getParameter(i.MAX_VERTEX_ATTRIBS),C=i.getParameter(i.MAX_VERTEX_UNIFORM_VECTORS),M=i.getParameter(i.MAX_VARYING_VECTORS),S=i.getParameter(i.MAX_FRAGMENT_UNIFORM_VECTORS),R=i.getParameter(i.MAX_SAMPLES),N=i.getParameter(i.SAMPLES);return{isWebGL2:!0,getMaxAnisotropy:o,getMaxPrecision:c,textureFormatReadable:s,textureTypeReadable:a,precision:l,logarithmicDepthBuffer:u,reversedDepthBuffer:h,maxTextures:m,maxVertexTextures:p,maxTextureSize:_,maxCubemapSize:f,maxAttributes:g,maxVertexUniforms:C,maxVaryings:M,maxFragmentUniforms:S,maxSamples:R,samples:N}}function WCe(i){let t=this,e=null,n=0,r=!1,o=!1,s=new js,a=new di,c={value:null,needsUpdate:!1};this.uniform=c,this.numPlanes=0,this.numIntersection=0,this.init=function(u,h){let m=u.length!==0||h||n!==0||r;return r=h,n=u.length,m},this.beginShadows=function(){o=!0,d(null)},this.endShadows=function(){o=!1},this.setGlobalState=function(u,h){e=d(u,h,0)},this.setState=function(u,h,m){let p=u.clippingPlanes,_=u.clipIntersection,f=u.clipShadows,g=i.get(u);if(!r||p===null||p.length===0||o&&!f)o?d(null):l();else{let C=o?0:n,M=C*4,S=g.clippingState||null;c.value=S,S=d(p,h,M,m);for(let R=0;R!==M;++R)S[R]=e[R];g.clippingState=S,this.numIntersection=_?this.numPlanes:0,this.numPlanes+=C}};function l(){c.value!==e&&(c.value=e,c.needsUpdate=n>0),t.numPlanes=n,t.numIntersection=0}function d(u,h,m,p){let _=u!==null?u.length:0,f=null;if(_!==0){if(f=c.value,p!==!0||f===null){let g=m+_*4,C=h.matrixWorldInverse;a.getNormalMatrix(C),(f===null||f.length<g)&&(f=new Float32Array(g));for(let M=0,S=m;M!==_;++M,S+=4)s.copy(u[M]).applyMatrix4(C,a),s.normal.toArray(f,S),f[S+3]=s.constant}c.value=f,c.needsUpdate=!0}return t.numPlanes=_,t.numIntersection=0,f}}function qCe(i){let t=new WeakMap;function e(s,a){return a===OC?s.mapping=Kd:a===FC&&(s.mapping=Lh),s}function n(s){if(s&&s.isTexture){let a=s.mapping;if(a===OC||a===FC)if(t.has(s)){let c=t.get(s).texture;return e(c,s.mapping)}else{let c=s.image;if(c&&c.height>0){let l=new Hb(c.height);return l.fromEquirectangularTexture(i,s),t.set(s,l),s.addEventListener("dispose",r),e(l.texture,s.mapping)}else return null}}return s}function r(s){let a=s.target;a.removeEventListener("dispose",r);let c=t.get(a);c!==void 0&&(t.delete(a),c.dispose())}function o(){t=new WeakMap}return{get:n,dispose:o}}var eu=4,iZ=[.125,.215,.35,.446,.526,.582],Hh=20,XCe=256,r0=new bf,nZ=new xi,QL=null,JL=0,e3=0,t3=!1,YCe=new j,ES=class{constructor(t){this._renderer=t,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._sizeLods=[],this._sigmas=[],this._lodMeshes=[],this._backgroundBox=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._blurMaterial=null,this._ggxMaterial=null}fromScene(t,e=0,n=.1,r=100,o={}){let{size:s=256,position:a=YCe}=o;QL=this._renderer.getRenderTarget(),JL=this._renderer.getActiveCubeFace(),e3=this._renderer.getActiveMipmapLevel(),t3=this._renderer.xr.enabled,this._renderer.xr.enabled=!1,this._setSize(s);let c=this._allocateTargets();return c.depthBuffer=!0,this._sceneToCubeUV(t,n,r,c,a),e>0&&this._blur(c,0,0,e),this._applyPMREM(c),this._cleanup(c),c}fromEquirectangular(t,e=null){return this._fromTexture(t,e)}fromCubemap(t,e=null){return this._fromTexture(t,e)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=sZ(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=oZ(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose(),this._backgroundBox!==null&&(this._backgroundBox.geometry.dispose(),this._backgroundBox.material.dispose())}_setSize(t){this._lodMax=Math.floor(Math.log2(t)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._ggxMaterial!==null&&this._ggxMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let t=0;t<this._lodMeshes.length;t++)this._lodMeshes[t].geometry.dispose()}_cleanup(t){this._renderer.setRenderTarget(QL,JL,e3),this._renderer.xr.enabled=t3,t.scissorTest=!1,Cf(t,0,0,t.width,t.height)}_fromTexture(t,e){t.mapping===Kd||t.mapping===Lh?this._setSize(t.image.length===0?16:t.image[0].width||t.image[0].image.width):this._setSize(t.image.width/4),QL=this._renderer.getRenderTarget(),JL=this._renderer.getActiveCubeFace(),e3=this._renderer.getActiveMipmapLevel(),t3=this._renderer.xr.enabled,this._renderer.xr.enabled=!1;let n=e||this._allocateTargets();return this._textureToCubeUV(t,n),this._applyPMREM(n),this._cleanup(n),n}_allocateTargets(){let t=3*Math.max(this._cubeSize,112),e=4*this._cubeSize,n={magFilter:Yn,minFilter:Yn,generateMipmaps:!1,type:vc,format:Gs,colorSpace:Ah,depthBuffer:!1},r=rZ(t,e,n);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==t||this._pingPongRenderTarget.height!==e){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=rZ(t,e,n);let{_lodMax:o}=this;({lodMeshes:this._lodMeshes,sizeLods:this._sizeLods,sigmas:this._sigmas}=ZCe(o)),this._blurMaterial=QCe(o,t,e),this._ggxMaterial=KCe(o,t,e)}return r}_compileMaterial(t){let e=new He(new Mr,t);this._renderer.compile(e,r0)}_sceneToCubeUV(t,e,n,r,o){let c=new ho(90,1,e,n),l=[1,-1,1,1,1,1],d=[1,1,1,-1,-1,-1],u=this._renderer,h=u.autoClear,m=u.toneMapping;u.getClearColor(nZ),u.toneMapping=Ia,u.autoClear=!1,u.state.buffers.depth.getReversed()&&(u.setRenderTarget(r),u.clearDepth(),u.setRenderTarget(null)),this._backgroundBox===null&&(this._backgroundBox=new He(new Ki,new Ea({name:"PMREM.Background",side:No,depthWrite:!1,depthTest:!1})));let _=this._backgroundBox,f=_.material,g=!1,C=t.background;C?C.isColor&&(f.color.copy(C),t.background=null,g=!0):(f.color.copy(nZ),g=!0);for(let M=0;M<6;M++){let S=M%3;S===0?(c.up.set(0,l[M],0),c.position.set(o.x,o.y,o.z),c.lookAt(o.x+d[M],o.y,o.z)):S===1?(c.up.set(0,0,l[M]),c.position.set(o.x,o.y,o.z),c.lookAt(o.x,o.y+d[M],o.z)):(c.up.set(0,l[M],0),c.position.set(o.x,o.y,o.z),c.lookAt(o.x,o.y,o.z+d[M]));let R=this._cubeSize;Cf(r,S*R,M>2?R:0,R,R),u.setRenderTarget(r),g&&u.render(_,c),u.render(t,c)}u.toneMapping=m,u.autoClear=h,t.background=C}_textureToCubeUV(t,e){let n=this._renderer,r=t.mapping===Kd||t.mapping===Lh;r?(this._cubemapMaterial===null&&(this._cubemapMaterial=sZ()),this._cubemapMaterial.uniforms.flipEnvMap.value=t.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=oZ());let o=r?this._cubemapMaterial:this._equirectMaterial,s=this._lodMeshes[0];s.material=o;let a=o.uniforms;a.envMap.value=t;let c=this._cubeSize;Cf(e,0,0,3*c,2*c),n.setRenderTarget(e),n.render(s,r0)}_applyPMREM(t){let e=this._renderer,n=e.autoClear;e.autoClear=!1;let r=this._lodMeshes.length;for(let o=1;o<r;o++)this._applyGGXFilter(t,o-1,o);e.autoClear=n}_applyGGXFilter(t,e,n){let r=this._renderer,o=this._pingPongRenderTarget,s=this._ggxMaterial,a=this._lodMeshes[n];a.material=s;let c=s.uniforms,l=n/(this._lodMeshes.length-1),d=e/(this._lodMeshes.length-1),u=Math.sqrt(l*l-d*d),h=0+l*1.25,m=u*h,{_lodMax:p}=this,_=this._sizeLods[n],f=3*_*(n>p-eu?n-p+eu:0),g=4*(this._cubeSize-_);c.envMap.value=t.texture,c.roughness.value=m,c.mipInt.value=p-e,Cf(o,f,g,3*_,2*_),r.setRenderTarget(o),r.render(a,r0),c.envMap.value=o.texture,c.roughness.value=0,c.mipInt.value=p-n,Cf(t,f,g,3*_,2*_),r.setRenderTarget(t),r.render(a,r0)}_blur(t,e,n,r,o){let s=this._pingPongRenderTarget;this._halfBlur(t,s,e,n,r,"latitudinal",o),this._halfBlur(s,t,n,n,r,"longitudinal",o)}_halfBlur(t,e,n,r,o,s,a){let c=this._renderer,l=this._blurMaterial;s!=="latitudinal"&&s!=="longitudinal"&&zt("blur direction must be either latitudinal or longitudinal!");let d=3,u=this._lodMeshes[r];u.material=l;let h=l.uniforms,m=this._sizeLods[n]-1,p=isFinite(o)?Math.PI/(2*m):2*Math.PI/(2*Hh-1),_=o/p,f=isFinite(o)?1+Math.floor(d*_):Hh;f>Hh&&Lt(`sigmaRadians, ${o}, is too large and will clip, as it requested ${f} samples when the maximum is set to ${Hh}`);let g=[],C=0;for(let L=0;L<Hh;++L){let z=L/_,E=Math.exp(-z*z/2);g.push(E),L===0?C+=E:L<f&&(C+=2*E)}for(let L=0;L<g.length;L++)g[L]=g[L]/C;h.envMap.value=t.texture,h.samples.value=f,h.weights.value=g,h.latitudinal.value=s==="latitudinal",a&&(h.poleAxis.value=a);let{_lodMax:M}=this;h.dTheta.value=p,h.mipInt.value=M-n;let S=this._sizeLods[r],R=3*S*(r>M-eu?r-M+eu:0),N=4*(this._cubeSize-S);Cf(e,R,N,3*S,2*S),c.setRenderTarget(e),c.render(u,r0)}};function ZCe(i){let t=[],e=[],n=[],r=i,o=i-eu+1+iZ.length;for(let s=0;s<o;s++){let a=Math.pow(2,r);t.push(a);let c=1/a;s>i-eu?c=iZ[s-i+eu-1]:s===0&&(c=0),e.push(c);let l=1/(a-2),d=-l,u=1+l,h=[d,d,u,d,u,u,d,d,u,u,d,u],m=6,p=6,_=3,f=2,g=1,C=new Float32Array(_*p*m),M=new Float32Array(f*p*m),S=new Float32Array(g*p*m);for(let N=0;N<m;N++){let L=N%3*2/3-1,z=N>2?0:-1,E=[L,z,0,L+2/3,z,0,L+2/3,z+1,0,L,z,0,L+2/3,z+1,0,L,z+1,0];C.set(E,_*p*N),M.set(h,f*p*N);let A=[N,N,N,N,N,N];S.set(A,g*p*N)}let R=new Mr;R.setAttribute("position",new bs(C,_)),R.setAttribute("uv",new bs(M,f)),R.setAttribute("faceIndex",new bs(S,g)),n.push(new He(R,null)),r>eu&&r--}return{lodMeshes:n,sizeLods:t,sigmas:e}}function rZ(i,t,e){let n=new vs(i,t,e);return n.texture.mapping=Qb,n.texture.name="PMREM.cubeUv",n.scissorTest=!0,n}function Cf(i,t,e,n,r){i.viewport.set(t,e,n,r),i.scissor.set(t,e,n,r)}function KCe(i,t,e){return new ys({name:"PMREMGGXConvolution",defines:{GGX_SAMPLES:XCe,CUBEUV_TEXEL_WIDTH:1/t,CUBEUV_TEXEL_HEIGHT:1/e,CUBEUV_MAX_MIP:`${i}.0`},uniforms:{envMap:{value:null},roughness:{value:0},mipInt:{value:0}},vertexShader:IS(),fragmentShader:`

			precision highp float;
			precision highp int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform float roughness;
			uniform float mipInt;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			#define PI 3.14159265359

			// Van der Corput radical inverse
			float radicalInverse_VdC(uint bits) {
				bits = (bits << 16u) | (bits >> 16u);
				bits = ((bits & 0x55555555u) << 1u) | ((bits & 0xAAAAAAAAu) >> 1u);
				bits = ((bits & 0x33333333u) << 2u) | ((bits & 0xCCCCCCCCu) >> 2u);
				bits = ((bits & 0x0F0F0F0Fu) << 4u) | ((bits & 0xF0F0F0F0u) >> 4u);
				bits = ((bits & 0x00FF00FFu) << 8u) | ((bits & 0xFF00FF00u) >> 8u);
				return float(bits) * 2.3283064365386963e-10; // / 0x100000000
			}

			// Hammersley sequence
			vec2 hammersley(uint i, uint N) {
				return vec2(float(i) / float(N), radicalInverse_VdC(i));
			}

			// GGX VNDF importance sampling (Eric Heitz 2018)
			// "Sampling the GGX Distribution of Visible Normals"
			// https://jcgt.org/published/0007/04/01/
			vec3 importanceSampleGGX_VNDF(vec2 Xi, vec3 V, float roughness) {
				float alpha = roughness * roughness;

				// Section 3.2: Transform view direction to hemisphere configuration
				vec3 Vh = normalize(vec3(alpha * V.x, alpha * V.y, V.z));

				// Section 4.1: Orthonormal basis
				float lensq = Vh.x * Vh.x + Vh.y * Vh.y;
				vec3 T1 = lensq > 0.0 ? vec3(-Vh.y, Vh.x, 0.0) / sqrt(lensq) : vec3(1.0, 0.0, 0.0);
				vec3 T2 = cross(Vh, T1);

				// Section 4.2: Parameterization of projected area
				float r = sqrt(Xi.x);
				float phi = 2.0 * PI * Xi.y;
				float t1 = r * cos(phi);
				float t2 = r * sin(phi);
				float s = 0.5 * (1.0 + Vh.z);
				t2 = (1.0 - s) * sqrt(1.0 - t1 * t1) + s * t2;

				// Section 4.3: Reprojection onto hemisphere
				vec3 Nh = t1 * T1 + t2 * T2 + sqrt(max(0.0, 1.0 - t1 * t1 - t2 * t2)) * Vh;

				// Section 3.4: Transform back to ellipsoid configuration
				return normalize(vec3(alpha * Nh.x, alpha * Nh.y, max(0.0, Nh.z)));
			}

			void main() {
				vec3 N = normalize(vOutputDirection);
				vec3 V = N; // Assume view direction equals normal for pre-filtering

				vec3 prefilteredColor = vec3(0.0);
				float totalWeight = 0.0;

				// For very low roughness, just sample the environment directly
				if (roughness < 0.001) {
					gl_FragColor = vec4(bilinearCubeUV(envMap, N, mipInt), 1.0);
					return;
				}

				// Tangent space basis for VNDF sampling
				vec3 up = abs(N.z) < 0.999 ? vec3(0.0, 0.0, 1.0) : vec3(1.0, 0.0, 0.0);
				vec3 tangent = normalize(cross(up, N));
				vec3 bitangent = cross(N, tangent);

				for(uint i = 0u; i < uint(GGX_SAMPLES); i++) {
					vec2 Xi = hammersley(i, uint(GGX_SAMPLES));

					// For PMREM, V = N, so in tangent space V is always (0, 0, 1)
					vec3 H_tangent = importanceSampleGGX_VNDF(Xi, vec3(0.0, 0.0, 1.0), roughness);

					// Transform H back to world space
					vec3 H = normalize(tangent * H_tangent.x + bitangent * H_tangent.y + N * H_tangent.z);
					vec3 L = normalize(2.0 * dot(V, H) * H - V);

					float NdotL = max(dot(N, L), 0.0);

					if(NdotL > 0.0) {
						// Sample environment at fixed mip level
						// VNDF importance sampling handles the distribution filtering
						vec3 sampleColor = bilinearCubeUV(envMap, L, mipInt);

						// Weight by NdotL for the split-sum approximation
						// VNDF PDF naturally accounts for the visible microfacet distribution
						prefilteredColor += sampleColor * NdotL;
						totalWeight += NdotL;
					}
				}

				if (totalWeight > 0.0) {
					prefilteredColor = prefilteredColor / totalWeight;
				}

				gl_FragColor = vec4(prefilteredColor, 1.0);
			}
		`,blending:bc,depthTest:!1,depthWrite:!1})}function QCe(i,t,e){let n=new Float32Array(Hh),r=new j(0,1,0);return new ys({name:"SphericalGaussianBlur",defines:{n:Hh,CUBEUV_TEXEL_WIDTH:1/t,CUBEUV_TEXEL_HEIGHT:1/e,CUBEUV_MAX_MIP:`${i}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:n},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:r}},vertexShader:IS(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:bc,depthTest:!1,depthWrite:!1})}function oZ(){return new ys({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:IS(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:bc,depthTest:!1,depthWrite:!1})}function sZ(){return new ys({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:IS(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:bc,depthTest:!1,depthWrite:!1})}function IS(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function JCe(i){let t=new WeakMap,e=null;function n(a){if(a&&a.isTexture){let c=a.mapping,l=c===OC||c===FC,d=c===Kd||c===Lh;if(l||d){let u=t.get(a),h=u!==void 0?u.texture.pmremVersion:0;if(a.isRenderTargetTexture&&a.pmremVersion!==h)return e===null&&(e=new ES(i)),u=l?e.fromEquirectangular(a,u):e.fromCubemap(a,u),u.texture.pmremVersion=a.pmremVersion,t.set(a,u),u.texture;if(u!==void 0)return u.texture;{let m=a.image;return l&&m&&m.height>0||d&&m&&r(m)?(e===null&&(e=new ES(i)),u=l?e.fromEquirectangular(a):e.fromCubemap(a),u.texture.pmremVersion=a.pmremVersion,t.set(a,u),a.addEventListener("dispose",o),u.texture):null}}}return a}function r(a){let c=0,l=6;for(let d=0;d<l;d++)a[d]!==void 0&&c++;return c===l}function o(a){let c=a.target;c.removeEventListener("dispose",o);let l=t.get(c);l!==void 0&&(t.delete(c),l.dispose())}function s(){t=new WeakMap,e!==null&&(e.dispose(),e=null)}return{get:n,dispose:s}}function eSe(i){let t={};function e(n){if(t[n]!==void 0)return t[n];let r=i.getExtension(n);return t[n]=r,r}return{has:function(n){return e(n)!==null},init:function(){e("EXT_color_buffer_float"),e("WEBGL_clip_cull_distance"),e("OES_texture_float_linear"),e("EXT_color_buffer_half_float"),e("WEBGL_multisampled_render_to_texture"),e("WEBGL_render_shared_exponent")},get:function(n){let r=e(n);return r===null&&uf("WebGLRenderer: "+n+" extension not supported."),r}}}function tSe(i,t,e,n){let r={},o=new WeakMap;function s(u){let h=u.target;h.index!==null&&t.remove(h.index);for(let p in h.attributes)t.remove(h.attributes[p]);h.removeEventListener("dispose",s),delete r[h.id];let m=o.get(h);m&&(t.remove(m),o.delete(h)),n.releaseStatesOfGeometry(h),h.isInstancedBufferGeometry===!0&&delete h._maxInstanceCount,e.memory.geometries--}function a(u,h){return r[h.id]===!0||(h.addEventListener("dispose",s),r[h.id]=!0,e.memory.geometries++),h}function c(u){let h=u.attributes;for(let m in h)t.update(h[m],i.ARRAY_BUFFER)}function l(u){let h=[],m=u.index,p=u.attributes.position,_=0;if(m!==null){let C=m.array;_=m.version;for(let M=0,S=C.length;M<S;M+=3){let R=C[M+0],N=C[M+1],L=C[M+2];h.push(R,N,N,L,L,R)}}else if(p!==void 0){let C=p.array;_=p.version;for(let M=0,S=C.length/3-1;M<S;M+=3){let R=M+0,N=M+1,L=M+2;h.push(R,N,N,L,L,R)}}else return;let f=new($L(h)?Vb:Bb)(h,1);f.version=_;let g=o.get(u);g&&t.remove(g),o.set(u,f)}function d(u){let h=o.get(u);if(h){let m=u.index;m!==null&&h.version<m.version&&l(u)}else l(u);return o.get(u)}return{get:a,update:c,getWireframeAttribute:d}}function iSe(i,t,e){let n;function r(h){n=h}let o,s;function a(h){o=h.type,s=h.bytesPerElement}function c(h,m){i.drawElements(n,m,o,h*s),e.update(m,n,1)}function l(h,m,p){p!==0&&(i.drawElementsInstanced(n,m,o,h*s,p),e.update(m,n,p))}function d(h,m,p){if(p===0)return;t.get("WEBGL_multi_draw").multiDrawElementsWEBGL(n,m,0,o,h,0,p);let f=0;for(let g=0;g<p;g++)f+=m[g];e.update(f,n,1)}function u(h,m,p,_){if(p===0)return;let f=t.get("WEBGL_multi_draw");if(f===null)for(let g=0;g<h.length;g++)l(h[g]/s,m[g],_[g]);else{f.multiDrawElementsInstancedWEBGL(n,m,0,o,h,0,_,0,p);let g=0;for(let C=0;C<p;C++)g+=m[C]*_[C];e.update(g,n,1)}}this.setMode=r,this.setIndex=a,this.render=c,this.renderInstances=l,this.renderMultiDraw=d,this.renderMultiDrawInstances=u}function nSe(i){let t={geometries:0,textures:0},e={frame:0,calls:0,triangles:0,points:0,lines:0};function n(o,s,a){switch(e.calls++,s){case i.TRIANGLES:e.triangles+=a*(o/3);break;case i.LINES:e.lines+=a*(o/2);break;case i.LINE_STRIP:e.lines+=a*(o-1);break;case i.LINE_LOOP:e.lines+=a*o;break;case i.POINTS:e.points+=a*o;break;default:zt("WebGLInfo: Unknown draw mode:",s);break}}function r(){e.calls=0,e.triangles=0,e.points=0,e.lines=0}return{memory:t,render:e,programs:null,autoReset:!0,reset:r,update:n}}function rSe(i,t,e){let n=new WeakMap,r=new Un;function o(s,a,c){let l=s.morphTargetInfluences,d=a.morphAttributes.position||a.morphAttributes.normal||a.morphAttributes.color,u=d!==void 0?d.length:0,h=n.get(a);if(h===void 0||h.count!==u){let A=function(){z.dispose(),n.delete(a),a.removeEventListener("dispose",A)};var m=A;h!==void 0&&h.texture.dispose();let p=a.morphAttributes.position!==void 0,_=a.morphAttributes.normal!==void 0,f=a.morphAttributes.color!==void 0,g=a.morphAttributes.position||[],C=a.morphAttributes.normal||[],M=a.morphAttributes.color||[],S=0;p===!0&&(S=1),_===!0&&(S=2),f===!0&&(S=3);let R=a.attributes.position.count*S,N=1;R>t.maxTextureSize&&(N=Math.ceil(R/t.maxTextureSize),R=t.maxTextureSize);let L=new Float32Array(R*N*4*u),z=new Lb(L,R,N,u);z.type=ka,z.needsUpdate=!0;let E=S*4;for(let U=0;U<u;U++){let W=g[U],Z=C[U],se=M[U],ie=R*N*4*U;for(let de=0;de<W.count;de++){let ne=de*E;p===!0&&(r.fromBufferAttribute(W,de),L[ie+ne+0]=r.x,L[ie+ne+1]=r.y,L[ie+ne+2]=r.z,L[ie+ne+3]=0),_===!0&&(r.fromBufferAttribute(Z,de),L[ie+ne+4]=r.x,L[ie+ne+5]=r.y,L[ie+ne+6]=r.z,L[ie+ne+7]=0),f===!0&&(r.fromBufferAttribute(se,de),L[ie+ne+8]=r.x,L[ie+ne+9]=r.y,L[ie+ne+10]=r.z,L[ie+ne+11]=se.itemSize===4?r.w:1)}}h={count:u,texture:z,size:new Ut(R,N)},n.set(a,h),a.addEventListener("dispose",A)}if(s.isInstancedMesh===!0&&s.morphTexture!==null)c.getUniforms().setValue(i,"morphTexture",s.morphTexture,e);else{let p=0;for(let f=0;f<l.length;f++)p+=l[f];let _=a.morphTargetsRelative?1:1-p;c.getUniforms().setValue(i,"morphTargetBaseInfluence",_),c.getUniforms().setValue(i,"morphTargetInfluences",l)}c.getUniforms().setValue(i,"morphTargetsTexture",h.texture,e),c.getUniforms().setValue(i,"morphTargetsTextureSize",h.size)}return{update:o}}function oSe(i,t,e,n){let r=new WeakMap;function o(c){let l=n.render.frame,d=c.geometry,u=t.get(c,d);if(r.get(u)!==l&&(t.update(u),r.set(u,l)),c.isInstancedMesh&&(c.hasEventListener("dispose",a)===!1&&c.addEventListener("dispose",a),r.get(c)!==l&&(e.update(c.instanceMatrix,i.ARRAY_BUFFER),c.instanceColor!==null&&e.update(c.instanceColor,i.ARRAY_BUFFER),r.set(c,l))),c.isSkinnedMesh){let h=c.skeleton;r.get(h)!==l&&(h.update(),r.set(h,l))}return u}function s(){r=new WeakMap}function a(c){let l=c.target;l.removeEventListener("dispose",a),e.remove(l.instanceMatrix),l.instanceColor!==null&&e.remove(l.instanceColor)}return{update:o,dispose:s}}var sSe={[IL]:"LINEAR_TONE_MAPPING",[DL]:"REINHARD_TONE_MAPPING",[kL]:"CINEON_TONE_MAPPING",[AL]:"ACES_FILMIC_TONE_MAPPING",[RL]:"AGX_TONE_MAPPING",[NL]:"NEUTRAL_TONE_MAPPING",[PL]:"CUSTOM_TONE_MAPPING"};function aSe(i,t,e,n,r){let o=new vs(t,e,{type:i,depthBuffer:n,stencilBuffer:r}),s=new vs(t,e,{type:vc,depthBuffer:!1,stencilBuffer:!1}),a=new Mr;a.setAttribute("position",new Wi([-1,3,0,-1,-1,0,3,-1,0],3)),a.setAttribute("uv",new Wi([0,2,0,0,2,0],2));let c=new gC({uniforms:{tDiffuse:{value:null}},vertexShader:`
			precision highp float;

			uniform mat4 modelViewMatrix;
			uniform mat4 projectionMatrix;

			attribute vec3 position;
			attribute vec2 uv;

			varying vec2 vUv;

			void main() {
				vUv = uv;
				gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
			}`,fragmentShader:`
			precision highp float;

			uniform sampler2D tDiffuse;

			varying vec2 vUv;

			#include <tonemapping_pars_fragment>
			#include <colorspace_pars_fragment>

			void main() {
				gl_FragColor = texture2D( tDiffuse, vUv );

				#ifdef LINEAR_TONE_MAPPING
					gl_FragColor.rgb = LinearToneMapping( gl_FragColor.rgb );
				#elif defined( REINHARD_TONE_MAPPING )
					gl_FragColor.rgb = ReinhardToneMapping( gl_FragColor.rgb );
				#elif defined( CINEON_TONE_MAPPING )
					gl_FragColor.rgb = CineonToneMapping( gl_FragColor.rgb );
				#elif defined( ACES_FILMIC_TONE_MAPPING )
					gl_FragColor.rgb = ACESFilmicToneMapping( gl_FragColor.rgb );
				#elif defined( AGX_TONE_MAPPING )
					gl_FragColor.rgb = AgXToneMapping( gl_FragColor.rgb );
				#elif defined( NEUTRAL_TONE_MAPPING )
					gl_FragColor.rgb = NeutralToneMapping( gl_FragColor.rgb );
				#elif defined( CUSTOM_TONE_MAPPING )
					gl_FragColor.rgb = CustomToneMapping( gl_FragColor.rgb );
				#endif

				#ifdef SRGB_TRANSFER
					gl_FragColor = sRGBTransferOETF( gl_FragColor );
				#endif
			}`,depthTest:!1,depthWrite:!1}),l=new He(a,c),d=new bf(-1,1,1,-1,0,1),u=null,h=null,m=!1,p,_=null,f=[],g=!1;this.setSize=function(C,M){o.setSize(C,M),s.setSize(C,M);for(let S=0;S<f.length;S++){let R=f[S];R.setSize&&R.setSize(C,M)}},this.setEffects=function(C){f=C,g=f.length>0&&f[0].isRenderPass===!0;let M=o.width,S=o.height;for(let R=0;R<f.length;R++){let N=f[R];N.setSize&&N.setSize(M,S)}},this.begin=function(C,M){if(m||C.toneMapping===Ia&&f.length===0)return!1;if(_=M,M!==null){let S=M.width,R=M.height;(o.width!==S||o.height!==R)&&this.setSize(S,R)}return g===!1&&C.setRenderTarget(o),p=C.toneMapping,C.toneMapping=Ia,!0},this.hasRenderPass=function(){return g},this.end=function(C,M){C.toneMapping=p,m=!0;let S=o,R=s;for(let N=0;N<f.length;N++){let L=f[N];if(L.enabled!==!1&&(L.render(C,R,S,M),L.needsSwap!==!1)){let z=S;S=R,R=z}}if(u!==C.outputColorSpace||h!==C.toneMapping){u=C.outputColorSpace,h=C.toneMapping,c.defines={},Ri.getTransfer(u)===Zi&&(c.defines.SRGB_TRANSFER="");let N=sSe[h];N&&(c.defines[N]=""),c.needsUpdate=!0}c.uniforms.tDiffuse.value=S.texture,C.setRenderTarget(_),C.render(l,d),_=null,m=!1},this.isCompositing=function(){return m},this.dispose=function(){o.dispose(),s.dispose(),a.dispose(),c.dispose()}}var SZ=new yc,r3=new Gd(1,1),EZ=new Lb,TZ=new cC,IZ=new zb,aZ=[],cZ=[],lZ=new Float32Array(16),dZ=new Float32Array(9),uZ=new Float32Array(4);function Ef(i,t,e){let n=i[0];if(n<=0||n>0)return i;let r=t*e,o=aZ[r];if(o===void 0&&(o=new Float32Array(r),aZ[r]=o),t!==0){n.toArray(o,0);for(let s=1,a=0;s!==t;++s)a+=e,i[s].toArray(o,a)}return o}function Cr(i,t){if(i.length!==t.length)return!1;for(let e=0,n=i.length;e<n;e++)if(i[e]!==t[e])return!1;return!0}function Sr(i,t){for(let e=0,n=t.length;e<n;e++)i[e]=t[e]}function DS(i,t){let e=cZ[t];e===void 0&&(e=new Int32Array(t),cZ[t]=e);for(let n=0;n!==t;++n)e[n]=i.allocateTextureUnit();return e}function cSe(i,t){let e=this.cache;e[0]!==t&&(i.uniform1f(this.addr,t),e[0]=t)}function lSe(i,t){let e=this.cache;if(t.x!==void 0)(e[0]!==t.x||e[1]!==t.y)&&(i.uniform2f(this.addr,t.x,t.y),e[0]=t.x,e[1]=t.y);else{if(Cr(e,t))return;i.uniform2fv(this.addr,t),Sr(e,t)}}function dSe(i,t){let e=this.cache;if(t.x!==void 0)(e[0]!==t.x||e[1]!==t.y||e[2]!==t.z)&&(i.uniform3f(this.addr,t.x,t.y,t.z),e[0]=t.x,e[1]=t.y,e[2]=t.z);else if(t.r!==void 0)(e[0]!==t.r||e[1]!==t.g||e[2]!==t.b)&&(i.uniform3f(this.addr,t.r,t.g,t.b),e[0]=t.r,e[1]=t.g,e[2]=t.b);else{if(Cr(e,t))return;i.uniform3fv(this.addr,t),Sr(e,t)}}function uSe(i,t){let e=this.cache;if(t.x!==void 0)(e[0]!==t.x||e[1]!==t.y||e[2]!==t.z||e[3]!==t.w)&&(i.uniform4f(this.addr,t.x,t.y,t.z,t.w),e[0]=t.x,e[1]=t.y,e[2]=t.z,e[3]=t.w);else{if(Cr(e,t))return;i.uniform4fv(this.addr,t),Sr(e,t)}}function hSe(i,t){let e=this.cache,n=t.elements;if(n===void 0){if(Cr(e,t))return;i.uniformMatrix2fv(this.addr,!1,t),Sr(e,t)}else{if(Cr(e,n))return;uZ.set(n),i.uniformMatrix2fv(this.addr,!1,uZ),Sr(e,n)}}function mSe(i,t){let e=this.cache,n=t.elements;if(n===void 0){if(Cr(e,t))return;i.uniformMatrix3fv(this.addr,!1,t),Sr(e,t)}else{if(Cr(e,n))return;dZ.set(n),i.uniformMatrix3fv(this.addr,!1,dZ),Sr(e,n)}}function pSe(i,t){let e=this.cache,n=t.elements;if(n===void 0){if(Cr(e,t))return;i.uniformMatrix4fv(this.addr,!1,t),Sr(e,t)}else{if(Cr(e,n))return;lZ.set(n),i.uniformMatrix4fv(this.addr,!1,lZ),Sr(e,n)}}function fSe(i,t){let e=this.cache;e[0]!==t&&(i.uniform1i(this.addr,t),e[0]=t)}function gSe(i,t){let e=this.cache;if(t.x!==void 0)(e[0]!==t.x||e[1]!==t.y)&&(i.uniform2i(this.addr,t.x,t.y),e[0]=t.x,e[1]=t.y);else{if(Cr(e,t))return;i.uniform2iv(this.addr,t),Sr(e,t)}}function _Se(i,t){let e=this.cache;if(t.x!==void 0)(e[0]!==t.x||e[1]!==t.y||e[2]!==t.z)&&(i.uniform3i(this.addr,t.x,t.y,t.z),e[0]=t.x,e[1]=t.y,e[2]=t.z);else{if(Cr(e,t))return;i.uniform3iv(this.addr,t),Sr(e,t)}}function bSe(i,t){let e=this.cache;if(t.x!==void 0)(e[0]!==t.x||e[1]!==t.y||e[2]!==t.z||e[3]!==t.w)&&(i.uniform4i(this.addr,t.x,t.y,t.z,t.w),e[0]=t.x,e[1]=t.y,e[2]=t.z,e[3]=t.w);else{if(Cr(e,t))return;i.uniform4iv(this.addr,t),Sr(e,t)}}function vSe(i,t){let e=this.cache;e[0]!==t&&(i.uniform1ui(this.addr,t),e[0]=t)}function ySe(i,t){let e=this.cache;if(t.x!==void 0)(e[0]!==t.x||e[1]!==t.y)&&(i.uniform2ui(this.addr,t.x,t.y),e[0]=t.x,e[1]=t.y);else{if(Cr(e,t))return;i.uniform2uiv(this.addr,t),Sr(e,t)}}function xSe(i,t){let e=this.cache;if(t.x!==void 0)(e[0]!==t.x||e[1]!==t.y||e[2]!==t.z)&&(i.uniform3ui(this.addr,t.x,t.y,t.z),e[0]=t.x,e[1]=t.y,e[2]=t.z);else{if(Cr(e,t))return;i.uniform3uiv(this.addr,t),Sr(e,t)}}function wSe(i,t){let e=this.cache;if(t.x!==void 0)(e[0]!==t.x||e[1]!==t.y||e[2]!==t.z||e[3]!==t.w)&&(i.uniform4ui(this.addr,t.x,t.y,t.z,t.w),e[0]=t.x,e[1]=t.y,e[2]=t.z,e[3]=t.w);else{if(Cr(e,t))return;i.uniform4uiv(this.addr,t),Sr(e,t)}}function MSe(i,t,e){let n=this.cache,r=e.allocateTextureUnit();n[0]!==r&&(i.uniform1i(this.addr,r),n[0]=r);let o;this.type===i.SAMPLER_2D_SHADOW?(r3.compareFunction=e.isReversedDepthBuffer()?MS:wS,o=r3):o=SZ,e.setTexture2D(t||o,r)}function CSe(i,t,e){let n=this.cache,r=e.allocateTextureUnit();n[0]!==r&&(i.uniform1i(this.addr,r),n[0]=r),e.setTexture3D(t||TZ,r)}function SSe(i,t,e){let n=this.cache,r=e.allocateTextureUnit();n[0]!==r&&(i.uniform1i(this.addr,r),n[0]=r),e.setTextureCube(t||IZ,r)}function ESe(i,t,e){let n=this.cache,r=e.allocateTextureUnit();n[0]!==r&&(i.uniform1i(this.addr,r),n[0]=r),e.setTexture2DArray(t||EZ,r)}function TSe(i){switch(i){case 5126:return cSe;case 35664:return lSe;case 35665:return dSe;case 35666:return uSe;case 35674:return hSe;case 35675:return mSe;case 35676:return pSe;case 5124:case 35670:return fSe;case 35667:case 35671:return gSe;case 35668:case 35672:return _Se;case 35669:case 35673:return bSe;case 5125:return vSe;case 36294:return ySe;case 36295:return xSe;case 36296:return wSe;case 35678:case 36198:case 36298:case 36306:case 35682:return MSe;case 35679:case 36299:case 36307:return CSe;case 35680:case 36300:case 36308:case 36293:return SSe;case 36289:case 36303:case 36311:case 36292:return ESe}}function ISe(i,t){i.uniform1fv(this.addr,t)}function DSe(i,t){let e=Ef(t,this.size,2);i.uniform2fv(this.addr,e)}function kSe(i,t){let e=Ef(t,this.size,3);i.uniform3fv(this.addr,e)}function ASe(i,t){let e=Ef(t,this.size,4);i.uniform4fv(this.addr,e)}function PSe(i,t){let e=Ef(t,this.size,4);i.uniformMatrix2fv(this.addr,!1,e)}function RSe(i,t){let e=Ef(t,this.size,9);i.uniformMatrix3fv(this.addr,!1,e)}function NSe(i,t){let e=Ef(t,this.size,16);i.uniformMatrix4fv(this.addr,!1,e)}function OSe(i,t){i.uniform1iv(this.addr,t)}function FSe(i,t){i.uniform2iv(this.addr,t)}function LSe(i,t){i.uniform3iv(this.addr,t)}function BSe(i,t){i.uniform4iv(this.addr,t)}function VSe(i,t){i.uniform1uiv(this.addr,t)}function USe(i,t){i.uniform2uiv(this.addr,t)}function zSe(i,t){i.uniform3uiv(this.addr,t)}function HSe(i,t){i.uniform4uiv(this.addr,t)}function jSe(i,t,e){let n=this.cache,r=t.length,o=DS(e,r);Cr(n,o)||(i.uniform1iv(this.addr,o),Sr(n,o));let s;this.type===i.SAMPLER_2D_SHADOW?s=r3:s=SZ;for(let a=0;a!==r;++a)e.setTexture2D(t[a]||s,o[a])}function $Se(i,t,e){let n=this.cache,r=t.length,o=DS(e,r);Cr(n,o)||(i.uniform1iv(this.addr,o),Sr(n,o));for(let s=0;s!==r;++s)e.setTexture3D(t[s]||TZ,o[s])}function GSe(i,t,e){let n=this.cache,r=t.length,o=DS(e,r);Cr(n,o)||(i.uniform1iv(this.addr,o),Sr(n,o));for(let s=0;s!==r;++s)e.setTextureCube(t[s]||IZ,o[s])}function WSe(i,t,e){let n=this.cache,r=t.length,o=DS(e,r);Cr(n,o)||(i.uniform1iv(this.addr,o),Sr(n,o));for(let s=0;s!==r;++s)e.setTexture2DArray(t[s]||EZ,o[s])}function qSe(i){switch(i){case 5126:return ISe;case 35664:return DSe;case 35665:return kSe;case 35666:return ASe;case 35674:return PSe;case 35675:return RSe;case 35676:return NSe;case 5124:case 35670:return OSe;case 35667:case 35671:return FSe;case 35668:case 35672:return LSe;case 35669:case 35673:return BSe;case 5125:return VSe;case 36294:return USe;case 36295:return zSe;case 36296:return HSe;case 35678:case 36198:case 36298:case 36306:case 35682:return jSe;case 35679:case 36299:case 36307:return $Se;case 35680:case 36300:case 36308:case 36293:return GSe;case 36289:case 36303:case 36311:case 36292:return WSe}}var o3=class{constructor(t,e,n){this.id=t,this.addr=n,this.cache=[],this.type=e.type,this.setValue=TSe(e.type)}},s3=class{constructor(t,e,n){this.id=t,this.addr=n,this.cache=[],this.type=e.type,this.size=e.size,this.setValue=qSe(e.type)}},a3=class{constructor(t){this.id=t,this.seq=[],this.map={}}setValue(t,e,n){let r=this.seq;for(let o=0,s=r.length;o!==s;++o){let a=r[o];a.setValue(t,e[a.id],n)}}},i3=/(\w+)(\])?(\[|\.)?/g;function hZ(i,t){i.seq.push(t),i.map[t.id]=t}function XSe(i,t,e){let n=i.name,r=n.length;for(i3.lastIndex=0;;){let o=i3.exec(n),s=i3.lastIndex,a=o[1],c=o[2]==="]",l=o[3];if(c&&(a=a|0),l===void 0||l==="["&&s+2===r){hZ(e,l===void 0?new o3(a,i,t):new s3(a,i,t));break}else{let u=e.map[a];u===void 0&&(u=new a3(a),hZ(e,u)),e=u}}}var Sf=class{constructor(t,e){this.seq=[],this.map={};let n=t.getProgramParameter(e,t.ACTIVE_UNIFORMS);for(let s=0;s<n;++s){let a=t.getActiveUniform(e,s),c=t.getUniformLocation(e,a.name);XSe(a,c,this)}let r=[],o=[];for(let s of this.seq)s.type===t.SAMPLER_2D_SHADOW||s.type===t.SAMPLER_CUBE_SHADOW||s.type===t.SAMPLER_2D_ARRAY_SHADOW?r.push(s):o.push(s);r.length>0&&(this.seq=r.concat(o))}setValue(t,e,n,r){let o=this.map[e];o!==void 0&&o.setValue(t,n,r)}setOptional(t,e,n){let r=e[n];r!==void 0&&this.setValue(t,n,r)}static upload(t,e,n,r){for(let o=0,s=e.length;o!==s;++o){let a=e[o],c=n[a.id];c.needsUpdate!==!1&&a.setValue(t,c.value,r)}}static seqWithValue(t,e){let n=[];for(let r=0,o=t.length;r!==o;++r){let s=t[r];s.id in e&&n.push(s)}return n}};function mZ(i,t,e){let n=i.createShader(t);return i.shaderSource(n,e),i.compileShader(n),n}var YSe=37297,ZSe=0;function KSe(i,t){let e=i.split(`
`),n=[],r=Math.max(t-6,0),o=Math.min(t+6,e.length);for(let s=r;s<o;s++){let a=s+1;n.push(`${a===t?">":" "} ${a}: ${e[s]}`)}return n.join(`
`)}var pZ=new di;function QSe(i){Ri._getMatrix(pZ,Ri.workingColorSpace,i);let t=`mat3( ${pZ.elements.map(e=>e.toFixed(4))} )`;switch(Ri.getTransfer(i)){case Nb:return[t,"LinearTransferOETF"];case Zi:return[t,"sRGBTransferOETF"];default:return Lt("WebGLProgram: Unsupported color space: ",i),[t,"LinearTransferOETF"]}}function fZ(i,t,e){let n=i.getShaderParameter(t,i.COMPILE_STATUS),o=(i.getShaderInfoLog(t)||"").trim();if(n&&o==="")return"";let s=/ERROR: 0:(\d+)/.exec(o);if(s){let a=parseInt(s[1]);return e.toUpperCase()+`

`+o+`

`+KSe(i.getShaderSource(t),a)}else return o}function JSe(i,t){let e=QSe(t);return[`vec4 ${i}( vec4 value ) {`,`	return ${e[1]}( vec4( value.rgb * ${e[0]}, value.a ) );`,"}"].join(`
`)}var eEe={[IL]:"Linear",[DL]:"Reinhard",[kL]:"Cineon",[AL]:"ACESFilmic",[RL]:"AgX",[NL]:"Neutral",[PL]:"Custom"};function tEe(i,t){let e=eEe[t];return e===void 0?(Lt("WebGLProgram: Unsupported toneMapping:",t),"vec3 "+i+"( vec3 color ) { return LinearToneMapping( color ); }"):"vec3 "+i+"( vec3 color ) { return "+e+"ToneMapping( color ); }"}var SS=new j;function iEe(){Ri.getLuminanceCoefficients(SS);let i=SS.x.toFixed(4),t=SS.y.toFixed(4),e=SS.z.toFixed(4);return["float luminance( const in vec3 rgb ) {",`	const vec3 weights = vec3( ${i}, ${t}, ${e} );`,"	return dot( weights, rgb );","}"].join(`
`)}function nEe(i){return[i.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",i.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(s0).join(`
`)}function rEe(i){let t=[];for(let e in i){let n=i[e];n!==!1&&t.push("#define "+e+" "+n)}return t.join(`
`)}function oEe(i,t){let e={},n=i.getProgramParameter(t,i.ACTIVE_ATTRIBUTES);for(let r=0;r<n;r++){let o=i.getActiveAttrib(t,r),s=o.name,a=1;o.type===i.FLOAT_MAT2&&(a=2),o.type===i.FLOAT_MAT3&&(a=3),o.type===i.FLOAT_MAT4&&(a=4),e[s]={type:o.type,location:i.getAttribLocation(t,s),locationSize:a}}return e}function s0(i){return i!==""}function gZ(i,t){let e=t.numSpotLightShadows+t.numSpotLightMaps-t.numSpotLightShadowsWithMaps;return i.replace(/NUM_DIR_LIGHTS/g,t.numDirLights).replace(/NUM_SPOT_LIGHTS/g,t.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,t.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,e).replace(/NUM_RECT_AREA_LIGHTS/g,t.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,t.numPointLights).replace(/NUM_HEMI_LIGHTS/g,t.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,t.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,t.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,t.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,t.numPointLightShadows)}function _Z(i,t){return i.replace(/NUM_CLIPPING_PLANES/g,t.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,t.numClippingPlanes-t.numClipIntersection)}var sEe=/^[ \t]*#include +<([\w\d./]+)>/gm;function c3(i){return i.replace(sEe,cEe)}var aEe=new Map;function cEe(i,t){let e=_i[t];if(e===void 0){let n=aEe.get(t);if(n!==void 0)e=_i[n],Lt('WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',t,n);else throw new Error("Can not resolve #include <"+t+">")}return c3(e)}var lEe=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function bZ(i){return i.replace(lEe,dEe)}function dEe(i,t,e,n){let r="";for(let o=parseInt(t);o<parseInt(e);o++)r+=n.replace(/\[\s*i\s*\]/g,"[ "+o+" ]").replace(/UNROLLED_LOOP_INDEX/g,o);return r}function vZ(i){let t=`precision ${i.precision} float;
	precision ${i.precision} int;
	precision ${i.precision} sampler2D;
	precision ${i.precision} samplerCube;
	precision ${i.precision} sampler3D;
	precision ${i.precision} sampler2DArray;
	precision ${i.precision} sampler2DShadow;
	precision ${i.precision} samplerCubeShadow;
	precision ${i.precision} sampler2DArrayShadow;
	precision ${i.precision} isampler2D;
	precision ${i.precision} isampler3D;
	precision ${i.precision} isamplerCube;
	precision ${i.precision} isampler2DArray;
	precision ${i.precision} usampler2D;
	precision ${i.precision} usampler3D;
	precision ${i.precision} usamplerCube;
	precision ${i.precision} usampler2DArray;
	`;return i.precision==="highp"?t+=`
#define HIGH_PRECISION`:i.precision==="mediump"?t+=`
#define MEDIUM_PRECISION`:i.precision==="lowp"&&(t+=`
#define LOW_PRECISION`),t}var uEe={[Kb]:"SHADOWMAP_TYPE_PCF",[yf]:"SHADOWMAP_TYPE_VSM"};function hEe(i){return uEe[i.shadowMapType]||"SHADOWMAP_TYPE_BASIC"}var mEe={[Kd]:"ENVMAP_TYPE_CUBE",[Lh]:"ENVMAP_TYPE_CUBE",[Qb]:"ENVMAP_TYPE_CUBE_UV"};function pEe(i){return i.envMap===!1?"ENVMAP_TYPE_CUBE":mEe[i.envMapMode]||"ENVMAP_TYPE_CUBE"}var fEe={[Lh]:"ENVMAP_MODE_REFRACTION"};function gEe(i){return i.envMap===!1?"ENVMAP_MODE_REFLECTION":fEe[i.envMapMode]||"ENVMAP_MODE_REFLECTION"}var _Ee={[TL]:"ENVMAP_BLENDING_MULTIPLY",[zY]:"ENVMAP_BLENDING_MIX",[HY]:"ENVMAP_BLENDING_ADD"};function bEe(i){return i.envMap===!1?"ENVMAP_BLENDING_NONE":_Ee[i.combine]||"ENVMAP_BLENDING_NONE"}function vEe(i){let t=i.envMapCubeUVHeight;if(t===null)return null;let e=Math.log2(t)-2,n=1/t;return{texelWidth:1/(3*Math.max(Math.pow(2,e),7*16)),texelHeight:n,maxMip:e}}function yEe(i,t,e,n){let r=i.getContext(),o=e.defines,s=e.vertexShader,a=e.fragmentShader,c=hEe(e),l=pEe(e),d=gEe(e),u=bEe(e),h=vEe(e),m=nEe(e),p=rEe(o),_=r.createProgram(),f,g,C=e.glslVersion?"#version "+e.glslVersion+`
`:"";e.isRawShaderMaterial?(f=["#define SHADER_TYPE "+e.shaderType,"#define SHADER_NAME "+e.shaderName,p].filter(s0).join(`
`),f.length>0&&(f+=`
`),g=["#define SHADER_TYPE "+e.shaderType,"#define SHADER_NAME "+e.shaderName,p].filter(s0).join(`
`),g.length>0&&(g+=`
`)):(f=[vZ(e),"#define SHADER_TYPE "+e.shaderType,"#define SHADER_NAME "+e.shaderName,p,e.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",e.batching?"#define USE_BATCHING":"",e.batchingColor?"#define USE_BATCHING_COLOR":"",e.instancing?"#define USE_INSTANCING":"",e.instancingColor?"#define USE_INSTANCING_COLOR":"",e.instancingMorph?"#define USE_INSTANCING_MORPH":"",e.useFog&&e.fog?"#define USE_FOG":"",e.useFog&&e.fogExp2?"#define FOG_EXP2":"",e.map?"#define USE_MAP":"",e.envMap?"#define USE_ENVMAP":"",e.envMap?"#define "+d:"",e.lightMap?"#define USE_LIGHTMAP":"",e.aoMap?"#define USE_AOMAP":"",e.bumpMap?"#define USE_BUMPMAP":"",e.normalMap?"#define USE_NORMALMAP":"",e.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",e.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",e.displacementMap?"#define USE_DISPLACEMENTMAP":"",e.emissiveMap?"#define USE_EMISSIVEMAP":"",e.anisotropy?"#define USE_ANISOTROPY":"",e.anisotropyMap?"#define USE_ANISOTROPYMAP":"",e.clearcoatMap?"#define USE_CLEARCOATMAP":"",e.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",e.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",e.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",e.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",e.specularMap?"#define USE_SPECULARMAP":"",e.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",e.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",e.roughnessMap?"#define USE_ROUGHNESSMAP":"",e.metalnessMap?"#define USE_METALNESSMAP":"",e.alphaMap?"#define USE_ALPHAMAP":"",e.alphaHash?"#define USE_ALPHAHASH":"",e.transmission?"#define USE_TRANSMISSION":"",e.transmissionMap?"#define USE_TRANSMISSIONMAP":"",e.thicknessMap?"#define USE_THICKNESSMAP":"",e.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",e.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",e.mapUv?"#define MAP_UV "+e.mapUv:"",e.alphaMapUv?"#define ALPHAMAP_UV "+e.alphaMapUv:"",e.lightMapUv?"#define LIGHTMAP_UV "+e.lightMapUv:"",e.aoMapUv?"#define AOMAP_UV "+e.aoMapUv:"",e.emissiveMapUv?"#define EMISSIVEMAP_UV "+e.emissiveMapUv:"",e.bumpMapUv?"#define BUMPMAP_UV "+e.bumpMapUv:"",e.normalMapUv?"#define NORMALMAP_UV "+e.normalMapUv:"",e.displacementMapUv?"#define DISPLACEMENTMAP_UV "+e.displacementMapUv:"",e.metalnessMapUv?"#define METALNESSMAP_UV "+e.metalnessMapUv:"",e.roughnessMapUv?"#define ROUGHNESSMAP_UV "+e.roughnessMapUv:"",e.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+e.anisotropyMapUv:"",e.clearcoatMapUv?"#define CLEARCOATMAP_UV "+e.clearcoatMapUv:"",e.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+e.clearcoatNormalMapUv:"",e.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+e.clearcoatRoughnessMapUv:"",e.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+e.iridescenceMapUv:"",e.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+e.iridescenceThicknessMapUv:"",e.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+e.sheenColorMapUv:"",e.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+e.sheenRoughnessMapUv:"",e.specularMapUv?"#define SPECULARMAP_UV "+e.specularMapUv:"",e.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+e.specularColorMapUv:"",e.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+e.specularIntensityMapUv:"",e.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+e.transmissionMapUv:"",e.thicknessMapUv?"#define THICKNESSMAP_UV "+e.thicknessMapUv:"",e.vertexTangents&&e.flatShading===!1?"#define USE_TANGENT":"",e.vertexColors?"#define USE_COLOR":"",e.vertexAlphas?"#define USE_COLOR_ALPHA":"",e.vertexUv1s?"#define USE_UV1":"",e.vertexUv2s?"#define USE_UV2":"",e.vertexUv3s?"#define USE_UV3":"",e.pointsUvs?"#define USE_POINTS_UV":"",e.flatShading?"#define FLAT_SHADED":"",e.skinning?"#define USE_SKINNING":"",e.morphTargets?"#define USE_MORPHTARGETS":"",e.morphNormals&&e.flatShading===!1?"#define USE_MORPHNORMALS":"",e.morphColors?"#define USE_MORPHCOLORS":"",e.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE_STRIDE "+e.morphTextureStride:"",e.morphTargetsCount>0?"#define MORPHTARGETS_COUNT "+e.morphTargetsCount:"",e.doubleSided?"#define DOUBLE_SIDED":"",e.flipSided?"#define FLIP_SIDED":"",e.shadowMapEnabled?"#define USE_SHADOWMAP":"",e.shadowMapEnabled?"#define "+c:"",e.sizeAttenuation?"#define USE_SIZEATTENUATION":"",e.numLightProbes>0?"#define USE_LIGHT_PROBES":"",e.logarithmicDepthBuffer?"#define USE_LOGARITHMIC_DEPTH_BUFFER":"",e.reversedDepthBuffer?"#define USE_REVERSED_DEPTH_BUFFER":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","	uniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(s0).join(`
`),g=[vZ(e),"#define SHADER_TYPE "+e.shaderType,"#define SHADER_NAME "+e.shaderName,p,e.useFog&&e.fog?"#define USE_FOG":"",e.useFog&&e.fogExp2?"#define FOG_EXP2":"",e.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",e.map?"#define USE_MAP":"",e.matcap?"#define USE_MATCAP":"",e.envMap?"#define USE_ENVMAP":"",e.envMap?"#define "+l:"",e.envMap?"#define "+d:"",e.envMap?"#define "+u:"",h?"#define CUBEUV_TEXEL_WIDTH "+h.texelWidth:"",h?"#define CUBEUV_TEXEL_HEIGHT "+h.texelHeight:"",h?"#define CUBEUV_MAX_MIP "+h.maxMip+".0":"",e.lightMap?"#define USE_LIGHTMAP":"",e.aoMap?"#define USE_AOMAP":"",e.bumpMap?"#define USE_BUMPMAP":"",e.normalMap?"#define USE_NORMALMAP":"",e.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",e.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",e.emissiveMap?"#define USE_EMISSIVEMAP":"",e.anisotropy?"#define USE_ANISOTROPY":"",e.anisotropyMap?"#define USE_ANISOTROPYMAP":"",e.clearcoat?"#define USE_CLEARCOAT":"",e.clearcoatMap?"#define USE_CLEARCOATMAP":"",e.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",e.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",e.dispersion?"#define USE_DISPERSION":"",e.iridescence?"#define USE_IRIDESCENCE":"",e.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",e.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",e.specularMap?"#define USE_SPECULARMAP":"",e.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",e.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",e.roughnessMap?"#define USE_ROUGHNESSMAP":"",e.metalnessMap?"#define USE_METALNESSMAP":"",e.alphaMap?"#define USE_ALPHAMAP":"",e.alphaTest?"#define USE_ALPHATEST":"",e.alphaHash?"#define USE_ALPHAHASH":"",e.sheen?"#define USE_SHEEN":"",e.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",e.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",e.transmission?"#define USE_TRANSMISSION":"",e.transmissionMap?"#define USE_TRANSMISSIONMAP":"",e.thicknessMap?"#define USE_THICKNESSMAP":"",e.vertexTangents&&e.flatShading===!1?"#define USE_TANGENT":"",e.vertexColors||e.instancingColor||e.batchingColor?"#define USE_COLOR":"",e.vertexAlphas?"#define USE_COLOR_ALPHA":"",e.vertexUv1s?"#define USE_UV1":"",e.vertexUv2s?"#define USE_UV2":"",e.vertexUv3s?"#define USE_UV3":"",e.pointsUvs?"#define USE_POINTS_UV":"",e.gradientMap?"#define USE_GRADIENTMAP":"",e.flatShading?"#define FLAT_SHADED":"",e.doubleSided?"#define DOUBLE_SIDED":"",e.flipSided?"#define FLIP_SIDED":"",e.shadowMapEnabled?"#define USE_SHADOWMAP":"",e.shadowMapEnabled?"#define "+c:"",e.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",e.numLightProbes>0?"#define USE_LIGHT_PROBES":"",e.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",e.decodeVideoTextureEmissive?"#define DECODE_VIDEO_TEXTURE_EMISSIVE":"",e.logarithmicDepthBuffer?"#define USE_LOGARITHMIC_DEPTH_BUFFER":"",e.reversedDepthBuffer?"#define USE_REVERSED_DEPTH_BUFFER":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",e.toneMapping!==Ia?"#define TONE_MAPPING":"",e.toneMapping!==Ia?_i.tonemapping_pars_fragment:"",e.toneMapping!==Ia?tEe("toneMapping",e.toneMapping):"",e.dithering?"#define DITHERING":"",e.opaque?"#define OPAQUE":"",_i.colorspace_pars_fragment,JSe("linearToOutputTexel",e.outputColorSpace),iEe(),e.useDepthPacking?"#define DEPTH_PACKING "+e.depthPacking:"",`
`].filter(s0).join(`
`)),s=c3(s),s=gZ(s,e),s=_Z(s,e),a=c3(a),a=gZ(a,e),a=_Z(a,e),s=bZ(s),a=bZ(a),e.isRawShaderMaterial!==!0&&(C=`#version 300 es
`,f=[m,"#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+f,g=["#define varying in",e.glslVersion===jL?"":"layout(location = 0) out highp vec4 pc_fragColor;",e.glslVersion===jL?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+g);let M=C+f+s,S=C+g+a,R=mZ(r,r.VERTEX_SHADER,M),N=mZ(r,r.FRAGMENT_SHADER,S);r.attachShader(_,R),r.attachShader(_,N),e.index0AttributeName!==void 0?r.bindAttribLocation(_,0,e.index0AttributeName):e.morphTargets===!0&&r.bindAttribLocation(_,0,"position"),r.linkProgram(_);function L(U){if(i.debug.checkShaderErrors){let W=r.getProgramInfoLog(_)||"",Z=r.getShaderInfoLog(R)||"",se=r.getShaderInfoLog(N)||"",ie=W.trim(),de=Z.trim(),ne=se.trim(),Me=!0,Pe=!0;if(r.getProgramParameter(_,r.LINK_STATUS)===!1)if(Me=!1,typeof i.debug.onShaderError=="function")i.debug.onShaderError(r,_,R,N);else{let ze=fZ(r,R,"vertex"),tt=fZ(r,N,"fragment");zt("THREE.WebGLProgram: Shader Error "+r.getError()+" - VALIDATE_STATUS "+r.getProgramParameter(_,r.VALIDATE_STATUS)+`

Material Name: `+U.name+`
Material Type: `+U.type+`

Program Info Log: `+ie+`
`+ze+`
`+tt)}else ie!==""?Lt("WebGLProgram: Program Info Log:",ie):(de===""||ne==="")&&(Pe=!1);Pe&&(U.diagnostics={runnable:Me,programLog:ie,vertexShader:{log:de,prefix:f},fragmentShader:{log:ne,prefix:g}})}r.deleteShader(R),r.deleteShader(N),z=new Sf(r,_),E=oEe(r,_)}let z;this.getUniforms=function(){return z===void 0&&L(this),z};let E;this.getAttributes=function(){return E===void 0&&L(this),E};let A=e.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return A===!1&&(A=r.getProgramParameter(_,YSe)),A},this.destroy=function(){n.releaseStatesOfProgram(this),r.deleteProgram(_),this.program=void 0},this.type=e.shaderType,this.name=e.shaderName,this.id=ZSe++,this.cacheKey=t,this.usedTimes=1,this.program=_,this.vertexShader=R,this.fragmentShader=N,this}var xEe=0,l3=class{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(t){let e=t.vertexShader,n=t.fragmentShader,r=this._getShaderStage(e),o=this._getShaderStage(n),s=this._getShaderCacheForMaterial(t);return s.has(r)===!1&&(s.add(r),r.usedTimes++),s.has(o)===!1&&(s.add(o),o.usedTimes++),this}remove(t){let e=this.materialCache.get(t);for(let n of e)n.usedTimes--,n.usedTimes===0&&this.shaderCache.delete(n.code);return this.materialCache.delete(t),this}getVertexShaderID(t){return this._getShaderStage(t.vertexShader).id}getFragmentShaderID(t){return this._getShaderStage(t.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(t){let e=this.materialCache,n=e.get(t);return n===void 0&&(n=new Set,e.set(t,n)),n}_getShaderStage(t){let e=this.shaderCache,n=e.get(t);return n===void 0&&(n=new d3(t),e.set(t,n)),n}},d3=class{constructor(t){this.id=xEe++,this.code=t,this.usedTimes=0}};function wEe(i,t,e,n,r,o,s){let a=new pf,c=new l3,l=new Set,d=[],u=new Map,h=r.logarithmicDepthBuffer,m=r.precision,p={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distance",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function _(E){return l.add(E),E===0?"uv":`uv${E}`}function f(E,A,U,W,Z){let se=W.fog,ie=Z.geometry,de=E.isMeshStandardMaterial?W.environment:null,ne=(E.isMeshStandardMaterial?e:t).get(E.envMap||de),Me=ne&&ne.mapping===Qb?ne.image.height:null,Pe=p[E.type];E.precision!==null&&(m=r.getMaxPrecision(E.precision),m!==E.precision&&Lt("WebGLProgram.getParameters:",E.precision,"not supported, using",m,"instead."));let ze=ie.morphAttributes.position||ie.morphAttributes.normal||ie.morphAttributes.color,tt=ze!==void 0?ze.length:0,ai=0;ie.morphAttributes.position!==void 0&&(ai=1),ie.morphAttributes.normal!==void 0&&(ai=2),ie.morphAttributes.color!==void 0&&(ai=3);let ui,xn,In,Ce;if(Pe){let Ji=wc[Pe];ui=Ji.vertexShader,xn=Ji.fragmentShader}else ui=E.vertexShader,xn=E.fragmentShader,c.update(E),In=c.getVertexShaderID(E),Ce=c.getFragmentShaderID(E);let De=i.getRenderTarget(),ut=i.state.buffers.depth.getReversed(),hi=Z.isInstancedMesh===!0,gt=Z.isBatchedMesh===!0,Fi=!!E.map,Tr=!!E.matcap,Ni=!!ne,Qi=!!E.aoMap,un=!!E.lightMap,bi=!!E.bumpMap,ir=!!E.normalMap,G=!!E.displacementMap,nr=!!E.emissiveMap,qi=!!E.metalnessMap,wn=!!E.roughnessMap,bt=E.anisotropy>0,V=E.clearcoat>0,D=E.dispersion>0,Y=E.iridescence>0,ve=E.sheen>0,Te=E.transmission>0,_e=bt&&!!E.anisotropyMap,xt=V&&!!E.clearcoatMap,Xe=V&&!!E.clearcoatNormalMap,_t=V&&!!E.clearcoatRoughnessMap,Wt=Y&&!!E.iridescenceMap,Re=Y&&!!E.iridescenceThicknessMap,Ze=ve&&!!E.sheenColorMap,pt=ve&&!!E.sheenRoughnessMap,vt=!!E.specularMap,Ye=!!E.specularColorMap,vi=!!E.specularIntensityMap,q=Te&&!!E.transmissionMap,nt=Te&&!!E.thicknessMap,Ve=!!E.gradientMap,at=!!E.alphaMap,Ae=E.alphaTest>0,Se=!!E.alphaHash,We=!!E.extensions,ei=Ia;E.toneMapped&&(De===null||De.isXRRenderTarget===!0)&&(ei=i.toneMapping);let Mn={shaderID:Pe,shaderType:E.type,shaderName:E.name,vertexShader:ui,fragmentShader:xn,defines:E.defines,customVertexShaderID:In,customFragmentShaderID:Ce,isRawShaderMaterial:E.isRawShaderMaterial===!0,glslVersion:E.glslVersion,precision:m,batching:gt,batchingColor:gt&&Z._colorsTexture!==null,instancing:hi,instancingColor:hi&&Z.instanceColor!==null,instancingMorph:hi&&Z.morphTexture!==null,outputColorSpace:De===null?i.outputColorSpace:De.isXRRenderTarget===!0?De.texture.colorSpace:Ah,alphaToCoverage:!!E.alphaToCoverage,map:Fi,matcap:Tr,envMap:Ni,envMapMode:Ni&&ne.mapping,envMapCubeUVHeight:Me,aoMap:Qi,lightMap:un,bumpMap:bi,normalMap:ir,displacementMap:G,emissiveMap:nr,normalMapObjectSpace:ir&&E.normalMapType===GY,normalMapTangentSpace:ir&&E.normalMapType===HL,metalnessMap:qi,roughnessMap:wn,anisotropy:bt,anisotropyMap:_e,clearcoat:V,clearcoatMap:xt,clearcoatNormalMap:Xe,clearcoatRoughnessMap:_t,dispersion:D,iridescence:Y,iridescenceMap:Wt,iridescenceThicknessMap:Re,sheen:ve,sheenColorMap:Ze,sheenRoughnessMap:pt,specularMap:vt,specularColorMap:Ye,specularIntensityMap:vi,transmission:Te,transmissionMap:q,thicknessMap:nt,gradientMap:Ve,opaque:E.transparent===!1&&E.blending===Dh&&E.alphaToCoverage===!1,alphaMap:at,alphaTest:Ae,alphaHash:Se,combine:E.combine,mapUv:Fi&&_(E.map.channel),aoMapUv:Qi&&_(E.aoMap.channel),lightMapUv:un&&_(E.lightMap.channel),bumpMapUv:bi&&_(E.bumpMap.channel),normalMapUv:ir&&_(E.normalMap.channel),displacementMapUv:G&&_(E.displacementMap.channel),emissiveMapUv:nr&&_(E.emissiveMap.channel),metalnessMapUv:qi&&_(E.metalnessMap.channel),roughnessMapUv:wn&&_(E.roughnessMap.channel),anisotropyMapUv:_e&&_(E.anisotropyMap.channel),clearcoatMapUv:xt&&_(E.clearcoatMap.channel),clearcoatNormalMapUv:Xe&&_(E.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:_t&&_(E.clearcoatRoughnessMap.channel),iridescenceMapUv:Wt&&_(E.iridescenceMap.channel),iridescenceThicknessMapUv:Re&&_(E.iridescenceThicknessMap.channel),sheenColorMapUv:Ze&&_(E.sheenColorMap.channel),sheenRoughnessMapUv:pt&&_(E.sheenRoughnessMap.channel),specularMapUv:vt&&_(E.specularMap.channel),specularColorMapUv:Ye&&_(E.specularColorMap.channel),specularIntensityMapUv:vi&&_(E.specularIntensityMap.channel),transmissionMapUv:q&&_(E.transmissionMap.channel),thicknessMapUv:nt&&_(E.thicknessMap.channel),alphaMapUv:at&&_(E.alphaMap.channel),vertexTangents:!!ie.attributes.tangent&&(ir||bt),vertexColors:E.vertexColors,vertexAlphas:E.vertexColors===!0&&!!ie.attributes.color&&ie.attributes.color.itemSize===4,pointsUvs:Z.isPoints===!0&&!!ie.attributes.uv&&(Fi||at),fog:!!se,useFog:E.fog===!0,fogExp2:!!se&&se.isFogExp2,flatShading:E.flatShading===!0&&E.wireframe===!1,sizeAttenuation:E.sizeAttenuation===!0,logarithmicDepthBuffer:h,reversedDepthBuffer:ut,skinning:Z.isSkinnedMesh===!0,morphTargets:ie.morphAttributes.position!==void 0,morphNormals:ie.morphAttributes.normal!==void 0,morphColors:ie.morphAttributes.color!==void 0,morphTargetsCount:tt,morphTextureStride:ai,numDirLights:A.directional.length,numPointLights:A.point.length,numSpotLights:A.spot.length,numSpotLightMaps:A.spotLightMap.length,numRectAreaLights:A.rectArea.length,numHemiLights:A.hemi.length,numDirLightShadows:A.directionalShadowMap.length,numPointLightShadows:A.pointShadowMap.length,numSpotLightShadows:A.spotShadowMap.length,numSpotLightShadowsWithMaps:A.numSpotLightShadowsWithMaps,numLightProbes:A.numLightProbes,numClippingPlanes:s.numPlanes,numClipIntersection:s.numIntersection,dithering:E.dithering,shadowMapEnabled:i.shadowMap.enabled&&U.length>0,shadowMapType:i.shadowMap.type,toneMapping:ei,decodeVideoTexture:Fi&&E.map.isVideoTexture===!0&&Ri.getTransfer(E.map.colorSpace)===Zi,decodeVideoTextureEmissive:nr&&E.emissiveMap.isVideoTexture===!0&&Ri.getTransfer(E.emissiveMap.colorSpace)===Zi,premultipliedAlpha:E.premultipliedAlpha,doubleSided:E.side===mo,flipSided:E.side===No,useDepthPacking:E.depthPacking>=0,depthPacking:E.depthPacking||0,index0AttributeName:E.index0AttributeName,extensionClipCullDistance:We&&E.extensions.clipCullDistance===!0&&n.has("WEBGL_clip_cull_distance"),extensionMultiDraw:(We&&E.extensions.multiDraw===!0||gt)&&n.has("WEBGL_multi_draw"),rendererExtensionParallelShaderCompile:n.has("KHR_parallel_shader_compile"),customProgramCacheKey:E.customProgramCacheKey()};return Mn.vertexUv1s=l.has(1),Mn.vertexUv2s=l.has(2),Mn.vertexUv3s=l.has(3),l.clear(),Mn}function g(E){let A=[];if(E.shaderID?A.push(E.shaderID):(A.push(E.customVertexShaderID),A.push(E.customFragmentShaderID)),E.defines!==void 0)for(let U in E.defines)A.push(U),A.push(E.defines[U]);return E.isRawShaderMaterial===!1&&(C(A,E),M(A,E),A.push(i.outputColorSpace)),A.push(E.customProgramCacheKey),A.join()}function C(E,A){E.push(A.precision),E.push(A.outputColorSpace),E.push(A.envMapMode),E.push(A.envMapCubeUVHeight),E.push(A.mapUv),E.push(A.alphaMapUv),E.push(A.lightMapUv),E.push(A.aoMapUv),E.push(A.bumpMapUv),E.push(A.normalMapUv),E.push(A.displacementMapUv),E.push(A.emissiveMapUv),E.push(A.metalnessMapUv),E.push(A.roughnessMapUv),E.push(A.anisotropyMapUv),E.push(A.clearcoatMapUv),E.push(A.clearcoatNormalMapUv),E.push(A.clearcoatRoughnessMapUv),E.push(A.iridescenceMapUv),E.push(A.iridescenceThicknessMapUv),E.push(A.sheenColorMapUv),E.push(A.sheenRoughnessMapUv),E.push(A.specularMapUv),E.push(A.specularColorMapUv),E.push(A.specularIntensityMapUv),E.push(A.transmissionMapUv),E.push(A.thicknessMapUv),E.push(A.combine),E.push(A.fogExp2),E.push(A.sizeAttenuation),E.push(A.morphTargetsCount),E.push(A.morphAttributeCount),E.push(A.numDirLights),E.push(A.numPointLights),E.push(A.numSpotLights),E.push(A.numSpotLightMaps),E.push(A.numHemiLights),E.push(A.numRectAreaLights),E.push(A.numDirLightShadows),E.push(A.numPointLightShadows),E.push(A.numSpotLightShadows),E.push(A.numSpotLightShadowsWithMaps),E.push(A.numLightProbes),E.push(A.shadowMapType),E.push(A.toneMapping),E.push(A.numClippingPlanes),E.push(A.numClipIntersection),E.push(A.depthPacking)}function M(E,A){a.disableAll(),A.instancing&&a.enable(0),A.instancingColor&&a.enable(1),A.instancingMorph&&a.enable(2),A.matcap&&a.enable(3),A.envMap&&a.enable(4),A.normalMapObjectSpace&&a.enable(5),A.normalMapTangentSpace&&a.enable(6),A.clearcoat&&a.enable(7),A.iridescence&&a.enable(8),A.alphaTest&&a.enable(9),A.vertexColors&&a.enable(10),A.vertexAlphas&&a.enable(11),A.vertexUv1s&&a.enable(12),A.vertexUv2s&&a.enable(13),A.vertexUv3s&&a.enable(14),A.vertexTangents&&a.enable(15),A.anisotropy&&a.enable(16),A.alphaHash&&a.enable(17),A.batching&&a.enable(18),A.dispersion&&a.enable(19),A.batchingColor&&a.enable(20),A.gradientMap&&a.enable(21),E.push(a.mask),a.disableAll(),A.fog&&a.enable(0),A.useFog&&a.enable(1),A.flatShading&&a.enable(2),A.logarithmicDepthBuffer&&a.enable(3),A.reversedDepthBuffer&&a.enable(4),A.skinning&&a.enable(5),A.morphTargets&&a.enable(6),A.morphNormals&&a.enable(7),A.morphColors&&a.enable(8),A.premultipliedAlpha&&a.enable(9),A.shadowMapEnabled&&a.enable(10),A.doubleSided&&a.enable(11),A.flipSided&&a.enable(12),A.useDepthPacking&&a.enable(13),A.dithering&&a.enable(14),A.transmission&&a.enable(15),A.sheen&&a.enable(16),A.opaque&&a.enable(17),A.pointsUvs&&a.enable(18),A.decodeVideoTexture&&a.enable(19),A.decodeVideoTextureEmissive&&a.enable(20),A.alphaToCoverage&&a.enable(21),E.push(a.mask)}function S(E){let A=p[E.type],U;if(A){let W=wc[A];U=tZ.clone(W.uniforms)}else U=E.uniforms;return U}function R(E,A){let U=u.get(A);return U!==void 0?++U.usedTimes:(U=new yEe(i,A,E,o),d.push(U),u.set(A,U)),U}function N(E){if(--E.usedTimes===0){let A=d.indexOf(E);d[A]=d[d.length-1],d.pop(),u.delete(E.cacheKey),E.destroy()}}function L(E){c.remove(E)}function z(){c.dispose()}return{getParameters:f,getProgramCacheKey:g,getUniforms:S,acquireProgram:R,releaseProgram:N,releaseShaderCache:L,programs:d,dispose:z}}function MEe(){let i=new WeakMap;function t(s){return i.has(s)}function e(s){let a=i.get(s);return a===void 0&&(a={},i.set(s,a)),a}function n(s){i.delete(s)}function r(s,a,c){i.get(s)[a]=c}function o(){i=new WeakMap}return{has:t,get:e,remove:n,update:r,dispose:o}}function CEe(i,t){return i.groupOrder!==t.groupOrder?i.groupOrder-t.groupOrder:i.renderOrder!==t.renderOrder?i.renderOrder-t.renderOrder:i.material.id!==t.material.id?i.material.id-t.material.id:i.z!==t.z?i.z-t.z:i.id-t.id}function yZ(i,t){return i.groupOrder!==t.groupOrder?i.groupOrder-t.groupOrder:i.renderOrder!==t.renderOrder?i.renderOrder-t.renderOrder:i.z!==t.z?t.z-i.z:i.id-t.id}function xZ(){let i=[],t=0,e=[],n=[],r=[];function o(){t=0,e.length=0,n.length=0,r.length=0}function s(u,h,m,p,_,f){let g=i[t];return g===void 0?(g={id:u.id,object:u,geometry:h,material:m,groupOrder:p,renderOrder:u.renderOrder,z:_,group:f},i[t]=g):(g.id=u.id,g.object=u,g.geometry=h,g.material=m,g.groupOrder=p,g.renderOrder=u.renderOrder,g.z=_,g.group=f),t++,g}function a(u,h,m,p,_,f){let g=s(u,h,m,p,_,f);m.transmission>0?n.push(g):m.transparent===!0?r.push(g):e.push(g)}function c(u,h,m,p,_,f){let g=s(u,h,m,p,_,f);m.transmission>0?n.unshift(g):m.transparent===!0?r.unshift(g):e.unshift(g)}function l(u,h){e.length>1&&e.sort(u||CEe),n.length>1&&n.sort(h||yZ),r.length>1&&r.sort(h||yZ)}function d(){for(let u=t,h=i.length;u<h;u++){let m=i[u];if(m.id===null)break;m.id=null,m.object=null,m.geometry=null,m.material=null,m.group=null}}return{opaque:e,transmissive:n,transparent:r,init:o,push:a,unshift:c,finish:d,sort:l}}function SEe(){let i=new WeakMap;function t(n,r){let o=i.get(n),s;return o===void 0?(s=new xZ,i.set(n,[s])):r>=o.length?(s=new xZ,o.push(s)):s=o[r],s}function e(){i=new WeakMap}return{get:t,dispose:e}}function EEe(){let i={};return{get:function(t){if(i[t.id]!==void 0)return i[t.id];let e;switch(t.type){case"DirectionalLight":e={direction:new j,color:new xi};break;case"SpotLight":e={position:new j,direction:new j,color:new xi,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":e={position:new j,color:new xi,distance:0,decay:0};break;case"HemisphereLight":e={direction:new j,skyColor:new xi,groundColor:new xi};break;case"RectAreaLight":e={color:new xi,position:new j,halfWidth:new j,halfHeight:new j};break}return i[t.id]=e,e}}}function TEe(){let i={};return{get:function(t){if(i[t.id]!==void 0)return i[t.id];let e;switch(t.type){case"DirectionalLight":e={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Ut};break;case"SpotLight":e={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Ut};break;case"PointLight":e={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Ut,shadowCameraNear:1,shadowCameraFar:1e3};break}return i[t.id]=e,e}}}var IEe=0;function DEe(i,t){return(t.castShadow?2:0)-(i.castShadow?2:0)+(t.map?1:0)-(i.map?1:0)}function kEe(i){let t=new EEe,e=TEe(),n={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let l=0;l<9;l++)n.probe.push(new j);let r=new j,o=new vn,s=new vn;function a(l){let d=0,u=0,h=0;for(let E=0;E<9;E++)n.probe[E].set(0,0,0);let m=0,p=0,_=0,f=0,g=0,C=0,M=0,S=0,R=0,N=0,L=0;l.sort(DEe);for(let E=0,A=l.length;E<A;E++){let U=l[E],W=U.color,Z=U.intensity,se=U.distance,ie=null;if(U.shadow&&U.shadow.map&&(U.shadow.map.texture.format===Bh?ie=U.shadow.map.texture:ie=U.shadow.map.depthTexture||U.shadow.map.texture),U.isAmbientLight)d+=W.r*Z,u+=W.g*Z,h+=W.b*Z;else if(U.isLightProbe){for(let de=0;de<9;de++)n.probe[de].addScaledVector(U.sh.coefficients[de],Z);L++}else if(U.isDirectionalLight){let de=t.get(U);if(de.color.copy(U.color).multiplyScalar(U.intensity),U.castShadow){let ne=U.shadow,Me=e.get(U);Me.shadowIntensity=ne.intensity,Me.shadowBias=ne.bias,Me.shadowNormalBias=ne.normalBias,Me.shadowRadius=ne.radius,Me.shadowMapSize=ne.mapSize,n.directionalShadow[m]=Me,n.directionalShadowMap[m]=ie,n.directionalShadowMatrix[m]=U.shadow.matrix,C++}n.directional[m]=de,m++}else if(U.isSpotLight){let de=t.get(U);de.position.setFromMatrixPosition(U.matrixWorld),de.color.copy(W).multiplyScalar(Z),de.distance=se,de.coneCos=Math.cos(U.angle),de.penumbraCos=Math.cos(U.angle*(1-U.penumbra)),de.decay=U.decay,n.spot[_]=de;let ne=U.shadow;if(U.map&&(n.spotLightMap[R]=U.map,R++,ne.updateMatrices(U),U.castShadow&&N++),n.spotLightMatrix[_]=ne.matrix,U.castShadow){let Me=e.get(U);Me.shadowIntensity=ne.intensity,Me.shadowBias=ne.bias,Me.shadowNormalBias=ne.normalBias,Me.shadowRadius=ne.radius,Me.shadowMapSize=ne.mapSize,n.spotShadow[_]=Me,n.spotShadowMap[_]=ie,S++}_++}else if(U.isRectAreaLight){let de=t.get(U);de.color.copy(W).multiplyScalar(Z),de.halfWidth.set(U.width*.5,0,0),de.halfHeight.set(0,U.height*.5,0),n.rectArea[f]=de,f++}else if(U.isPointLight){let de=t.get(U);if(de.color.copy(U.color).multiplyScalar(U.intensity),de.distance=U.distance,de.decay=U.decay,U.castShadow){let ne=U.shadow,Me=e.get(U);Me.shadowIntensity=ne.intensity,Me.shadowBias=ne.bias,Me.shadowNormalBias=ne.normalBias,Me.shadowRadius=ne.radius,Me.shadowMapSize=ne.mapSize,Me.shadowCameraNear=ne.camera.near,Me.shadowCameraFar=ne.camera.far,n.pointShadow[p]=Me,n.pointShadowMap[p]=ie,n.pointShadowMatrix[p]=U.shadow.matrix,M++}n.point[p]=de,p++}else if(U.isHemisphereLight){let de=t.get(U);de.skyColor.copy(U.color).multiplyScalar(Z),de.groundColor.copy(U.groundColor).multiplyScalar(Z),n.hemi[g]=de,g++}}f>0&&(i.has("OES_texture_float_linear")===!0?(n.rectAreaLTC1=et.LTC_FLOAT_1,n.rectAreaLTC2=et.LTC_FLOAT_2):(n.rectAreaLTC1=et.LTC_HALF_1,n.rectAreaLTC2=et.LTC_HALF_2)),n.ambient[0]=d,n.ambient[1]=u,n.ambient[2]=h;let z=n.hash;(z.directionalLength!==m||z.pointLength!==p||z.spotLength!==_||z.rectAreaLength!==f||z.hemiLength!==g||z.numDirectionalShadows!==C||z.numPointShadows!==M||z.numSpotShadows!==S||z.numSpotMaps!==R||z.numLightProbes!==L)&&(n.directional.length=m,n.spot.length=_,n.rectArea.length=f,n.point.length=p,n.hemi.length=g,n.directionalShadow.length=C,n.directionalShadowMap.length=C,n.pointShadow.length=M,n.pointShadowMap.length=M,n.spotShadow.length=S,n.spotShadowMap.length=S,n.directionalShadowMatrix.length=C,n.pointShadowMatrix.length=M,n.spotLightMatrix.length=S+R-N,n.spotLightMap.length=R,n.numSpotLightShadowsWithMaps=N,n.numLightProbes=L,z.directionalLength=m,z.pointLength=p,z.spotLength=_,z.rectAreaLength=f,z.hemiLength=g,z.numDirectionalShadows=C,z.numPointShadows=M,z.numSpotShadows=S,z.numSpotMaps=R,z.numLightProbes=L,n.version=IEe++)}function c(l,d){let u=0,h=0,m=0,p=0,_=0,f=d.matrixWorldInverse;for(let g=0,C=l.length;g<C;g++){let M=l[g];if(M.isDirectionalLight){let S=n.directional[u];S.direction.setFromMatrixPosition(M.matrixWorld),r.setFromMatrixPosition(M.target.matrixWorld),S.direction.sub(r),S.direction.transformDirection(f),u++}else if(M.isSpotLight){let S=n.spot[m];S.position.setFromMatrixPosition(M.matrixWorld),S.position.applyMatrix4(f),S.direction.setFromMatrixPosition(M.matrixWorld),r.setFromMatrixPosition(M.target.matrixWorld),S.direction.sub(r),S.direction.transformDirection(f),m++}else if(M.isRectAreaLight){let S=n.rectArea[p];S.position.setFromMatrixPosition(M.matrixWorld),S.position.applyMatrix4(f),s.identity(),o.copy(M.matrixWorld),o.premultiply(f),s.extractRotation(o),S.halfWidth.set(M.width*.5,0,0),S.halfHeight.set(0,M.height*.5,0),S.halfWidth.applyMatrix4(s),S.halfHeight.applyMatrix4(s),p++}else if(M.isPointLight){let S=n.point[h];S.position.setFromMatrixPosition(M.matrixWorld),S.position.applyMatrix4(f),h++}else if(M.isHemisphereLight){let S=n.hemi[_];S.direction.setFromMatrixPosition(M.matrixWorld),S.direction.transformDirection(f),_++}}}return{setup:a,setupView:c,state:n}}function wZ(i){let t=new kEe(i),e=[],n=[];function r(d){l.camera=d,e.length=0,n.length=0}function o(d){e.push(d)}function s(d){n.push(d)}function a(){t.setup(e)}function c(d){t.setupView(e,d)}let l={lightsArray:e,shadowsArray:n,camera:null,lights:t,transmissionRenderTarget:{}};return{init:r,state:l,setupLights:a,setupLightsView:c,pushLight:o,pushShadow:s}}function AEe(i){let t=new WeakMap;function e(r,o=0){let s=t.get(r),a;return s===void 0?(a=new wZ(i),t.set(r,[a])):o>=s.length?(a=new wZ(i),s.push(a)):a=s[o],a}function n(){t=new WeakMap}return{get:e,dispose:n}}var PEe=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,REe=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ).rg;
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ).r;
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( max( 0.0, squared_mean - mean * mean ) );
	gl_FragColor = vec4( mean, std_dev, 0.0, 1.0 );
}`,NEe=[new j(1,0,0),new j(-1,0,0),new j(0,1,0),new j(0,-1,0),new j(0,0,1),new j(0,0,-1)],OEe=[new j(0,-1,0),new j(0,-1,0),new j(0,0,1),new j(0,0,-1),new j(0,-1,0),new j(0,-1,0)],MZ=new vn,o0=new j,n3=new j;function FEe(i,t,e){let n=new gf,r=new Ut,o=new Ut,s=new Un,a=new _C,c=new bC,l={},d=e.maxTextureSize,u={[Sl]:No,[No]:Sl,[mo]:mo},h=new ys({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new Ut},radius:{value:4}},vertexShader:PEe,fragmentShader:REe}),m=h.clone();m.defines.HORIZONTAL_PASS=1;let p=new Mr;p.setAttribute("position",new bs(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));let _=new He(p,h),f=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=Kb;let g=this.type;this.render=function(N,L,z){if(f.enabled===!1||f.autoUpdate===!1&&f.needsUpdate===!1||N.length===0)return;N.type===wY&&(Lt("WebGLShadowMap: PCFSoftShadowMap has been deprecated. Using PCFShadowMap instead."),N.type=Kb);let E=i.getRenderTarget(),A=i.getActiveCubeFace(),U=i.getActiveMipmapLevel(),W=i.state;W.setBlending(bc),W.buffers.depth.getReversed()===!0?W.buffers.color.setClear(0,0,0,0):W.buffers.color.setClear(1,1,1,1),W.buffers.depth.setTest(!0),W.setScissorTest(!1);let Z=g!==this.type;Z&&L.traverse(function(se){se.material&&(Array.isArray(se.material)?se.material.forEach(ie=>ie.needsUpdate=!0):se.material.needsUpdate=!0)});for(let se=0,ie=N.length;se<ie;se++){let de=N[se],ne=de.shadow;if(ne===void 0){Lt("WebGLShadowMap:",de,"has no shadow.");continue}if(ne.autoUpdate===!1&&ne.needsUpdate===!1)continue;r.copy(ne.mapSize);let Me=ne.getFrameExtents();if(r.multiply(Me),o.copy(ne.mapSize),(r.x>d||r.y>d)&&(r.x>d&&(o.x=Math.floor(d/Me.x),r.x=o.x*Me.x,ne.mapSize.x=o.x),r.y>d&&(o.y=Math.floor(d/Me.y),r.y=o.y*Me.y,ne.mapSize.y=o.y)),ne.map===null||Z===!0){if(ne.map!==null&&(ne.map.depthTexture!==null&&(ne.map.depthTexture.dispose(),ne.map.depthTexture=null),ne.map.dispose()),this.type===yf){if(de.isPointLight){Lt("WebGLShadowMap: VSM shadow maps are not supported for PointLights. Use PCF or BasicShadowMap instead.");continue}ne.map=new vs(r.x,r.y,{format:Bh,type:vc,minFilter:Yn,magFilter:Yn,generateMipmaps:!1}),ne.map.texture.name=de.name+".shadowMap",ne.map.depthTexture=new Gd(r.x,r.y,ka),ne.map.depthTexture.name=de.name+".shadowMapDepth",ne.map.depthTexture.format=pc,ne.map.depthTexture.compareFunction=null,ne.map.depthTexture.minFilter=Br,ne.map.depthTexture.magFilter=Br}else{de.isPointLight?(ne.map=new Hb(r.x),ne.map.depthTexture=new pC(r.x,Da)):(ne.map=new vs(r.x,r.y),ne.map.depthTexture=new Gd(r.x,r.y,Da)),ne.map.depthTexture.name=de.name+".shadowMap",ne.map.depthTexture.format=pc;let ze=i.state.buffers.depth.getReversed();this.type===Kb?(ne.map.depthTexture.compareFunction=ze?MS:wS,ne.map.depthTexture.minFilter=Yn,ne.map.depthTexture.magFilter=Yn):(ne.map.depthTexture.compareFunction=null,ne.map.depthTexture.minFilter=Br,ne.map.depthTexture.magFilter=Br)}ne.camera.updateProjectionMatrix()}let Pe=ne.map.isWebGLCubeRenderTarget?6:1;for(let ze=0;ze<Pe;ze++){if(ne.map.isWebGLCubeRenderTarget)i.setRenderTarget(ne.map,ze),i.clear();else{ze===0&&(i.setRenderTarget(ne.map),i.clear());let tt=ne.getViewport(ze);s.set(o.x*tt.x,o.y*tt.y,o.x*tt.z,o.y*tt.w),W.viewport(s)}if(de.isPointLight){let tt=ne.camera,ai=ne.matrix,ui=de.distance||tt.far;ui!==tt.far&&(tt.far=ui,tt.updateProjectionMatrix()),o0.setFromMatrixPosition(de.matrixWorld),tt.position.copy(o0),n3.copy(tt.position),n3.add(NEe[ze]),tt.up.copy(OEe[ze]),tt.lookAt(n3),tt.updateMatrixWorld(),ai.makeTranslation(-o0.x,-o0.y,-o0.z),MZ.multiplyMatrices(tt.projectionMatrix,tt.matrixWorldInverse),ne._frustum.setFromProjectionMatrix(MZ,tt.coordinateSystem,tt.reversedDepth)}else ne.updateMatrices(de);n=ne.getFrustum(),S(L,z,ne.camera,de,this.type)}ne.isPointLightShadow!==!0&&this.type===yf&&C(ne,z),ne.needsUpdate=!1}g=this.type,f.needsUpdate=!1,i.setRenderTarget(E,A,U)};function C(N,L){let z=t.update(_);h.defines.VSM_SAMPLES!==N.blurSamples&&(h.defines.VSM_SAMPLES=N.blurSamples,m.defines.VSM_SAMPLES=N.blurSamples,h.needsUpdate=!0,m.needsUpdate=!0),N.mapPass===null&&(N.mapPass=new vs(r.x,r.y,{format:Bh,type:vc})),h.uniforms.shadow_pass.value=N.map.depthTexture,h.uniforms.resolution.value=N.mapSize,h.uniforms.radius.value=N.radius,i.setRenderTarget(N.mapPass),i.clear(),i.renderBufferDirect(L,null,z,h,_,null),m.uniforms.shadow_pass.value=N.mapPass.texture,m.uniforms.resolution.value=N.mapSize,m.uniforms.radius.value=N.radius,i.setRenderTarget(N.map),i.clear(),i.renderBufferDirect(L,null,z,m,_,null)}function M(N,L,z,E){let A=null,U=z.isPointLight===!0?N.customDistanceMaterial:N.customDepthMaterial;if(U!==void 0)A=U;else if(A=z.isPointLight===!0?c:a,i.localClippingEnabled&&L.clipShadows===!0&&Array.isArray(L.clippingPlanes)&&L.clippingPlanes.length!==0||L.displacementMap&&L.displacementScale!==0||L.alphaMap&&L.alphaTest>0||L.map&&L.alphaTest>0||L.alphaToCoverage===!0){let W=A.uuid,Z=L.uuid,se=l[W];se===void 0&&(se={},l[W]=se);let ie=se[Z];ie===void 0&&(ie=A.clone(),se[Z]=ie,L.addEventListener("dispose",R)),A=ie}if(A.visible=L.visible,A.wireframe=L.wireframe,E===yf?A.side=L.shadowSide!==null?L.shadowSide:L.side:A.side=L.shadowSide!==null?L.shadowSide:u[L.side],A.alphaMap=L.alphaMap,A.alphaTest=L.alphaToCoverage===!0?.5:L.alphaTest,A.map=L.map,A.clipShadows=L.clipShadows,A.clippingPlanes=L.clippingPlanes,A.clipIntersection=L.clipIntersection,A.displacementMap=L.displacementMap,A.displacementScale=L.displacementScale,A.displacementBias=L.displacementBias,A.wireframeLinewidth=L.wireframeLinewidth,A.linewidth=L.linewidth,z.isPointLight===!0&&A.isMeshDistanceMaterial===!0){let W=i.properties.get(A);W.light=z}return A}function S(N,L,z,E,A){if(N.visible===!1)return;if(N.layers.test(L.layers)&&(N.isMesh||N.isLine||N.isPoints)&&(N.castShadow||N.receiveShadow&&A===yf)&&(!N.frustumCulled||n.intersectsObject(N))){N.modelViewMatrix.multiplyMatrices(z.matrixWorldInverse,N.matrixWorld);let Z=t.update(N),se=N.material;if(Array.isArray(se)){let ie=Z.groups;for(let de=0,ne=ie.length;de<ne;de++){let Me=ie[de],Pe=se[Me.materialIndex];if(Pe&&Pe.visible){let ze=M(N,Pe,E,A);N.onBeforeShadow(i,N,L,z,Z,ze,Me),i.renderBufferDirect(z,null,Z,ze,N,Me),N.onAfterShadow(i,N,L,z,Z,ze,Me)}}}else if(se.visible){let ie=M(N,se,E,A);N.onBeforeShadow(i,N,L,z,Z,ie,null),i.renderBufferDirect(z,null,Z,ie,N,null),N.onAfterShadow(i,N,L,z,Z,ie,null)}}let W=N.children;for(let Z=0,se=W.length;Z<se;Z++)S(W[Z],L,z,E,A)}function R(N){N.target.removeEventListener("dispose",R);for(let z in l){let E=l[z],A=N.target.uuid;A in E&&(E[A].dispose(),delete E[A])}}}var LEe={[IC]:DC,[kC]:RC,[AC]:NC,[kh]:PC,[DC]:IC,[RC]:kC,[NC]:AC,[PC]:kh};function BEe(i,t){function e(){let q=!1,nt=new Un,Ve=null,at=new Un(0,0,0,0);return{setMask:function(Ae){Ve!==Ae&&!q&&(i.colorMask(Ae,Ae,Ae,Ae),Ve=Ae)},setLocked:function(Ae){q=Ae},setClear:function(Ae,Se,We,ei,Mn){Mn===!0&&(Ae*=ei,Se*=ei,We*=ei),nt.set(Ae,Se,We,ei),at.equals(nt)===!1&&(i.clearColor(Ae,Se,We,ei),at.copy(nt))},reset:function(){q=!1,Ve=null,at.set(-1,0,0,0)}}}function n(){let q=!1,nt=!1,Ve=null,at=null,Ae=null;return{setReversed:function(Se){if(nt!==Se){let We=t.get("EXT_clip_control");Se?We.clipControlEXT(We.LOWER_LEFT_EXT,We.ZERO_TO_ONE_EXT):We.clipControlEXT(We.LOWER_LEFT_EXT,We.NEGATIVE_ONE_TO_ONE_EXT),nt=Se;let ei=Ae;Ae=null,this.setClear(ei)}},getReversed:function(){return nt},setTest:function(Se){Se?De(i.DEPTH_TEST):ut(i.DEPTH_TEST)},setMask:function(Se){Ve!==Se&&!q&&(i.depthMask(Se),Ve=Se)},setFunc:function(Se){if(nt&&(Se=LEe[Se]),at!==Se){switch(Se){case IC:i.depthFunc(i.NEVER);break;case DC:i.depthFunc(i.ALWAYS);break;case kC:i.depthFunc(i.LESS);break;case kh:i.depthFunc(i.LEQUAL);break;case AC:i.depthFunc(i.EQUAL);break;case PC:i.depthFunc(i.GEQUAL);break;case RC:i.depthFunc(i.GREATER);break;case NC:i.depthFunc(i.NOTEQUAL);break;default:i.depthFunc(i.LEQUAL)}at=Se}},setLocked:function(Se){q=Se},setClear:function(Se){Ae!==Se&&(nt&&(Se=1-Se),i.clearDepth(Se),Ae=Se)},reset:function(){q=!1,Ve=null,at=null,Ae=null,nt=!1}}}function r(){let q=!1,nt=null,Ve=null,at=null,Ae=null,Se=null,We=null,ei=null,Mn=null;return{setTest:function(Ji){q||(Ji?De(i.STENCIL_TEST):ut(i.STENCIL_TEST))},setMask:function(Ji){nt!==Ji&&!q&&(i.stencilMask(Ji),nt=Ji)},setFunc:function(Ji,Pa,Cc){(Ve!==Ji||at!==Pa||Ae!==Cc)&&(i.stencilFunc(Ji,Pa,Cc),Ve=Ji,at=Pa,Ae=Cc)},setOp:function(Ji,Pa,Cc){(Se!==Ji||We!==Pa||ei!==Cc)&&(i.stencilOp(Ji,Pa,Cc),Se=Ji,We=Pa,ei=Cc)},setLocked:function(Ji){q=Ji},setClear:function(Ji){Mn!==Ji&&(i.clearStencil(Ji),Mn=Ji)},reset:function(){q=!1,nt=null,Ve=null,at=null,Ae=null,Se=null,We=null,ei=null,Mn=null}}}let o=new e,s=new n,a=new r,c=new WeakMap,l=new WeakMap,d={},u={},h=new WeakMap,m=[],p=null,_=!1,f=null,g=null,C=null,M=null,S=null,R=null,N=null,L=new xi(0,0,0),z=0,E=!1,A=null,U=null,W=null,Z=null,se=null,ie=i.getParameter(i.MAX_COMBINED_TEXTURE_IMAGE_UNITS),de=!1,ne=0,Me=i.getParameter(i.VERSION);Me.indexOf("WebGL")!==-1?(ne=parseFloat(/^WebGL (\d)/.exec(Me)[1]),de=ne>=1):Me.indexOf("OpenGL ES")!==-1&&(ne=parseFloat(/^OpenGL ES (\d)/.exec(Me)[1]),de=ne>=2);let Pe=null,ze={},tt=i.getParameter(i.SCISSOR_BOX),ai=i.getParameter(i.VIEWPORT),ui=new Un().fromArray(tt),xn=new Un().fromArray(ai);function In(q,nt,Ve,at){let Ae=new Uint8Array(4),Se=i.createTexture();i.bindTexture(q,Se),i.texParameteri(q,i.TEXTURE_MIN_FILTER,i.NEAREST),i.texParameteri(q,i.TEXTURE_MAG_FILTER,i.NEAREST);for(let We=0;We<Ve;We++)q===i.TEXTURE_3D||q===i.TEXTURE_2D_ARRAY?i.texImage3D(nt,0,i.RGBA,1,1,at,0,i.RGBA,i.UNSIGNED_BYTE,Ae):i.texImage2D(nt+We,0,i.RGBA,1,1,0,i.RGBA,i.UNSIGNED_BYTE,Ae);return Se}let Ce={};Ce[i.TEXTURE_2D]=In(i.TEXTURE_2D,i.TEXTURE_2D,1),Ce[i.TEXTURE_CUBE_MAP]=In(i.TEXTURE_CUBE_MAP,i.TEXTURE_CUBE_MAP_POSITIVE_X,6),Ce[i.TEXTURE_2D_ARRAY]=In(i.TEXTURE_2D_ARRAY,i.TEXTURE_2D_ARRAY,1,1),Ce[i.TEXTURE_3D]=In(i.TEXTURE_3D,i.TEXTURE_3D,1,1),o.setClear(0,0,0,1),s.setClear(1),a.setClear(0),De(i.DEPTH_TEST),s.setFunc(kh),bi(!1),ir(ML),De(i.CULL_FACE),Qi(bc);function De(q){d[q]!==!0&&(i.enable(q),d[q]=!0)}function ut(q){d[q]!==!1&&(i.disable(q),d[q]=!1)}function hi(q,nt){return u[q]!==nt?(i.bindFramebuffer(q,nt),u[q]=nt,q===i.DRAW_FRAMEBUFFER&&(u[i.FRAMEBUFFER]=nt),q===i.FRAMEBUFFER&&(u[i.DRAW_FRAMEBUFFER]=nt),!0):!1}function gt(q,nt){let Ve=m,at=!1;if(q){Ve=h.get(nt),Ve===void 0&&(Ve=[],h.set(nt,Ve));let Ae=q.textures;if(Ve.length!==Ae.length||Ve[0]!==i.COLOR_ATTACHMENT0){for(let Se=0,We=Ae.length;Se<We;Se++)Ve[Se]=i.COLOR_ATTACHMENT0+Se;Ve.length=Ae.length,at=!0}}else Ve[0]!==i.BACK&&(Ve[0]=i.BACK,at=!0);at&&i.drawBuffers(Ve)}function Fi(q){return p!==q?(i.useProgram(q),p=q,!0):!1}let Tr={[jd]:i.FUNC_ADD,[CY]:i.FUNC_SUBTRACT,[SY]:i.FUNC_REVERSE_SUBTRACT};Tr[EY]=i.MIN,Tr[TY]=i.MAX;let Ni={[IY]:i.ZERO,[DY]:i.ONE,[kY]:i.SRC_COLOR,[tC]:i.SRC_ALPHA,[FY]:i.SRC_ALPHA_SATURATE,[NY]:i.DST_COLOR,[PY]:i.DST_ALPHA,[AY]:i.ONE_MINUS_SRC_COLOR,[iC]:i.ONE_MINUS_SRC_ALPHA,[OY]:i.ONE_MINUS_DST_COLOR,[RY]:i.ONE_MINUS_DST_ALPHA,[LY]:i.CONSTANT_COLOR,[BY]:i.ONE_MINUS_CONSTANT_COLOR,[VY]:i.CONSTANT_ALPHA,[UY]:i.ONE_MINUS_CONSTANT_ALPHA};function Qi(q,nt,Ve,at,Ae,Se,We,ei,Mn,Ji){if(q===bc){_===!0&&(ut(i.BLEND),_=!1);return}if(_===!1&&(De(i.BLEND),_=!0),q!==MY){if(q!==f||Ji!==E){if((g!==jd||S!==jd)&&(i.blendEquation(i.FUNC_ADD),g=jd,S=jd),Ji)switch(q){case Dh:i.blendFuncSeparate(i.ONE,i.ONE_MINUS_SRC_ALPHA,i.ONE,i.ONE_MINUS_SRC_ALPHA);break;case CL:i.blendFunc(i.ONE,i.ONE);break;case SL:i.blendFuncSeparate(i.ZERO,i.ONE_MINUS_SRC_COLOR,i.ZERO,i.ONE);break;case EL:i.blendFuncSeparate(i.DST_COLOR,i.ONE_MINUS_SRC_ALPHA,i.ZERO,i.ONE);break;default:zt("WebGLState: Invalid blending: ",q);break}else switch(q){case Dh:i.blendFuncSeparate(i.SRC_ALPHA,i.ONE_MINUS_SRC_ALPHA,i.ONE,i.ONE_MINUS_SRC_ALPHA);break;case CL:i.blendFuncSeparate(i.SRC_ALPHA,i.ONE,i.ONE,i.ONE);break;case SL:zt("WebGLState: SubtractiveBlending requires material.premultipliedAlpha = true");break;case EL:zt("WebGLState: MultiplyBlending requires material.premultipliedAlpha = true");break;default:zt("WebGLState: Invalid blending: ",q);break}C=null,M=null,R=null,N=null,L.set(0,0,0),z=0,f=q,E=Ji}return}Ae=Ae||nt,Se=Se||Ve,We=We||at,(nt!==g||Ae!==S)&&(i.blendEquationSeparate(Tr[nt],Tr[Ae]),g=nt,S=Ae),(Ve!==C||at!==M||Se!==R||We!==N)&&(i.blendFuncSeparate(Ni[Ve],Ni[at],Ni[Se],Ni[We]),C=Ve,M=at,R=Se,N=We),(ei.equals(L)===!1||Mn!==z)&&(i.blendColor(ei.r,ei.g,ei.b,Mn),L.copy(ei),z=Mn),f=q,E=!1}function un(q,nt){q.side===mo?ut(i.CULL_FACE):De(i.CULL_FACE);let Ve=q.side===No;nt&&(Ve=!Ve),bi(Ve),q.blending===Dh&&q.transparent===!1?Qi(bc):Qi(q.blending,q.blendEquation,q.blendSrc,q.blendDst,q.blendEquationAlpha,q.blendSrcAlpha,q.blendDstAlpha,q.blendColor,q.blendAlpha,q.premultipliedAlpha),s.setFunc(q.depthFunc),s.setTest(q.depthTest),s.setMask(q.depthWrite),o.setMask(q.colorWrite);let at=q.stencilWrite;a.setTest(at),at&&(a.setMask(q.stencilWriteMask),a.setFunc(q.stencilFunc,q.stencilRef,q.stencilFuncMask),a.setOp(q.stencilFail,q.stencilZFail,q.stencilZPass)),nr(q.polygonOffset,q.polygonOffsetFactor,q.polygonOffsetUnits),q.alphaToCoverage===!0?De(i.SAMPLE_ALPHA_TO_COVERAGE):ut(i.SAMPLE_ALPHA_TO_COVERAGE)}function bi(q){A!==q&&(q?i.frontFace(i.CW):i.frontFace(i.CCW),A=q)}function ir(q){q!==yY?(De(i.CULL_FACE),q!==U&&(q===ML?i.cullFace(i.BACK):q===xY?i.cullFace(i.FRONT):i.cullFace(i.FRONT_AND_BACK))):ut(i.CULL_FACE),U=q}function G(q){q!==W&&(de&&i.lineWidth(q),W=q)}function nr(q,nt,Ve){q?(De(i.POLYGON_OFFSET_FILL),(Z!==nt||se!==Ve)&&(i.polygonOffset(nt,Ve),Z=nt,se=Ve)):ut(i.POLYGON_OFFSET_FILL)}function qi(q){q?De(i.SCISSOR_TEST):ut(i.SCISSOR_TEST)}function wn(q){q===void 0&&(q=i.TEXTURE0+ie-1),Pe!==q&&(i.activeTexture(q),Pe=q)}function bt(q,nt,Ve){Ve===void 0&&(Pe===null?Ve=i.TEXTURE0+ie-1:Ve=Pe);let at=ze[Ve];at===void 0&&(at={type:void 0,texture:void 0},ze[Ve]=at),(at.type!==q||at.texture!==nt)&&(Pe!==Ve&&(i.activeTexture(Ve),Pe=Ve),i.bindTexture(q,nt||Ce[q]),at.type=q,at.texture=nt)}function V(){let q=ze[Pe];q!==void 0&&q.type!==void 0&&(i.bindTexture(q.type,null),q.type=void 0,q.texture=void 0)}function D(){try{i.compressedTexImage2D(...arguments)}catch(q){zt("WebGLState:",q)}}function Y(){try{i.compressedTexImage3D(...arguments)}catch(q){zt("WebGLState:",q)}}function ve(){try{i.texSubImage2D(...arguments)}catch(q){zt("WebGLState:",q)}}function Te(){try{i.texSubImage3D(...arguments)}catch(q){zt("WebGLState:",q)}}function _e(){try{i.compressedTexSubImage2D(...arguments)}catch(q){zt("WebGLState:",q)}}function xt(){try{i.compressedTexSubImage3D(...arguments)}catch(q){zt("WebGLState:",q)}}function Xe(){try{i.texStorage2D(...arguments)}catch(q){zt("WebGLState:",q)}}function _t(){try{i.texStorage3D(...arguments)}catch(q){zt("WebGLState:",q)}}function Wt(){try{i.texImage2D(...arguments)}catch(q){zt("WebGLState:",q)}}function Re(){try{i.texImage3D(...arguments)}catch(q){zt("WebGLState:",q)}}function Ze(q){ui.equals(q)===!1&&(i.scissor(q.x,q.y,q.z,q.w),ui.copy(q))}function pt(q){xn.equals(q)===!1&&(i.viewport(q.x,q.y,q.z,q.w),xn.copy(q))}function vt(q,nt){let Ve=l.get(nt);Ve===void 0&&(Ve=new WeakMap,l.set(nt,Ve));let at=Ve.get(q);at===void 0&&(at=i.getUniformBlockIndex(nt,q.name),Ve.set(q,at))}function Ye(q,nt){let at=l.get(nt).get(q);c.get(nt)!==at&&(i.uniformBlockBinding(nt,at,q.__bindingPointIndex),c.set(nt,at))}function vi(){i.disable(i.BLEND),i.disable(i.CULL_FACE),i.disable(i.DEPTH_TEST),i.disable(i.POLYGON_OFFSET_FILL),i.disable(i.SCISSOR_TEST),i.disable(i.STENCIL_TEST),i.disable(i.SAMPLE_ALPHA_TO_COVERAGE),i.blendEquation(i.FUNC_ADD),i.blendFunc(i.ONE,i.ZERO),i.blendFuncSeparate(i.ONE,i.ZERO,i.ONE,i.ZERO),i.blendColor(0,0,0,0),i.colorMask(!0,!0,!0,!0),i.clearColor(0,0,0,0),i.depthMask(!0),i.depthFunc(i.LESS),s.setReversed(!1),i.clearDepth(1),i.stencilMask(4294967295),i.stencilFunc(i.ALWAYS,0,4294967295),i.stencilOp(i.KEEP,i.KEEP,i.KEEP),i.clearStencil(0),i.cullFace(i.BACK),i.frontFace(i.CCW),i.polygonOffset(0,0),i.activeTexture(i.TEXTURE0),i.bindFramebuffer(i.FRAMEBUFFER,null),i.bindFramebuffer(i.DRAW_FRAMEBUFFER,null),i.bindFramebuffer(i.READ_FRAMEBUFFER,null),i.useProgram(null),i.lineWidth(1),i.scissor(0,0,i.canvas.width,i.canvas.height),i.viewport(0,0,i.canvas.width,i.canvas.height),d={},Pe=null,ze={},u={},h=new WeakMap,m=[],p=null,_=!1,f=null,g=null,C=null,M=null,S=null,R=null,N=null,L=new xi(0,0,0),z=0,E=!1,A=null,U=null,W=null,Z=null,se=null,ui.set(0,0,i.canvas.width,i.canvas.height),xn.set(0,0,i.canvas.width,i.canvas.height),o.reset(),s.reset(),a.reset()}return{buffers:{color:o,depth:s,stencil:a},enable:De,disable:ut,bindFramebuffer:hi,drawBuffers:gt,useProgram:Fi,setBlending:Qi,setMaterial:un,setFlipSided:bi,setCullFace:ir,setLineWidth:G,setPolygonOffset:nr,setScissorTest:qi,activeTexture:wn,bindTexture:bt,unbindTexture:V,compressedTexImage2D:D,compressedTexImage3D:Y,texImage2D:Wt,texImage3D:Re,updateUBOMapping:vt,uniformBlockBinding:Ye,texStorage2D:Xe,texStorage3D:_t,texSubImage2D:ve,texSubImage3D:Te,compressedTexSubImage2D:_e,compressedTexSubImage3D:xt,scissor:Ze,viewport:pt,reset:vi}}function VEe(i,t,e,n,r,o,s){let a=t.has("WEBGL_multisampled_render_to_texture")?t.get("WEBGL_multisampled_render_to_texture"):null,c=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),l=new Ut,d=new WeakMap,u,h=new WeakMap,m=!1;try{m=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function p(V,D){return m?new OffscreenCanvas(V,D):Fb("canvas")}function _(V,D,Y){let ve=1,Te=bt(V);if((Te.width>Y||Te.height>Y)&&(ve=Y/Math.max(Te.width,Te.height)),ve<1)if(typeof HTMLImageElement<"u"&&V instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&V instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&V instanceof ImageBitmap||typeof VideoFrame<"u"&&V instanceof VideoFrame){let _e=Math.floor(ve*Te.width),xt=Math.floor(ve*Te.height);u===void 0&&(u=p(_e,xt));let Xe=D?p(_e,xt):u;return Xe.width=_e,Xe.height=xt,Xe.getContext("2d").drawImage(V,0,0,_e,xt),Lt("WebGLRenderer: Texture has been resized from ("+Te.width+"x"+Te.height+") to ("+_e+"x"+xt+")."),Xe}else return"data"in V&&Lt("WebGLRenderer: Image in DataTexture is too big ("+Te.width+"x"+Te.height+")."),V;return V}function f(V){return V.generateMipmaps}function g(V){i.generateMipmap(V)}function C(V){return V.isWebGLCubeRenderTarget?i.TEXTURE_CUBE_MAP:V.isWebGL3DRenderTarget?i.TEXTURE_3D:V.isWebGLArrayRenderTarget||V.isCompressedArrayTexture?i.TEXTURE_2D_ARRAY:i.TEXTURE_2D}function M(V,D,Y,ve,Te=!1){if(V!==null){if(i[V]!==void 0)return i[V];Lt("WebGLRenderer: Attempt to use non-existing WebGL internal format '"+V+"'")}let _e=D;if(D===i.RED&&(Y===i.FLOAT&&(_e=i.R32F),Y===i.HALF_FLOAT&&(_e=i.R16F),Y===i.UNSIGNED_BYTE&&(_e=i.R8)),D===i.RED_INTEGER&&(Y===i.UNSIGNED_BYTE&&(_e=i.R8UI),Y===i.UNSIGNED_SHORT&&(_e=i.R16UI),Y===i.UNSIGNED_INT&&(_e=i.R32UI),Y===i.BYTE&&(_e=i.R8I),Y===i.SHORT&&(_e=i.R16I),Y===i.INT&&(_e=i.R32I)),D===i.RG&&(Y===i.FLOAT&&(_e=i.RG32F),Y===i.HALF_FLOAT&&(_e=i.RG16F),Y===i.UNSIGNED_BYTE&&(_e=i.RG8)),D===i.RG_INTEGER&&(Y===i.UNSIGNED_BYTE&&(_e=i.RG8UI),Y===i.UNSIGNED_SHORT&&(_e=i.RG16UI),Y===i.UNSIGNED_INT&&(_e=i.RG32UI),Y===i.BYTE&&(_e=i.RG8I),Y===i.SHORT&&(_e=i.RG16I),Y===i.INT&&(_e=i.RG32I)),D===i.RGB_INTEGER&&(Y===i.UNSIGNED_BYTE&&(_e=i.RGB8UI),Y===i.UNSIGNED_SHORT&&(_e=i.RGB16UI),Y===i.UNSIGNED_INT&&(_e=i.RGB32UI),Y===i.BYTE&&(_e=i.RGB8I),Y===i.SHORT&&(_e=i.RGB16I),Y===i.INT&&(_e=i.RGB32I)),D===i.RGBA_INTEGER&&(Y===i.UNSIGNED_BYTE&&(_e=i.RGBA8UI),Y===i.UNSIGNED_SHORT&&(_e=i.RGBA16UI),Y===i.UNSIGNED_INT&&(_e=i.RGBA32UI),Y===i.BYTE&&(_e=i.RGBA8I),Y===i.SHORT&&(_e=i.RGBA16I),Y===i.INT&&(_e=i.RGBA32I)),D===i.RGB&&(Y===i.UNSIGNED_INT_5_9_9_9_REV&&(_e=i.RGB9_E5),Y===i.UNSIGNED_INT_10F_11F_11F_REV&&(_e=i.R11F_G11F_B10F)),D===i.RGBA){let xt=Te?Nb:Ri.getTransfer(ve);Y===i.FLOAT&&(_e=i.RGBA32F),Y===i.HALF_FLOAT&&(_e=i.RGBA16F),Y===i.UNSIGNED_BYTE&&(_e=xt===Zi?i.SRGB8_ALPHA8:i.RGBA8),Y===i.UNSIGNED_SHORT_4_4_4_4&&(_e=i.RGBA4),Y===i.UNSIGNED_SHORT_5_5_5_1&&(_e=i.RGB5_A1)}return(_e===i.R16F||_e===i.R32F||_e===i.RG16F||_e===i.RG32F||_e===i.RGBA16F||_e===i.RGBA32F)&&t.get("EXT_color_buffer_float"),_e}function S(V,D){let Y;return V?D===null||D===Da||D===wf?Y=i.DEPTH24_STENCIL8:D===ka?Y=i.DEPTH32F_STENCIL8:D===xf&&(Y=i.DEPTH24_STENCIL8,Lt("DepthTexture: 16 bit depth attachment is not supported with stencil. Using 24-bit attachment.")):D===null||D===Da||D===wf?Y=i.DEPTH_COMPONENT24:D===ka?Y=i.DEPTH_COMPONENT32F:D===xf&&(Y=i.DEPTH_COMPONENT16),Y}function R(V,D){return f(V)===!0||V.isFramebufferTexture&&V.minFilter!==Br&&V.minFilter!==Yn?Math.log2(Math.max(D.width,D.height))+1:V.mipmaps!==void 0&&V.mipmaps.length>0?V.mipmaps.length:V.isCompressedTexture&&Array.isArray(V.image)?D.mipmaps.length:1}function N(V){let D=V.target;D.removeEventListener("dispose",N),z(D),D.isVideoTexture&&d.delete(D)}function L(V){let D=V.target;D.removeEventListener("dispose",L),A(D)}function z(V){let D=n.get(V);if(D.__webglInit===void 0)return;let Y=V.source,ve=h.get(Y);if(ve){let Te=ve[D.__cacheKey];Te.usedTimes--,Te.usedTimes===0&&E(V),Object.keys(ve).length===0&&h.delete(Y)}n.remove(V)}function E(V){let D=n.get(V);i.deleteTexture(D.__webglTexture);let Y=V.source,ve=h.get(Y);delete ve[D.__cacheKey],s.memory.textures--}function A(V){let D=n.get(V);if(V.depthTexture&&(V.depthTexture.dispose(),n.remove(V.depthTexture)),V.isWebGLCubeRenderTarget)for(let ve=0;ve<6;ve++){if(Array.isArray(D.__webglFramebuffer[ve]))for(let Te=0;Te<D.__webglFramebuffer[ve].length;Te++)i.deleteFramebuffer(D.__webglFramebuffer[ve][Te]);else i.deleteFramebuffer(D.__webglFramebuffer[ve]);D.__webglDepthbuffer&&i.deleteRenderbuffer(D.__webglDepthbuffer[ve])}else{if(Array.isArray(D.__webglFramebuffer))for(let ve=0;ve<D.__webglFramebuffer.length;ve++)i.deleteFramebuffer(D.__webglFramebuffer[ve]);else i.deleteFramebuffer(D.__webglFramebuffer);if(D.__webglDepthbuffer&&i.deleteRenderbuffer(D.__webglDepthbuffer),D.__webglMultisampledFramebuffer&&i.deleteFramebuffer(D.__webglMultisampledFramebuffer),D.__webglColorRenderbuffer)for(let ve=0;ve<D.__webglColorRenderbuffer.length;ve++)D.__webglColorRenderbuffer[ve]&&i.deleteRenderbuffer(D.__webglColorRenderbuffer[ve]);D.__webglDepthRenderbuffer&&i.deleteRenderbuffer(D.__webglDepthRenderbuffer)}let Y=V.textures;for(let ve=0,Te=Y.length;ve<Te;ve++){let _e=n.get(Y[ve]);_e.__webglTexture&&(i.deleteTexture(_e.__webglTexture),s.memory.textures--),n.remove(Y[ve])}n.remove(V)}let U=0;function W(){U=0}function Z(){let V=U;return V>=r.maxTextures&&Lt("WebGLTextures: Trying to use "+V+" texture units while this GPU supports only "+r.maxTextures),U+=1,V}function se(V){let D=[];return D.push(V.wrapS),D.push(V.wrapT),D.push(V.wrapR||0),D.push(V.magFilter),D.push(V.minFilter),D.push(V.anisotropy),D.push(V.internalFormat),D.push(V.format),D.push(V.type),D.push(V.generateMipmaps),D.push(V.premultiplyAlpha),D.push(V.flipY),D.push(V.unpackAlignment),D.push(V.colorSpace),D.join()}function ie(V,D){let Y=n.get(V);if(V.isVideoTexture&&qi(V),V.isRenderTargetTexture===!1&&V.isExternalTexture!==!0&&V.version>0&&Y.__version!==V.version){let ve=V.image;if(ve===null)Lt("WebGLRenderer: Texture marked for update but no image data found.");else if(ve.complete===!1)Lt("WebGLRenderer: Texture marked for update but image is incomplete");else{Ce(Y,V,D);return}}else V.isExternalTexture&&(Y.__webglTexture=V.sourceTexture?V.sourceTexture:null);e.bindTexture(i.TEXTURE_2D,Y.__webglTexture,i.TEXTURE0+D)}function de(V,D){let Y=n.get(V);if(V.isRenderTargetTexture===!1&&V.version>0&&Y.__version!==V.version){Ce(Y,V,D);return}else V.isExternalTexture&&(Y.__webglTexture=V.sourceTexture?V.sourceTexture:null);e.bindTexture(i.TEXTURE_2D_ARRAY,Y.__webglTexture,i.TEXTURE0+D)}function ne(V,D){let Y=n.get(V);if(V.isRenderTargetTexture===!1&&V.version>0&&Y.__version!==V.version){Ce(Y,V,D);return}e.bindTexture(i.TEXTURE_3D,Y.__webglTexture,i.TEXTURE0+D)}function Me(V,D){let Y=n.get(V);if(V.isCubeDepthTexture!==!0&&V.version>0&&Y.__version!==V.version){De(Y,V,D);return}e.bindTexture(i.TEXTURE_CUBE_MAP,Y.__webglTexture,i.TEXTURE0+D)}let Pe={[nC]:i.REPEAT,[hc]:i.CLAMP_TO_EDGE,[rC]:i.MIRRORED_REPEAT},ze={[Br]:i.NEAREST,[jY]:i.NEAREST_MIPMAP_NEAREST,[Jb]:i.NEAREST_MIPMAP_LINEAR,[Yn]:i.LINEAR,[LC]:i.LINEAR_MIPMAP_NEAREST,[Qd]:i.LINEAR_MIPMAP_LINEAR},tt={[WY]:i.NEVER,[KY]:i.ALWAYS,[qY]:i.LESS,[wS]:i.LEQUAL,[XY]:i.EQUAL,[MS]:i.GEQUAL,[YY]:i.GREATER,[ZY]:i.NOTEQUAL};function ai(V,D){if(D.type===ka&&t.has("OES_texture_float_linear")===!1&&(D.magFilter===Yn||D.magFilter===LC||D.magFilter===Jb||D.magFilter===Qd||D.minFilter===Yn||D.minFilter===LC||D.minFilter===Jb||D.minFilter===Qd)&&Lt("WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),i.texParameteri(V,i.TEXTURE_WRAP_S,Pe[D.wrapS]),i.texParameteri(V,i.TEXTURE_WRAP_T,Pe[D.wrapT]),(V===i.TEXTURE_3D||V===i.TEXTURE_2D_ARRAY)&&i.texParameteri(V,i.TEXTURE_WRAP_R,Pe[D.wrapR]),i.texParameteri(V,i.TEXTURE_MAG_FILTER,ze[D.magFilter]),i.texParameteri(V,i.TEXTURE_MIN_FILTER,ze[D.minFilter]),D.compareFunction&&(i.texParameteri(V,i.TEXTURE_COMPARE_MODE,i.COMPARE_REF_TO_TEXTURE),i.texParameteri(V,i.TEXTURE_COMPARE_FUNC,tt[D.compareFunction])),t.has("EXT_texture_filter_anisotropic")===!0){if(D.magFilter===Br||D.minFilter!==Jb&&D.minFilter!==Qd||D.type===ka&&t.has("OES_texture_float_linear")===!1)return;if(D.anisotropy>1||n.get(D).__currentAnisotropy){let Y=t.get("EXT_texture_filter_anisotropic");i.texParameterf(V,Y.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(D.anisotropy,r.getMaxAnisotropy())),n.get(D).__currentAnisotropy=D.anisotropy}}}function ui(V,D){let Y=!1;V.__webglInit===void 0&&(V.__webglInit=!0,D.addEventListener("dispose",N));let ve=D.source,Te=h.get(ve);Te===void 0&&(Te={},h.set(ve,Te));let _e=se(D);if(_e!==V.__cacheKey){Te[_e]===void 0&&(Te[_e]={texture:i.createTexture(),usedTimes:0},s.memory.textures++,Y=!0),Te[_e].usedTimes++;let xt=Te[V.__cacheKey];xt!==void 0&&(Te[V.__cacheKey].usedTimes--,xt.usedTimes===0&&E(D)),V.__cacheKey=_e,V.__webglTexture=Te[_e].texture}return Y}function xn(V,D,Y){return Math.floor(Math.floor(V/Y)/D)}function In(V,D,Y,ve){let _e=V.updateRanges;if(_e.length===0)e.texSubImage2D(i.TEXTURE_2D,0,0,0,D.width,D.height,Y,ve,D.data);else{_e.sort((Re,Ze)=>Re.start-Ze.start);let xt=0;for(let Re=1;Re<_e.length;Re++){let Ze=_e[xt],pt=_e[Re],vt=Ze.start+Ze.count,Ye=xn(pt.start,D.width,4),vi=xn(Ze.start,D.width,4);pt.start<=vt+1&&Ye===vi&&xn(pt.start+pt.count-1,D.width,4)===Ye?Ze.count=Math.max(Ze.count,pt.start+pt.count-Ze.start):(++xt,_e[xt]=pt)}_e.length=xt+1;let Xe=i.getParameter(i.UNPACK_ROW_LENGTH),_t=i.getParameter(i.UNPACK_SKIP_PIXELS),Wt=i.getParameter(i.UNPACK_SKIP_ROWS);i.pixelStorei(i.UNPACK_ROW_LENGTH,D.width);for(let Re=0,Ze=_e.length;Re<Ze;Re++){let pt=_e[Re],vt=Math.floor(pt.start/4),Ye=Math.ceil(pt.count/4),vi=vt%D.width,q=Math.floor(vt/D.width),nt=Ye,Ve=1;i.pixelStorei(i.UNPACK_SKIP_PIXELS,vi),i.pixelStorei(i.UNPACK_SKIP_ROWS,q),e.texSubImage2D(i.TEXTURE_2D,0,vi,q,nt,Ve,Y,ve,D.data)}V.clearUpdateRanges(),i.pixelStorei(i.UNPACK_ROW_LENGTH,Xe),i.pixelStorei(i.UNPACK_SKIP_PIXELS,_t),i.pixelStorei(i.UNPACK_SKIP_ROWS,Wt)}}function Ce(V,D,Y){let ve=i.TEXTURE_2D;(D.isDataArrayTexture||D.isCompressedArrayTexture)&&(ve=i.TEXTURE_2D_ARRAY),D.isData3DTexture&&(ve=i.TEXTURE_3D);let Te=ui(V,D),_e=D.source;e.bindTexture(ve,V.__webglTexture,i.TEXTURE0+Y);let xt=n.get(_e);if(_e.version!==xt.__version||Te===!0){e.activeTexture(i.TEXTURE0+Y);let Xe=Ri.getPrimaries(Ri.workingColorSpace),_t=D.colorSpace===Il?null:Ri.getPrimaries(D.colorSpace),Wt=D.colorSpace===Il||Xe===_t?i.NONE:i.BROWSER_DEFAULT_WEBGL;i.pixelStorei(i.UNPACK_FLIP_Y_WEBGL,D.flipY),i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,D.premultiplyAlpha),i.pixelStorei(i.UNPACK_ALIGNMENT,D.unpackAlignment),i.pixelStorei(i.UNPACK_COLORSPACE_CONVERSION_WEBGL,Wt);let Re=_(D.image,!1,r.maxTextureSize);Re=wn(D,Re);let Ze=o.convert(D.format,D.colorSpace),pt=o.convert(D.type),vt=M(D.internalFormat,Ze,pt,D.colorSpace,D.isVideoTexture);ai(ve,D);let Ye,vi=D.mipmaps,q=D.isVideoTexture!==!0,nt=xt.__version===void 0||Te===!0,Ve=_e.dataReady,at=R(D,Re);if(D.isDepthTexture)vt=S(D.format===Jd,D.type),nt&&(q?e.texStorage2D(i.TEXTURE_2D,1,vt,Re.width,Re.height):e.texImage2D(i.TEXTURE_2D,0,vt,Re.width,Re.height,0,Ze,pt,null));else if(D.isDataTexture)if(vi.length>0){q&&nt&&e.texStorage2D(i.TEXTURE_2D,at,vt,vi[0].width,vi[0].height);for(let Ae=0,Se=vi.length;Ae<Se;Ae++)Ye=vi[Ae],q?Ve&&e.texSubImage2D(i.TEXTURE_2D,Ae,0,0,Ye.width,Ye.height,Ze,pt,Ye.data):e.texImage2D(i.TEXTURE_2D,Ae,vt,Ye.width,Ye.height,0,Ze,pt,Ye.data);D.generateMipmaps=!1}else q?(nt&&e.texStorage2D(i.TEXTURE_2D,at,vt,Re.width,Re.height),Ve&&In(D,Re,Ze,pt)):e.texImage2D(i.TEXTURE_2D,0,vt,Re.width,Re.height,0,Ze,pt,Re.data);else if(D.isCompressedTexture)if(D.isCompressedArrayTexture){q&&nt&&e.texStorage3D(i.TEXTURE_2D_ARRAY,at,vt,vi[0].width,vi[0].height,Re.depth);for(let Ae=0,Se=vi.length;Ae<Se;Ae++)if(Ye=vi[Ae],D.format!==Gs)if(Ze!==null)if(q){if(Ve)if(D.layerUpdates.size>0){let We=KL(Ye.width,Ye.height,D.format,D.type);for(let ei of D.layerUpdates){let Mn=Ye.data.subarray(ei*We/Ye.data.BYTES_PER_ELEMENT,(ei+1)*We/Ye.data.BYTES_PER_ELEMENT);e.compressedTexSubImage3D(i.TEXTURE_2D_ARRAY,Ae,0,0,ei,Ye.width,Ye.height,1,Ze,Mn)}D.clearLayerUpdates()}else e.compressedTexSubImage3D(i.TEXTURE_2D_ARRAY,Ae,0,0,0,Ye.width,Ye.height,Re.depth,Ze,Ye.data)}else e.compressedTexImage3D(i.TEXTURE_2D_ARRAY,Ae,vt,Ye.width,Ye.height,Re.depth,0,Ye.data,0,0);else Lt("WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()");else q?Ve&&e.texSubImage3D(i.TEXTURE_2D_ARRAY,Ae,0,0,0,Ye.width,Ye.height,Re.depth,Ze,pt,Ye.data):e.texImage3D(i.TEXTURE_2D_ARRAY,Ae,vt,Ye.width,Ye.height,Re.depth,0,Ze,pt,Ye.data)}else{q&&nt&&e.texStorage2D(i.TEXTURE_2D,at,vt,vi[0].width,vi[0].height);for(let Ae=0,Se=vi.length;Ae<Se;Ae++)Ye=vi[Ae],D.format!==Gs?Ze!==null?q?Ve&&e.compressedTexSubImage2D(i.TEXTURE_2D,Ae,0,0,Ye.width,Ye.height,Ze,Ye.data):e.compressedTexImage2D(i.TEXTURE_2D,Ae,vt,Ye.width,Ye.height,0,Ye.data):Lt("WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):q?Ve&&e.texSubImage2D(i.TEXTURE_2D,Ae,0,0,Ye.width,Ye.height,Ze,pt,Ye.data):e.texImage2D(i.TEXTURE_2D,Ae,vt,Ye.width,Ye.height,0,Ze,pt,Ye.data)}else if(D.isDataArrayTexture)if(q){if(nt&&e.texStorage3D(i.TEXTURE_2D_ARRAY,at,vt,Re.width,Re.height,Re.depth),Ve)if(D.layerUpdates.size>0){let Ae=KL(Re.width,Re.height,D.format,D.type);for(let Se of D.layerUpdates){let We=Re.data.subarray(Se*Ae/Re.data.BYTES_PER_ELEMENT,(Se+1)*Ae/Re.data.BYTES_PER_ELEMENT);e.texSubImage3D(i.TEXTURE_2D_ARRAY,0,0,0,Se,Re.width,Re.height,1,Ze,pt,We)}D.clearLayerUpdates()}else e.texSubImage3D(i.TEXTURE_2D_ARRAY,0,0,0,0,Re.width,Re.height,Re.depth,Ze,pt,Re.data)}else e.texImage3D(i.TEXTURE_2D_ARRAY,0,vt,Re.width,Re.height,Re.depth,0,Ze,pt,Re.data);else if(D.isData3DTexture)q?(nt&&e.texStorage3D(i.TEXTURE_3D,at,vt,Re.width,Re.height,Re.depth),Ve&&e.texSubImage3D(i.TEXTURE_3D,0,0,0,0,Re.width,Re.height,Re.depth,Ze,pt,Re.data)):e.texImage3D(i.TEXTURE_3D,0,vt,Re.width,Re.height,Re.depth,0,Ze,pt,Re.data);else if(D.isFramebufferTexture){if(nt)if(q)e.texStorage2D(i.TEXTURE_2D,at,vt,Re.width,Re.height);else{let Ae=Re.width,Se=Re.height;for(let We=0;We<at;We++)e.texImage2D(i.TEXTURE_2D,We,vt,Ae,Se,0,Ze,pt,null),Ae>>=1,Se>>=1}}else if(vi.length>0){if(q&&nt){let Ae=bt(vi[0]);e.texStorage2D(i.TEXTURE_2D,at,vt,Ae.width,Ae.height)}for(let Ae=0,Se=vi.length;Ae<Se;Ae++)Ye=vi[Ae],q?Ve&&e.texSubImage2D(i.TEXTURE_2D,Ae,0,0,Ze,pt,Ye):e.texImage2D(i.TEXTURE_2D,Ae,vt,Ze,pt,Ye);D.generateMipmaps=!1}else if(q){if(nt){let Ae=bt(Re);e.texStorage2D(i.TEXTURE_2D,at,vt,Ae.width,Ae.height)}Ve&&e.texSubImage2D(i.TEXTURE_2D,0,0,0,Ze,pt,Re)}else e.texImage2D(i.TEXTURE_2D,0,vt,Ze,pt,Re);f(D)&&g(ve),xt.__version=_e.version,D.onUpdate&&D.onUpdate(D)}V.__version=D.version}function De(V,D,Y){if(D.image.length!==6)return;let ve=ui(V,D),Te=D.source;e.bindTexture(i.TEXTURE_CUBE_MAP,V.__webglTexture,i.TEXTURE0+Y);let _e=n.get(Te);if(Te.version!==_e.__version||ve===!0){e.activeTexture(i.TEXTURE0+Y);let xt=Ri.getPrimaries(Ri.workingColorSpace),Xe=D.colorSpace===Il?null:Ri.getPrimaries(D.colorSpace),_t=D.colorSpace===Il||xt===Xe?i.NONE:i.BROWSER_DEFAULT_WEBGL;i.pixelStorei(i.UNPACK_FLIP_Y_WEBGL,D.flipY),i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,D.premultiplyAlpha),i.pixelStorei(i.UNPACK_ALIGNMENT,D.unpackAlignment),i.pixelStorei(i.UNPACK_COLORSPACE_CONVERSION_WEBGL,_t);let Wt=D.isCompressedTexture||D.image[0].isCompressedTexture,Re=D.image[0]&&D.image[0].isDataTexture,Ze=[];for(let Se=0;Se<6;Se++)!Wt&&!Re?Ze[Se]=_(D.image[Se],!0,r.maxCubemapSize):Ze[Se]=Re?D.image[Se].image:D.image[Se],Ze[Se]=wn(D,Ze[Se]);let pt=Ze[0],vt=o.convert(D.format,D.colorSpace),Ye=o.convert(D.type),vi=M(D.internalFormat,vt,Ye,D.colorSpace),q=D.isVideoTexture!==!0,nt=_e.__version===void 0||ve===!0,Ve=Te.dataReady,at=R(D,pt);ai(i.TEXTURE_CUBE_MAP,D);let Ae;if(Wt){q&&nt&&e.texStorage2D(i.TEXTURE_CUBE_MAP,at,vi,pt.width,pt.height);for(let Se=0;Se<6;Se++){Ae=Ze[Se].mipmaps;for(let We=0;We<Ae.length;We++){let ei=Ae[We];D.format!==Gs?vt!==null?q?Ve&&e.compressedTexSubImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+Se,We,0,0,ei.width,ei.height,vt,ei.data):e.compressedTexImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+Se,We,vi,ei.width,ei.height,0,ei.data):Lt("WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):q?Ve&&e.texSubImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+Se,We,0,0,ei.width,ei.height,vt,Ye,ei.data):e.texImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+Se,We,vi,ei.width,ei.height,0,vt,Ye,ei.data)}}}else{if(Ae=D.mipmaps,q&&nt){Ae.length>0&&at++;let Se=bt(Ze[0]);e.texStorage2D(i.TEXTURE_CUBE_MAP,at,vi,Se.width,Se.height)}for(let Se=0;Se<6;Se++)if(Re){q?Ve&&e.texSubImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+Se,0,0,0,Ze[Se].width,Ze[Se].height,vt,Ye,Ze[Se].data):e.texImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+Se,0,vi,Ze[Se].width,Ze[Se].height,0,vt,Ye,Ze[Se].data);for(let We=0;We<Ae.length;We++){let Mn=Ae[We].image[Se].image;q?Ve&&e.texSubImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+Se,We+1,0,0,Mn.width,Mn.height,vt,Ye,Mn.data):e.texImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+Se,We+1,vi,Mn.width,Mn.height,0,vt,Ye,Mn.data)}}else{q?Ve&&e.texSubImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+Se,0,0,0,vt,Ye,Ze[Se]):e.texImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+Se,0,vi,vt,Ye,Ze[Se]);for(let We=0;We<Ae.length;We++){let ei=Ae[We];q?Ve&&e.texSubImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+Se,We+1,0,0,vt,Ye,ei.image[Se]):e.texImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+Se,We+1,vi,vt,Ye,ei.image[Se])}}}f(D)&&g(i.TEXTURE_CUBE_MAP),_e.__version=Te.version,D.onUpdate&&D.onUpdate(D)}V.__version=D.version}function ut(V,D,Y,ve,Te,_e){let xt=o.convert(Y.format,Y.colorSpace),Xe=o.convert(Y.type),_t=M(Y.internalFormat,xt,Xe,Y.colorSpace),Wt=n.get(D),Re=n.get(Y);if(Re.__renderTarget=D,!Wt.__hasExternalTextures){let Ze=Math.max(1,D.width>>_e),pt=Math.max(1,D.height>>_e);Te===i.TEXTURE_3D||Te===i.TEXTURE_2D_ARRAY?e.texImage3D(Te,_e,_t,Ze,pt,D.depth,0,xt,Xe,null):e.texImage2D(Te,_e,_t,Ze,pt,0,xt,Xe,null)}e.bindFramebuffer(i.FRAMEBUFFER,V),nr(D)?a.framebufferTexture2DMultisampleEXT(i.FRAMEBUFFER,ve,Te,Re.__webglTexture,0,G(D)):(Te===i.TEXTURE_2D||Te>=i.TEXTURE_CUBE_MAP_POSITIVE_X&&Te<=i.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&i.framebufferTexture2D(i.FRAMEBUFFER,ve,Te,Re.__webglTexture,_e),e.bindFramebuffer(i.FRAMEBUFFER,null)}function hi(V,D,Y){if(i.bindRenderbuffer(i.RENDERBUFFER,V),D.depthBuffer){let ve=D.depthTexture,Te=ve&&ve.isDepthTexture?ve.type:null,_e=S(D.stencilBuffer,Te),xt=D.stencilBuffer?i.DEPTH_STENCIL_ATTACHMENT:i.DEPTH_ATTACHMENT;nr(D)?a.renderbufferStorageMultisampleEXT(i.RENDERBUFFER,G(D),_e,D.width,D.height):Y?i.renderbufferStorageMultisample(i.RENDERBUFFER,G(D),_e,D.width,D.height):i.renderbufferStorage(i.RENDERBUFFER,_e,D.width,D.height),i.framebufferRenderbuffer(i.FRAMEBUFFER,xt,i.RENDERBUFFER,V)}else{let ve=D.textures;for(let Te=0;Te<ve.length;Te++){let _e=ve[Te],xt=o.convert(_e.format,_e.colorSpace),Xe=o.convert(_e.type),_t=M(_e.internalFormat,xt,Xe,_e.colorSpace);nr(D)?a.renderbufferStorageMultisampleEXT(i.RENDERBUFFER,G(D),_t,D.width,D.height):Y?i.renderbufferStorageMultisample(i.RENDERBUFFER,G(D),_t,D.width,D.height):i.renderbufferStorage(i.RENDERBUFFER,_t,D.width,D.height)}}i.bindRenderbuffer(i.RENDERBUFFER,null)}function gt(V,D,Y){let ve=D.isWebGLCubeRenderTarget===!0;if(e.bindFramebuffer(i.FRAMEBUFFER,V),!(D.depthTexture&&D.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");let Te=n.get(D.depthTexture);if(Te.__renderTarget=D,(!Te.__webglTexture||D.depthTexture.image.width!==D.width||D.depthTexture.image.height!==D.height)&&(D.depthTexture.image.width=D.width,D.depthTexture.image.height=D.height,D.depthTexture.needsUpdate=!0),ve){if(Te.__webglInit===void 0&&(Te.__webglInit=!0,D.depthTexture.addEventListener("dispose",N)),Te.__webglTexture===void 0){Te.__webglTexture=i.createTexture(),e.bindTexture(i.TEXTURE_CUBE_MAP,Te.__webglTexture),ai(i.TEXTURE_CUBE_MAP,D.depthTexture);let Wt=o.convert(D.depthTexture.format),Re=o.convert(D.depthTexture.type),Ze;D.depthTexture.format===pc?Ze=i.DEPTH_COMPONENT24:D.depthTexture.format===Jd&&(Ze=i.DEPTH24_STENCIL8);for(let pt=0;pt<6;pt++)i.texImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+pt,0,Ze,D.width,D.height,0,Wt,Re,null)}}else ie(D.depthTexture,0);let _e=Te.__webglTexture,xt=G(D),Xe=ve?i.TEXTURE_CUBE_MAP_POSITIVE_X+Y:i.TEXTURE_2D,_t=D.depthTexture.format===Jd?i.DEPTH_STENCIL_ATTACHMENT:i.DEPTH_ATTACHMENT;if(D.depthTexture.format===pc)nr(D)?a.framebufferTexture2DMultisampleEXT(i.FRAMEBUFFER,_t,Xe,_e,0,xt):i.framebufferTexture2D(i.FRAMEBUFFER,_t,Xe,_e,0);else if(D.depthTexture.format===Jd)nr(D)?a.framebufferTexture2DMultisampleEXT(i.FRAMEBUFFER,_t,Xe,_e,0,xt):i.framebufferTexture2D(i.FRAMEBUFFER,_t,Xe,_e,0);else throw new Error("Unknown depthTexture format")}function Fi(V){let D=n.get(V),Y=V.isWebGLCubeRenderTarget===!0;if(D.__boundDepthTexture!==V.depthTexture){let ve=V.depthTexture;if(D.__depthDisposeCallback&&D.__depthDisposeCallback(),ve){let Te=()=>{delete D.__boundDepthTexture,delete D.__depthDisposeCallback,ve.removeEventListener("dispose",Te)};ve.addEventListener("dispose",Te),D.__depthDisposeCallback=Te}D.__boundDepthTexture=ve}if(V.depthTexture&&!D.__autoAllocateDepthBuffer)if(Y)for(let ve=0;ve<6;ve++)gt(D.__webglFramebuffer[ve],V,ve);else{let ve=V.texture.mipmaps;ve&&ve.length>0?gt(D.__webglFramebuffer[0],V,0):gt(D.__webglFramebuffer,V,0)}else if(Y){D.__webglDepthbuffer=[];for(let ve=0;ve<6;ve++)if(e.bindFramebuffer(i.FRAMEBUFFER,D.__webglFramebuffer[ve]),D.__webglDepthbuffer[ve]===void 0)D.__webglDepthbuffer[ve]=i.createRenderbuffer(),hi(D.__webglDepthbuffer[ve],V,!1);else{let Te=V.stencilBuffer?i.DEPTH_STENCIL_ATTACHMENT:i.DEPTH_ATTACHMENT,_e=D.__webglDepthbuffer[ve];i.bindRenderbuffer(i.RENDERBUFFER,_e),i.framebufferRenderbuffer(i.FRAMEBUFFER,Te,i.RENDERBUFFER,_e)}}else{let ve=V.texture.mipmaps;if(ve&&ve.length>0?e.bindFramebuffer(i.FRAMEBUFFER,D.__webglFramebuffer[0]):e.bindFramebuffer(i.FRAMEBUFFER,D.__webglFramebuffer),D.__webglDepthbuffer===void 0)D.__webglDepthbuffer=i.createRenderbuffer(),hi(D.__webglDepthbuffer,V,!1);else{let Te=V.stencilBuffer?i.DEPTH_STENCIL_ATTACHMENT:i.DEPTH_ATTACHMENT,_e=D.__webglDepthbuffer;i.bindRenderbuffer(i.RENDERBUFFER,_e),i.framebufferRenderbuffer(i.FRAMEBUFFER,Te,i.RENDERBUFFER,_e)}}e.bindFramebuffer(i.FRAMEBUFFER,null)}function Tr(V,D,Y){let ve=n.get(V);D!==void 0&&ut(ve.__webglFramebuffer,V,V.texture,i.COLOR_ATTACHMENT0,i.TEXTURE_2D,0),Y!==void 0&&Fi(V)}function Ni(V){let D=V.texture,Y=n.get(V),ve=n.get(D);V.addEventListener("dispose",L);let Te=V.textures,_e=V.isWebGLCubeRenderTarget===!0,xt=Te.length>1;if(xt||(ve.__webglTexture===void 0&&(ve.__webglTexture=i.createTexture()),ve.__version=D.version,s.memory.textures++),_e){Y.__webglFramebuffer=[];for(let Xe=0;Xe<6;Xe++)if(D.mipmaps&&D.mipmaps.length>0){Y.__webglFramebuffer[Xe]=[];for(let _t=0;_t<D.mipmaps.length;_t++)Y.__webglFramebuffer[Xe][_t]=i.createFramebuffer()}else Y.__webglFramebuffer[Xe]=i.createFramebuffer()}else{if(D.mipmaps&&D.mipmaps.length>0){Y.__webglFramebuffer=[];for(let Xe=0;Xe<D.mipmaps.length;Xe++)Y.__webglFramebuffer[Xe]=i.createFramebuffer()}else Y.__webglFramebuffer=i.createFramebuffer();if(xt)for(let Xe=0,_t=Te.length;Xe<_t;Xe++){let Wt=n.get(Te[Xe]);Wt.__webglTexture===void 0&&(Wt.__webglTexture=i.createTexture(),s.memory.textures++)}if(V.samples>0&&nr(V)===!1){Y.__webglMultisampledFramebuffer=i.createFramebuffer(),Y.__webglColorRenderbuffer=[],e.bindFramebuffer(i.FRAMEBUFFER,Y.__webglMultisampledFramebuffer);for(let Xe=0;Xe<Te.length;Xe++){let _t=Te[Xe];Y.__webglColorRenderbuffer[Xe]=i.createRenderbuffer(),i.bindRenderbuffer(i.RENDERBUFFER,Y.__webglColorRenderbuffer[Xe]);let Wt=o.convert(_t.format,_t.colorSpace),Re=o.convert(_t.type),Ze=M(_t.internalFormat,Wt,Re,_t.colorSpace,V.isXRRenderTarget===!0),pt=G(V);i.renderbufferStorageMultisample(i.RENDERBUFFER,pt,Ze,V.width,V.height),i.framebufferRenderbuffer(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0+Xe,i.RENDERBUFFER,Y.__webglColorRenderbuffer[Xe])}i.bindRenderbuffer(i.RENDERBUFFER,null),V.depthBuffer&&(Y.__webglDepthRenderbuffer=i.createRenderbuffer(),hi(Y.__webglDepthRenderbuffer,V,!0)),e.bindFramebuffer(i.FRAMEBUFFER,null)}}if(_e){e.bindTexture(i.TEXTURE_CUBE_MAP,ve.__webglTexture),ai(i.TEXTURE_CUBE_MAP,D);for(let Xe=0;Xe<6;Xe++)if(D.mipmaps&&D.mipmaps.length>0)for(let _t=0;_t<D.mipmaps.length;_t++)ut(Y.__webglFramebuffer[Xe][_t],V,D,i.COLOR_ATTACHMENT0,i.TEXTURE_CUBE_MAP_POSITIVE_X+Xe,_t);else ut(Y.__webglFramebuffer[Xe],V,D,i.COLOR_ATTACHMENT0,i.TEXTURE_CUBE_MAP_POSITIVE_X+Xe,0);f(D)&&g(i.TEXTURE_CUBE_MAP),e.unbindTexture()}else if(xt){for(let Xe=0,_t=Te.length;Xe<_t;Xe++){let Wt=Te[Xe],Re=n.get(Wt),Ze=i.TEXTURE_2D;(V.isWebGL3DRenderTarget||V.isWebGLArrayRenderTarget)&&(Ze=V.isWebGL3DRenderTarget?i.TEXTURE_3D:i.TEXTURE_2D_ARRAY),e.bindTexture(Ze,Re.__webglTexture),ai(Ze,Wt),ut(Y.__webglFramebuffer,V,Wt,i.COLOR_ATTACHMENT0+Xe,Ze,0),f(Wt)&&g(Ze)}e.unbindTexture()}else{let Xe=i.TEXTURE_2D;if((V.isWebGL3DRenderTarget||V.isWebGLArrayRenderTarget)&&(Xe=V.isWebGL3DRenderTarget?i.TEXTURE_3D:i.TEXTURE_2D_ARRAY),e.bindTexture(Xe,ve.__webglTexture),ai(Xe,D),D.mipmaps&&D.mipmaps.length>0)for(let _t=0;_t<D.mipmaps.length;_t++)ut(Y.__webglFramebuffer[_t],V,D,i.COLOR_ATTACHMENT0,Xe,_t);else ut(Y.__webglFramebuffer,V,D,i.COLOR_ATTACHMENT0,Xe,0);f(D)&&g(Xe),e.unbindTexture()}V.depthBuffer&&Fi(V)}function Qi(V){let D=V.textures;for(let Y=0,ve=D.length;Y<ve;Y++){let Te=D[Y];if(f(Te)){let _e=C(V),xt=n.get(Te).__webglTexture;e.bindTexture(_e,xt),g(_e),e.unbindTexture()}}}let un=[],bi=[];function ir(V){if(V.samples>0){if(nr(V)===!1){let D=V.textures,Y=V.width,ve=V.height,Te=i.COLOR_BUFFER_BIT,_e=V.stencilBuffer?i.DEPTH_STENCIL_ATTACHMENT:i.DEPTH_ATTACHMENT,xt=n.get(V),Xe=D.length>1;if(Xe)for(let Wt=0;Wt<D.length;Wt++)e.bindFramebuffer(i.FRAMEBUFFER,xt.__webglMultisampledFramebuffer),i.framebufferRenderbuffer(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0+Wt,i.RENDERBUFFER,null),e.bindFramebuffer(i.FRAMEBUFFER,xt.__webglFramebuffer),i.framebufferTexture2D(i.DRAW_FRAMEBUFFER,i.COLOR_ATTACHMENT0+Wt,i.TEXTURE_2D,null,0);e.bindFramebuffer(i.READ_FRAMEBUFFER,xt.__webglMultisampledFramebuffer);let _t=V.texture.mipmaps;_t&&_t.length>0?e.bindFramebuffer(i.DRAW_FRAMEBUFFER,xt.__webglFramebuffer[0]):e.bindFramebuffer(i.DRAW_FRAMEBUFFER,xt.__webglFramebuffer);for(let Wt=0;Wt<D.length;Wt++){if(V.resolveDepthBuffer&&(V.depthBuffer&&(Te|=i.DEPTH_BUFFER_BIT),V.stencilBuffer&&V.resolveStencilBuffer&&(Te|=i.STENCIL_BUFFER_BIT)),Xe){i.framebufferRenderbuffer(i.READ_FRAMEBUFFER,i.COLOR_ATTACHMENT0,i.RENDERBUFFER,xt.__webglColorRenderbuffer[Wt]);let Re=n.get(D[Wt]).__webglTexture;i.framebufferTexture2D(i.DRAW_FRAMEBUFFER,i.COLOR_ATTACHMENT0,i.TEXTURE_2D,Re,0)}i.blitFramebuffer(0,0,Y,ve,0,0,Y,ve,Te,i.NEAREST),c===!0&&(un.length=0,bi.length=0,un.push(i.COLOR_ATTACHMENT0+Wt),V.depthBuffer&&V.resolveDepthBuffer===!1&&(un.push(_e),bi.push(_e),i.invalidateFramebuffer(i.DRAW_FRAMEBUFFER,bi)),i.invalidateFramebuffer(i.READ_FRAMEBUFFER,un))}if(e.bindFramebuffer(i.READ_FRAMEBUFFER,null),e.bindFramebuffer(i.DRAW_FRAMEBUFFER,null),Xe)for(let Wt=0;Wt<D.length;Wt++){e.bindFramebuffer(i.FRAMEBUFFER,xt.__webglMultisampledFramebuffer),i.framebufferRenderbuffer(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0+Wt,i.RENDERBUFFER,xt.__webglColorRenderbuffer[Wt]);let Re=n.get(D[Wt]).__webglTexture;e.bindFramebuffer(i.FRAMEBUFFER,xt.__webglFramebuffer),i.framebufferTexture2D(i.DRAW_FRAMEBUFFER,i.COLOR_ATTACHMENT0+Wt,i.TEXTURE_2D,Re,0)}e.bindFramebuffer(i.DRAW_FRAMEBUFFER,xt.__webglMultisampledFramebuffer)}else if(V.depthBuffer&&V.resolveDepthBuffer===!1&&c){let D=V.stencilBuffer?i.DEPTH_STENCIL_ATTACHMENT:i.DEPTH_ATTACHMENT;i.invalidateFramebuffer(i.DRAW_FRAMEBUFFER,[D])}}}function G(V){return Math.min(r.maxSamples,V.samples)}function nr(V){let D=n.get(V);return V.samples>0&&t.has("WEBGL_multisampled_render_to_texture")===!0&&D.__useRenderToTexture!==!1}function qi(V){let D=s.render.frame;d.get(V)!==D&&(d.set(V,D),V.update())}function wn(V,D){let Y=V.colorSpace,ve=V.format,Te=V.type;return V.isCompressedTexture===!0||V.isVideoTexture===!0||Y!==Ah&&Y!==Il&&(Ri.getTransfer(Y)===Zi?(ve!==Gs||Te!==es)&&Lt("WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):zt("WebGLTextures: Unsupported texture color space:",Y)),D}function bt(V){return typeof HTMLImageElement<"u"&&V instanceof HTMLImageElement?(l.width=V.naturalWidth||V.width,l.height=V.naturalHeight||V.height):typeof VideoFrame<"u"&&V instanceof VideoFrame?(l.width=V.displayWidth,l.height=V.displayHeight):(l.width=V.width,l.height=V.height),l}this.allocateTextureUnit=Z,this.resetTextureUnits=W,this.setTexture2D=ie,this.setTexture2DArray=de,this.setTexture3D=ne,this.setTextureCube=Me,this.rebindTextures=Tr,this.setupRenderTarget=Ni,this.updateRenderTargetMipmap=Qi,this.updateMultisampleRenderTarget=ir,this.setupDepthRenderbuffer=Fi,this.setupFrameBufferTexture=ut,this.useMultisampledRTT=nr,this.isReversedDepthBuffer=function(){return e.buffers.depth.getReversed()}}function UEe(i,t){function e(n,r=Il){let o,s=Ri.getTransfer(r);if(n===es)return i.UNSIGNED_BYTE;if(n===VC)return i.UNSIGNED_SHORT_4_4_4_4;if(n===UC)return i.UNSIGNED_SHORT_5_5_5_1;if(n===LL)return i.UNSIGNED_INT_5_9_9_9_REV;if(n===BL)return i.UNSIGNED_INT_10F_11F_11F_REV;if(n===OL)return i.BYTE;if(n===FL)return i.SHORT;if(n===xf)return i.UNSIGNED_SHORT;if(n===BC)return i.INT;if(n===Da)return i.UNSIGNED_INT;if(n===ka)return i.FLOAT;if(n===vc)return i.HALF_FLOAT;if(n===VL)return i.ALPHA;if(n===UL)return i.RGB;if(n===Gs)return i.RGBA;if(n===pc)return i.DEPTH_COMPONENT;if(n===Jd)return i.DEPTH_STENCIL;if(n===zL)return i.RED;if(n===zC)return i.RED_INTEGER;if(n===Bh)return i.RG;if(n===HC)return i.RG_INTEGER;if(n===jC)return i.RGBA_INTEGER;if(n===e0||n===t0||n===i0||n===n0)if(s===Zi)if(o=t.get("WEBGL_compressed_texture_s3tc_srgb"),o!==null){if(n===e0)return o.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(n===t0)return o.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(n===i0)return o.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(n===n0)return o.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(o=t.get("WEBGL_compressed_texture_s3tc"),o!==null){if(n===e0)return o.COMPRESSED_RGB_S3TC_DXT1_EXT;if(n===t0)return o.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(n===i0)return o.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(n===n0)return o.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(n===$C||n===GC||n===WC||n===qC)if(o=t.get("WEBGL_compressed_texture_pvrtc"),o!==null){if(n===$C)return o.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(n===GC)return o.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(n===WC)return o.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(n===qC)return o.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(n===XC||n===YC||n===ZC||n===KC||n===QC||n===JC||n===eS)if(o=t.get("WEBGL_compressed_texture_etc"),o!==null){if(n===XC||n===YC)return s===Zi?o.COMPRESSED_SRGB8_ETC2:o.COMPRESSED_RGB8_ETC2;if(n===ZC)return s===Zi?o.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:o.COMPRESSED_RGBA8_ETC2_EAC;if(n===KC)return o.COMPRESSED_R11_EAC;if(n===QC)return o.COMPRESSED_SIGNED_R11_EAC;if(n===JC)return o.COMPRESSED_RG11_EAC;if(n===eS)return o.COMPRESSED_SIGNED_RG11_EAC}else return null;if(n===tS||n===iS||n===nS||n===rS||n===oS||n===sS||n===aS||n===cS||n===lS||n===dS||n===uS||n===hS||n===mS||n===pS)if(o=t.get("WEBGL_compressed_texture_astc"),o!==null){if(n===tS)return s===Zi?o.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:o.COMPRESSED_RGBA_ASTC_4x4_KHR;if(n===iS)return s===Zi?o.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:o.COMPRESSED_RGBA_ASTC_5x4_KHR;if(n===nS)return s===Zi?o.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:o.COMPRESSED_RGBA_ASTC_5x5_KHR;if(n===rS)return s===Zi?o.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:o.COMPRESSED_RGBA_ASTC_6x5_KHR;if(n===oS)return s===Zi?o.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:o.COMPRESSED_RGBA_ASTC_6x6_KHR;if(n===sS)return s===Zi?o.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:o.COMPRESSED_RGBA_ASTC_8x5_KHR;if(n===aS)return s===Zi?o.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:o.COMPRESSED_RGBA_ASTC_8x6_KHR;if(n===cS)return s===Zi?o.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:o.COMPRESSED_RGBA_ASTC_8x8_KHR;if(n===lS)return s===Zi?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:o.COMPRESSED_RGBA_ASTC_10x5_KHR;if(n===dS)return s===Zi?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:o.COMPRESSED_RGBA_ASTC_10x6_KHR;if(n===uS)return s===Zi?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:o.COMPRESSED_RGBA_ASTC_10x8_KHR;if(n===hS)return s===Zi?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:o.COMPRESSED_RGBA_ASTC_10x10_KHR;if(n===mS)return s===Zi?o.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:o.COMPRESSED_RGBA_ASTC_12x10_KHR;if(n===pS)return s===Zi?o.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:o.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(n===fS||n===gS||n===_S)if(o=t.get("EXT_texture_compression_bptc"),o!==null){if(n===fS)return s===Zi?o.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:o.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(n===gS)return o.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(n===_S)return o.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(n===bS||n===vS||n===yS||n===xS)if(o=t.get("EXT_texture_compression_rgtc"),o!==null){if(n===bS)return o.COMPRESSED_RED_RGTC1_EXT;if(n===vS)return o.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(n===yS)return o.COMPRESSED_RED_GREEN_RGTC2_EXT;if(n===xS)return o.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return n===wf?i.UNSIGNED_INT_24_8:i[n]!==void 0?i[n]:null}return{convert:e}}var zEe=`
void main() {

	gl_Position = vec4( position, 1.0 );

}`,HEe=`
uniform sampler2DArray depthColor;
uniform float depthWidth;
uniform float depthHeight;

void main() {

	vec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );

	if ( coord.x >= 1.0 ) {

		gl_FragDepth = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;

	} else {

		gl_FragDepth = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;

	}

}`,u3=class{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(t,e){if(this.texture===null){let n=new $b(t.texture);(t.depthNear!==e.depthNear||t.depthFar!==e.depthFar)&&(this.depthNear=t.depthNear,this.depthFar=t.depthFar),this.texture=n}}getMesh(t){if(this.texture!==null&&this.mesh===null){let e=t.cameras[0].viewport,n=new ys({vertexShader:zEe,fragmentShader:HEe,uniforms:{depthColor:{value:this.texture},depthWidth:{value:e.z},depthHeight:{value:e.w}}});this.mesh=new He(new $s(20,20),n)}return this.mesh}reset(){this.texture=null,this.mesh=null}getDepthTexture(){return this.texture}},h3=class extends fc{constructor(t,e){super();let n=this,r=null,o=1,s=null,a="local-floor",c=1,l=null,d=null,u=null,h=null,m=null,p=null,_=typeof XRWebGLBinding<"u",f=new u3,g={},C=e.getContextAttributes(),M=null,S=null,R=[],N=[],L=new Ut,z=null,E=new ho;E.viewport=new Un;let A=new ho;A.viewport=new Un;let U=[E,A],W=new EC,Z=null,se=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(Ce){let De=R[Ce];return De===void 0&&(De=new ff,R[Ce]=De),De.getTargetRaySpace()},this.getControllerGrip=function(Ce){let De=R[Ce];return De===void 0&&(De=new ff,R[Ce]=De),De.getGripSpace()},this.getHand=function(Ce){let De=R[Ce];return De===void 0&&(De=new ff,R[Ce]=De),De.getHandSpace()};function ie(Ce){let De=N.indexOf(Ce.inputSource);if(De===-1)return;let ut=R[De];ut!==void 0&&(ut.update(Ce.inputSource,Ce.frame,l||s),ut.dispatchEvent({type:Ce.type,data:Ce.inputSource}))}function de(){r.removeEventListener("select",ie),r.removeEventListener("selectstart",ie),r.removeEventListener("selectend",ie),r.removeEventListener("squeeze",ie),r.removeEventListener("squeezestart",ie),r.removeEventListener("squeezeend",ie),r.removeEventListener("end",de),r.removeEventListener("inputsourceschange",ne);for(let Ce=0;Ce<R.length;Ce++){let De=N[Ce];De!==null&&(N[Ce]=null,R[Ce].disconnect(De))}Z=null,se=null,f.reset();for(let Ce in g)delete g[Ce];t.setRenderTarget(M),m=null,h=null,u=null,r=null,S=null,In.stop(),n.isPresenting=!1,t.setPixelRatio(z),t.setSize(L.width,L.height,!1),n.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(Ce){o=Ce,n.isPresenting===!0&&Lt("WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(Ce){a=Ce,n.isPresenting===!0&&Lt("WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return l||s},this.setReferenceSpace=function(Ce){l=Ce},this.getBaseLayer=function(){return h!==null?h:m},this.getBinding=function(){return u===null&&_&&(u=new XRWebGLBinding(r,e)),u},this.getFrame=function(){return p},this.getSession=function(){return r},this.setSession=function(Ce){return te(this,null,function*(){if(r=Ce,r!==null){if(M=t.getRenderTarget(),r.addEventListener("select",ie),r.addEventListener("selectstart",ie),r.addEventListener("selectend",ie),r.addEventListener("squeeze",ie),r.addEventListener("squeezestart",ie),r.addEventListener("squeezeend",ie),r.addEventListener("end",de),r.addEventListener("inputsourceschange",ne),C.xrCompatible!==!0&&(yield e.makeXRCompatible()),z=t.getPixelRatio(),t.getSize(L),_&&"createProjectionLayer"in XRWebGLBinding.prototype){let ut=null,hi=null,gt=null;C.depth&&(gt=C.stencil?e.DEPTH24_STENCIL8:e.DEPTH_COMPONENT24,ut=C.stencil?Jd:pc,hi=C.stencil?wf:Da);let Fi={colorFormat:e.RGBA8,depthFormat:gt,scaleFactor:o};u=this.getBinding(),h=u.createProjectionLayer(Fi),r.updateRenderState({layers:[h]}),t.setPixelRatio(1),t.setSize(h.textureWidth,h.textureHeight,!1),S=new vs(h.textureWidth,h.textureHeight,{format:Gs,type:es,depthTexture:new Gd(h.textureWidth,h.textureHeight,hi,void 0,void 0,void 0,void 0,void 0,void 0,ut),stencilBuffer:C.stencil,colorSpace:t.outputColorSpace,samples:C.antialias?4:0,resolveDepthBuffer:h.ignoreDepthValues===!1,resolveStencilBuffer:h.ignoreDepthValues===!1})}else{let ut={antialias:C.antialias,alpha:!0,depth:C.depth,stencil:C.stencil,framebufferScaleFactor:o};m=new XRWebGLLayer(r,e,ut),r.updateRenderState({baseLayer:m}),t.setPixelRatio(1),t.setSize(m.framebufferWidth,m.framebufferHeight,!1),S=new vs(m.framebufferWidth,m.framebufferHeight,{format:Gs,type:es,colorSpace:t.outputColorSpace,stencilBuffer:C.stencil,resolveDepthBuffer:m.ignoreDepthValues===!1,resolveStencilBuffer:m.ignoreDepthValues===!1})}S.isXRRenderTarget=!0,this.setFoveation(c),l=null,s=yield r.requestReferenceSpace(a),In.setContext(r),In.start(),n.isPresenting=!0,n.dispatchEvent({type:"sessionstart"})}})},this.getEnvironmentBlendMode=function(){if(r!==null)return r.environmentBlendMode},this.getDepthTexture=function(){return f.getDepthTexture()};function ne(Ce){for(let De=0;De<Ce.removed.length;De++){let ut=Ce.removed[De],hi=N.indexOf(ut);hi>=0&&(N[hi]=null,R[hi].disconnect(ut))}for(let De=0;De<Ce.added.length;De++){let ut=Ce.added[De],hi=N.indexOf(ut);if(hi===-1){for(let Fi=0;Fi<R.length;Fi++)if(Fi>=N.length){N.push(ut),hi=Fi;break}else if(N[Fi]===null){N[Fi]=ut,hi=Fi;break}if(hi===-1)break}let gt=R[hi];gt&&gt.connect(ut)}}let Me=new j,Pe=new j;function ze(Ce,De,ut){Me.setFromMatrixPosition(De.matrixWorld),Pe.setFromMatrixPosition(ut.matrixWorld);let hi=Me.distanceTo(Pe),gt=De.projectionMatrix.elements,Fi=ut.projectionMatrix.elements,Tr=gt[14]/(gt[10]-1),Ni=gt[14]/(gt[10]+1),Qi=(gt[9]+1)/gt[5],un=(gt[9]-1)/gt[5],bi=(gt[8]-1)/gt[0],ir=(Fi[8]+1)/Fi[0],G=Tr*bi,nr=Tr*ir,qi=hi/(-bi+ir),wn=qi*-bi;if(De.matrixWorld.decompose(Ce.position,Ce.quaternion,Ce.scale),Ce.translateX(wn),Ce.translateZ(qi),Ce.matrixWorld.compose(Ce.position,Ce.quaternion,Ce.scale),Ce.matrixWorldInverse.copy(Ce.matrixWorld).invert(),gt[10]===-1)Ce.projectionMatrix.copy(De.projectionMatrix),Ce.projectionMatrixInverse.copy(De.projectionMatrixInverse);else{let bt=Tr+qi,V=Ni+qi,D=G-wn,Y=nr+(hi-wn),ve=Qi*Ni/V*bt,Te=un*Ni/V*bt;Ce.projectionMatrix.makePerspective(D,Y,ve,Te,bt,V),Ce.projectionMatrixInverse.copy(Ce.projectionMatrix).invert()}}function tt(Ce,De){De===null?Ce.matrixWorld.copy(Ce.matrix):Ce.matrixWorld.multiplyMatrices(De.matrixWorld,Ce.matrix),Ce.matrixWorldInverse.copy(Ce.matrixWorld).invert()}this.updateCamera=function(Ce){if(r===null)return;let De=Ce.near,ut=Ce.far;f.texture!==null&&(f.depthNear>0&&(De=f.depthNear),f.depthFar>0&&(ut=f.depthFar)),W.near=A.near=E.near=De,W.far=A.far=E.far=ut,(Z!==W.near||se!==W.far)&&(r.updateRenderState({depthNear:W.near,depthFar:W.far}),Z=W.near,se=W.far),W.layers.mask=Ce.layers.mask|6,E.layers.mask=W.layers.mask&3,A.layers.mask=W.layers.mask&5;let hi=Ce.parent,gt=W.cameras;tt(W,hi);for(let Fi=0;Fi<gt.length;Fi++)tt(gt[Fi],hi);gt.length===2?ze(W,E,A):W.projectionMatrix.copy(E.projectionMatrix),ai(Ce,W,hi)};function ai(Ce,De,ut){ut===null?Ce.matrix.copy(De.matrixWorld):(Ce.matrix.copy(ut.matrixWorld),Ce.matrix.invert(),Ce.matrix.multiply(De.matrixWorld)),Ce.matrix.decompose(Ce.position,Ce.quaternion,Ce.scale),Ce.updateMatrixWorld(!0),Ce.projectionMatrix.copy(De.projectionMatrix),Ce.projectionMatrixInverse.copy(De.projectionMatrixInverse),Ce.isPerspectiveCamera&&(Ce.fov=hf*2*Math.atan(1/Ce.projectionMatrix.elements[5]),Ce.zoom=1)}this.getCamera=function(){return W},this.getFoveation=function(){if(!(h===null&&m===null))return c},this.setFoveation=function(Ce){c=Ce,h!==null&&(h.fixedFoveation=Ce),m!==null&&m.fixedFoveation!==void 0&&(m.fixedFoveation=Ce)},this.hasDepthSensing=function(){return f.texture!==null},this.getDepthSensingMesh=function(){return f.getMesh(W)},this.getCameraTexture=function(Ce){return g[Ce]};let ui=null;function xn(Ce,De){if(d=De.getViewerPose(l||s),p=De,d!==null){let ut=d.views;m!==null&&(t.setRenderTargetFramebuffer(S,m.framebuffer),t.setRenderTarget(S));let hi=!1;ut.length!==W.cameras.length&&(W.cameras.length=0,hi=!0);for(let Ni=0;Ni<ut.length;Ni++){let Qi=ut[Ni],un=null;if(m!==null)un=m.getViewport(Qi);else{let ir=u.getViewSubImage(h,Qi);un=ir.viewport,Ni===0&&(t.setRenderTargetTextures(S,ir.colorTexture,ir.depthStencilTexture),t.setRenderTarget(S))}let bi=U[Ni];bi===void 0&&(bi=new ho,bi.layers.enable(Ni),bi.viewport=new Un,U[Ni]=bi),bi.matrix.fromArray(Qi.transform.matrix),bi.matrix.decompose(bi.position,bi.quaternion,bi.scale),bi.projectionMatrix.fromArray(Qi.projectionMatrix),bi.projectionMatrixInverse.copy(bi.projectionMatrix).invert(),bi.viewport.set(un.x,un.y,un.width,un.height),Ni===0&&(W.matrix.copy(bi.matrix),W.matrix.decompose(W.position,W.quaternion,W.scale)),hi===!0&&W.cameras.push(bi)}let gt=r.enabledFeatures;if(gt&&gt.includes("depth-sensing")&&r.depthUsage=="gpu-optimized"&&_){u=n.getBinding();let Ni=u.getDepthInformation(ut[0]);Ni&&Ni.isValid&&Ni.texture&&f.init(Ni,r.renderState)}if(gt&&gt.includes("camera-access")&&_){t.state.unbindTexture(),u=n.getBinding();for(let Ni=0;Ni<ut.length;Ni++){let Qi=ut[Ni].camera;if(Qi){let un=g[Qi];un||(un=new $b,g[Qi]=un);let bi=u.getCameraImage(Qi);un.sourceTexture=bi}}}}for(let ut=0;ut<R.length;ut++){let hi=N[ut],gt=R[ut];hi!==null&&gt!==void 0&&gt.update(hi,De,l||s)}ui&&ui(Ce,De),De.detectedPlanes&&n.dispatchEvent({type:"planesdetected",data:De}),p=null}let In=new CZ;In.setAnimationLoop(xn),this.setAnimationLoop=function(Ce){ui=Ce},this.dispose=function(){}}},zh=new _c,jEe=new vn;function $Ee(i,t){function e(f,g){f.matrixAutoUpdate===!0&&f.updateMatrix(),g.value.copy(f.matrix)}function n(f,g){g.color.getRGB(f.fogColor.value,XL(i)),g.isFog?(f.fogNear.value=g.near,f.fogFar.value=g.far):g.isFogExp2&&(f.fogDensity.value=g.density)}function r(f,g,C,M,S){g.isMeshBasicMaterial||g.isMeshLambertMaterial?o(f,g):g.isMeshToonMaterial?(o(f,g),u(f,g)):g.isMeshPhongMaterial?(o(f,g),d(f,g)):g.isMeshStandardMaterial?(o(f,g),h(f,g),g.isMeshPhysicalMaterial&&m(f,g,S)):g.isMeshMatcapMaterial?(o(f,g),p(f,g)):g.isMeshDepthMaterial?o(f,g):g.isMeshDistanceMaterial?(o(f,g),_(f,g)):g.isMeshNormalMaterial?o(f,g):g.isLineBasicMaterial?(s(f,g),g.isLineDashedMaterial&&a(f,g)):g.isPointsMaterial?c(f,g,C,M):g.isSpriteMaterial?l(f,g):g.isShadowMaterial?(f.color.value.copy(g.color),f.opacity.value=g.opacity):g.isShaderMaterial&&(g.uniformsNeedUpdate=!1)}function o(f,g){f.opacity.value=g.opacity,g.color&&f.diffuse.value.copy(g.color),g.emissive&&f.emissive.value.copy(g.emissive).multiplyScalar(g.emissiveIntensity),g.map&&(f.map.value=g.map,e(g.map,f.mapTransform)),g.alphaMap&&(f.alphaMap.value=g.alphaMap,e(g.alphaMap,f.alphaMapTransform)),g.bumpMap&&(f.bumpMap.value=g.bumpMap,e(g.bumpMap,f.bumpMapTransform),f.bumpScale.value=g.bumpScale,g.side===No&&(f.bumpScale.value*=-1)),g.normalMap&&(f.normalMap.value=g.normalMap,e(g.normalMap,f.normalMapTransform),f.normalScale.value.copy(g.normalScale),g.side===No&&f.normalScale.value.negate()),g.displacementMap&&(f.displacementMap.value=g.displacementMap,e(g.displacementMap,f.displacementMapTransform),f.displacementScale.value=g.displacementScale,f.displacementBias.value=g.displacementBias),g.emissiveMap&&(f.emissiveMap.value=g.emissiveMap,e(g.emissiveMap,f.emissiveMapTransform)),g.specularMap&&(f.specularMap.value=g.specularMap,e(g.specularMap,f.specularMapTransform)),g.alphaTest>0&&(f.alphaTest.value=g.alphaTest);let C=t.get(g),M=C.envMap,S=C.envMapRotation;M&&(f.envMap.value=M,zh.copy(S),zh.x*=-1,zh.y*=-1,zh.z*=-1,M.isCubeTexture&&M.isRenderTargetTexture===!1&&(zh.y*=-1,zh.z*=-1),f.envMapRotation.value.setFromMatrix4(jEe.makeRotationFromEuler(zh)),f.flipEnvMap.value=M.isCubeTexture&&M.isRenderTargetTexture===!1?-1:1,f.reflectivity.value=g.reflectivity,f.ior.value=g.ior,f.refractionRatio.value=g.refractionRatio),g.lightMap&&(f.lightMap.value=g.lightMap,f.lightMapIntensity.value=g.lightMapIntensity,e(g.lightMap,f.lightMapTransform)),g.aoMap&&(f.aoMap.value=g.aoMap,f.aoMapIntensity.value=g.aoMapIntensity,e(g.aoMap,f.aoMapTransform))}function s(f,g){f.diffuse.value.copy(g.color),f.opacity.value=g.opacity,g.map&&(f.map.value=g.map,e(g.map,f.mapTransform))}function a(f,g){f.dashSize.value=g.dashSize,f.totalSize.value=g.dashSize+g.gapSize,f.scale.value=g.scale}function c(f,g,C,M){f.diffuse.value.copy(g.color),f.opacity.value=g.opacity,f.size.value=g.size*C,f.scale.value=M*.5,g.map&&(f.map.value=g.map,e(g.map,f.uvTransform)),g.alphaMap&&(f.alphaMap.value=g.alphaMap,e(g.alphaMap,f.alphaMapTransform)),g.alphaTest>0&&(f.alphaTest.value=g.alphaTest)}function l(f,g){f.diffuse.value.copy(g.color),f.opacity.value=g.opacity,f.rotation.value=g.rotation,g.map&&(f.map.value=g.map,e(g.map,f.mapTransform)),g.alphaMap&&(f.alphaMap.value=g.alphaMap,e(g.alphaMap,f.alphaMapTransform)),g.alphaTest>0&&(f.alphaTest.value=g.alphaTest)}function d(f,g){f.specular.value.copy(g.specular),f.shininess.value=Math.max(g.shininess,1e-4)}function u(f,g){g.gradientMap&&(f.gradientMap.value=g.gradientMap)}function h(f,g){f.metalness.value=g.metalness,g.metalnessMap&&(f.metalnessMap.value=g.metalnessMap,e(g.metalnessMap,f.metalnessMapTransform)),f.roughness.value=g.roughness,g.roughnessMap&&(f.roughnessMap.value=g.roughnessMap,e(g.roughnessMap,f.roughnessMapTransform)),g.envMap&&(f.envMapIntensity.value=g.envMapIntensity)}function m(f,g,C){f.ior.value=g.ior,g.sheen>0&&(f.sheenColor.value.copy(g.sheenColor).multiplyScalar(g.sheen),f.sheenRoughness.value=g.sheenRoughness,g.sheenColorMap&&(f.sheenColorMap.value=g.sheenColorMap,e(g.sheenColorMap,f.sheenColorMapTransform)),g.sheenRoughnessMap&&(f.sheenRoughnessMap.value=g.sheenRoughnessMap,e(g.sheenRoughnessMap,f.sheenRoughnessMapTransform))),g.clearcoat>0&&(f.clearcoat.value=g.clearcoat,f.clearcoatRoughness.value=g.clearcoatRoughness,g.clearcoatMap&&(f.clearcoatMap.value=g.clearcoatMap,e(g.clearcoatMap,f.clearcoatMapTransform)),g.clearcoatRoughnessMap&&(f.clearcoatRoughnessMap.value=g.clearcoatRoughnessMap,e(g.clearcoatRoughnessMap,f.clearcoatRoughnessMapTransform)),g.clearcoatNormalMap&&(f.clearcoatNormalMap.value=g.clearcoatNormalMap,e(g.clearcoatNormalMap,f.clearcoatNormalMapTransform),f.clearcoatNormalScale.value.copy(g.clearcoatNormalScale),g.side===No&&f.clearcoatNormalScale.value.negate())),g.dispersion>0&&(f.dispersion.value=g.dispersion),g.iridescence>0&&(f.iridescence.value=g.iridescence,f.iridescenceIOR.value=g.iridescenceIOR,f.iridescenceThicknessMinimum.value=g.iridescenceThicknessRange[0],f.iridescenceThicknessMaximum.value=g.iridescenceThicknessRange[1],g.iridescenceMap&&(f.iridescenceMap.value=g.iridescenceMap,e(g.iridescenceMap,f.iridescenceMapTransform)),g.iridescenceThicknessMap&&(f.iridescenceThicknessMap.value=g.iridescenceThicknessMap,e(g.iridescenceThicknessMap,f.iridescenceThicknessMapTransform))),g.transmission>0&&(f.transmission.value=g.transmission,f.transmissionSamplerMap.value=C.texture,f.transmissionSamplerSize.value.set(C.width,C.height),g.transmissionMap&&(f.transmissionMap.value=g.transmissionMap,e(g.transmissionMap,f.transmissionMapTransform)),f.thickness.value=g.thickness,g.thicknessMap&&(f.thicknessMap.value=g.thicknessMap,e(g.thicknessMap,f.thicknessMapTransform)),f.attenuationDistance.value=g.attenuationDistance,f.attenuationColor.value.copy(g.attenuationColor)),g.anisotropy>0&&(f.anisotropyVector.value.set(g.anisotropy*Math.cos(g.anisotropyRotation),g.anisotropy*Math.sin(g.anisotropyRotation)),g.anisotropyMap&&(f.anisotropyMap.value=g.anisotropyMap,e(g.anisotropyMap,f.anisotropyMapTransform))),f.specularIntensity.value=g.specularIntensity,f.specularColor.value.copy(g.specularColor),g.specularColorMap&&(f.specularColorMap.value=g.specularColorMap,e(g.specularColorMap,f.specularColorMapTransform)),g.specularIntensityMap&&(f.specularIntensityMap.value=g.specularIntensityMap,e(g.specularIntensityMap,f.specularIntensityMapTransform))}function p(f,g){g.matcap&&(f.matcap.value=g.matcap)}function _(f,g){let C=t.get(g).light;f.referencePosition.value.setFromMatrixPosition(C.matrixWorld),f.nearDistance.value=C.shadow.camera.near,f.farDistance.value=C.shadow.camera.far}return{refreshFogUniforms:n,refreshMaterialUniforms:r}}function GEe(i,t,e,n){let r={},o={},s=[],a=i.getParameter(i.MAX_UNIFORM_BUFFER_BINDINGS);function c(C,M){let S=M.program;n.uniformBlockBinding(C,S)}function l(C,M){let S=r[C.id];S===void 0&&(p(C),S=d(C),r[C.id]=S,C.addEventListener("dispose",f));let R=M.program;n.updateUBOMapping(C,R);let N=t.render.frame;o[C.id]!==N&&(h(C),o[C.id]=N)}function d(C){let M=u();C.__bindingPointIndex=M;let S=i.createBuffer(),R=C.__size,N=C.usage;return i.bindBuffer(i.UNIFORM_BUFFER,S),i.bufferData(i.UNIFORM_BUFFER,R,N),i.bindBuffer(i.UNIFORM_BUFFER,null),i.bindBufferBase(i.UNIFORM_BUFFER,M,S),S}function u(){for(let C=0;C<a;C++)if(s.indexOf(C)===-1)return s.push(C),C;return zt("WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function h(C){let M=r[C.id],S=C.uniforms,R=C.__cache;i.bindBuffer(i.UNIFORM_BUFFER,M);for(let N=0,L=S.length;N<L;N++){let z=Array.isArray(S[N])?S[N]:[S[N]];for(let E=0,A=z.length;E<A;E++){let U=z[E];if(m(U,N,E,R)===!0){let W=U.__offset,Z=Array.isArray(U.value)?U.value:[U.value],se=0;for(let ie=0;ie<Z.length;ie++){let de=Z[ie],ne=_(de);typeof de=="number"||typeof de=="boolean"?(U.__data[0]=de,i.bufferSubData(i.UNIFORM_BUFFER,W+se,U.__data)):de.isMatrix3?(U.__data[0]=de.elements[0],U.__data[1]=de.elements[1],U.__data[2]=de.elements[2],U.__data[3]=0,U.__data[4]=de.elements[3],U.__data[5]=de.elements[4],U.__data[6]=de.elements[5],U.__data[7]=0,U.__data[8]=de.elements[6],U.__data[9]=de.elements[7],U.__data[10]=de.elements[8],U.__data[11]=0):(de.toArray(U.__data,se),se+=ne.storage/Float32Array.BYTES_PER_ELEMENT)}i.bufferSubData(i.UNIFORM_BUFFER,W,U.__data)}}}i.bindBuffer(i.UNIFORM_BUFFER,null)}function m(C,M,S,R){let N=C.value,L=M+"_"+S;if(R[L]===void 0)return typeof N=="number"||typeof N=="boolean"?R[L]=N:R[L]=N.clone(),!0;{let z=R[L];if(typeof N=="number"||typeof N=="boolean"){if(z!==N)return R[L]=N,!0}else if(z.equals(N)===!1)return z.copy(N),!0}return!1}function p(C){let M=C.uniforms,S=0,R=16;for(let L=0,z=M.length;L<z;L++){let E=Array.isArray(M[L])?M[L]:[M[L]];for(let A=0,U=E.length;A<U;A++){let W=E[A],Z=Array.isArray(W.value)?W.value:[W.value];for(let se=0,ie=Z.length;se<ie;se++){let de=Z[se],ne=_(de),Me=S%R,Pe=Me%ne.boundary,ze=Me+Pe;S+=Pe,ze!==0&&R-ze<ne.storage&&(S+=R-ze),W.__data=new Float32Array(ne.storage/Float32Array.BYTES_PER_ELEMENT),W.__offset=S,S+=ne.storage}}}let N=S%R;return N>0&&(S+=R-N),C.__size=S,C.__cache={},this}function _(C){let M={boundary:0,storage:0};return typeof C=="number"||typeof C=="boolean"?(M.boundary=4,M.storage=4):C.isVector2?(M.boundary=8,M.storage=8):C.isVector3||C.isColor?(M.boundary=16,M.storage=12):C.isVector4?(M.boundary=16,M.storage=16):C.isMatrix3?(M.boundary=48,M.storage=48):C.isMatrix4?(M.boundary=64,M.storage=64):C.isTexture?Lt("WebGLRenderer: Texture samplers can not be part of an uniforms group."):Lt("WebGLRenderer: Unsupported uniform value type.",C),M}function f(C){let M=C.target;M.removeEventListener("dispose",f);let S=s.indexOf(M.__bindingPointIndex);s.splice(S,1),i.deleteBuffer(r[M.id]),delete r[M.id],delete o[M.id]}function g(){for(let C in r)i.deleteBuffer(r[C]);s=[],r={},o={}}return{bind:c,update:l,dispose:g}}var WEe=new Uint16Array([12469,15057,12620,14925,13266,14620,13807,14376,14323,13990,14545,13625,14713,13328,14840,12882,14931,12528,14996,12233,15039,11829,15066,11525,15080,11295,15085,10976,15082,10705,15073,10495,13880,14564,13898,14542,13977,14430,14158,14124,14393,13732,14556,13410,14702,12996,14814,12596,14891,12291,14937,11834,14957,11489,14958,11194,14943,10803,14921,10506,14893,10278,14858,9960,14484,14039,14487,14025,14499,13941,14524,13740,14574,13468,14654,13106,14743,12678,14818,12344,14867,11893,14889,11509,14893,11180,14881,10751,14852,10428,14812,10128,14765,9754,14712,9466,14764,13480,14764,13475,14766,13440,14766,13347,14769,13070,14786,12713,14816,12387,14844,11957,14860,11549,14868,11215,14855,10751,14825,10403,14782,10044,14729,9651,14666,9352,14599,9029,14967,12835,14966,12831,14963,12804,14954,12723,14936,12564,14917,12347,14900,11958,14886,11569,14878,11247,14859,10765,14828,10401,14784,10011,14727,9600,14660,9289,14586,8893,14508,8533,15111,12234,15110,12234,15104,12216,15092,12156,15067,12010,15028,11776,14981,11500,14942,11205,14902,10752,14861,10393,14812,9991,14752,9570,14682,9252,14603,8808,14519,8445,14431,8145,15209,11449,15208,11451,15202,11451,15190,11438,15163,11384,15117,11274,15055,10979,14994,10648,14932,10343,14871,9936,14803,9532,14729,9218,14645,8742,14556,8381,14461,8020,14365,7603,15273,10603,15272,10607,15267,10619,15256,10631,15231,10614,15182,10535,15118,10389,15042,10167,14963,9787,14883,9447,14800,9115,14710,8665,14615,8318,14514,7911,14411,7507,14279,7198,15314,9675,15313,9683,15309,9712,15298,9759,15277,9797,15229,9773,15166,9668,15084,9487,14995,9274,14898,8910,14800,8539,14697,8234,14590,7790,14479,7409,14367,7067,14178,6621,15337,8619,15337,8631,15333,8677,15325,8769,15305,8871,15264,8940,15202,8909,15119,8775,15022,8565,14916,8328,14804,8009,14688,7614,14569,7287,14448,6888,14321,6483,14088,6171,15350,7402,15350,7419,15347,7480,15340,7613,15322,7804,15287,7973,15229,8057,15148,8012,15046,7846,14933,7611,14810,7357,14682,7069,14552,6656,14421,6316,14251,5948,14007,5528,15356,5942,15356,5977,15353,6119,15348,6294,15332,6551,15302,6824,15249,7044,15171,7122,15070,7050,14949,6861,14818,6611,14679,6349,14538,6067,14398,5651,14189,5311,13935,4958,15359,4123,15359,4153,15356,4296,15353,4646,15338,5160,15311,5508,15263,5829,15188,6042,15088,6094,14966,6001,14826,5796,14678,5543,14527,5287,14377,4985,14133,4586,13869,4257,15360,1563,15360,1642,15358,2076,15354,2636,15341,3350,15317,4019,15273,4429,15203,4732,15105,4911,14981,4932,14836,4818,14679,4621,14517,4386,14359,4156,14083,3795,13808,3437,15360,122,15360,137,15358,285,15355,636,15344,1274,15322,2177,15281,2765,15215,3223,15120,3451,14995,3569,14846,3567,14681,3466,14511,3305,14344,3121,14037,2800,13753,2467,15360,0,15360,1,15359,21,15355,89,15346,253,15325,479,15287,796,15225,1148,15133,1492,15008,1749,14856,1882,14685,1886,14506,1783,14324,1608,13996,1398,13702,1183]),xc=null;function qEe(){return xc===null&&(xc=new dC(WEe,16,16,Bh,vc),xc.name="DFG_LUT",xc.minFilter=Yn,xc.magFilter=Yn,xc.wrapS=hc,xc.wrapT=hc,xc.generateMipmaps=!1,xc.needsUpdate=!0),xc}var TS=class{constructor(t={}){let{canvas:e=QY(),context:n=null,depth:r=!0,stencil:o=!1,alpha:s=!1,antialias:a=!1,premultipliedAlpha:c=!0,preserveDrawingBuffer:l=!1,powerPreference:d="default",failIfMajorPerformanceCaveat:u=!1,reversedDepthBuffer:h=!1,outputBufferType:m=es}=t;this.isWebGLRenderer=!0;let p;if(n!==null){if(typeof WebGLRenderingContext<"u"&&n instanceof WebGLRenderingContext)throw new Error("THREE.WebGLRenderer: WebGL 1 is not supported since r163.");p=n.getContextAttributes().alpha}else p=s;let _=m,f=new Set([jC,HC,zC]),g=new Set([es,Da,xf,wf,VC,UC]),C=new Uint32Array(4),M=new Int32Array(4),S=null,R=null,N=[],L=[],z=null;this.domElement=e,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.toneMapping=Ia,this.toneMappingExposure=1,this.transmissionResolutionScale=1;let E=this,A=!1;this._outputColorSpace=_s;let U=0,W=0,Z=null,se=-1,ie=null,de=new Un,ne=new Un,Me=null,Pe=new xi(0),ze=0,tt=e.width,ai=e.height,ui=1,xn=null,In=null,Ce=new Un(0,0,tt,ai),De=new Un(0,0,tt,ai),ut=!1,hi=new gf,gt=!1,Fi=!1,Tr=new vn,Ni=new j,Qi=new Un,un={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0},bi=!1;function ir(){return Z===null?ui:1}let G=n;function nr(F,K){return e.getContext(F,K)}try{let F={alpha:!0,depth:r,stencil:o,antialias:a,premultipliedAlpha:c,preserveDrawingBuffer:l,powerPreference:d,failIfMajorPerformanceCaveat:u};if("setAttribute"in e&&e.setAttribute("data-engine",`three.js r${TC}`),e.addEventListener("webglcontextlost",ei,!1),e.addEventListener("webglcontextrestored",Mn,!1),e.addEventListener("webglcontextcreationerror",Ji,!1),G===null){let K="webgl2";if(G=nr(K,F),G===null)throw nr(K)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}}catch(F){throw zt("WebGLRenderer: "+F.message),F}let qi,wn,bt,V,D,Y,ve,Te,_e,xt,Xe,_t,Wt,Re,Ze,pt,vt,Ye,vi,q,nt,Ve,at,Ae;function Se(){qi=new eSe(G),qi.init(),Ve=new UEe(G,qi),wn=new GCe(G,qi,t,Ve),bt=new BEe(G,qi),wn.reversedDepthBuffer&&h&&bt.buffers.depth.setReversed(!0),V=new nSe(G),D=new MEe,Y=new VEe(G,qi,bt,D,wn,Ve,V),ve=new qCe(E),Te=new JCe(E),_e=new awe(G),at=new jCe(G,_e),xt=new tSe(G,_e,V,at),Xe=new oSe(G,xt,_e,V),vi=new rSe(G,wn,Y),pt=new WCe(D),_t=new wEe(E,ve,Te,qi,wn,at,pt),Wt=new $Ee(E,D),Re=new SEe,Ze=new AEe(qi),Ye=new HCe(E,ve,Te,bt,Xe,p,c),vt=new FEe(E,Xe,wn),Ae=new GEe(G,V,wn,bt),q=new $Ce(G,qi,V),nt=new iSe(G,qi,V),V.programs=_t.programs,E.capabilities=wn,E.extensions=qi,E.properties=D,E.renderLists=Re,E.shadowMap=vt,E.state=bt,E.info=V}Se(),_!==es&&(z=new aSe(_,e.width,e.height,r,o));let We=new h3(E,G);this.xr=We,this.getContext=function(){return G},this.getContextAttributes=function(){return G.getContextAttributes()},this.forceContextLoss=function(){let F=qi.get("WEBGL_lose_context");F&&F.loseContext()},this.forceContextRestore=function(){let F=qi.get("WEBGL_lose_context");F&&F.restoreContext()},this.getPixelRatio=function(){return ui},this.setPixelRatio=function(F){F!==void 0&&(ui=F,this.setSize(tt,ai,!1))},this.getSize=function(F){return F.set(tt,ai)},this.setSize=function(F,K,he=!0){if(We.isPresenting){Lt("WebGLRenderer: Can't change size while VR device is presenting.");return}tt=F,ai=K,e.width=Math.floor(F*ui),e.height=Math.floor(K*ui),he===!0&&(e.style.width=F+"px",e.style.height=K+"px"),z!==null&&z.setSize(e.width,e.height),this.setViewport(0,0,F,K)},this.getDrawingBufferSize=function(F){return F.set(tt*ui,ai*ui).floor()},this.setDrawingBufferSize=function(F,K,he){tt=F,ai=K,ui=he,e.width=Math.floor(F*he),e.height=Math.floor(K*he),this.setViewport(0,0,F,K)},this.setEffects=function(F){if(_===es){console.error("THREE.WebGLRenderer: setEffects() requires outputBufferType set to HalfFloatType or FloatType.");return}if(F){for(let K=0;K<F.length;K++)if(F[K].isOutputPass===!0){console.warn("THREE.WebGLRenderer: OutputPass is not needed in setEffects(). Tone mapping and color space conversion are applied automatically.");break}}z.setEffects(F||[])},this.getCurrentViewport=function(F){return F.copy(de)},this.getViewport=function(F){return F.copy(Ce)},this.setViewport=function(F,K,he,ue){F.isVector4?Ce.set(F.x,F.y,F.z,F.w):Ce.set(F,K,he,ue),bt.viewport(de.copy(Ce).multiplyScalar(ui).round())},this.getScissor=function(F){return F.copy(De)},this.setScissor=function(F,K,he,ue){F.isVector4?De.set(F.x,F.y,F.z,F.w):De.set(F,K,he,ue),bt.scissor(ne.copy(De).multiplyScalar(ui).round())},this.getScissorTest=function(){return ut},this.setScissorTest=function(F){bt.setScissorTest(ut=F)},this.setOpaqueSort=function(F){xn=F},this.setTransparentSort=function(F){In=F},this.getClearColor=function(F){return F.copy(Ye.getClearColor())},this.setClearColor=function(){Ye.setClearColor(...arguments)},this.getClearAlpha=function(){return Ye.getClearAlpha()},this.setClearAlpha=function(){Ye.setClearAlpha(...arguments)},this.clear=function(F=!0,K=!0,he=!0){let ue=0;if(F){let oe=!1;if(Z!==null){let Ke=Z.texture.format;oe=f.has(Ke)}if(oe){let Ke=Z.texture.type,lt=g.has(Ke),it=Ye.getClearColor(),ht=Ye.getClearAlpha(),Ct=it.r,Ht=it.g,kt=it.b;lt?(C[0]=Ct,C[1]=Ht,C[2]=kt,C[3]=ht,G.clearBufferuiv(G.COLOR,0,C)):(M[0]=Ct,M[1]=Ht,M[2]=kt,M[3]=ht,G.clearBufferiv(G.COLOR,0,M))}else ue|=G.COLOR_BUFFER_BIT}K&&(ue|=G.DEPTH_BUFFER_BIT),he&&(ue|=G.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),G.clear(ue)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){e.removeEventListener("webglcontextlost",ei,!1),e.removeEventListener("webglcontextrestored",Mn,!1),e.removeEventListener("webglcontextcreationerror",Ji,!1),Ye.dispose(),Re.dispose(),Ze.dispose(),D.dispose(),ve.dispose(),Te.dispose(),Xe.dispose(),at.dispose(),Ae.dispose(),_t.dispose(),We.dispose(),We.removeEventListener("sessionstart",H3),We.removeEventListener("sessionend",j3),iu.stop()};function ei(F){F.preventDefault(),GL("WebGLRenderer: Context Lost."),A=!0}function Mn(){GL("WebGLRenderer: Context Restored."),A=!1;let F=V.autoReset,K=vt.enabled,he=vt.autoUpdate,ue=vt.needsUpdate,oe=vt.type;Se(),V.autoReset=F,vt.enabled=K,vt.autoUpdate=he,vt.needsUpdate=ue,vt.type=oe}function Ji(F){zt("WebGLRenderer: A WebGL context could not be created. Reason: ",F.statusMessage)}function Pa(F){let K=F.target;K.removeEventListener("dispose",Pa),Cc(K)}function Cc(F){TK(F),D.remove(F)}function TK(F){let K=D.get(F).programs;K!==void 0&&(K.forEach(function(he){_t.releaseProgram(he)}),F.isShaderMaterial&&_t.releaseShaderCache(F))}this.renderBufferDirect=function(F,K,he,ue,oe,Ke){K===null&&(K=un);let lt=oe.isMesh&&oe.matrixWorld.determinant()<0,it=DK(F,K,he,ue,oe);bt.setMaterial(ue,lt);let ht=he.index,Ct=1;if(ue.wireframe===!0){if(ht=xt.getWireframeAttribute(he),ht===void 0)return;Ct=2}let Ht=he.drawRange,kt=he.attributes.position,wi=Ht.start*Ct,an=(Ht.start+Ht.count)*Ct;Ke!==null&&(wi=Math.max(wi,Ke.start*Ct),an=Math.min(an,(Ke.start+Ke.count)*Ct)),ht!==null?(wi=Math.max(wi,0),an=Math.min(an,ht.count)):kt!=null&&(wi=Math.max(wi,0),an=Math.min(an,kt.count));let zn=an-wi;if(zn<0||zn===1/0)return;at.setup(oe,ue,it,he,ht);let Hn,hn=q;if(ht!==null&&(Hn=_e.get(ht),hn=nt,hn.setIndex(Hn)),oe.isMesh)ue.wireframe===!0?(bt.setLineWidth(ue.wireframeLinewidth*ir()),hn.setMode(G.LINES)):hn.setMode(G.TRIANGLES);else if(oe.isLine){let At=ue.linewidth;At===void 0&&(At=1),bt.setLineWidth(At*ir()),oe.isLineSegments?hn.setMode(G.LINES):oe.isLineLoop?hn.setMode(G.LINE_LOOP):hn.setMode(G.LINE_STRIP)}else oe.isPoints?hn.setMode(G.POINTS):oe.isSprite&&hn.setMode(G.TRIANGLES);if(oe.isBatchedMesh)if(oe._multiDrawInstances!==null)uf("WebGLRenderer: renderMultiDrawInstances has been deprecated and will be removed in r184. Append to renderMultiDraw arguments and use indirection."),hn.renderMultiDrawInstances(oe._multiDrawStarts,oe._multiDrawCounts,oe._multiDrawCount,oe._multiDrawInstances);else if(qi.get("WEBGL_multi_draw"))hn.renderMultiDraw(oe._multiDrawStarts,oe._multiDrawCounts,oe._multiDrawCount);else{let At=oe._multiDrawStarts,en=oe._multiDrawCounts,Li=oe._multiDrawCount,is=ht?_e.get(ht).bytesPerElement:1,qh=D.get(ue).currentProgram.getUniforms();for(let ns=0;ns<Li;ns++)qh.setValue(G,"_gl_DrawID",ns),hn.render(At[ns]/is,en[ns])}else if(oe.isInstancedMesh)hn.renderInstances(wi,zn,oe.count);else if(he.isInstancedBufferGeometry){let At=he._maxInstanceCount!==void 0?he._maxInstanceCount:1/0,en=Math.min(he.instanceCount,At);hn.renderInstances(wi,zn,en)}else hn.render(wi,zn)};function z3(F,K,he){F.transparent===!0&&F.side===mo&&F.forceSinglePass===!1?(F.side=No,F.needsUpdate=!0,p0(F,K,he),F.side=Sl,F.needsUpdate=!0,p0(F,K,he),F.side=mo):p0(F,K,he)}this.compile=function(F,K,he=null){he===null&&(he=F),R=Ze.get(he),R.init(K),L.push(R),he.traverseVisible(function(oe){oe.isLight&&oe.layers.test(K.layers)&&(R.pushLight(oe),oe.castShadow&&R.pushShadow(oe))}),F!==he&&F.traverseVisible(function(oe){oe.isLight&&oe.layers.test(K.layers)&&(R.pushLight(oe),oe.castShadow&&R.pushShadow(oe))}),R.setupLights();let ue=new Set;return F.traverse(function(oe){if(!(oe.isMesh||oe.isPoints||oe.isLine||oe.isSprite))return;let Ke=oe.material;if(Ke)if(Array.isArray(Ke))for(let lt=0;lt<Ke.length;lt++){let it=Ke[lt];z3(it,he,oe),ue.add(it)}else z3(Ke,he,oe),ue.add(Ke)}),R=L.pop(),ue},this.compileAsync=function(F,K,he=null){let ue=this.compile(F,K,he);return new Promise(oe=>{function Ke(){if(ue.forEach(function(lt){D.get(lt).currentProgram.isReady()&&ue.delete(lt)}),ue.size===0){oe(F);return}setTimeout(Ke,10)}qi.get("KHR_parallel_shader_compile")!==null?Ke():setTimeout(Ke,10)})};let cE=null;function IK(F){cE&&cE(F)}function H3(){iu.stop()}function j3(){iu.start()}let iu=new CZ;iu.setAnimationLoop(IK),typeof self<"u"&&iu.setContext(self),this.setAnimationLoop=function(F){cE=F,We.setAnimationLoop(F),F===null?iu.stop():iu.start()},We.addEventListener("sessionstart",H3),We.addEventListener("sessionend",j3),this.render=function(F,K){if(K!==void 0&&K.isCamera!==!0){zt("WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(A===!0)return;let he=We.enabled===!0&&We.isPresenting===!0,ue=z!==null&&(Z===null||he)&&z.begin(E,Z);if(F.matrixWorldAutoUpdate===!0&&F.updateMatrixWorld(),K.parent===null&&K.matrixWorldAutoUpdate===!0&&K.updateMatrixWorld(),We.enabled===!0&&We.isPresenting===!0&&(z===null||z.isCompositing()===!1)&&(We.cameraAutoUpdate===!0&&We.updateCamera(K),K=We.getCamera()),F.isScene===!0&&F.onBeforeRender(E,F,K,Z),R=Ze.get(F,L.length),R.init(K),L.push(R),Tr.multiplyMatrices(K.projectionMatrix,K.matrixWorldInverse),hi.setFromProjectionMatrix(Tr,Sa,K.reversedDepth),Fi=this.localClippingEnabled,gt=pt.init(this.clippingPlanes,Fi),S=Re.get(F,N.length),S.init(),N.push(S),We.enabled===!0&&We.isPresenting===!0){let lt=E.xr.getDepthSensingMesh();lt!==null&&lE(lt,K,-1/0,E.sortObjects)}lE(F,K,0,E.sortObjects),S.finish(),E.sortObjects===!0&&S.sort(xn,In),bi=We.enabled===!1||We.isPresenting===!1||We.hasDepthSensing()===!1,bi&&Ye.addToRenderList(S,F),this.info.render.frame++,gt===!0&&pt.beginShadows();let oe=R.state.shadowsArray;if(vt.render(oe,F,K),gt===!0&&pt.endShadows(),this.info.autoReset===!0&&this.info.reset(),(ue&&z.hasRenderPass())===!1){let lt=S.opaque,it=S.transmissive;if(R.setupLights(),K.isArrayCamera){let ht=K.cameras;if(it.length>0)for(let Ct=0,Ht=ht.length;Ct<Ht;Ct++){let kt=ht[Ct];G3(lt,it,F,kt)}bi&&Ye.render(F);for(let Ct=0,Ht=ht.length;Ct<Ht;Ct++){let kt=ht[Ct];$3(S,F,kt,kt.viewport)}}else it.length>0&&G3(lt,it,F,K),bi&&Ye.render(F),$3(S,F,K)}Z!==null&&W===0&&(Y.updateMultisampleRenderTarget(Z),Y.updateRenderTargetMipmap(Z)),ue&&z.end(E),F.isScene===!0&&F.onAfterRender(E,F,K),at.resetDefaultState(),se=-1,ie=null,L.pop(),L.length>0?(R=L[L.length-1],gt===!0&&pt.setGlobalState(E.clippingPlanes,R.state.camera)):R=null,N.pop(),N.length>0?S=N[N.length-1]:S=null};function lE(F,K,he,ue){if(F.visible===!1)return;if(F.layers.test(K.layers)){if(F.isGroup)he=F.renderOrder;else if(F.isLOD)F.autoUpdate===!0&&F.update(K);else if(F.isLight)R.pushLight(F),F.castShadow&&R.pushShadow(F);else if(F.isSprite){if(!F.frustumCulled||hi.intersectsSprite(F)){ue&&Qi.setFromMatrixPosition(F.matrixWorld).applyMatrix4(Tr);let lt=Xe.update(F),it=F.material;it.visible&&S.push(F,lt,it,he,Qi.z,null)}}else if((F.isMesh||F.isLine||F.isPoints)&&(!F.frustumCulled||hi.intersectsObject(F))){let lt=Xe.update(F),it=F.material;if(ue&&(F.boundingSphere!==void 0?(F.boundingSphere===null&&F.computeBoundingSphere(),Qi.copy(F.boundingSphere.center)):(lt.boundingSphere===null&&lt.computeBoundingSphere(),Qi.copy(lt.boundingSphere.center)),Qi.applyMatrix4(F.matrixWorld).applyMatrix4(Tr)),Array.isArray(it)){let ht=lt.groups;for(let Ct=0,Ht=ht.length;Ct<Ht;Ct++){let kt=ht[Ct],wi=it[kt.materialIndex];wi&&wi.visible&&S.push(F,lt,wi,he,Qi.z,kt)}}else it.visible&&S.push(F,lt,it,he,Qi.z,null)}}let Ke=F.children;for(let lt=0,it=Ke.length;lt<it;lt++)lE(Ke[lt],K,he,ue)}function $3(F,K,he,ue){let{opaque:oe,transmissive:Ke,transparent:lt}=F;R.setupLightsView(he),gt===!0&&pt.setGlobalState(E.clippingPlanes,he),ue&&bt.viewport(de.copy(ue)),oe.length>0&&m0(oe,K,he),Ke.length>0&&m0(Ke,K,he),lt.length>0&&m0(lt,K,he),bt.buffers.depth.setTest(!0),bt.buffers.depth.setMask(!0),bt.buffers.color.setMask(!0),bt.setPolygonOffset(!1)}function G3(F,K,he,ue){if((he.isScene===!0?he.overrideMaterial:null)!==null)return;if(R.state.transmissionRenderTarget[ue.id]===void 0){let wi=qi.has("EXT_color_buffer_half_float")||qi.has("EXT_color_buffer_float");R.state.transmissionRenderTarget[ue.id]=new vs(1,1,{generateMipmaps:!0,type:wi?vc:es,minFilter:Qd,samples:wn.samples,stencilBuffer:o,resolveDepthBuffer:!1,resolveStencilBuffer:!1,colorSpace:Ri.workingColorSpace})}let Ke=R.state.transmissionRenderTarget[ue.id],lt=ue.viewport||de;Ke.setSize(lt.z*E.transmissionResolutionScale,lt.w*E.transmissionResolutionScale);let it=E.getRenderTarget(),ht=E.getActiveCubeFace(),Ct=E.getActiveMipmapLevel();E.setRenderTarget(Ke),E.getClearColor(Pe),ze=E.getClearAlpha(),ze<1&&E.setClearColor(16777215,.5),E.clear(),bi&&Ye.render(he);let Ht=E.toneMapping;E.toneMapping=Ia;let kt=ue.viewport;if(ue.viewport!==void 0&&(ue.viewport=void 0),R.setupLightsView(ue),gt===!0&&pt.setGlobalState(E.clippingPlanes,ue),m0(F,he,ue),Y.updateMultisampleRenderTarget(Ke),Y.updateRenderTargetMipmap(Ke),qi.has("WEBGL_multisampled_render_to_texture")===!1){let wi=!1;for(let an=0,zn=K.length;an<zn;an++){let Hn=K[an],{object:hn,geometry:At,material:en,group:Li}=Hn;if(en.side===mo&&hn.layers.test(ue.layers)){let is=en.side;en.side=No,en.needsUpdate=!0,W3(hn,he,ue,At,en,Li),en.side=is,en.needsUpdate=!0,wi=!0}}wi===!0&&(Y.updateMultisampleRenderTarget(Ke),Y.updateRenderTargetMipmap(Ke))}E.setRenderTarget(it,ht,Ct),E.setClearColor(Pe,ze),kt!==void 0&&(ue.viewport=kt),E.toneMapping=Ht}function m0(F,K,he){let ue=K.isScene===!0?K.overrideMaterial:null;for(let oe=0,Ke=F.length;oe<Ke;oe++){let lt=F[oe],{object:it,geometry:ht,group:Ct}=lt,Ht=lt.material;Ht.allowOverride===!0&&ue!==null&&(Ht=ue),it.layers.test(he.layers)&&W3(it,K,he,ht,Ht,Ct)}}function W3(F,K,he,ue,oe,Ke){F.onBeforeRender(E,K,he,ue,oe,Ke),F.modelViewMatrix.multiplyMatrices(he.matrixWorldInverse,F.matrixWorld),F.normalMatrix.getNormalMatrix(F.modelViewMatrix),oe.onBeforeRender(E,K,he,ue,F,Ke),oe.transparent===!0&&oe.side===mo&&oe.forceSinglePass===!1?(oe.side=No,oe.needsUpdate=!0,E.renderBufferDirect(he,K,ue,oe,F,Ke),oe.side=Sl,oe.needsUpdate=!0,E.renderBufferDirect(he,K,ue,oe,F,Ke),oe.side=mo):E.renderBufferDirect(he,K,ue,oe,F,Ke),F.onAfterRender(E,K,he,ue,oe,Ke)}function p0(F,K,he){K.isScene!==!0&&(K=un);let ue=D.get(F),oe=R.state.lights,Ke=R.state.shadowsArray,lt=oe.state.version,it=_t.getParameters(F,oe.state,Ke,K,he),ht=_t.getProgramCacheKey(it),Ct=ue.programs;ue.environment=F.isMeshStandardMaterial?K.environment:null,ue.fog=K.fog,ue.envMap=(F.isMeshStandardMaterial?Te:ve).get(F.envMap||ue.environment),ue.envMapRotation=ue.environment!==null&&F.envMap===null?K.environmentRotation:F.envMapRotation,Ct===void 0&&(F.addEventListener("dispose",Pa),Ct=new Map,ue.programs=Ct);let Ht=Ct.get(ht);if(Ht!==void 0){if(ue.currentProgram===Ht&&ue.lightsStateVersion===lt)return X3(F,it),Ht}else it.uniforms=_t.getUniforms(F),F.onBeforeCompile(it,E),Ht=_t.acquireProgram(it,ht),Ct.set(ht,Ht),ue.uniforms=it.uniforms;let kt=ue.uniforms;return(!F.isShaderMaterial&&!F.isRawShaderMaterial||F.clipping===!0)&&(kt.clippingPlanes=pt.uniform),X3(F,it),ue.needsLights=AK(F),ue.lightsStateVersion=lt,ue.needsLights&&(kt.ambientLightColor.value=oe.state.ambient,kt.lightProbe.value=oe.state.probe,kt.directionalLights.value=oe.state.directional,kt.directionalLightShadows.value=oe.state.directionalShadow,kt.spotLights.value=oe.state.spot,kt.spotLightShadows.value=oe.state.spotShadow,kt.rectAreaLights.value=oe.state.rectArea,kt.ltc_1.value=oe.state.rectAreaLTC1,kt.ltc_2.value=oe.state.rectAreaLTC2,kt.pointLights.value=oe.state.point,kt.pointLightShadows.value=oe.state.pointShadow,kt.hemisphereLights.value=oe.state.hemi,kt.directionalShadowMap.value=oe.state.directionalShadowMap,kt.directionalShadowMatrix.value=oe.state.directionalShadowMatrix,kt.spotShadowMap.value=oe.state.spotShadowMap,kt.spotLightMatrix.value=oe.state.spotLightMatrix,kt.spotLightMap.value=oe.state.spotLightMap,kt.pointShadowMap.value=oe.state.pointShadowMap,kt.pointShadowMatrix.value=oe.state.pointShadowMatrix),ue.currentProgram=Ht,ue.uniformsList=null,Ht}function q3(F){if(F.uniformsList===null){let K=F.currentProgram.getUniforms();F.uniformsList=Sf.seqWithValue(K.seq,F.uniforms)}return F.uniformsList}function X3(F,K){let he=D.get(F);he.outputColorSpace=K.outputColorSpace,he.batching=K.batching,he.batchingColor=K.batchingColor,he.instancing=K.instancing,he.instancingColor=K.instancingColor,he.instancingMorph=K.instancingMorph,he.skinning=K.skinning,he.morphTargets=K.morphTargets,he.morphNormals=K.morphNormals,he.morphColors=K.morphColors,he.morphTargetsCount=K.morphTargetsCount,he.numClippingPlanes=K.numClippingPlanes,he.numIntersection=K.numClipIntersection,he.vertexAlphas=K.vertexAlphas,he.vertexTangents=K.vertexTangents,he.toneMapping=K.toneMapping}function DK(F,K,he,ue,oe){K.isScene!==!0&&(K=un),Y.resetTextureUnits();let Ke=K.fog,lt=ue.isMeshStandardMaterial?K.environment:null,it=Z===null?E.outputColorSpace:Z.isXRRenderTarget===!0?Z.texture.colorSpace:Ah,ht=(ue.isMeshStandardMaterial?Te:ve).get(ue.envMap||lt),Ct=ue.vertexColors===!0&&!!he.attributes.color&&he.attributes.color.itemSize===4,Ht=!!he.attributes.tangent&&(!!ue.normalMap||ue.anisotropy>0),kt=!!he.morphAttributes.position,wi=!!he.morphAttributes.normal,an=!!he.morphAttributes.color,zn=Ia;ue.toneMapped&&(Z===null||Z.isXRRenderTarget===!0)&&(zn=E.toneMapping);let Hn=he.morphAttributes.position||he.morphAttributes.normal||he.morphAttributes.color,hn=Hn!==void 0?Hn.length:0,At=D.get(ue),en=R.state.lights;if(gt===!0&&(Fi===!0||F!==ie)){let go=F===ie&&ue.id===se;pt.setState(ue,F,go)}let Li=!1;ue.version===At.__version?(At.needsLights&&At.lightsStateVersion!==en.state.version||At.outputColorSpace!==it||oe.isBatchedMesh&&At.batching===!1||!oe.isBatchedMesh&&At.batching===!0||oe.isBatchedMesh&&At.batchingColor===!0&&oe.colorTexture===null||oe.isBatchedMesh&&At.batchingColor===!1&&oe.colorTexture!==null||oe.isInstancedMesh&&At.instancing===!1||!oe.isInstancedMesh&&At.instancing===!0||oe.isSkinnedMesh&&At.skinning===!1||!oe.isSkinnedMesh&&At.skinning===!0||oe.isInstancedMesh&&At.instancingColor===!0&&oe.instanceColor===null||oe.isInstancedMesh&&At.instancingColor===!1&&oe.instanceColor!==null||oe.isInstancedMesh&&At.instancingMorph===!0&&oe.morphTexture===null||oe.isInstancedMesh&&At.instancingMorph===!1&&oe.morphTexture!==null||At.envMap!==ht||ue.fog===!0&&At.fog!==Ke||At.numClippingPlanes!==void 0&&(At.numClippingPlanes!==pt.numPlanes||At.numIntersection!==pt.numIntersection)||At.vertexAlphas!==Ct||At.vertexTangents!==Ht||At.morphTargets!==kt||At.morphNormals!==wi||At.morphColors!==an||At.toneMapping!==zn||At.morphTargetsCount!==hn)&&(Li=!0):(Li=!0,At.__version=ue.version);let is=At.currentProgram;Li===!0&&(is=p0(ue,K,oe));let qh=!1,ns=!1,Df=!1,Cn=is.getUniforms(),Oo=At.uniforms;if(bt.useProgram(is.program)&&(qh=!0,ns=!0,Df=!0),ue.id!==se&&(se=ue.id,ns=!0),qh||ie!==F){bt.buffers.depth.getReversed()&&F.reversedDepth!==!0&&(F._reversedDepth=!0,F.updateProjectionMatrix()),Cn.setValue(G,"projectionMatrix",F.projectionMatrix),Cn.setValue(G,"viewMatrix",F.matrixWorldInverse);let Fo=Cn.map.cameraPosition;Fo!==void 0&&Fo.setValue(G,Ni.setFromMatrixPosition(F.matrixWorld)),wn.logarithmicDepthBuffer&&Cn.setValue(G,"logDepthBufFC",2/(Math.log(F.far+1)/Math.LN2)),(ue.isMeshPhongMaterial||ue.isMeshToonMaterial||ue.isMeshLambertMaterial||ue.isMeshBasicMaterial||ue.isMeshStandardMaterial||ue.isShaderMaterial)&&Cn.setValue(G,"isOrthographic",F.isOrthographicCamera===!0),ie!==F&&(ie=F,ns=!0,Df=!0)}if(At.needsLights&&(en.state.directionalShadowMap.length>0&&Cn.setValue(G,"directionalShadowMap",en.state.directionalShadowMap,Y),en.state.spotShadowMap.length>0&&Cn.setValue(G,"spotShadowMap",en.state.spotShadowMap,Y),en.state.pointShadowMap.length>0&&Cn.setValue(G,"pointShadowMap",en.state.pointShadowMap,Y)),oe.isSkinnedMesh){Cn.setOptional(G,oe,"bindMatrix"),Cn.setOptional(G,oe,"bindMatrixInverse");let go=oe.skeleton;go&&(go.boneTexture===null&&go.computeBoneTexture(),Cn.setValue(G,"boneTexture",go.boneTexture,Y))}oe.isBatchedMesh&&(Cn.setOptional(G,oe,"batchingTexture"),Cn.setValue(G,"batchingTexture",oe._matricesTexture,Y),Cn.setOptional(G,oe,"batchingIdTexture"),Cn.setValue(G,"batchingIdTexture",oe._indirectTexture,Y),Cn.setOptional(G,oe,"batchingColorTexture"),oe._colorsTexture!==null&&Cn.setValue(G,"batchingColorTexture",oe._colorsTexture,Y));let Ms=he.morphAttributes;if((Ms.position!==void 0||Ms.normal!==void 0||Ms.color!==void 0)&&vi.update(oe,he,is),(ns||At.receiveShadow!==oe.receiveShadow)&&(At.receiveShadow=oe.receiveShadow,Cn.setValue(G,"receiveShadow",oe.receiveShadow)),ue.isMeshGouraudMaterial&&ue.envMap!==null&&(Oo.envMap.value=ht,Oo.flipEnvMap.value=ht.isCubeTexture&&ht.isRenderTargetTexture===!1?-1:1),ue.isMeshStandardMaterial&&ue.envMap===null&&K.environment!==null&&(Oo.envMapIntensity.value=K.environmentIntensity),Oo.dfgLUT!==void 0&&(Oo.dfgLUT.value=qEe()),ns&&(Cn.setValue(G,"toneMappingExposure",E.toneMappingExposure),At.needsLights&&kK(Oo,Df),Ke&&ue.fog===!0&&Wt.refreshFogUniforms(Oo,Ke),Wt.refreshMaterialUniforms(Oo,ue,ui,ai,R.state.transmissionRenderTarget[F.id]),Sf.upload(G,q3(At),Oo,Y)),ue.isShaderMaterial&&ue.uniformsNeedUpdate===!0&&(Sf.upload(G,q3(At),Oo,Y),ue.uniformsNeedUpdate=!1),ue.isSpriteMaterial&&Cn.setValue(G,"center",oe.center),Cn.setValue(G,"modelViewMatrix",oe.modelViewMatrix),Cn.setValue(G,"normalMatrix",oe.normalMatrix),Cn.setValue(G,"modelMatrix",oe.matrixWorld),ue.isShaderMaterial||ue.isRawShaderMaterial){let go=ue.uniformsGroups;for(let Fo=0,dE=go.length;Fo<dE;Fo++){let nu=go[Fo];Ae.update(nu,is),Ae.bind(nu,is)}}return is}function kK(F,K){F.ambientLightColor.needsUpdate=K,F.lightProbe.needsUpdate=K,F.directionalLights.needsUpdate=K,F.directionalLightShadows.needsUpdate=K,F.pointLights.needsUpdate=K,F.pointLightShadows.needsUpdate=K,F.spotLights.needsUpdate=K,F.spotLightShadows.needsUpdate=K,F.rectAreaLights.needsUpdate=K,F.hemisphereLights.needsUpdate=K}function AK(F){return F.isMeshLambertMaterial||F.isMeshToonMaterial||F.isMeshPhongMaterial||F.isMeshStandardMaterial||F.isShadowMaterial||F.isShaderMaterial&&F.lights===!0}this.getActiveCubeFace=function(){return U},this.getActiveMipmapLevel=function(){return W},this.getRenderTarget=function(){return Z},this.setRenderTargetTextures=function(F,K,he){let ue=D.get(F);ue.__autoAllocateDepthBuffer=F.resolveDepthBuffer===!1,ue.__autoAllocateDepthBuffer===!1&&(ue.__useRenderToTexture=!1),D.get(F.texture).__webglTexture=K,D.get(F.depthTexture).__webglTexture=ue.__autoAllocateDepthBuffer?void 0:he,ue.__hasExternalTextures=!0},this.setRenderTargetFramebuffer=function(F,K){let he=D.get(F);he.__webglFramebuffer=K,he.__useDefaultFramebuffer=K===void 0};let PK=G.createFramebuffer();this.setRenderTarget=function(F,K=0,he=0){Z=F,U=K,W=he;let ue=null,oe=!1,Ke=!1;if(F){let it=D.get(F);if(it.__useDefaultFramebuffer!==void 0){bt.bindFramebuffer(G.FRAMEBUFFER,it.__webglFramebuffer),de.copy(F.viewport),ne.copy(F.scissor),Me=F.scissorTest,bt.viewport(de),bt.scissor(ne),bt.setScissorTest(Me),se=-1;return}else if(it.__webglFramebuffer===void 0)Y.setupRenderTarget(F);else if(it.__hasExternalTextures)Y.rebindTextures(F,D.get(F.texture).__webglTexture,D.get(F.depthTexture).__webglTexture);else if(F.depthBuffer){let Ht=F.depthTexture;if(it.__boundDepthTexture!==Ht){if(Ht!==null&&D.has(Ht)&&(F.width!==Ht.image.width||F.height!==Ht.image.height))throw new Error("WebGLRenderTarget: Attached DepthTexture is initialized to the incorrect size.");Y.setupDepthRenderbuffer(F)}}let ht=F.texture;(ht.isData3DTexture||ht.isDataArrayTexture||ht.isCompressedArrayTexture)&&(Ke=!0);let Ct=D.get(F).__webglFramebuffer;F.isWebGLCubeRenderTarget?(Array.isArray(Ct[K])?ue=Ct[K][he]:ue=Ct[K],oe=!0):F.samples>0&&Y.useMultisampledRTT(F)===!1?ue=D.get(F).__webglMultisampledFramebuffer:Array.isArray(Ct)?ue=Ct[he]:ue=Ct,de.copy(F.viewport),ne.copy(F.scissor),Me=F.scissorTest}else de.copy(Ce).multiplyScalar(ui).floor(),ne.copy(De).multiplyScalar(ui).floor(),Me=ut;if(he!==0&&(ue=PK),bt.bindFramebuffer(G.FRAMEBUFFER,ue)&&bt.drawBuffers(F,ue),bt.viewport(de),bt.scissor(ne),bt.setScissorTest(Me),oe){let it=D.get(F.texture);G.framebufferTexture2D(G.FRAMEBUFFER,G.COLOR_ATTACHMENT0,G.TEXTURE_CUBE_MAP_POSITIVE_X+K,it.__webglTexture,he)}else if(Ke){let it=K;for(let ht=0;ht<F.textures.length;ht++){let Ct=D.get(F.textures[ht]);G.framebufferTextureLayer(G.FRAMEBUFFER,G.COLOR_ATTACHMENT0+ht,Ct.__webglTexture,he,it)}}else if(F!==null&&he!==0){let it=D.get(F.texture);G.framebufferTexture2D(G.FRAMEBUFFER,G.COLOR_ATTACHMENT0,G.TEXTURE_2D,it.__webglTexture,he)}se=-1},this.readRenderTargetPixels=function(F,K,he,ue,oe,Ke,lt,it=0){if(!(F&&F.isWebGLRenderTarget)){zt("WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let ht=D.get(F).__webglFramebuffer;if(F.isWebGLCubeRenderTarget&&lt!==void 0&&(ht=ht[lt]),ht){bt.bindFramebuffer(G.FRAMEBUFFER,ht);try{let Ct=F.textures[it],Ht=Ct.format,kt=Ct.type;if(!wn.textureFormatReadable(Ht)){zt("WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}if(!wn.textureTypeReadable(kt)){zt("WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}K>=0&&K<=F.width-ue&&he>=0&&he<=F.height-oe&&(F.textures.length>1&&G.readBuffer(G.COLOR_ATTACHMENT0+it),G.readPixels(K,he,ue,oe,Ve.convert(Ht),Ve.convert(kt),Ke))}finally{let Ct=Z!==null?D.get(Z).__webglFramebuffer:null;bt.bindFramebuffer(G.FRAMEBUFFER,Ct)}}},this.readRenderTargetPixelsAsync=function(F,K,he,ue,oe,Ke,lt,it=0){return te(this,null,function*(){if(!(F&&F.isWebGLRenderTarget))throw new Error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let ht=D.get(F).__webglFramebuffer;if(F.isWebGLCubeRenderTarget&&lt!==void 0&&(ht=ht[lt]),ht)if(K>=0&&K<=F.width-ue&&he>=0&&he<=F.height-oe){bt.bindFramebuffer(G.FRAMEBUFFER,ht);let Ct=F.textures[it],Ht=Ct.format,kt=Ct.type;if(!wn.textureFormatReadable(Ht))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in RGBA or implementation defined format.");if(!wn.textureTypeReadable(kt))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in UnsignedByteType or implementation defined type.");let wi=G.createBuffer();G.bindBuffer(G.PIXEL_PACK_BUFFER,wi),G.bufferData(G.PIXEL_PACK_BUFFER,Ke.byteLength,G.STREAM_READ),F.textures.length>1&&G.readBuffer(G.COLOR_ATTACHMENT0+it),G.readPixels(K,he,ue,oe,Ve.convert(Ht),Ve.convert(kt),0);let an=Z!==null?D.get(Z).__webglFramebuffer:null;bt.bindFramebuffer(G.FRAMEBUFFER,an);let zn=G.fenceSync(G.SYNC_GPU_COMMANDS_COMPLETE,0);return G.flush(),yield JY(G,zn,4),G.bindBuffer(G.PIXEL_PACK_BUFFER,wi),G.getBufferSubData(G.PIXEL_PACK_BUFFER,0,Ke),G.deleteBuffer(wi),G.deleteSync(zn),Ke}else throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: requested read bounds are out of range.")})},this.copyFramebufferToTexture=function(F,K=null,he=0){let ue=Math.pow(2,-he),oe=Math.floor(F.image.width*ue),Ke=Math.floor(F.image.height*ue),lt=K!==null?K.x:0,it=K!==null?K.y:0;Y.setTexture2D(F,0),G.copyTexSubImage2D(G.TEXTURE_2D,he,0,0,lt,it,oe,Ke),bt.unbindTexture()};let RK=G.createFramebuffer(),NK=G.createFramebuffer();this.copyTextureToTexture=function(F,K,he=null,ue=null,oe=0,Ke=null){Ke===null&&(oe!==0?(uf("WebGLRenderer: copyTextureToTexture function signature has changed to support src and dst mipmap levels."),Ke=oe,oe=0):Ke=0);let lt,it,ht,Ct,Ht,kt,wi,an,zn,Hn=F.isCompressedTexture?F.mipmaps[Ke]:F.image;if(he!==null)lt=he.max.x-he.min.x,it=he.max.y-he.min.y,ht=he.isBox3?he.max.z-he.min.z:1,Ct=he.min.x,Ht=he.min.y,kt=he.isBox3?he.min.z:0;else{let Ms=Math.pow(2,-oe);lt=Math.floor(Hn.width*Ms),it=Math.floor(Hn.height*Ms),F.isDataArrayTexture?ht=Hn.depth:F.isData3DTexture?ht=Math.floor(Hn.depth*Ms):ht=1,Ct=0,Ht=0,kt=0}ue!==null?(wi=ue.x,an=ue.y,zn=ue.z):(wi=0,an=0,zn=0);let hn=Ve.convert(K.format),At=Ve.convert(K.type),en;K.isData3DTexture?(Y.setTexture3D(K,0),en=G.TEXTURE_3D):K.isDataArrayTexture||K.isCompressedArrayTexture?(Y.setTexture2DArray(K,0),en=G.TEXTURE_2D_ARRAY):(Y.setTexture2D(K,0),en=G.TEXTURE_2D),G.pixelStorei(G.UNPACK_FLIP_Y_WEBGL,K.flipY),G.pixelStorei(G.UNPACK_PREMULTIPLY_ALPHA_WEBGL,K.premultiplyAlpha),G.pixelStorei(G.UNPACK_ALIGNMENT,K.unpackAlignment);let Li=G.getParameter(G.UNPACK_ROW_LENGTH),is=G.getParameter(G.UNPACK_IMAGE_HEIGHT),qh=G.getParameter(G.UNPACK_SKIP_PIXELS),ns=G.getParameter(G.UNPACK_SKIP_ROWS),Df=G.getParameter(G.UNPACK_SKIP_IMAGES);G.pixelStorei(G.UNPACK_ROW_LENGTH,Hn.width),G.pixelStorei(G.UNPACK_IMAGE_HEIGHT,Hn.height),G.pixelStorei(G.UNPACK_SKIP_PIXELS,Ct),G.pixelStorei(G.UNPACK_SKIP_ROWS,Ht),G.pixelStorei(G.UNPACK_SKIP_IMAGES,kt);let Cn=F.isDataArrayTexture||F.isData3DTexture,Oo=K.isDataArrayTexture||K.isData3DTexture;if(F.isDepthTexture){let Ms=D.get(F),go=D.get(K),Fo=D.get(Ms.__renderTarget),dE=D.get(go.__renderTarget);bt.bindFramebuffer(G.READ_FRAMEBUFFER,Fo.__webglFramebuffer),bt.bindFramebuffer(G.DRAW_FRAMEBUFFER,dE.__webglFramebuffer);for(let nu=0;nu<ht;nu++)Cn&&(G.framebufferTextureLayer(G.READ_FRAMEBUFFER,G.COLOR_ATTACHMENT0,D.get(F).__webglTexture,oe,kt+nu),G.framebufferTextureLayer(G.DRAW_FRAMEBUFFER,G.COLOR_ATTACHMENT0,D.get(K).__webglTexture,Ke,zn+nu)),G.blitFramebuffer(Ct,Ht,lt,it,wi,an,lt,it,G.DEPTH_BUFFER_BIT,G.NEAREST);bt.bindFramebuffer(G.READ_FRAMEBUFFER,null),bt.bindFramebuffer(G.DRAW_FRAMEBUFFER,null)}else if(oe!==0||F.isRenderTargetTexture||D.has(F)){let Ms=D.get(F),go=D.get(K);bt.bindFramebuffer(G.READ_FRAMEBUFFER,RK),bt.bindFramebuffer(G.DRAW_FRAMEBUFFER,NK);for(let Fo=0;Fo<ht;Fo++)Cn?G.framebufferTextureLayer(G.READ_FRAMEBUFFER,G.COLOR_ATTACHMENT0,Ms.__webglTexture,oe,kt+Fo):G.framebufferTexture2D(G.READ_FRAMEBUFFER,G.COLOR_ATTACHMENT0,G.TEXTURE_2D,Ms.__webglTexture,oe),Oo?G.framebufferTextureLayer(G.DRAW_FRAMEBUFFER,G.COLOR_ATTACHMENT0,go.__webglTexture,Ke,zn+Fo):G.framebufferTexture2D(G.DRAW_FRAMEBUFFER,G.COLOR_ATTACHMENT0,G.TEXTURE_2D,go.__webglTexture,Ke),oe!==0?G.blitFramebuffer(Ct,Ht,lt,it,wi,an,lt,it,G.COLOR_BUFFER_BIT,G.NEAREST):Oo?G.copyTexSubImage3D(en,Ke,wi,an,zn+Fo,Ct,Ht,lt,it):G.copyTexSubImage2D(en,Ke,wi,an,Ct,Ht,lt,it);bt.bindFramebuffer(G.READ_FRAMEBUFFER,null),bt.bindFramebuffer(G.DRAW_FRAMEBUFFER,null)}else Oo?F.isDataTexture||F.isData3DTexture?G.texSubImage3D(en,Ke,wi,an,zn,lt,it,ht,hn,At,Hn.data):K.isCompressedArrayTexture?G.compressedTexSubImage3D(en,Ke,wi,an,zn,lt,it,ht,hn,Hn.data):G.texSubImage3D(en,Ke,wi,an,zn,lt,it,ht,hn,At,Hn):F.isDataTexture?G.texSubImage2D(G.TEXTURE_2D,Ke,wi,an,lt,it,hn,At,Hn.data):F.isCompressedTexture?G.compressedTexSubImage2D(G.TEXTURE_2D,Ke,wi,an,Hn.width,Hn.height,hn,Hn.data):G.texSubImage2D(G.TEXTURE_2D,Ke,wi,an,lt,it,hn,At,Hn);G.pixelStorei(G.UNPACK_ROW_LENGTH,Li),G.pixelStorei(G.UNPACK_IMAGE_HEIGHT,is),G.pixelStorei(G.UNPACK_SKIP_PIXELS,qh),G.pixelStorei(G.UNPACK_SKIP_ROWS,ns),G.pixelStorei(G.UNPACK_SKIP_IMAGES,Df),Ke===0&&K.generateMipmaps&&G.generateMipmap(en),bt.unbindTexture()},this.initRenderTarget=function(F){D.get(F).__webglFramebuffer===void 0&&Y.setupRenderTarget(F)},this.initTexture=function(F){F.isCubeTexture?Y.setTextureCube(F,0):F.isData3DTexture?Y.setTexture3D(F,0):F.isDataArrayTexture||F.isCompressedArrayTexture?Y.setTexture2DArray(F,0):Y.setTexture2D(F,0),bt.unbindTexture()},this.resetState=function(){U=0,W=0,Z=null,bt.reset(),at.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return Sa}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(t){this._outputColorSpace=t;let e=this.getContext();e.drawingBufferColorSpace=Ri._getDrawingBufferColorSpace(t),e.unpackColorSpace=Ri._getUnpackColorSpace()}};var DZ={type:"change"},p3={type:"start"},AZ={type:"end"},kS=new $d,kZ=new js,YEe=Math.cos(70*qL.DEG2RAD),Er=new j,ts=2*Math.PI,dn={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6},m3=1e-6,AS=class extends Fh{constructor(t,e=null){super(t,e),this.state=dn.NONE,this.target=new j,this.cursor=new j,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.minTargetRadius=0,this.maxTargetRadius=1/0,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.enableDamping=!1,this.dampingFactor=.05,this.enableZoom=!0,this.zoomSpeed=1,this.enableRotate=!0,this.rotateSpeed=1,this.keyRotateSpeed=1,this.enablePan=!0,this.panSpeed=1,this.screenSpacePanning=!0,this.keyPanSpeed=7,this.zoomToCursor=!1,this.autoRotate=!1,this.autoRotateSpeed=2,this.keys={LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"},this.mouseButtons={LEFT:Yd.ROTATE,MIDDLE:Yd.DOLLY,RIGHT:Yd.PAN},this.touches={ONE:Zd.ROTATE,TWO:Zd.DOLLY_PAN},this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this._domElementKeyEvents=null,this._lastPosition=new j,this._lastQuaternion=new Vn,this._lastTargetPosition=new j,this._quat=new Vn().setFromUnitVectors(t.up,new j(0,1,0)),this._quatInverse=this._quat.clone().invert(),this._spherical=new vf,this._sphericalDelta=new vf,this._scale=1,this._panOffset=new j,this._rotateStart=new Ut,this._rotateEnd=new Ut,this._rotateDelta=new Ut,this._panStart=new Ut,this._panEnd=new Ut,this._panDelta=new Ut,this._dollyStart=new Ut,this._dollyEnd=new Ut,this._dollyDelta=new Ut,this._dollyDirection=new j,this._mouse=new Ut,this._performCursorZoom=!1,this._pointers=[],this._pointerPositions={},this._controlActive=!1,this._onPointerMove=KEe.bind(this),this._onPointerDown=ZEe.bind(this),this._onPointerUp=QEe.bind(this),this._onContextMenu=o1e.bind(this),this._onMouseWheel=t1e.bind(this),this._onKeyDown=i1e.bind(this),this._onTouchStart=n1e.bind(this),this._onTouchMove=r1e.bind(this),this._onMouseDown=JEe.bind(this),this._onMouseMove=e1e.bind(this),this._interceptControlDown=s1e.bind(this),this._interceptControlUp=a1e.bind(this),this.domElement!==null&&this.connect(this.domElement),this.update()}connect(t){super.connect(t),this.domElement.addEventListener("pointerdown",this._onPointerDown),this.domElement.addEventListener("pointercancel",this._onPointerUp),this.domElement.addEventListener("contextmenu",this._onContextMenu),this.domElement.addEventListener("wheel",this._onMouseWheel,{passive:!1}),this.domElement.getRootNode().addEventListener("keydown",this._interceptControlDown,{passive:!0,capture:!0}),this.domElement.style.touchAction="none"}disconnect(){this.domElement.removeEventListener("pointerdown",this._onPointerDown),this.domElement.ownerDocument.removeEventListener("pointermove",this._onPointerMove),this.domElement.ownerDocument.removeEventListener("pointerup",this._onPointerUp),this.domElement.removeEventListener("pointercancel",this._onPointerUp),this.domElement.removeEventListener("wheel",this._onMouseWheel),this.domElement.removeEventListener("contextmenu",this._onContextMenu),this.stopListenToKeyEvents(),this.domElement.getRootNode().removeEventListener("keydown",this._interceptControlDown,{capture:!0}),this.domElement.style.touchAction="auto"}dispose(){this.disconnect()}getPolarAngle(){return this._spherical.phi}getAzimuthalAngle(){return this._spherical.theta}getDistance(){return this.object.position.distanceTo(this.target)}listenToKeyEvents(t){t.addEventListener("keydown",this._onKeyDown),this._domElementKeyEvents=t}stopListenToKeyEvents(){this._domElementKeyEvents!==null&&(this._domElementKeyEvents.removeEventListener("keydown",this._onKeyDown),this._domElementKeyEvents=null)}saveState(){this.target0.copy(this.target),this.position0.copy(this.object.position),this.zoom0=this.object.zoom}reset(){this.target.copy(this.target0),this.object.position.copy(this.position0),this.object.zoom=this.zoom0,this.object.updateProjectionMatrix(),this.dispatchEvent(DZ),this.update(),this.state=dn.NONE}update(t=null){let e=this.object.position;Er.copy(e).sub(this.target),Er.applyQuaternion(this._quat),this._spherical.setFromVector3(Er),this.autoRotate&&this.state===dn.NONE&&this._rotateLeft(this._getAutoRotationAngle(t)),this.enableDamping?(this._spherical.theta+=this._sphericalDelta.theta*this.dampingFactor,this._spherical.phi+=this._sphericalDelta.phi*this.dampingFactor):(this._spherical.theta+=this._sphericalDelta.theta,this._spherical.phi+=this._sphericalDelta.phi);let n=this.minAzimuthAngle,r=this.maxAzimuthAngle;isFinite(n)&&isFinite(r)&&(n<-Math.PI?n+=ts:n>Math.PI&&(n-=ts),r<-Math.PI?r+=ts:r>Math.PI&&(r-=ts),n<=r?this._spherical.theta=Math.max(n,Math.min(r,this._spherical.theta)):this._spherical.theta=this._spherical.theta>(n+r)/2?Math.max(n,this._spherical.theta):Math.min(r,this._spherical.theta)),this._spherical.phi=Math.max(this.minPolarAngle,Math.min(this.maxPolarAngle,this._spherical.phi)),this._spherical.makeSafe(),this.enableDamping===!0?this.target.addScaledVector(this._panOffset,this.dampingFactor):this.target.add(this._panOffset),this.target.sub(this.cursor),this.target.clampLength(this.minTargetRadius,this.maxTargetRadius),this.target.add(this.cursor);let o=!1;if(this.zoomToCursor&&this._performCursorZoom||this.object.isOrthographicCamera)this._spherical.radius=this._clampDistance(this._spherical.radius);else{let s=this._spherical.radius;this._spherical.radius=this._clampDistance(this._spherical.radius*this._scale),o=s!=this._spherical.radius}if(Er.setFromSpherical(this._spherical),Er.applyQuaternion(this._quatInverse),e.copy(this.target).add(Er),this.object.lookAt(this.target),this.enableDamping===!0?(this._sphericalDelta.theta*=1-this.dampingFactor,this._sphericalDelta.phi*=1-this.dampingFactor,this._panOffset.multiplyScalar(1-this.dampingFactor)):(this._sphericalDelta.set(0,0,0),this._panOffset.set(0,0,0)),this.zoomToCursor&&this._performCursorZoom){let s=null;if(this.object.isPerspectiveCamera){let a=Er.length();s=this._clampDistance(a*this._scale);let c=a-s;this.object.position.addScaledVector(this._dollyDirection,c),this.object.updateMatrixWorld(),o=!!c}else if(this.object.isOrthographicCamera){let a=new j(this._mouse.x,this._mouse.y,0);a.unproject(this.object);let c=this.object.zoom;this.object.zoom=Math.max(this.minZoom,Math.min(this.maxZoom,this.object.zoom/this._scale)),this.object.updateProjectionMatrix(),o=c!==this.object.zoom;let l=new j(this._mouse.x,this._mouse.y,0);l.unproject(this.object),this.object.position.sub(l).add(a),this.object.updateMatrixWorld(),s=Er.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),this.zoomToCursor=!1;s!==null&&(this.screenSpacePanning?this.target.set(0,0,-1).transformDirection(this.object.matrix).multiplyScalar(s).add(this.object.position):(kS.origin.copy(this.object.position),kS.direction.set(0,0,-1).transformDirection(this.object.matrix),Math.abs(this.object.up.dot(kS.direction))<YEe?this.object.lookAt(this.target):(kZ.setFromNormalAndCoplanarPoint(this.object.up,this.target),kS.intersectPlane(kZ,this.target))))}else if(this.object.isOrthographicCamera){let s=this.object.zoom;this.object.zoom=Math.max(this.minZoom,Math.min(this.maxZoom,this.object.zoom/this._scale)),s!==this.object.zoom&&(this.object.updateProjectionMatrix(),o=!0)}return this._scale=1,this._performCursorZoom=!1,o||this._lastPosition.distanceToSquared(this.object.position)>m3||8*(1-this._lastQuaternion.dot(this.object.quaternion))>m3||this._lastTargetPosition.distanceToSquared(this.target)>m3?(this.dispatchEvent(DZ),this._lastPosition.copy(this.object.position),this._lastQuaternion.copy(this.object.quaternion),this._lastTargetPosition.copy(this.target),!0):!1}_getAutoRotationAngle(t){return t!==null?ts/60*this.autoRotateSpeed*t:ts/60/60*this.autoRotateSpeed}_getZoomScale(t){let e=Math.abs(t*.01);return Math.pow(.95,this.zoomSpeed*e)}_rotateLeft(t){this._sphericalDelta.theta-=t}_rotateUp(t){this._sphericalDelta.phi-=t}_panLeft(t,e){Er.setFromMatrixColumn(e,0),Er.multiplyScalar(-t),this._panOffset.add(Er)}_panUp(t,e){this.screenSpacePanning===!0?Er.setFromMatrixColumn(e,1):(Er.setFromMatrixColumn(e,0),Er.crossVectors(this.object.up,Er)),Er.multiplyScalar(t),this._panOffset.add(Er)}_pan(t,e){let n=this.domElement;if(this.object.isPerspectiveCamera){let r=this.object.position;Er.copy(r).sub(this.target);let o=Er.length();o*=Math.tan(this.object.fov/2*Math.PI/180),this._panLeft(2*t*o/n.clientHeight,this.object.matrix),this._panUp(2*e*o/n.clientHeight,this.object.matrix)}else this.object.isOrthographicCamera?(this._panLeft(t*(this.object.right-this.object.left)/this.object.zoom/n.clientWidth,this.object.matrix),this._panUp(e*(this.object.top-this.object.bottom)/this.object.zoom/n.clientHeight,this.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),this.enablePan=!1)}_dollyOut(t){this.object.isPerspectiveCamera||this.object.isOrthographicCamera?this._scale/=t:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),this.enableZoom=!1)}_dollyIn(t){this.object.isPerspectiveCamera||this.object.isOrthographicCamera?this._scale*=t:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),this.enableZoom=!1)}_updateZoomParameters(t,e){if(!this.zoomToCursor)return;this._performCursorZoom=!0;let n=this.domElement.getBoundingClientRect(),r=t-n.left,o=e-n.top,s=n.width,a=n.height;this._mouse.x=r/s*2-1,this._mouse.y=-(o/a)*2+1,this._dollyDirection.set(this._mouse.x,this._mouse.y,1).unproject(this.object).sub(this.object.position).normalize()}_clampDistance(t){return Math.max(this.minDistance,Math.min(this.maxDistance,t))}_handleMouseDownRotate(t){this._rotateStart.set(t.clientX,t.clientY)}_handleMouseDownDolly(t){this._updateZoomParameters(t.clientX,t.clientX),this._dollyStart.set(t.clientX,t.clientY)}_handleMouseDownPan(t){this._panStart.set(t.clientX,t.clientY)}_handleMouseMoveRotate(t){this._rotateEnd.set(t.clientX,t.clientY),this._rotateDelta.subVectors(this._rotateEnd,this._rotateStart).multiplyScalar(this.rotateSpeed);let e=this.domElement;this._rotateLeft(ts*this._rotateDelta.x/e.clientHeight),this._rotateUp(ts*this._rotateDelta.y/e.clientHeight),this._rotateStart.copy(this._rotateEnd),this.update()}_handleMouseMoveDolly(t){this._dollyEnd.set(t.clientX,t.clientY),this._dollyDelta.subVectors(this._dollyEnd,this._dollyStart),this._dollyDelta.y>0?this._dollyOut(this._getZoomScale(this._dollyDelta.y)):this._dollyDelta.y<0&&this._dollyIn(this._getZoomScale(this._dollyDelta.y)),this._dollyStart.copy(this._dollyEnd),this.update()}_handleMouseMovePan(t){this._panEnd.set(t.clientX,t.clientY),this._panDelta.subVectors(this._panEnd,this._panStart).multiplyScalar(this.panSpeed),this._pan(this._panDelta.x,this._panDelta.y),this._panStart.copy(this._panEnd),this.update()}_handleMouseWheel(t){this._updateZoomParameters(t.clientX,t.clientY),t.deltaY<0?this._dollyIn(this._getZoomScale(t.deltaY)):t.deltaY>0&&this._dollyOut(this._getZoomScale(t.deltaY)),this.update()}_handleKeyDown(t){let e=!1;switch(t.code){case this.keys.UP:t.ctrlKey||t.metaKey||t.shiftKey?this.enableRotate&&this._rotateUp(ts*this.keyRotateSpeed/this.domElement.clientHeight):this.enablePan&&this._pan(0,this.keyPanSpeed),e=!0;break;case this.keys.BOTTOM:t.ctrlKey||t.metaKey||t.shiftKey?this.enableRotate&&this._rotateUp(-ts*this.keyRotateSpeed/this.domElement.clientHeight):this.enablePan&&this._pan(0,-this.keyPanSpeed),e=!0;break;case this.keys.LEFT:t.ctrlKey||t.metaKey||t.shiftKey?this.enableRotate&&this._rotateLeft(ts*this.keyRotateSpeed/this.domElement.clientHeight):this.enablePan&&this._pan(this.keyPanSpeed,0),e=!0;break;case this.keys.RIGHT:t.ctrlKey||t.metaKey||t.shiftKey?this.enableRotate&&this._rotateLeft(-ts*this.keyRotateSpeed/this.domElement.clientHeight):this.enablePan&&this._pan(-this.keyPanSpeed,0),e=!0;break}e&&(t.preventDefault(),this.update())}_handleTouchStartRotate(t){if(this._pointers.length===1)this._rotateStart.set(t.pageX,t.pageY);else{let e=this._getSecondPointerPosition(t),n=.5*(t.pageX+e.x),r=.5*(t.pageY+e.y);this._rotateStart.set(n,r)}}_handleTouchStartPan(t){if(this._pointers.length===1)this._panStart.set(t.pageX,t.pageY);else{let e=this._getSecondPointerPosition(t),n=.5*(t.pageX+e.x),r=.5*(t.pageY+e.y);this._panStart.set(n,r)}}_handleTouchStartDolly(t){let e=this._getSecondPointerPosition(t),n=t.pageX-e.x,r=t.pageY-e.y,o=Math.sqrt(n*n+r*r);this._dollyStart.set(0,o)}_handleTouchStartDollyPan(t){this.enableZoom&&this._handleTouchStartDolly(t),this.enablePan&&this._handleTouchStartPan(t)}_handleTouchStartDollyRotate(t){this.enableZoom&&this._handleTouchStartDolly(t),this.enableRotate&&this._handleTouchStartRotate(t)}_handleTouchMoveRotate(t){if(this._pointers.length==1)this._rotateEnd.set(t.pageX,t.pageY);else{let n=this._getSecondPointerPosition(t),r=.5*(t.pageX+n.x),o=.5*(t.pageY+n.y);this._rotateEnd.set(r,o)}this._rotateDelta.subVectors(this._rotateEnd,this._rotateStart).multiplyScalar(this.rotateSpeed);let e=this.domElement;this._rotateLeft(ts*this._rotateDelta.x/e.clientHeight),this._rotateUp(ts*this._rotateDelta.y/e.clientHeight),this._rotateStart.copy(this._rotateEnd)}_handleTouchMovePan(t){if(this._pointers.length===1)this._panEnd.set(t.pageX,t.pageY);else{let e=this._getSecondPointerPosition(t),n=.5*(t.pageX+e.x),r=.5*(t.pageY+e.y);this._panEnd.set(n,r)}this._panDelta.subVectors(this._panEnd,this._panStart).multiplyScalar(this.panSpeed),this._pan(this._panDelta.x,this._panDelta.y),this._panStart.copy(this._panEnd)}_handleTouchMoveDolly(t){let e=this._getSecondPointerPosition(t),n=t.pageX-e.x,r=t.pageY-e.y,o=Math.sqrt(n*n+r*r);this._dollyEnd.set(0,o),this._dollyDelta.set(0,Math.pow(this._dollyEnd.y/this._dollyStart.y,this.zoomSpeed)),this._dollyOut(this._dollyDelta.y),this._dollyStart.copy(this._dollyEnd);let s=(t.pageX+e.x)*.5,a=(t.pageY+e.y)*.5;this._updateZoomParameters(s,a)}_handleTouchMoveDollyPan(t){this.enableZoom&&this._handleTouchMoveDolly(t),this.enablePan&&this._handleTouchMovePan(t)}_handleTouchMoveDollyRotate(t){this.enableZoom&&this._handleTouchMoveDolly(t),this.enableRotate&&this._handleTouchMoveRotate(t)}_addPointer(t){this._pointers.push(t.pointerId)}_removePointer(t){delete this._pointerPositions[t.pointerId];for(let e=0;e<this._pointers.length;e++)if(this._pointers[e]==t.pointerId){this._pointers.splice(e,1);return}}_isTrackingPointer(t){for(let e=0;e<this._pointers.length;e++)if(this._pointers[e]==t.pointerId)return!0;return!1}_trackPointer(t){let e=this._pointerPositions[t.pointerId];e===void 0&&(e=new Ut,this._pointerPositions[t.pointerId]=e),e.set(t.pageX,t.pageY)}_getSecondPointerPosition(t){let e=t.pointerId===this._pointers[0]?this._pointers[1]:this._pointers[0];return this._pointerPositions[e]}_customWheelEvent(t){let e=t.deltaMode,n={clientX:t.clientX,clientY:t.clientY,deltaY:t.deltaY};switch(e){case 1:n.deltaY*=16;break;case 2:n.deltaY*=100;break}return t.ctrlKey&&!this._controlActive&&(n.deltaY*=10),n}};function ZEe(i){this.enabled!==!1&&(this._pointers.length===0&&(this.domElement.setPointerCapture(i.pointerId),this.domElement.ownerDocument.addEventListener("pointermove",this._onPointerMove),this.domElement.ownerDocument.addEventListener("pointerup",this._onPointerUp)),!this._isTrackingPointer(i)&&(this._addPointer(i),i.pointerType==="touch"?this._onTouchStart(i):this._onMouseDown(i)))}function KEe(i){this.enabled!==!1&&(i.pointerType==="touch"?this._onTouchMove(i):this._onMouseMove(i))}function QEe(i){switch(this._removePointer(i),this._pointers.length){case 0:this.domElement.releasePointerCapture(i.pointerId),this.domElement.ownerDocument.removeEventListener("pointermove",this._onPointerMove),this.domElement.ownerDocument.removeEventListener("pointerup",this._onPointerUp),this.dispatchEvent(AZ),this.state=dn.NONE;break;case 1:let t=this._pointers[0],e=this._pointerPositions[t];this._onTouchStart({pointerId:t,pageX:e.x,pageY:e.y});break}}function JEe(i){let t;switch(i.button){case 0:t=this.mouseButtons.LEFT;break;case 1:t=this.mouseButtons.MIDDLE;break;case 2:t=this.mouseButtons.RIGHT;break;default:t=-1}switch(t){case Yd.DOLLY:if(this.enableZoom===!1)return;this._handleMouseDownDolly(i),this.state=dn.DOLLY;break;case Yd.ROTATE:if(i.ctrlKey||i.metaKey||i.shiftKey){if(this.enablePan===!1)return;this._handleMouseDownPan(i),this.state=dn.PAN}else{if(this.enableRotate===!1)return;this._handleMouseDownRotate(i),this.state=dn.ROTATE}break;case Yd.PAN:if(i.ctrlKey||i.metaKey||i.shiftKey){if(this.enableRotate===!1)return;this._handleMouseDownRotate(i),this.state=dn.ROTATE}else{if(this.enablePan===!1)return;this._handleMouseDownPan(i),this.state=dn.PAN}break;default:this.state=dn.NONE}this.state!==dn.NONE&&this.dispatchEvent(p3)}function e1e(i){switch(this.state){case dn.ROTATE:if(this.enableRotate===!1)return;this._handleMouseMoveRotate(i);break;case dn.DOLLY:if(this.enableZoom===!1)return;this._handleMouseMoveDolly(i);break;case dn.PAN:if(this.enablePan===!1)return;this._handleMouseMovePan(i);break}}function t1e(i){this.enabled===!1||this.enableZoom===!1||this.state!==dn.NONE||(i.preventDefault(),this.dispatchEvent(p3),this._handleMouseWheel(this._customWheelEvent(i)),this.dispatchEvent(AZ))}function i1e(i){this.enabled!==!1&&this._handleKeyDown(i)}function n1e(i){switch(this._trackPointer(i),this._pointers.length){case 1:switch(this.touches.ONE){case Zd.ROTATE:if(this.enableRotate===!1)return;this._handleTouchStartRotate(i),this.state=dn.TOUCH_ROTATE;break;case Zd.PAN:if(this.enablePan===!1)return;this._handleTouchStartPan(i),this.state=dn.TOUCH_PAN;break;default:this.state=dn.NONE}break;case 2:switch(this.touches.TWO){case Zd.DOLLY_PAN:if(this.enableZoom===!1&&this.enablePan===!1)return;this._handleTouchStartDollyPan(i),this.state=dn.TOUCH_DOLLY_PAN;break;case Zd.DOLLY_ROTATE:if(this.enableZoom===!1&&this.enableRotate===!1)return;this._handleTouchStartDollyRotate(i),this.state=dn.TOUCH_DOLLY_ROTATE;break;default:this.state=dn.NONE}break;default:this.state=dn.NONE}this.state!==dn.NONE&&this.dispatchEvent(p3)}function r1e(i){switch(this._trackPointer(i),this.state){case dn.TOUCH_ROTATE:if(this.enableRotate===!1)return;this._handleTouchMoveRotate(i),this.update();break;case dn.TOUCH_PAN:if(this.enablePan===!1)return;this._handleTouchMovePan(i),this.update();break;case dn.TOUCH_DOLLY_PAN:if(this.enableZoom===!1&&this.enablePan===!1)return;this._handleTouchMoveDollyPan(i),this.update();break;case dn.TOUCH_DOLLY_ROTATE:if(this.enableZoom===!1&&this.enableRotate===!1)return;this._handleTouchMoveDollyRotate(i),this.update();break;default:this.state=dn.NONE}}function o1e(i){this.enabled!==!1&&i.preventDefault()}function s1e(i){i.key==="Control"&&(this._controlActive=!0,this.domElement.getRootNode().addEventListener("keyup",this._interceptControlUp,{passive:!0,capture:!0}))}function a1e(i){i.key==="Control"&&(this._controlActive=!1,this.domElement.getRootNode().removeEventListener("keyup",this._interceptControlUp,{passive:!0,capture:!0}))}var jh=new Oh,fo=new j,tu=new j,Fn=new Vn,PZ={X:new j(1,0,0),Y:new j(0,1,0),Z:new j(0,0,1)},f3={type:"change"},RZ={type:"mouseDown",mode:null},NZ={type:"mouseUp",mode:null},OZ={type:"objectChange"},FS=class extends Fh{constructor(t,e=null){super(void 0,e);let n=new _3(this);this._root=n;let r=new b3;this._gizmo=r,n.add(r);let o=new v3;this._plane=o,n.add(o);let s=this;function a(M,S){let R=S;Object.defineProperty(s,M,{get:function(){return R!==void 0?R:S},set:function(N){R!==N&&(R=N,o[M]=N,r[M]=N,s.dispatchEvent({type:M+"-changed",value:N}),s.dispatchEvent(f3))}}),s[M]=S,o[M]=S,r[M]=S}a("camera",t),a("object",void 0),a("enabled",!0),a("axis",null),a("mode","translate"),a("translationSnap",null),a("rotationSnap",null),a("scaleSnap",null),a("space","world"),a("size",1),a("dragging",!1),a("showX",!0),a("showY",!0),a("showZ",!0),a("minX",-1/0),a("maxX",1/0),a("minY",-1/0),a("maxY",1/0),a("minZ",-1/0),a("maxZ",1/0);let c=new j,l=new j,d=new Vn,u=new Vn,h=new j,m=new Vn,p=new j,_=new j,f=new j,g=0,C=new j;a("worldPosition",c),a("worldPositionStart",l),a("worldQuaternion",d),a("worldQuaternionStart",u),a("cameraPosition",h),a("cameraQuaternion",m),a("pointStart",p),a("pointEnd",_),a("rotationAxis",f),a("rotationAngle",g),a("eye",C),this._offset=new j,this._startNorm=new j,this._endNorm=new j,this._cameraScale=new j,this._parentPosition=new j,this._parentQuaternion=new Vn,this._parentQuaternionInv=new Vn,this._parentScale=new j,this._worldScaleStart=new j,this._worldQuaternionInv=new Vn,this._worldScale=new j,this._positionStart=new j,this._quaternionStart=new Vn,this._scaleStart=new j,this._getPointer=c1e.bind(this),this._onPointerDown=d1e.bind(this),this._onPointerHover=l1e.bind(this),this._onPointerMove=u1e.bind(this),this._onPointerUp=h1e.bind(this),e!==null&&this.connect(e)}connect(t){super.connect(t),this.domElement.addEventListener("pointerdown",this._onPointerDown),this.domElement.addEventListener("pointermove",this._onPointerHover),this.domElement.addEventListener("pointerup",this._onPointerUp),this.domElement.style.touchAction="none"}disconnect(){this.domElement.removeEventListener("pointerdown",this._onPointerDown),this.domElement.removeEventListener("pointermove",this._onPointerHover),this.domElement.removeEventListener("pointermove",this._onPointerMove),this.domElement.removeEventListener("pointerup",this._onPointerUp),this.domElement.style.touchAction="auto"}getHelper(){return this._root}pointerHover(t){if(this.object===void 0||this.dragging===!0)return;t!==null&&jh.setFromCamera(t,this.camera);let e=g3(this._gizmo.picker[this.mode],jh);e?this.axis=e.object.name:this.axis=null}pointerDown(t){if(!(this.object===void 0||this.dragging===!0||t!=null&&t.button!==0)&&this.axis!==null){t!==null&&jh.setFromCamera(t,this.camera);let e=g3(this._plane,jh,!0);e&&(this.object.updateMatrixWorld(),this.object.parent.updateMatrixWorld(),this._positionStart.copy(this.object.position),this._quaternionStart.copy(this.object.quaternion),this._scaleStart.copy(this.object.scale),this.object.matrixWorld.decompose(this.worldPositionStart,this.worldQuaternionStart,this._worldScaleStart),this.pointStart.copy(e.point).sub(this.worldPositionStart)),this.dragging=!0,RZ.mode=this.mode,this.dispatchEvent(RZ)}}pointerMove(t){let e=this.axis,n=this.mode,r=this.object,o=this.space;if(n==="scale"?o="local":(e==="E"||e==="XYZE"||e==="XYZ")&&(o="world"),r===void 0||e===null||this.dragging===!1||t!==null&&t.button!==-1)return;t!==null&&jh.setFromCamera(t,this.camera);let s=g3(this._plane,jh,!0);if(s){if(this.pointEnd.copy(s.point).sub(this.worldPositionStart),n==="translate")this._offset.copy(this.pointEnd).sub(this.pointStart),o==="local"&&e!=="XYZ"&&this._offset.applyQuaternion(this._worldQuaternionInv),e.indexOf("X")===-1&&(this._offset.x=0),e.indexOf("Y")===-1&&(this._offset.y=0),e.indexOf("Z")===-1&&(this._offset.z=0),o==="local"&&e!=="XYZ"?this._offset.applyQuaternion(this._quaternionStart).divide(this._parentScale):this._offset.applyQuaternion(this._parentQuaternionInv).divide(this._parentScale),r.position.copy(this._offset).add(this._positionStart),this.translationSnap&&(o==="local"&&(r.position.applyQuaternion(Fn.copy(this._quaternionStart).invert()),e.search("X")!==-1&&(r.position.x=Math.round(r.position.x/this.translationSnap)*this.translationSnap),e.search("Y")!==-1&&(r.position.y=Math.round(r.position.y/this.translationSnap)*this.translationSnap),e.search("Z")!==-1&&(r.position.z=Math.round(r.position.z/this.translationSnap)*this.translationSnap),r.position.applyQuaternion(this._quaternionStart)),o==="world"&&(r.parent&&r.position.add(fo.setFromMatrixPosition(r.parent.matrixWorld)),e.search("X")!==-1&&(r.position.x=Math.round(r.position.x/this.translationSnap)*this.translationSnap),e.search("Y")!==-1&&(r.position.y=Math.round(r.position.y/this.translationSnap)*this.translationSnap),e.search("Z")!==-1&&(r.position.z=Math.round(r.position.z/this.translationSnap)*this.translationSnap),r.parent&&r.position.sub(fo.setFromMatrixPosition(r.parent.matrixWorld)))),r.position.x=Math.max(this.minX,Math.min(this.maxX,r.position.x)),r.position.y=Math.max(this.minY,Math.min(this.maxY,r.position.y)),r.position.z=Math.max(this.minZ,Math.min(this.maxZ,r.position.z));else if(n==="scale"){if(e.search("XYZ")!==-1){let a=this.pointEnd.length()/this.pointStart.length();this.pointEnd.dot(this.pointStart)<0&&(a*=-1),tu.set(a,a,a)}else fo.copy(this.pointStart),tu.copy(this.pointEnd),fo.applyQuaternion(this._worldQuaternionInv),tu.applyQuaternion(this._worldQuaternionInv),tu.divide(fo),e.search("X")===-1&&(tu.x=1),e.search("Y")===-1&&(tu.y=1),e.search("Z")===-1&&(tu.z=1);r.scale.copy(this._scaleStart).multiply(tu),this.scaleSnap&&(e.search("X")!==-1&&(r.scale.x=Math.round(r.scale.x/this.scaleSnap)*this.scaleSnap||this.scaleSnap),e.search("Y")!==-1&&(r.scale.y=Math.round(r.scale.y/this.scaleSnap)*this.scaleSnap||this.scaleSnap),e.search("Z")!==-1&&(r.scale.z=Math.round(r.scale.z/this.scaleSnap)*this.scaleSnap||this.scaleSnap))}else if(n==="rotate"){this._offset.copy(this.pointEnd).sub(this.pointStart);let a=20/this.worldPosition.distanceTo(fo.setFromMatrixPosition(this.camera.matrixWorld)),c=!1;e==="XYZE"?(this.rotationAxis.copy(this._offset).cross(this.eye).normalize(),this.rotationAngle=this._offset.dot(fo.copy(this.rotationAxis).cross(this.eye))*a):(e==="X"||e==="Y"||e==="Z")&&(this.rotationAxis.copy(PZ[e]),fo.copy(PZ[e]),o==="local"&&fo.applyQuaternion(this.worldQuaternion),fo.cross(this.eye),fo.length()===0?c=!0:this.rotationAngle=this._offset.dot(fo.normalize())*a),(e==="E"||c)&&(this.rotationAxis.copy(this.eye),this.rotationAngle=this.pointEnd.angleTo(this.pointStart),this._startNorm.copy(this.pointStart).normalize(),this._endNorm.copy(this.pointEnd).normalize(),this.rotationAngle*=this._endNorm.cross(this._startNorm).dot(this.eye)<0?1:-1),this.rotationSnap&&(this.rotationAngle=Math.round(this.rotationAngle/this.rotationSnap)*this.rotationSnap),o==="local"&&e!=="E"&&e!=="XYZE"?(r.quaternion.copy(this._quaternionStart),r.quaternion.multiply(Fn.setFromAxisAngle(this.rotationAxis,this.rotationAngle)).normalize()):(this.rotationAxis.applyQuaternion(this._parentQuaternionInv),r.quaternion.copy(Fn.setFromAxisAngle(this.rotationAxis,this.rotationAngle)),r.quaternion.multiply(this._quaternionStart).normalize())}this.dispatchEvent(f3),this.dispatchEvent(OZ)}}pointerUp(t){t!==null&&t.button!==0||(this.dragging&&this.axis!==null&&(NZ.mode=this.mode,this.dispatchEvent(NZ)),this.dragging=!1,this.axis=null)}dispose(){this.disconnect(),this._root.dispose()}attach(t){return this.object=t,this._root.visible=!0,this}detach(){return this.object=void 0,this.axis=null,this._root.visible=!1,this}reset(){this.enabled&&this.dragging&&(this.object.position.copy(this._positionStart),this.object.quaternion.copy(this._quaternionStart),this.object.scale.copy(this._scaleStart),this.dispatchEvent(f3),this.dispatchEvent(OZ),this.pointStart.copy(this.pointEnd))}getRaycaster(){return jh}getMode(){return this.mode}setMode(t){this.mode=t}setTranslationSnap(t){this.translationSnap=t}setRotationSnap(t){this.rotationSnap=t}setScaleSnap(t){this.scaleSnap=t}setSize(t){this.size=t}setSpace(t){this.space=t}setColors(t,e,n,r){let o=this._gizmo.materialLib;o.xAxis.color.set(t),o.yAxis.color.set(e),o.zAxis.color.set(n),o.active.color.set(r),o.xAxisTransparent.color.set(t),o.yAxisTransparent.color.set(e),o.zAxisTransparent.color.set(n),o.activeTransparent.color.set(r),o.xAxis._color&&o.xAxis._color.set(t),o.yAxis._color&&o.yAxis._color.set(e),o.zAxis._color&&o.zAxis._color.set(n),o.active._color&&o.active._color.set(r),o.xAxisTransparent._color&&o.xAxisTransparent._color.set(t),o.yAxisTransparent._color&&o.yAxisTransparent._color.set(e),o.zAxisTransparent._color&&o.zAxisTransparent._color.set(n),o.activeTransparent._color&&o.activeTransparent._color.set(r)}};function c1e(i){if(this.domElement.ownerDocument.pointerLockElement)return{x:0,y:0,button:i.button};{let t=this.domElement.getBoundingClientRect();return{x:(i.clientX-t.left)/t.width*2-1,y:-(i.clientY-t.top)/t.height*2+1,button:i.button}}}function l1e(i){if(this.enabled)switch(i.pointerType){case"mouse":case"pen":this.pointerHover(this._getPointer(i));break}}function d1e(i){this.enabled&&(document.pointerLockElement||this.domElement.setPointerCapture(i.pointerId),this.domElement.addEventListener("pointermove",this._onPointerMove),this.pointerHover(this._getPointer(i)),this.pointerDown(this._getPointer(i)))}function u1e(i){this.enabled&&this.pointerMove(this._getPointer(i))}function h1e(i){this.enabled&&(this.domElement.releasePointerCapture(i.pointerId),this.domElement.removeEventListener("pointermove",this._onPointerMove),this.pointerUp(this._getPointer(i)))}function g3(i,t,e){let n=t.intersectObject(i,!0);for(let r=0;r<n.length;r++)if(n[r].object.visible||e)return n[r];return!1}var PS=new _c,yn=new j(0,1,0),FZ=new j(0,0,0),LZ=new vn,RS=new Vn,OS=new Vn,Mc=new j,BZ=new vn,l0=new j(1,0,0),$h=new j(0,1,0),d0=new j(0,0,1),NS=new j,a0=new j,c0=new j,_3=class extends Ro{constructor(t){super(),this.isTransformControlsRoot=!0,this.controls=t,this.visible=!1}updateMatrixWorld(t){let e=this.controls;e.object!==void 0&&(e.object.updateMatrixWorld(),e.object.parent===null?console.error("TransformControls: The attached 3D object must be a part of the scene graph."):e.object.parent.matrixWorld.decompose(e._parentPosition,e._parentQuaternion,e._parentScale),e.object.matrixWorld.decompose(e.worldPosition,e.worldQuaternion,e._worldScale),e._parentQuaternionInv.copy(e._parentQuaternion).invert(),e._worldQuaternionInv.copy(e.worldQuaternion).invert()),e.camera.updateMatrixWorld(),e.camera.matrixWorld.decompose(e.cameraPosition,e.cameraQuaternion,e._cameraScale),e.camera.isOrthographicCamera?e.camera.getWorldDirection(e.eye).negate():e.eye.copy(e.cameraPosition).sub(e.worldPosition).normalize(),super.updateMatrixWorld(t)}dispose(){this.traverse(function(t){t.geometry&&t.geometry.dispose(),t.material&&t.material.dispose()})}},b3=class extends Ro{constructor(){super(),this.isTransformControlsGizmo=!0,this.type="TransformControlsGizmo";let t=new Ea({depthTest:!1,depthWrite:!1,fog:!1,toneMapped:!1,transparent:!0}),e=new Rh({depthTest:!1,depthWrite:!1,fog:!1,toneMapped:!1,transparent:!0}),n=t.clone();n.opacity=.15;let r=e.clone();r.opacity=.5;let o=t.clone();o.color.setHex(16711680);let s=t.clone();s.color.setHex(65280);let a=t.clone();a.color.setHex(255);let c=t.clone();c.color.setHex(16711680),c.opacity=.5;let l=t.clone();l.color.setHex(65280),l.opacity=.5;let d=t.clone();d.color.setHex(255),d.opacity=.5;let u=t.clone();u.opacity=.25;let h=t.clone();h.color.setHex(16776960),h.opacity=.25;let m=t.clone();m.color.setHex(16776960);let p=t.clone();p.color.setHex(7895160),this.materialLib={xAxis:o,yAxis:s,zAxis:a,active:m,xAxisTransparent:c,yAxisTransparent:l,zAxisTransparent:d,activeTransparent:h};let _=new gr(0,.04,.1,12);_.translate(0,.05,0);let f=new Ki(.08,.08,.08);f.translate(0,.04,0);let g=new Mr;g.setAttribute("position",new Wi([0,0,0,1,0,0],3));let C=new gr(.0075,.0075,.5,3);C.translate(0,.25,0);function M(ie,de){let ne=new Tl(ie,.0075,3,64,de*Math.PI*2);return ne.rotateY(Math.PI/2),ne.rotateX(Math.PI/2),ne}function S(){let ie=new Mr;return ie.setAttribute("position",new Wi([0,0,0,1,1,1],3)),ie}let R={X:[[new He(_,o),[.5,0,0],[0,0,-Math.PI/2]],[new He(_,o),[-.5,0,0],[0,0,Math.PI/2]],[new He(C,o),[0,0,0],[0,0,-Math.PI/2]]],Y:[[new He(_,s),[0,.5,0]],[new He(_,s),[0,-.5,0],[Math.PI,0,0]],[new He(C,s)]],Z:[[new He(_,a),[0,0,.5],[Math.PI/2,0,0]],[new He(_,a),[0,0,-.5],[-Math.PI/2,0,0]],[new He(C,a),null,[Math.PI/2,0,0]]],XYZ:[[new He(new Wd(.1,0),u),[0,0,0]]],XY:[[new He(new Ki(.15,.15,.01),d),[.15,.15,0]]],YZ:[[new He(new Ki(.15,.15,.01),c),[0,.15,.15],[0,Math.PI/2,0]]],XZ:[[new He(new Ki(.15,.15,.01),l),[.15,0,.15],[-Math.PI/2,0,0]]]},N={X:[[new He(new gr(.2,0,.6,4),n),[.3,0,0],[0,0,-Math.PI/2]],[new He(new gr(.2,0,.6,4),n),[-.3,0,0],[0,0,Math.PI/2]]],Y:[[new He(new gr(.2,0,.6,4),n),[0,.3,0]],[new He(new gr(.2,0,.6,4),n),[0,-.3,0],[0,0,Math.PI]]],Z:[[new He(new gr(.2,0,.6,4),n),[0,0,.3],[Math.PI/2,0,0]],[new He(new gr(.2,0,.6,4),n),[0,0,-.3],[-Math.PI/2,0,0]]],XYZ:[[new He(new Wd(.2,0),n)]],XY:[[new He(new Ki(.2,.2,.01),n),[.15,.15,0]]],YZ:[[new He(new Ki(.2,.2,.01),n),[0,.15,.15],[0,Math.PI/2,0]]],XZ:[[new He(new Ki(.2,.2,.01),n),[.15,0,.15],[-Math.PI/2,0,0]]]},L={START:[[new He(new Wd(.01,2),r),null,null,null,"helper"]],END:[[new He(new Wd(.01,2),r),null,null,null,"helper"]],DELTA:[[new xs(S(),r),null,null,null,"helper"]],X:[[new xs(g,r),[-1e3,0,0],null,[1e6,1,1],"helper"]],Y:[[new xs(g,r),[0,-1e3,0],[0,0,Math.PI/2],[1e6,1,1],"helper"]],Z:[[new xs(g,r),[0,0,-1e3],[0,-Math.PI/2,0],[1e6,1,1],"helper"]]},z={XYZE:[[new He(M(.5,1),p),null,[0,Math.PI/2,0]]],X:[[new He(M(.5,.5),o)]],Y:[[new He(M(.5,.5),s),null,[0,0,-Math.PI/2]]],Z:[[new He(M(.5,.5),a),null,[0,Math.PI/2,0]]],E:[[new He(M(.75,1),h),null,[0,Math.PI/2,0]]]},E={AXIS:[[new xs(g,r),[-1e3,0,0],null,[1e6,1,1],"helper"]]},A={XYZE:[[new He(new Gb(.25,10,8),n)]],X:[[new He(new Tl(.5,.1,4,24),n),[0,0,0],[0,-Math.PI/2,-Math.PI/2]]],Y:[[new He(new Tl(.5,.1,4,24),n),[0,0,0],[Math.PI/2,0,0]]],Z:[[new He(new Tl(.5,.1,4,24),n),[0,0,0],[0,0,-Math.PI/2]]],E:[[new He(new Tl(.75,.1,2,24),n)]]},U={X:[[new He(f,o),[.5,0,0],[0,0,-Math.PI/2]],[new He(C,o),[0,0,0],[0,0,-Math.PI/2]],[new He(f,o),[-.5,0,0],[0,0,Math.PI/2]]],Y:[[new He(f,s),[0,.5,0]],[new He(C,s)],[new He(f,s),[0,-.5,0],[0,0,Math.PI]]],Z:[[new He(f,a),[0,0,.5],[Math.PI/2,0,0]],[new He(C,a),[0,0,0],[Math.PI/2,0,0]],[new He(f,a),[0,0,-.5],[-Math.PI/2,0,0]]],XY:[[new He(new Ki(.15,.15,.01),d),[.15,.15,0]]],YZ:[[new He(new Ki(.15,.15,.01),c),[0,.15,.15],[0,Math.PI/2,0]]],XZ:[[new He(new Ki(.15,.15,.01),l),[.15,0,.15],[-Math.PI/2,0,0]]],XYZ:[[new He(new Ki(.1,.1,.1),u)]]},W={X:[[new He(new gr(.2,0,.6,4),n),[.3,0,0],[0,0,-Math.PI/2]],[new He(new gr(.2,0,.6,4),n),[-.3,0,0],[0,0,Math.PI/2]]],Y:[[new He(new gr(.2,0,.6,4),n),[0,.3,0]],[new He(new gr(.2,0,.6,4),n),[0,-.3,0],[0,0,Math.PI]]],Z:[[new He(new gr(.2,0,.6,4),n),[0,0,.3],[Math.PI/2,0,0]],[new He(new gr(.2,0,.6,4),n),[0,0,-.3],[-Math.PI/2,0,0]]],XY:[[new He(new Ki(.2,.2,.01),n),[.15,.15,0]]],YZ:[[new He(new Ki(.2,.2,.01),n),[0,.15,.15],[0,Math.PI/2,0]]],XZ:[[new He(new Ki(.2,.2,.01),n),[.15,0,.15],[-Math.PI/2,0,0]]],XYZ:[[new He(new Ki(.2,.2,.2),n),[0,0,0]]]},Z={X:[[new xs(g,r),[-1e3,0,0],null,[1e6,1,1],"helper"]],Y:[[new xs(g,r),[0,-1e3,0],[0,0,Math.PI/2],[1e6,1,1],"helper"]],Z:[[new xs(g,r),[0,0,-1e3],[0,-Math.PI/2,0],[1e6,1,1],"helper"]]};function se(ie){let de=new Ro;for(let ne in ie)for(let Me=ie[ne].length;Me--;){let Pe=ie[ne][Me][0].clone(),ze=ie[ne][Me][1],tt=ie[ne][Me][2],ai=ie[ne][Me][3],ui=ie[ne][Me][4];Pe.name=ne,Pe.tag=ui,ze&&Pe.position.set(ze[0],ze[1],ze[2]),tt&&Pe.rotation.set(tt[0],tt[1],tt[2]),ai&&Pe.scale.set(ai[0],ai[1],ai[2]),Pe.updateMatrix();let xn=Pe.geometry.clone();xn.applyMatrix4(Pe.matrix),Pe.geometry=xn,Pe.renderOrder=1/0,Pe.position.set(0,0,0),Pe.rotation.set(0,0,0),Pe.scale.set(1,1,1),de.add(Pe)}return de}this.gizmo={},this.picker={},this.helper={},this.add(this.gizmo.translate=se(R)),this.add(this.gizmo.rotate=se(z)),this.add(this.gizmo.scale=se(U)),this.add(this.picker.translate=se(N)),this.add(this.picker.rotate=se(A)),this.add(this.picker.scale=se(W)),this.add(this.helper.translate=se(L)),this.add(this.helper.rotate=se(E)),this.add(this.helper.scale=se(Z)),this.picker.translate.visible=!1,this.picker.rotate.visible=!1,this.picker.scale.visible=!1}updateMatrixWorld(t){let n=(this.mode==="scale"?"local":this.space)==="local"?this.worldQuaternion:OS;this.gizmo.translate.visible=this.mode==="translate",this.gizmo.rotate.visible=this.mode==="rotate",this.gizmo.scale.visible=this.mode==="scale",this.helper.translate.visible=this.mode==="translate",this.helper.rotate.visible=this.mode==="rotate",this.helper.scale.visible=this.mode==="scale";let r=[];r=r.concat(this.picker[this.mode].children),r=r.concat(this.gizmo[this.mode].children),r=r.concat(this.helper[this.mode].children);for(let o=0;o<r.length;o++){let s=r[o];s.visible=!0,s.rotation.set(0,0,0),s.position.copy(this.worldPosition);let a;if(this.camera.isOrthographicCamera?a=(this.camera.top-this.camera.bottom)/this.camera.zoom:a=this.worldPosition.distanceTo(this.cameraPosition)*Math.min(1.9*Math.tan(Math.PI*this.camera.fov/360)/this.camera.zoom,7),s.scale.set(1,1,1).multiplyScalar(a*this.size/4),s.tag==="helper"){s.visible=!1,s.name==="AXIS"?(s.visible=!!this.axis,this.axis==="X"&&(Fn.setFromEuler(PS.set(0,0,0)),s.quaternion.copy(n).multiply(Fn),Math.abs(yn.copy(l0).applyQuaternion(n).dot(this.eye))>.9&&(s.visible=!1)),this.axis==="Y"&&(Fn.setFromEuler(PS.set(0,0,Math.PI/2)),s.quaternion.copy(n).multiply(Fn),Math.abs(yn.copy($h).applyQuaternion(n).dot(this.eye))>.9&&(s.visible=!1)),this.axis==="Z"&&(Fn.setFromEuler(PS.set(0,Math.PI/2,0)),s.quaternion.copy(n).multiply(Fn),Math.abs(yn.copy(d0).applyQuaternion(n).dot(this.eye))>.9&&(s.visible=!1)),this.axis==="XYZE"&&(Fn.setFromEuler(PS.set(0,Math.PI/2,0)),yn.copy(this.rotationAxis),s.quaternion.setFromRotationMatrix(LZ.lookAt(FZ,yn,$h)),s.quaternion.multiply(Fn),s.visible=this.dragging),this.axis==="E"&&(s.visible=!1)):s.name==="START"?(s.position.copy(this.worldPositionStart),s.visible=this.dragging):s.name==="END"?(s.position.copy(this.worldPosition),s.visible=this.dragging):s.name==="DELTA"?(s.position.copy(this.worldPositionStart),s.quaternion.copy(this.worldQuaternionStart),fo.set(1e-10,1e-10,1e-10).add(this.worldPositionStart).sub(this.worldPosition).multiplyScalar(-1),fo.applyQuaternion(this.worldQuaternionStart.clone().invert()),s.scale.copy(fo),s.visible=this.dragging):(s.quaternion.copy(n),this.dragging?s.position.copy(this.worldPositionStart):s.position.copy(this.worldPosition),this.axis&&(s.visible=this.axis.search(s.name)!==-1));continue}s.quaternion.copy(n),this.mode==="translate"||this.mode==="scale"?(s.name==="X"&&Math.abs(yn.copy(l0).applyQuaternion(n).dot(this.eye))>.99&&(s.scale.set(1e-10,1e-10,1e-10),s.visible=!1),s.name==="Y"&&Math.abs(yn.copy($h).applyQuaternion(n).dot(this.eye))>.99&&(s.scale.set(1e-10,1e-10,1e-10),s.visible=!1),s.name==="Z"&&Math.abs(yn.copy(d0).applyQuaternion(n).dot(this.eye))>.99&&(s.scale.set(1e-10,1e-10,1e-10),s.visible=!1),s.name==="XY"&&Math.abs(yn.copy(d0).applyQuaternion(n).dot(this.eye))<.2&&(s.scale.set(1e-10,1e-10,1e-10),s.visible=!1),s.name==="YZ"&&Math.abs(yn.copy(l0).applyQuaternion(n).dot(this.eye))<.2&&(s.scale.set(1e-10,1e-10,1e-10),s.visible=!1),s.name==="XZ"&&Math.abs(yn.copy($h).applyQuaternion(n).dot(this.eye))<.2&&(s.scale.set(1e-10,1e-10,1e-10),s.visible=!1)):this.mode==="rotate"&&(RS.copy(n),yn.copy(this.eye).applyQuaternion(Fn.copy(n).invert()),s.name.search("E")!==-1&&s.quaternion.setFromRotationMatrix(LZ.lookAt(this.eye,FZ,$h)),s.name==="X"&&(Fn.setFromAxisAngle(l0,Math.atan2(-yn.y,yn.z)),Fn.multiplyQuaternions(RS,Fn),s.quaternion.copy(Fn)),s.name==="Y"&&(Fn.setFromAxisAngle($h,Math.atan2(yn.x,yn.z)),Fn.multiplyQuaternions(RS,Fn),s.quaternion.copy(Fn)),s.name==="Z"&&(Fn.setFromAxisAngle(d0,Math.atan2(yn.y,yn.x)),Fn.multiplyQuaternions(RS,Fn),s.quaternion.copy(Fn))),s.visible=s.visible&&(s.name.indexOf("X")===-1||this.showX),s.visible=s.visible&&(s.name.indexOf("Y")===-1||this.showY),s.visible=s.visible&&(s.name.indexOf("Z")===-1||this.showZ),s.visible=s.visible&&(s.name.indexOf("E")===-1||this.showX&&this.showY&&this.showZ),s.material._color=s.material._color||s.material.color.clone(),s.material._opacity=s.material._opacity||s.material.opacity,s.material.color.copy(s.material._color),s.material.opacity=s.material._opacity,this.enabled&&this.axis&&(s.name===this.axis?(s.material.color.copy(this.materialLib.active.color),s.material.opacity=1):this.axis.split("").some(function(c){return s.name===c})&&(s.material.color.copy(this.materialLib.active.color),s.material.opacity=1))}super.updateMatrixWorld(t)}},v3=class extends He{constructor(){super(new $s(1e5,1e5,2,2),new Ea({visible:!1,wireframe:!0,side:mo,transparent:!0,opacity:.1,toneMapped:!1})),this.isTransformControlsPlane=!0,this.type="TransformControlsPlane"}updateMatrixWorld(t){let e=this.space;switch(this.position.copy(this.worldPosition),this.mode==="scale"&&(e="local"),NS.copy(l0).applyQuaternion(e==="local"?this.worldQuaternion:OS),a0.copy($h).applyQuaternion(e==="local"?this.worldQuaternion:OS),c0.copy(d0).applyQuaternion(e==="local"?this.worldQuaternion:OS),yn.copy(a0),this.mode){case"translate":case"scale":switch(this.axis){case"X":yn.copy(this.eye).cross(NS),Mc.copy(NS).cross(yn);break;case"Y":yn.copy(this.eye).cross(a0),Mc.copy(a0).cross(yn);break;case"Z":yn.copy(this.eye).cross(c0),Mc.copy(c0).cross(yn);break;case"XY":Mc.copy(c0);break;case"YZ":Mc.copy(NS);break;case"XZ":yn.copy(c0),Mc.copy(a0);break;case"XYZ":case"E":Mc.set(0,0,0);break}break;case"rotate":default:Mc.set(0,0,0)}Mc.length()===0?this.quaternion.copy(this.cameraQuaternion):(BZ.lookAt(fo.set(0,0,0),Mc,yn),this.quaternion.setFromRotationMatrix(BZ)),super.updateMatrixWorld(t)}};function m1e(i,t){if(i&1){let e=ft();y(0,"div",1)(1,"button",2),fe("click",function(){ce(e);let r=Q();return le(r.action())}),P(2),x()()}if(i&2){let e=Q();B(2),Vt(" ",e.data.action," ")}}var p1e=["label"];function f1e(i,t){}var g1e=Math.pow(2,31)-1,u0=class{constructor(t,e){this._overlayRef=e,this._afterDismissed=new Fe,this._afterOpened=new Fe,this._onAction=new Fe,this._dismissedByAction=!1,this.containerInstance=t,t._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete(),this.dismiss()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(t){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(t,g1e))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}},VZ=new ge("MatSnackBarData"),Tf=class{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}},_1e=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275dir=we({type:i,selectors:[["","matSnackBarLabel",""]],hostAttrs:[1,"mat-mdc-snack-bar-label","mdc-snackbar__label"],standalone:!0})}}return i})(),b1e=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275dir=we({type:i,selectors:[["","matSnackBarActions",""]],hostAttrs:[1,"mat-mdc-snack-bar-actions","mdc-snackbar__actions"],standalone:!0})}}return i})(),v1e=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275dir=we({type:i,selectors:[["","matSnackBarAction",""]],hostAttrs:[1,"mat-mdc-snack-bar-action","mdc-snackbar__action"],standalone:!0})}}return i})(),UZ=(()=>{class i{constructor(e,n){this.snackBarRef=e,this.data=n}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}static{this.\u0275fac=function(n){return new(n||i)(O(u0),O(VZ))}}static{this.\u0275cmp=rt({type:i,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-mdc-simple-snack-bar"],exportAs:["matSnackBar"],standalone:!0,features:[Tt],decls:3,vars:2,consts:[["matSnackBarLabel",""],["matSnackBarActions",""],["mat-button","","matSnackBarAction","",3,"click"]],template:function(n,r){n&1&&(y(0,"div",0),P(1),x(),Ee(2,m1e,3,1,"div",1)),n&2&&(B(),Vt(" ",r.data.message,`
`),B(),Yt(2,r.hasAction?2:-1))},dependencies:[uc,_1e,b1e,v1e],styles:[".mat-mdc-simple-snack-bar{display:flex}"],encapsulation:2,changeDetection:0})}}return i})(),y1e={snackBarState:Os("state",[Jr("void, hidden",Wn({transform:"scale(0.8)",opacity:0})),Jr("visible",Wn({transform:"scale(1)",opacity:1})),eo("* => visible",To("150ms cubic-bezier(0, 0, 0.2, 1)")),eo("* => void, * => hidden",To("75ms cubic-bezier(0.4, 0.0, 1, 1)",Wn({opacity:0})))])},x1e=0,w1e=(()=>{class i extends ep{constructor(e,n,r,o,s){super(),this._ngZone=e,this._elementRef=n,this._changeDetectorRef=r,this._platform=o,this.snackBarConfig=s,this._document=be(It),this._trackedModals=new Set,this._announceDelay=150,this._destroyed=!1,this._onAnnounce=new Fe,this._onExit=new Fe,this._onEnter=new Fe,this._animationState="void",this._liveElementId=`mat-snack-bar-container-live-${x1e++}`,this.attachDomPortal=a=>{this._assertNotAttached();let c=this._portalOutlet.attachDomPortal(a);return this._afterPortalAttached(),c},s.politeness==="assertive"&&!s.announcementMessage?this._live="assertive":s.politeness==="off"?this._live="off":this._live="polite",this._platform.FIREFOX&&(this._live==="polite"&&(this._role="status"),this._live==="assertive"&&(this._role="alert"))}attachComponentPortal(e){this._assertNotAttached();let n=this._portalOutlet.attachComponentPortal(e);return this._afterPortalAttached(),n}attachTemplatePortal(e){this._assertNotAttached();let n=this._portalOutlet.attachTemplatePortal(e);return this._afterPortalAttached(),n}onAnimationEnd(e){let{fromState:n,toState:r}=e;if((r==="void"&&n!=="void"||r==="hidden")&&this._completeExit(),r==="visible"){let o=this._onEnter;this._ngZone.run(()=>{o.next(),o.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.markForCheck(),this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce())}exit(){return this._ngZone.run(()=>{this._animationState="hidden",this._changeDetectorRef.markForCheck(),this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId)}),this._onExit}ngOnDestroy(){this._destroyed=!0,this._clearFromModals(),this._completeExit()}_completeExit(){queueMicrotask(()=>{this._onExit.next(),this._onExit.complete()})}_afterPortalAttached(){let e=this._elementRef.nativeElement,n=this.snackBarConfig.panelClass;n&&(Array.isArray(n)?n.forEach(s=>e.classList.add(s)):e.classList.add(n)),this._exposeToModals();let r=this._label.nativeElement,o="mdc-snackbar__label";r.classList.toggle(o,!r.querySelector(`.${o}`))}_exposeToModals(){let e=this._liveElementId,n=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let r=0;r<n.length;r++){let o=n[r],s=o.getAttribute("aria-owns");this._trackedModals.add(o),s?s.indexOf(e)===-1&&o.setAttribute("aria-owns",s+" "+e):o.setAttribute("aria-owns",e)}}_clearFromModals(){this._trackedModals.forEach(e=>{let n=e.getAttribute("aria-owns");if(n){let r=n.replace(this._liveElementId,"").trim();r.length>0?e.setAttribute("aria-owns",r):e.removeAttribute("aria-owns")}}),this._trackedModals.clear()}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{let e=this._elementRef.nativeElement.querySelector("[aria-hidden]"),n=this._elementRef.nativeElement.querySelector("[aria-live]");if(e&&n){let r=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&e.contains(document.activeElement)&&(r=document.activeElement),e.removeAttribute("aria-hidden"),n.appendChild(e),r?.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}static{this.\u0275fac=function(n){return new(n||i)(O(Ne),O(Oe),O(ci),O(ri),O(Tf))}}static{this.\u0275cmp=rt({type:i,selectors:[["mat-snack-bar-container"]],viewQuery:function(n,r){if(n&1&&(Nt(Yc,7),Nt(p1e,7)),n&2){let o;Le(o=Be())&&(r._portalOutlet=o.first),Le(o=Be())&&(r._label=o.first)}},hostAttrs:[1,"mdc-snackbar","mat-mdc-snack-bar-container","mdc-snackbar--open"],hostVars:1,hostBindings:function(n,r){n&1&&GT("@state.done",function(s){return r.onAnimationEnd(s)}),n&2&&$T("@state",r._animationState)},standalone:!0,features:[Et,Tt],decls:6,vars:3,consts:[["label",""],[1,"mdc-snackbar__surface"],[1,"mat-mdc-snack-bar-label"],["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(n,r){n&1&&(y(0,"div",1)(1,"div",2,0)(3,"div",3),Ee(4,f1e,0,0,"ng-template",4),x(),Ue(5,"div"),x()()),n&2&&(B(5),wt("aria-live",r._live)("role",r._role)("id",r._liveElementId))},dependencies:[Yc],styles:['.mdc-snackbar{display:none;position:fixed;right:0;bottom:0;left:0;align-items:center;justify-content:center;box-sizing:border-box;pointer-events:none;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mdc-snackbar--opening,.mdc-snackbar--open,.mdc-snackbar--closing{display:flex}.mdc-snackbar--open .mdc-snackbar__label,.mdc-snackbar--open .mdc-snackbar__actions{visibility:visible}.mdc-snackbar__surface{padding-left:0;padding-right:8px;display:flex;align-items:center;justify-content:flex-start;box-sizing:border-box;transform:scale(0.8);opacity:0}.mdc-snackbar__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-snackbar__surface::before{border-color:CanvasText}}[dir=rtl] .mdc-snackbar__surface,.mdc-snackbar__surface[dir=rtl]{padding-left:8px;padding-right:0}.mdc-snackbar--open .mdc-snackbar__surface{transform:scale(1);opacity:1;pointer-events:auto}.mdc-snackbar--closing .mdc-snackbar__surface{transform:scale(1)}.mdc-snackbar__label{padding-left:16px;padding-right:8px;width:100%;flex-grow:1;box-sizing:border-box;margin:0;visibility:hidden;padding-top:14px;padding-bottom:14px}[dir=rtl] .mdc-snackbar__label,.mdc-snackbar__label[dir=rtl]{padding-left:8px;padding-right:16px}.mdc-snackbar__label::before{display:inline;content:attr(data-mdc-snackbar-label-text)}.mdc-snackbar__actions{display:flex;flex-shrink:0;align-items:center;box-sizing:border-box;visibility:hidden}.mdc-snackbar__action+.mdc-snackbar__dismiss{margin-left:8px;margin-right:0}[dir=rtl] .mdc-snackbar__action+.mdc-snackbar__dismiss,.mdc-snackbar__action+.mdc-snackbar__dismiss[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-snack-bar-container{margin:8px;position:static}.mat-mdc-snack-bar-container .mdc-snackbar__surface{min-width:344px}@media(max-width: 480px),(max-width: 344px){.mat-mdc-snack-bar-container .mdc-snackbar__surface{min-width:100%}}@media(max-width: 480px),(max-width: 344px){.mat-mdc-snack-bar-container{width:100vw}}.mat-mdc-snack-bar-container .mdc-snackbar__surface{max-width:672px}.mat-mdc-snack-bar-container .mdc-snackbar__surface{box-shadow:0px 3px 5px -1px rgba(0, 0, 0, 0.2), 0px 6px 10px 0px rgba(0, 0, 0, 0.14), 0px 1px 18px 0px rgba(0, 0, 0, 0.12)}.mat-mdc-snack-bar-container .mdc-snackbar__surface{background-color:var(--mdc-snackbar-container-color)}.mat-mdc-snack-bar-container .mdc-snackbar__surface{border-radius:var(--mdc-snackbar-container-shape)}.mat-mdc-snack-bar-container .mdc-snackbar__label{color:var(--mdc-snackbar-supporting-text-color)}.mat-mdc-snack-bar-container .mdc-snackbar__label{font-size:var(--mdc-snackbar-supporting-text-size);font-family:var(--mdc-snackbar-supporting-text-font);font-weight:var(--mdc-snackbar-supporting-text-weight);line-height:var(--mdc-snackbar-supporting-text-line-height)}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled){color:var(--mat-snack-bar-button-color);--mat-text-button-state-layer-color:currentColor;--mat-text-button-ripple-color:currentColor}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled) .mat-ripple-element{opacity:.1}.mat-mdc-snack-bar-container .mdc-snackbar__label::before{display:none}.mat-mdc-snack-bar-handset,.mat-mdc-snack-bar-container,.mat-mdc-snack-bar-label{flex:1 1 auto}.mat-mdc-snack-bar-handset .mdc-snackbar__surface{width:100%}'],encapsulation:2,data:{animation:[y1e.snackBarState]}})}}return i})();function M1e(){return new Tf}var C1e=new ge("mat-snack-bar-default-options",{providedIn:"root",factory:M1e}),Gh=(()=>{class i{get _openedSnackBarRef(){let e=this._parentSnackBar;return e?e._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(e){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=e:this._snackBarRefAtThisLevel=e}constructor(e,n,r,o,s,a){this._overlay=e,this._live=n,this._injector=r,this._breakpointObserver=o,this._parentSnackBar=s,this._defaultConfig=a,this._snackBarRefAtThisLevel=null,this.simpleSnackBarComponent=UZ,this.snackBarContainerComponent=w1e,this.handsetCssClass="mat-mdc-snack-bar-handset"}openFromComponent(e,n){return this._attach(e,n)}openFromTemplate(e,n){return this._attach(e,n)}open(e,n="",r){let o=ye(ye({},this._defaultConfig),r);return o.data={message:e,action:n},o.announcementMessage===e&&(o.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,o)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(e,n){let r=n&&n.viewContainerRef&&n.viewContainerRef.injector,o=Jn.create({parent:r||this._injector,providers:[{provide:Tf,useValue:n}]}),s=new ad(this.snackBarContainerComponent,n.viewContainerRef,o),a=e.attach(s);return a.instance.snackBarConfig=n,a.instance}_attach(e,n){let r=ye(ye(ye({},new Tf),this._defaultConfig),n),o=this._createOverlay(r),s=this._attachSnackBarContainer(o,r),a=new u0(s,o);if(e instanceof Hi){let c=new Ns(e,null,{$implicit:r.data,snackBarRef:a});a.instance=s.attachTemplatePortal(c)}else{let c=this._createInjector(r,a),l=new ad(e,void 0,c),d=s.attachComponentPortal(l);a.instance=d.instance}return this._breakpointObserver.observe(xH.HandsetPortrait).pipe(Pt(o.detachments())).subscribe(c=>{o.overlayElement.classList.toggle(this.handsetCssClass,c.matches)}),r.announcementMessage&&s._onAnnounce.subscribe(()=>{this._live.announce(r.announcementMessage,r.politeness)}),this._animateSnackBar(a,r),this._openedSnackBarRef=a,this._openedSnackBarRef}_animateSnackBar(e,n){e.afterDismissed().subscribe(()=>{this._openedSnackBarRef==e&&(this._openedSnackBarRef=null),n.announcementMessage&&this._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{e.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):e.containerInstance.enter(),n.duration&&n.duration>0&&e.afterOpened().subscribe(()=>e._dismissAfter(n.duration))}_createOverlay(e){let n=new Wp;n.direction=e.direction;let r=this._overlay.position().global(),o=e.direction==="rtl",s=e.horizontalPosition==="left"||e.horizontalPosition==="start"&&!o||e.horizontalPosition==="end"&&o,a=!s&&e.horizontalPosition!=="center";return s?r.left("0"):a?r.right("0"):r.centerHorizontally(),e.verticalPosition==="top"?r.top("0"):r.bottom("0"),n.positionStrategy=r,this._overlay.create(n)}_createInjector(e,n){let r=e&&e.viewContainerRef&&e.viewContainerRef.injector;return Jn.create({parent:r||this._injector,providers:[{provide:u0,useValue:n},{provide:VZ,useValue:e.data}]})}static{this.\u0275fac=function(n){return new(n||i)(me(Jo),me(vx),me(Jn),me(lx),me(i,12),me(C1e))}}static{this.\u0275prov=xe({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();var zZ=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275mod=$e({type:i})}static{this.\u0275inj=je({providers:[Gh],imports:[qp,tp,Rd,Ft,UZ,Ft]})}}return i})();var S1e=["sceneCanvas"];function E1e(i,t){if(i&1){let e=ft();y(0,"input",25),zi("ngModelChange",function(r){ce(e);let o=Q();return ji(o.wallColor,r)||(o.wallColor=r),le(r)}),x()}if(i&2){let e=Q();Ui("ngModel",e.wallColor)}}function T1e(i,t){if(i&1){let e=ft();y(0,"input",25),zi("ngModelChange",function(r){ce(e);let o=Q();return ji(o.shelfColor,r)||(o.shelfColor=r),le(r)}),x()}if(i&2){let e=Q();Ui("ngModel",e.shelfColor)}}function I1e(i,t){if(i&1){let e=ft();y(0,"input",25),zi("ngModelChange",function(r){ce(e);let o=Q();return ji(o.boxColor,r)||(o.boxColor=r),le(r)}),x()}if(i&2){let e=Q();Ui("ngModel",e.boxColor)}}function D1e(i,t){if(i&1&&(y(0,"option",26),P(1),x()),i&2){let e=t.$implicit;ae("value",e.id),B(),Xt(e.name)}}function k1e(i,t){if(i&1){let e=ft();y(0,"div",27),fe("click",function(r){return ce(e),le(r.stopPropagation())}),y(1,"button",28),fe("click",function(){ce(e);let r=Q();return le(r.renameSelectedBox())}),P(2,"Rename"),x(),y(3,"button",28),fe("click",function(){ce(e);let r=Q();return le(r.addMedicineToSelectedBox())}),P(4,"Add Medicine"),x(),y(5,"button",28),fe("click",function(){ce(e);let r=Q();return le(r.withdrawMedicineFromSelectedBox())}),P(6,"Withdraw Medicine"),x(),y(7,"button",28),fe("click",function(){ce(e);let r=Q();return le(r.setCapacityForSelectedBox())}),P(8,"Set Capacity"),x(),y(9,"button",28),fe("click",function(){ce(e);let r=Q();return le(r.viewMedicinesInSelectedBox())}),P(10,"View Medicines"),x()()}if(i&2){let e=Q();$n("left",e.contextMenu.x,"px")("top",e.contextMenu.y,"px")}}function A1e(i,t){if(i&1){let e=ft();y(0,"div",29),fe("click",function(){ce(e);let r=Q();return le(r.closeMedicinePopup())}),x()}}function P1e(i,t){if(i&1&&(y(0,"span",49),P(1),x()),i&2){let e=Q(2);B(),Vt(" Capacity ",e.medicinePopup.capacity," ")}}function R1e(i,t){if(i&1&&(y(0,"span",54),P(1),x()),i&2){let e=Q().$implicit;B(),Vt("short ",-e.qty,"")}}function N1e(i,t){if(i&1){let e=ft();y(0,"div",50),fe("click",function(){let r=ce(e).$implicit,o=Q(2);return le(o.selectMedicine(r.name))}),y(1,"span",51),P(2),x(),y(3,"span",52),P(4),x(),Ee(5,R1e,2,1,"span",53),x()}if(i&2){let e=t.$implicit,n=Q(2);qe("active",n.medicineForm.medicineName===e.name),B(2),Xt(e.name),B(),qe("negative",e.qty<0),B(),Xt(e.qty),B(),ae("ngIf",e.qty<0)}}function O1e(i,t){if(i&1){let e=ft();y(0,"div",30)(1,"div",31)(2,"div",32),P(3),Ee(4,P1e,2,1,"span",33),x(),y(5,"button",34),fe("click",function(){ce(e);let r=Q();return le(r.cancelMedicinePopup())}),P(6,"Cancel"),x()(),y(7,"div",35)(8,"label"),P(9," Box Name "),y(10,"input",36),zi("ngModelChange",function(r){ce(e);let o=Q();return ji(o.medicineForm.name,r)||(o.medicineForm.name=r),le(r)}),x()(),y(11,"label"),P(12," Tag "),y(13,"input",36),zi("ngModelChange",function(r){ce(e);let o=Q();return ji(o.medicineForm.tag,r)||(o.medicineForm.tag=r),le(r)}),x()(),y(14,"label"),P(15," Capacity "),y(16,"input",37),zi("ngModelChange",function(r){ce(e);let o=Q();return ji(o.medicineForm.capacity,r)||(o.medicineForm.capacity=r),le(r)}),x()(),y(17,"label"),P(18," Min Stock "),y(19,"input",37),zi("ngModelChange",function(r){ce(e);let o=Q();return ji(o.medicineForm.minStock,r)||(o.medicineForm.minStock=r),le(r)}),x()(),y(20,"label"),P(21," Max Stock "),y(22,"input",37),zi("ngModelChange",function(r){ce(e);let o=Q();return ji(o.medicineForm.maxStock,r)||(o.medicineForm.maxStock=r),le(r)}),x()(),y(23,"div",38)(24,"label",39),P(25," Medicine "),y(26,"input",36),zi("ngModelChange",function(r){ce(e);let o=Q();return ji(o.medicineForm.medicineName,r)||(o.medicineForm.medicineName=r),le(r)}),x()(),y(27,"label",40),P(28," Qty "),y(29,"div",41)(30,"div",42)(31,"button",28),fe("click",function(){ce(e);let r=Q();return le(r.updateQuantity(-1))}),P(32,"-"),x(),y(33,"input",43),zi("ngModelChange",function(r){ce(e);let o=Q();return ji(o.medicineForm.quantity,r)||(o.medicineForm.quantity=r),le(r)}),x(),y(34,"button",28),fe("click",function(){ce(e);let r=Q();return le(r.updateQuantity(1))}),P(35,"+"),x()(),y(36,"div",44)(37,"button",28),fe("click",function(){ce(e);let r=Q();return le(r.medicineForm.mode="deposit")}),P(38,"Deposit"),x(),y(39,"button",28),fe("click",function(){ce(e);let r=Q();return le(r.medicineForm.mode="withdraw")}),P(40,"Withdraw"),x()()()()()(),y(41,"div",45)(42,"button",28),fe("click",function(){ce(e);let r=Q();return le(r.cancelMedicinePopup())}),P(43,"Cancel"),x(),y(44,"button",46),fe("click",function(){ce(e);let r=Q();return le(r.saveMedicinePopup())}),P(45,"Save"),x()(),y(46,"div",47),Ee(47,N1e,6,7,"div",48),x()()}if(i&2){let e=Q();B(3),Vt(" ",e.medicinePopup.boxName," Medicines "),B(),ae("ngIf",e.medicinePopup.capacity>0),B(6),Ui("ngModel",e.medicineForm.name),B(3),Ui("ngModel",e.medicineForm.tag),B(3),Ui("ngModel",e.medicineForm.capacity),B(3),Ui("ngModel",e.medicineForm.minStock),B(3),Ui("ngModel",e.medicineForm.maxStock),B(4),Ui("ngModel",e.medicineForm.medicineName),B(7),Ui("ngModel",e.medicineForm.quantity),B(4),qe("active",e.medicineForm.mode==="deposit"),B(2),qe("active",e.medicineForm.mode==="withdraw"),B(8),ae("ngForOf",e.medicinePopup.medicines)}}var LS=(()=>{class i{constructor(e){this.snackBar=e,this.mode="select",this.transformMode="translate",this.raycaster=new Oh,this.pointer=new Ut,this.floorMesh=null,this.gridHelper=null,this.previewMesh=null,this.drawStart=new j,this.drawActive=!1,this.drawTarget=null,this.wallDrawStartY=0,this.wallDrawHeight=0,this.layoutItems=[],this.layoutMap=new Map,this.wallMeshes=new Map,this.shelfMeshes=new Map,this.boxMeshes=new Map,this.boxLabels=new Map,this.tagFlags=new Map,this.selectedMesh=null,this.contextMenu={visible:!1,x:0,y:0,boxId:""},this.medicinePopup={visible:!1,boxName:"",medicines:[],capacity:0,boxId:""},this.medicineForm={name:"",capacity:0,minStock:0,maxStock:0,tag:"",medicineName:"",quantity:1,mode:"deposit"},this.animationFrameId=null,this.storageKey="buildaq_pharmacy_layout_v2",this.wallHeight=3,this.wallThickness=.1,this.shelfDepth=.5,this.boxDepth=.2,this.wallColor="#6b7280",this.shelfColor="#475569",this.boxColor="#1f2937",this.presets=[],this.selectedPresetId="",this.medicineCatalog=null,this.onPointerDown=n=>{if(this.updatePointer(n),this.raycaster.setFromCamera(this.pointer,this.camera),this.mode==="select"||this.mode==="delete"){if(n.button===2){this.openContextMenu(n);return}let r=this.raycaster.intersectObjects(this.collectMeshes(),!0);if(!r.length){this.detachTransform();return}let o=r[0].object,s=this.getLayoutIdFromObject(o);if(s&&this.boxMeshes.has(s)&&this.mode==="select"){this.selectMesh(this.boxMeshes.get(s)),this.openBoxManager(s);return}if(this.mode==="delete"){this.deleteMesh(o);return}this.selectMesh(o);return}if(this.mode==="drawWall"){let r=this.raycaster.intersectObject(this.floorMesh)[0];if(!r)return;this.drawActive=!0,this.controls.enabled=!1,this.drawStart.copy(r.point),this.wallDrawStartY=n.clientY,this.wallDrawHeight=.6,this.createPreviewWall();return}if(this.mode==="drawShelf"){let r=this.raycaster.intersectObjects([...this.wallMeshes.values()])[0];if(!r)return;this.drawActive=!0,this.controls.enabled=!1,this.drawTarget={mesh:r.object,type:"shelf"},this.drawStart.copy(r.point),this.createPreviewShelf();return}if(this.mode==="drawBox"){let r=this.raycaster.intersectObjects([...this.shelfMeshes.values()])[0];if(!r)return;this.drawActive=!0,this.controls.enabled=!1,this.drawTarget={mesh:r.object,type:"box"},this.drawStart.copy(r.point),this.createPreviewBox()}},this.onPointerMove=n=>{if(!(!this.drawActive||!this.previewMesh)){if(this.updatePointer(n),this.raycaster.setFromCamera(this.pointer,this.camera),this.mode==="drawWall"){let r=this.raycaster.intersectObject(this.floorMesh)[0];if(!r)return;this.updatePreviewWall(r.point,n);return}if(this.mode==="drawShelf"&&this.drawTarget){let r=this.raycaster.intersectObject(this.drawTarget.mesh)[0];if(!r)return;this.updatePreviewShelf(r.point);return}if(this.mode==="drawBox"&&this.drawTarget){let r=this.raycaster.intersectObject(this.drawTarget.mesh)[0];if(!r)return;this.updatePreviewBox(r.point)}}},this.onPointerUp=()=>{if(!(!this.drawActive||!this.previewMesh)){if(this.drawActive=!1,this.controls.enabled=!0,this.mode==="drawWall"){this.commitPreview("wall");return}if(this.mode==="drawShelf"){this.commitPreview("shelf");return}this.mode==="drawBox"&&this.commitPreview("box")}},this.onContextMenu=n=>{n.preventDefault(),this.openContextMenu(n)},this.onResize=()=>{if(!this.renderer||!this.camera)return;let n=this.renderer.domElement,r=n.clientWidth||800,o=n.clientHeight||600;this.camera.aspect=r/o,this.camera.updateProjectionMatrix(),this.renderer.setSize(r,o)},this.onKeyDownHandler=n=>{if(this.selectedMesh){if(n.key==="Delete"||n.key==="Backspace"){this.deleteMesh(this.selectedMesh),this.detachTransform();return}if(n.key==="n"||n.key==="N"){let r=this.selectedMesh.userData?.layoutId;if(!r)return;let o=this.layoutMap.get(r);if(!o||o.type!=="box")return;let s=window.prompt("Rename box",o.name||"Box")||"";if(!s.trim())return;o.name=s.trim();let a=this.boxLabels.get(r);if(a){a.parent?.remove(a);let c=this.createBoxLabel(this.getBoxDisplayName(o),o.size,this.getStockStatus(o),this.getLabelSide(o));this.selectedMesh.add(c),this.boxLabels.set(r,c)}this.saveLayout()}}},this.onWindowClick=()=>{this.contextMenu.visible&&(this.contextMenu.visible=!1)}}ngOnInit(){this.presets=this.buildPresets(),this.loadLayout()}ngAfterViewInit(){this.initThree(),this.animate(),setTimeout(()=>this.onResize(),0)}ngOnDestroy(){this.animationFrameId!==null&&cancelAnimationFrame(this.animationFrameId),this.renderer?.dispose(),this.controls?.dispose(),this.transformControls?.dispose(),window.removeEventListener("resize",this.onResize),window.removeEventListener("keydown",this.onKeyDownHandler),window.removeEventListener("click",this.onWindowClick)}setMode(e){this.mode=e,this.detachTransform()}setTransformMode(e){this.transformMode=e,this.transformControls?.setMode(e)}clearLayout(){this.layoutItems=[],this.layoutMap.clear(),this.wallMeshes.forEach(e=>this.disposeMesh(e)),this.shelfMeshes.forEach(e=>this.disposeMesh(e)),this.boxMeshes.forEach(e=>this.disposeMesh(e)),this.boxLabels.forEach(e=>this.disposeObject(e)),this.tagFlags.forEach(e=>this.disposeObject(e)),this.wallMeshes.clear(),this.shelfMeshes.clear(),this.boxMeshes.clear(),this.boxLabels.clear(),this.tagFlags.clear(),this.saveLayout(),this.snackBar.open("Layout cleared","Close",{duration:2e3})}applyPreset(){return te(this,null,function*(){if(!this.selectedPresetId)return;if(this.selectedPresetId==="stocked-india-demo"){this.clearLayout();let n=yield this.buildStockedDemoLayout();this.layoutItems=n.map(r=>mi(ye({},r),{id:this.generateId()})),this.layoutMap=new Map(this.layoutItems.map(r=>[r.id,r])),this.rebuildFromLayout(),this.saveLayout(),this.snackBar.open("Loaded preset: India Demo (Stocked)","Close",{duration:2500});return}let e=this.presets.find(n=>n.id===this.selectedPresetId);e&&(this.clearLayout(),this.layoutItems=e.items.map(n=>mi(ye({},n),{id:this.generateId()})),this.layoutMap=new Map(this.layoutItems.map(n=>[n.id,n])),this.rebuildFromLayout(),this.saveLayout(),this.snackBar.open(`Loaded preset: ${e.name}`,"Close",{duration:2500}))})}initThree(){let e=this.sceneCanvasRef.nativeElement;this.scene=new jb,this.scene.background=new xi("#f3f4f6");let n=e.clientWidth||800,r=e.clientHeight||600;this.camera=new ho(45,n/r,.1,200),this.camera.position.set(6,6,6),this.renderer=new TS({canvas:e,antialias:!0}),this.renderer.setSize(n,r),this.renderer.setPixelRatio(window.devicePixelRatio||1),this.controls=new AS(this.camera,this.renderer.domElement),this.controls.enableDamping=!0;let o=new Yb(16777215,.8),s=new Xb(16777215,.6);s.position.set(5,10,5),this.scene.add(o,s),this.transformControls=new FS(this.camera,this.renderer.domElement),this.transformControls.setMode(this.transformMode),this.transformControls.addEventListener("dragging-changed",a=>{this.controls.enabled=!a.value}),this.transformControls.addEventListener("objectChange",()=>{this.syncSelectedMesh()}),this.scene.add(this.transformControls),this.renderer.domElement.addEventListener("pointerdown",this.onPointerDown),this.renderer.domElement.addEventListener("pointermove",this.onPointerMove),this.renderer.domElement.addEventListener("pointerup",this.onPointerUp),this.renderer.domElement.addEventListener("contextmenu",this.onContextMenu),window.addEventListener("resize",this.onResize),window.addEventListener("keydown",this.onKeyDownHandler),window.addEventListener("click",this.onWindowClick),this.updateFloor(),this.rebuildFromLayout()}updateFloor(){this.floorMesh&&(this.scene.remove(this.floorMesh),this.floorMesh.geometry.dispose()),this.gridHelper&&this.scene.remove(this.gridHelper);let e=new $s(12,10),n=new Ta({color:"#ffffff",side:mo});this.floorMesh=new He(e,n),this.floorMesh.rotation.x=-Math.PI/2,this.scene.add(this.floorMesh),this.gridHelper=new Zb(12,24,"#c7c7c7","#e2e2e2"),this.scene.add(this.gridHelper)}createPreviewWall(){let e=new Ki(.1,this.wallDrawHeight||this.wallHeight,this.wallThickness),n=new Ta({color:this.getActiveColor(),opacity:.6,transparent:!0});this.previewMesh=new He(e,n);let r=this.wallDrawHeight||this.wallHeight;this.previewMesh.position.set(this.drawStart.x,r/2,this.drawStart.z),this.scene.add(this.previewMesh)}updatePreviewWall(e,n){let r=this.drawStart.distanceTo(e);if(r<.2)return;let o=this.wallDrawStartY-n.clientY,s=Math.min(6,Math.max(.4,Math.abs(o)*.02));this.wallDrawHeight=s;let a=new j().addVectors(this.drawStart,e).multiplyScalar(.5),c=Math.atan2(e.z-this.drawStart.z,e.x-this.drawStart.x);this.previewMesh.geometry.dispose(),this.previewMesh.geometry=new Ki(r,s,this.wallThickness),this.previewMesh.position.set(a.x,s/2,a.z),this.previewMesh.rotation.set(0,-c,0)}getHitNormal(e,n){let r=e.worldToLocal(n.clone()),a=e.geometry.parameters.depth/2,c=new j(0,0,1);return Math.abs(r.z)>a*.5&&c.set(0,0,r.z>0?1:-1),c.applyEuler(e.rotation)}createPreviewShelf(){let e=new Ki(.4,.4,this.shelfDepth),n=new Ta({color:this.getActiveColor(),opacity:.6,transparent:!0});this.previewMesh=new He(e,n),this.scene.add(this.previewMesh)}updatePreviewShelf(e){let n=this.drawTarget.mesh,r=n.worldToLocal(this.drawStart.clone()),o=n.worldToLocal(e.clone()),s=Math.abs(o.x-r.x),a=Math.abs(o.y-r.y);if(s<.3||a<.3)return;let c=this.drawTarget?.mesh?this.getHitNormal(this.drawTarget.mesh,e):new j(0,0,1),u=(new j().subVectors(this.camera.position,n.getWorldPosition(new j)).dot(c)>=0?1:-1)*this.shelfDepth/2,h=new j((r.x+o.x)/2,(r.y+o.y)/2,u),m=n.localToWorld(h.clone());this.previewMesh.geometry.dispose(),this.previewMesh.geometry=new Ki(s,a,this.shelfDepth),this.previewMesh.position.copy(m),this.previewMesh.rotation.copy(n.rotation)}createPreviewBox(){let e=new Ki(.2,.2,this.boxDepth),n=new Ta({color:this.getActiveColor(),opacity:.7,transparent:!0});this.previewMesh=new He(e,n),this.scene.add(this.previewMesh)}updatePreviewBox(e){let n=this.drawTarget.mesh,r=n.worldToLocal(this.drawStart.clone()),o=n.worldToLocal(e.clone()),s=Math.abs(o.x-r.x),a=Math.abs(o.y-r.y);if(s<.05||a<.05)return;let c=new j((r.x+o.x)/2,(r.y+o.y)/2,n.userData?.depth?n.userData.depth/2-this.boxDepth/2:this.boxDepth/2),l=n.localToWorld(c.clone());this.previewMesh.geometry.dispose(),this.previewMesh.geometry=new Ki(s,a,this.boxDepth),this.previewMesh.position.copy(l),this.previewMesh.rotation.copy(n.rotation)}commitPreview(e){if(!this.previewMesh)return;let n=this.previewMesh;this.previewMesh=null,this.drawTarget=null;let r=this.generateId(),o=this.getActiveColor(e),s=e==="box"?this.promptBoxName():void 0;if(n.material=new Ta({color:o}),n.userData={layoutId:r,layoutType:e,depth:e==="shelf"?this.shelfDepth:this.boxDepth},e==="wall"&&this.wallMeshes.set(r,n),e==="shelf"&&this.shelfMeshes.set(r,n),e==="box"&&this.boxMeshes.set(r,n),this.layoutItems.push({id:r,type:e,color:o,name:s,medicines:e==="box"?[]:void 0,minStock:e==="box"?0:void 0,maxStock:e==="box"?0:void 0,tag:e==="box"?"":void 0,position:{x:n.position.x,y:n.position.y,z:n.position.z},rotation:{x:n.rotation.x,y:n.rotation.y,z:n.rotation.z},size:this.extractSize(n)}),this.layoutMap.set(r,this.layoutItems[this.layoutItems.length-1]),e==="box"){let a=this.layoutItems[this.layoutItems.length-1].size,c=this.createBoxLabel(s||"Box",a,null,this.getLabelSide(this.layoutItems[this.layoutItems.length-1]));n.add(c),this.boxLabels.set(r,c)}this.saveLayout(),this.scene.add(n)}selectMesh(e){this.selectedMesh=e,this.transformControls.attach(e)}detachTransform(){this.transformControls.detach(),this.selectedMesh=null}deleteMesh(e){let n=e.userData?.layoutId;if(!n)return;this.disposeMesh(e),this.wallMeshes.delete(n),this.shelfMeshes.delete(n),this.boxMeshes.delete(n);let r=this.boxLabels.get(n);r&&(this.disposeObject(r),this.boxLabels.delete(n)),this.layoutItems=this.layoutItems.filter(o=>o.id!==n),this.layoutMap.delete(n),this.saveLayout()}collectMeshes(){return[...this.wallMeshes.values(),...this.shelfMeshes.values(),...this.boxMeshes.values()]}syncSelectedMesh(){if(!this.selectedMesh)return;let e=this.selectedMesh.userData?.layoutId;if(!e)return;let n=this.layoutMap.get(e);n&&(n.position={x:this.selectedMesh.position.x,y:this.selectedMesh.position.y,z:this.selectedMesh.position.z},n.rotation={x:this.selectedMesh.rotation.x,y:this.selectedMesh.rotation.y,z:this.selectedMesh.rotation.z},n.size=this.extractSize(this.selectedMesh),this.saveLayout())}openContextMenu(e){this.updatePointer(e),this.raycaster.setFromCamera(this.pointer,this.camera);let n=this.raycaster.intersectObjects([...this.boxMeshes.values()],!0);if(!n.length){this.contextMenu.visible=!1;return}let r=this.getLayoutIdFromObject(n[0].object);r&&(this.contextMenu={visible:!0,x:e.clientX,y:e.clientY,boxId:r})}renameSelectedBox(){if(!this.contextMenu.boxId)return;let e=this.layoutMap.get(this.contextMenu.boxId);if(!e||e.type!=="box")return;let n=window.prompt("Rename box",e.name||"Box")||"";n.trim()&&(e.name=n.trim(),this.updateBoxLabel(e.id),this.saveLayout(),this.contextMenu.visible=!1)}addMedicineToSelectedBox(){if(!this.contextMenu.boxId)return;let e=this.layoutMap.get(this.contextMenu.boxId);!e||e.type!=="box"||this.depositMedicineToSelectedBox()}depositMedicineToSelectedBox(){if(!this.contextMenu.boxId)return;let e=this.layoutMap.get(this.contextMenu.boxId);if(!e||e.type!=="box")return;let n=window.prompt("Medicine name?")||"";if(!n.trim())return;let r=window.prompt("Deposit quantity?","1")||"",o=Number(r);if(!Number.isFinite(o)||o<=0)return;e.medicines||(e.medicines=[]);let s=e.medicines.find(l=>l.name.toLowerCase()===n.trim().toLowerCase());s?s.qty+=o:e.medicines.push({name:n.trim(),qty:o});let a=e.capacity??0,c=this.getTotalQty(e);a>0&&c>a&&this.snackBar.open(`Over capacity by ${c-a}`,"Close",{duration:3e3}),this.updateBoxLabel(e.id),this.saveLayout(),this.contextMenu.visible=!1}withdrawMedicineFromSelectedBox(){if(!this.contextMenu.boxId)return;let e=this.layoutMap.get(this.contextMenu.boxId);if(!e||e.type!=="box")return;let n=window.prompt("Medicine name?")||"";if(!n.trim())return;let r=window.prompt("Withdraw quantity?","1")||"",o=Number(r);if(!Number.isFinite(o)||o<=0)return;e.medicines||(e.medicines=[]);let s=e.medicines.find(a=>a.name.toLowerCase()===n.trim().toLowerCase());s?s.qty-=o:e.medicines.push({name:n.trim(),qty:-o}),this.updateBoxLabel(e.id),this.saveLayout(),this.contextMenu.visible=!1}setCapacityForSelectedBox(){if(!this.contextMenu.boxId)return;let e=this.layoutMap.get(this.contextMenu.boxId);if(!e||e.type!=="box")return;let n=window.prompt("Set box capacity (total qty)?",String(e.capacity??""))||"",r=Number(n);!Number.isFinite(r)||r<0||(e.capacity=r,this.updateBoxLabel(e.id),this.saveLayout(),this.contextMenu.visible=!1)}viewMedicinesInSelectedBox(){if(!this.contextMenu.boxId)return;let e=this.layoutMap.get(this.contextMenu.boxId);if(!e||e.type!=="box")return;let n=e.medicines||[];if(n.length===0){this.snackBar.open("No medicines in this box yet","Close",{duration:2e3}),this.contextMenu.visible=!1;return}this.medicinePopup={visible:!0,boxName:e.name||"Box",medicines:n,capacity:e.capacity||0,boxId:e.id},this.contextMenu.visible=!1}closeMedicinePopup(){this.medicinePopup.visible=!1}openBoxManager(e){let n=this.layoutMap.get(e);!n||n.type!=="box"||(this.medicinePopup={visible:!0,boxName:n.name||"Box",medicines:n.medicines||[],capacity:n.capacity||0,boxId:e},this.medicineForm={name:n.name||"Box",capacity:n.capacity||0,minStock:n.minStock||0,maxStock:n.maxStock||0,tag:n.tag||"",medicineName:"",quantity:1,mode:"deposit"})}selectMedicine(e){this.medicineForm.medicineName=e}saveMedicinePopup(){let e=this.medicinePopup.boxId;if(!e)return;let n=this.layoutMap.get(e);if(!n||n.type!=="box")return;let r=this.medicineForm.name.trim();r&&(n.name=r);let o=Number(this.medicineForm.capacity);Number.isFinite(o)&&o>=0&&(n.capacity=o);let s=Number(this.medicineForm.minStock);Number.isFinite(s)&&s>=0&&(n.minStock=s);let a=Number(this.medicineForm.maxStock);Number.isFinite(a)&&a>=0&&(n.maxStock=a);let c=this.medicineForm.tag.trim();n.tag=c;let l=this.medicineForm.medicineName.trim(),d=Number(this.medicineForm.quantity);if(l&&Number.isFinite(d)&&d>0){n.medicines||(n.medicines=[]);let u=n.medicines.find(m=>m.name.toLowerCase()===l.toLowerCase()),h=this.medicineForm.mode==="deposit"?d:-d;u?u.qty+=h:n.medicines.push({name:l,qty:h})}this.updateBoxLabel(e),this.openBoxManager(e),this.saveLayout()}cancelMedicinePopup(){this.closeMedicinePopup()}updateQuantity(e){let n=Math.max(1,(Number(this.medicineForm.quantity)||1)+e);this.medicineForm.quantity=n}renameBoxAtEvent(e){this.updatePointer(e),this.raycaster.setFromCamera(this.pointer,this.camera);let n=this.raycaster.intersectObjects([...this.boxMeshes.values()],!0);if(!n.length)return;let r=n[0].object,o=this.getLayoutIdFromObject(r);if(!o)return;let s=this.layoutMap.get(o);if(!s||s.type!=="box")return;let a=window.prompt("Rename box",s.name||"Box")||"";a.trim()&&(s.name=a.trim(),this.updateBoxLabel(o),this.saveLayout())}getLayoutIdFromObject(e){let n=e;for(;n;){let r=n.userData?.layoutId;if(r)return r;n=n.parent}return null}updateBoxLabel(e){let n=this.layoutMap.get(e),r=this.boxMeshes.get(e);if(!n||!r)return;let o=this.boxLabels.get(e);o&&o.parent?.remove(o);let s=this.createBoxLabel(this.getBoxDisplayName(n),n.size,this.getStockStatus(n),this.getLabelSide(n));r.add(s),this.boxLabels.set(e,s)}getBoxDisplayName(e){let n=e.name||"Box",r=this.getTotalQty(e),o=e.capacity||0,s=(e.medicines||[]).some(a=>a.qty<0);return o>0?s?`${n} (${r}/${o})!`:`${n} (${r}/${o})`:r>0?`${n} (${r})${s?"!":""}`:n}getTotalQty(e){return(e.medicines||[]).reduce((n,r)=>n+r.qty,0)}getLabelSide(e){if(e.type!=="box")return"front";let n=e.position.x>.1,r=Math.abs((e.rotation.y||0)-Math.PI/2)<.2;return n&&r?"back":"front"}getStockStatus(e){let n=this.getTotalQty(e),r=e.minStock??0,o=e.maxStock??0;return r>0&&n<r?"low":o>0&&n>o?"high":null}extractSize(e){let r=e.geometry.parameters;if(r?.width&&r?.height&&r?.depth)return{x:r.width*e.scale.x,y:r.height*e.scale.y,z:r.depth*e.scale.z};let o=new gc().setFromObject(e),s=new j;return o.getSize(s),{x:s.x,y:s.y,z:s.z}}saveLayout(){localStorage.setItem(this.storageKey,JSON.stringify(this.layoutItems)),this.scene&&this.updateTagFlags()}loadLayout(){let e=localStorage.getItem(this.storageKey);if(e)try{let n=JSON.parse(e);this.layoutItems=n.map(r=>{if(r.type==="box"&&(r.minStock=Number.isFinite(r.minStock)?r.minStock:0,r.maxStock=Number.isFinite(r.maxStock)?r.maxStock:0,r.tag=typeof r.tag=="string"?r.tag:""),r.medicines&&r.medicines.length>0&&typeof r.medicines[0]=="string"){let o=r.medicines;return mi(ye({},r),{medicines:o.map(s=>({name:s,qty:1}))})}return r}),this.layoutMap=new Map(n.map(r=>[r.id,r]))}catch(n){console.warn("Failed to parse saved layout",n)}}rebuildFromLayout(){this.layoutItems.forEach(e=>{let n=new Ki(e.size.x,e.size.y,e.size.z),r=new Ta({color:e.color||(e.type==="wall"?this.wallColor:e.type==="shelf"?this.shelfColor:this.boxColor)}),o=new He(n,r);if(o.position.set(e.position.x,e.position.y,e.position.z),o.rotation.set(e.rotation.x,e.rotation.y,e.rotation.z),o.userData={layoutId:e.id,layoutType:e.type,depth:e.size.z},e.type==="wall"&&this.wallMeshes.set(e.id,o),e.type==="shelf"&&this.shelfMeshes.set(e.id,o),e.type==="box"&&this.boxMeshes.set(e.id,o),this.scene.add(o),e.type==="box"){let s=this.createBoxLabel(this.getBoxDisplayName(e),e.size,this.getStockStatus(e),this.getLabelSide(e));o.add(s),this.boxLabels.set(e.id,s)}}),this.updateTagFlags()}updatePointer(e){let n=this.renderer.domElement.getBoundingClientRect();this.pointer.x=(e.clientX-n.left)/n.width*2-1,this.pointer.y=-((e.clientY-n.top)/n.height)*2+1}animate(){this.animationFrameId=requestAnimationFrame(()=>this.animate()),this.controls?.update(),this.renderer?.render(this.scene,this.camera)}disposeMesh(e){this.scene.remove(e),e.geometry.dispose();let n=e.material;Array.isArray(n)?n.forEach(r=>r.dispose()):n.dispose()}disposeObject(e){e.traverse(n=>{let r=n;r.geometry&&r.geometry.dispose(),r.material&&(Array.isArray(r.material)?r.material.forEach(o=>o.dispose()):r.material.dispose())})}generateId(){return"_"+Math.random().toString(36).slice(2,10)}buildPresets(){return[{id:"stocked-india-demo",name:"India Demo (Stocked)",items:[]},{id:"compact-pharmacy",name:"Compact Pharmacy",items:this.buildPharmacyLayout({roomWidth:10,roomDepth:8,shelfHeight:1.3,shelfDepth:.5,boxRows:2,boxCols:8,deskFacing:0})},{id:"wide-pharmacy",name:"Wide Pharmacy",items:this.buildPharmacyLayout({roomWidth:12,roomDepth:9,shelfHeight:1.4,shelfDepth:.55,boxRows:2,boxCols:10,deskFacing:Math.PI})},{id:"corner-pharmacy",name:"Corner Pharmacy",items:this.buildPharmacyLayout({roomWidth:9,roomDepth:7,shelfHeight:1.2,shelfDepth:.5,boxRows:2,boxCols:7,deskFacing:Math.PI/2})},{id:"front-desk-east",name:"Front Desk East",items:this.buildPharmacyLayout({roomWidth:11,roomDepth:8,shelfHeight:1.3,shelfDepth:.5,boxRows:2,boxCols:9,deskFacing:-Math.PI/2})},{id:"central-desk-north",name:"Central Desk North",items:this.buildPharmacyLayout({roomWidth:10,roomDepth:9,shelfHeight:1.35,shelfDepth:.55,boxRows:2,boxCols:8,deskFacing:0,deskPosition:{x:.8,z:.6}})},{id:"desk-west-ne",name:"Desk West - NE",items:this.buildPharmacyLayout({roomWidth:10,roomDepth:8,shelfHeight:1.3,shelfDepth:.5,boxRows:2,boxCols:8,deskFacing:Math.PI,deskPosition:{x:2,z:-2}})},{id:"desk-west-se",name:"Desk West - SE",items:this.buildPharmacyLayout({roomWidth:10,roomDepth:8,shelfHeight:1.3,shelfDepth:.5,boxRows:2,boxCols:8,deskFacing:Math.PI,deskPosition:{x:2,z:2}})},{id:"desk-south-east",name:"Desk South - East Corner",items:this.buildPharmacyLayout({roomWidth:10,roomDepth:8,shelfHeight:1.3,shelfDepth:.5,boxRows:2,boxCols:8,deskFacing:Math.PI/2,deskPosition:{x:2.6,z:3}})},{id:"desk-south-west",name:"Desk South - West Corner",items:this.buildPharmacyLayout({roomWidth:10,roomDepth:8,shelfHeight:1.3,shelfDepth:.5,boxRows:2,boxCols:8,deskFacing:-Math.PI/2,deskPosition:{x:-2.6,z:3}})},{id:"desk-south-center",name:"Desk South - Center",items:this.buildPharmacyLayout({roomWidth:10,roomDepth:8,shelfHeight:1.3,shelfDepth:.5,boxRows:2,boxCols:8,deskFacing:Math.PI,deskPosition:{x:0,z:3}})}]}buildPharmacyLayout(e){let o="#6b7280",s="#475569",a="#111827",c=e.roomWidth/2,l=e.roomDepth/2,d={id:this.generateId(),type:"wall",color:o,position:{x:0,y:3/2,z:-l},rotation:{x:0,y:0,z:0},size:{x:e.roomWidth,y:3,z:.1}},u={id:this.generateId(),type:"wall",color:o,position:{x:-c,y:3/2,z:0},rotation:{x:0,y:Math.PI/2,z:0},size:{x:e.roomDepth,y:3,z:.1}},h={id:this.generateId(),type:"wall",color:o,position:{x:c,y:3/2,z:0},rotation:{x:0,y:Math.PI/2,z:0},size:{x:e.roomDepth,y:3,z:.1}},m={id:this.generateId(),type:"shelf",color:s,name:"Back Shelf",position:{x:0,y:e.shelfHeight/2+.4,z:-l+e.shelfDepth/2+.05},rotation:{x:0,y:0,z:0},size:{x:e.roomWidth-1,y:e.shelfHeight,z:e.shelfDepth}},p={id:this.generateId(),type:"shelf",color:s,name:"Left Shelf",position:{x:-c+e.shelfDepth/2+.05,y:e.shelfHeight/2+.4,z:0},rotation:{x:0,y:Math.PI/2,z:0},size:{x:e.roomDepth-1,y:e.shelfHeight,z:e.shelfDepth}},_={id:this.generateId(),type:"shelf",color:s,name:"Right Shelf",position:{x:c-e.shelfDepth/2-.05,y:e.shelfHeight/2+.4,z:0},rotation:{x:0,y:Math.PI/2,z:0},size:{x:e.roomDepth-1,y:e.shelfHeight,z:e.shelfDepth}},f=[d,u,h,m,p,_],g=(C,M,S)=>{let R=C.size.x,N=C.size.y,L=C.size.z,z=R/e.boxCols,E=N/e.boxRows,A=.22;for(let U=0;U<e.boxRows;U+=1)for(let W=0;W<e.boxCols;W+=1){let Z=`${String.fromCharCode(65+U)}${W+1}`,se=-R/2+z/2+W*z,ie=-N/2+E/2+U*E,de={x:C.position.x,y:C.position.y+ie,z:C.position.z};M==="north"?de={x:C.position.x+se,y:C.position.y+ie,z:C.position.z+L/2+A/2}:M==="west"?de={x:C.position.x+L/2+A/2,y:C.position.y+ie,z:C.position.z+se}:de={x:C.position.x-L/2-A/2,y:C.position.y+ie,z:C.position.z+se},f.push({id:this.generateId(),type:"box",color:a,name:`${S}-${Z}`,position:de,rotation:{x:0,y:C.rotation.y,z:0},size:{x:z*.9,y:E*.85,z:A}})}};return g(m,"north","B"),g(p,"west","L"),g(_,"east","R"),f.push({id:this.generateId(),type:"box",color:"#0f172a",name:"Fridge",position:{x:c-.8,y:1.1,z:l-1.2},rotation:{x:0,y:Math.PI,z:0},size:{x:.8,y:2.2,z:.7}},{id:this.generateId(),type:"box",color:"#7c3e1d",name:"Counter",position:{x:0,y:.5,z:-l+2.2},rotation:{x:0,y:0,z:0},size:{x:2.8,y:1,z:.9}},{id:this.generateId(),type:"box",color:"#8b5e3c",name:"Desk",position:{x:e.deskPosition?.x??-1.2,y:.38,z:e.deskPosition?.z??.8},rotation:{x:0,y:e.deskFacing,z:0},size:{x:1.4,y:.75,z:.7}},{id:this.generateId(),type:"box",color:"#1f2937",name:"Chair Seat",position:{x:(e.deskPosition?.x??-1.2)+Math.sin(e.deskFacing)*.6,y:.42,z:(e.deskPosition?.z??.8)+Math.cos(e.deskFacing)*.6},rotation:{x:0,y:e.deskFacing,z:0},size:{x:.55,y:.12,z:.55}},{id:this.generateId(),type:"box",color:"#111827",name:"Chair Back",position:{x:(e.deskPosition?.x??-1.2)+Math.sin(e.deskFacing)*.75,y:.75,z:(e.deskPosition?.z??.8)+Math.cos(e.deskFacing)*.75},rotation:{x:0,y:e.deskFacing,z:0},size:{x:.55,y:.6,z:.12}},{id:this.generateId(),type:"box",color:"#0f172a",name:"Chair Base",position:{x:(e.deskPosition?.x??-1.2)+Math.sin(e.deskFacing)*.6,y:.2,z:(e.deskPosition?.z??.8)+Math.cos(e.deskFacing)*.6},rotation:{x:0,y:e.deskFacing,z:0},size:{x:.45,y:.08,z:.45}}),f}buildStockedDemoLayout(){return te(this,null,function*(){let e=this.buildPharmacyLayout({roomWidth:12,roomDepth:9,shelfHeight:1.35,shelfDepth:.55,boxRows:2,boxCols:10,deskFacing:Math.PI,deskPosition:{x:-2.2,z:2.8}}),n=yield this.loadMedicineCatalog();if(n.length===0)return e;let r=e.filter(o=>o.type==="box"&&o.name&&(o.name.startsWith("B-")||o.name.startsWith("L-")||o.name.startsWith("R-")));return this.seedBoxMedicines(r,n),e})}seedBoxMedicines(e,n){let r=e.sort((c,l)=>(c.name||"").localeCompare(l.name||"")),o=0,s=6,a=6;r.forEach((c,l)=>{let d=l<s,u=l>=r.length-a,h=d?8:u?2:5,m=[],p=new Map;for(let g=0;g<h&&o<n.length;g+=1,o+=1){let C=n[o],M=this.seedMedicineQty(d,u,g,o);if(m.push({name:C.name,qty:M}),C.category){let S=this.normalizeTag(C.category);p.set(S,(p.get(S)||0)+1)}}c.medicines=m,c.tag=this.pickDominantTag(p,l);let _=d?70:u?30:40,f=d?140:u?80:120;c.minStock=_,c.maxStock=f,c.capacity=f})}pickDominantTag(e,n){if(e.size>0)return[...e.entries()].sort((o,s)=>s[1]-o[1])[0][0];let r=["General","Pain Relief","Gastro","Antibiotics","Respiratory","Vitamins","Dermatology"];return r[n%r.length]}normalizeTag(e){let n=e.toLowerCase();return n.includes("pain")||n.includes("analges")?"Pain Relief":n.includes("antibiotic")?"Antibiotics":n.includes("gastro")||n.includes("ulcer")||n.includes("acidity")?"Gastro":n.includes("respir")||n.includes("cough")||n.includes("cold")||n.includes("asthma")?"Respiratory":n.includes("cardiac")||n.includes("heart")||n.includes("hypertension")?"Cardiac":n.includes("diabet")?"Diabetes":n.includes("derma")||n.includes("skin")?"Dermatology":n.includes("vitamin")||n.includes("supplement")||n.includes("nutrition")?"Vitamins":n.includes("women")||n.includes("pregnan")||n.includes("gyn")?"Women's Health":n.includes("baby")||n.includes("pediatric")?"Baby Care":n.includes("ent")||n.includes("ophthal")||n.includes("eye")||n.includes("ear")?"ENT/Ophthalmic":n.includes("dental")?"Dental":n.includes("wound")||n.includes("antiseptic")?"Wound Care":n.includes("ayur")?"Ayurveda":n.includes("homeo")?"Homeopathy":n.includes("disposable")||n.includes("syringe")?"Disposables":"General"}seedMedicineQty(e,n,r,o){return e?18+r%4*6:n?4+r%2*3:8+o%6*2}loadMedicineCatalog(){return te(this,null,function*(){if(this.medicineCatalog)return this.medicineCatalog;try{let e=yield fetch("/assets/data/medicine-catalog-300.json"),n=e.ok?e:yield fetch("assets/data/medicine-catalog-300.json");if(!n.ok)throw new Error("Failed to load medicine catalog");let r=yield n.json();return this.medicineCatalog=r.filter(o=>o?.name),this.medicineCatalog}catch(e){return console.warn("Unable to load medicine catalog",e),this.medicineCatalog=[],this.medicineCatalog}})}promptBoxName(){return(window.prompt("Box name?")||"").trim()||"Box"}createBoxLabel(e,n,r,o="front"){let s=document.createElement("canvas");s.width=512,s.height=512;let a=s.getContext("2d");if(a){let p=r==="low"?"#ef4444":r==="high"?"#22c55e":"#ffffff";if(a.fillStyle="rgba(0, 0, 0, 0.92)",a.fillRect(0,0,s.width,s.height),a.strokeStyle=p,a.lineWidth=6,a.strokeRect(8,8,s.width-16,s.height-16),r){a.fillStyle=p,a.fillRect(8,8,s.width-16,22),a.beginPath();let f=28,g=s.width-36,C=19;r==="low"?(a.moveTo(g,C+f/2),a.lineTo(g-f/2,C-f/2),a.lineTo(g+f/2,C-f/2)):(a.moveTo(g,C-f/2),a.lineTo(g-f/2,C+f/2),a.lineTo(g+f/2,C+f/2)),a.closePath(),a.fillStyle="#0f172a",a.fill()}a.fillStyle="#ffffff";let _=140;for(a.font=`bold ${_}px Arial`,a.textAlign="center",a.textBaseline="middle";a.measureText(e).width>s.width-40&&_>40;)_-=8,a.font=`bold ${_}px Arial`;a.fillText(e,s.width/2,s.height/2)}let c=new _f(s);c.minFilter=Yn,c.magFilter=Yn;let l=new Ea({map:c,transparent:!0});l.side=mo;let d=Math.max(.1,n.x*.98),u=Math.max(.1,n.y*.98),h=new mc,m=new He(new $s(d,u),l);if(m.position.set(0,0,(o==="front"?1:-1)*(n.z/2+.01)),o==="back"&&(m.rotation.y=Math.PI),h.add(m),e.toLowerCase().includes("desk")){let p=new He(new $s(d,u),l);p.position.set(0,0,-n.z/2-.01),p.rotation.y=Math.PI,h.add(p)}return h}updateTagFlags(){this.tagFlags.forEach(r=>this.disposeObject(r)),this.tagFlags.clear();let e=this.layoutItems.filter(r=>r.type==="box"&&r.tag&&r.tag.trim());if(e.length===0)return;let n=new Map;e.forEach(r=>{let o=r.tag.trim();n.has(o)||n.set(o,[]),n.get(o).push(r)}),n.forEach((r,o)=>{let s=r.reduce((m,p)=>(m.x+=p.position.x,m.z+=p.position.z,m.y=Math.max(m.y,p.position.y+p.size.y/2),m),{x:0,y:0,z:0}),a=r.length||1,c=s.x/a,l=s.z/a,d=s.y+.6,u=this.createTagFlag(o);u.position.set(c,d,l);let h=Math.atan2(0-c,0-l);u.rotation.y=h,this.scene.add(u),this.tagFlags.set(o,u)})}createTagFlag(e){let n=document.createElement("canvas");n.width=512,n.height=256;let r=n.getContext("2d");if(r){r.fillStyle="#0f172a",r.fillRect(0,0,n.width,n.height),r.strokeStyle="#38bdf8",r.lineWidth=8,r.strokeRect(8,8,n.width-16,n.height-16),r.fillStyle="#f8fafc";let u=96;for(r.font=`bold ${u}px Arial`,r.textAlign="center",r.textBaseline="middle";r.measureText(e).width>n.width-40&&u>32;)u-=6,r.font=`bold ${u}px Arial`;r.fillText(e,n.width/2,n.height/2)}let o=new _f(n);o.minFilter=Yn,o.magFilter=Yn;let s=new Ea({map:o,side:mo}),a=new He(new $s(1.2,.45),s);a.position.set(0,.45,.05);let c=new Ta({color:"#475569"}),l=new He(new gr(.03,.03,.6,16),c);l.position.set(-.55,.2,0);let d=new mc;return d.add(l,a),d}getActiveColor(e){let n=e||(this.mode==="drawWall"?"wall":this.mode==="drawShelf"?"shelf":"box");return n==="wall"?this.wallColor:n==="shelf"?this.shelfColor:this.boxColor}static{this.\u0275fac=function(n){return new(n||i)(O(Gh))}}static{this.\u0275cmp=rt({type:i,selectors:[["app-visual-space-mapper"]],viewQuery:function(n,r){if(n&1&&Nt(S1e,5),n&2){let o;Le(o=Be())&&(r.sceneCanvasRef=o.first)}},decls:61,vars:17,consts:[["sceneCanvas",""],[1,"visual-mapper"],[1,"toolbar"],[1,"tool-group"],["type","button","mat-stroked-button","",3,"click","color"],[1,"tool-group","color-picker"],["type","color",3,"ngModel","ngModelChange",4,"ngIf"],["type","button","mat-stroked-button","","color","warn",3,"click"],[1,"preset-label"],[3,"ngModelChange","ngModel"],["value",""],[3,"value",4,"ngFor","ngForOf"],["type","button","mat-stroked-button","",3,"click","disabled"],[1,"viewport"],[1,"scene-canvas"],[1,"hint"],["class","context-menu",3,"left","top","click",4,"ngIf"],["class","modal-backdrop",3,"click",4,"ngIf"],["class","medicine-modal",4,"ngIf"],["aria-label","Direction compass",1,"direction-compass"],[1,"compass-ring"],[1,"compass-label","north"],[1,"compass-label","east"],[1,"compass-label","south"],[1,"compass-label","west"],["type","color",3,"ngModelChange","ngModel"],[3,"value"],[1,"context-menu",3,"click"],["type","button",3,"click"],[1,"modal-backdrop",3,"click"],[1,"medicine-modal"],[1,"medicine-modal-header"],[1,"medicine-modal-title"],["class","capacity-tag",4,"ngIf"],["type","button",1,"close-btn",3,"click"],[1,"medicine-modal-actions"],["type","text",3,"ngModelChange","ngModel"],["type","number","min","0",3,"ngModelChange","ngModel"],[1,"medicine-qty-group"],[1,"medicine-field"],[1,"qty-field"],[1,"qty-row"],[1,"qty-input"],["type","number","min","1",3,"ngModelChange","ngModel"],[1,"mode-toggle"],[1,"action-row"],["type","button",1,"save-btn",3,"click"],[1,"medicine-modal-body"],["class","medicine-row",3,"active","click",4,"ngFor","ngForOf"],[1,"capacity-tag"],[1,"medicine-row",3,"click"],[1,"medicine-name"],[1,"medicine-qty"],["class","medicine-alert",4,"ngIf"],[1,"medicine-alert"]],template:function(n,r){if(n&1){let o=ft();y(0,"div",1)(1,"div",2)(2,"div",3)(3,"button",4),fe("click",function(){return ce(o),le(r.setMode("drawWall"))}),P(4," Draw Wall "),x(),y(5,"button",4),fe("click",function(){return ce(o),le(r.setMode("drawShelf"))}),P(6," Draw Shelf "),x(),y(7,"button",4),fe("click",function(){return ce(o),le(r.setMode("drawBox"))}),P(8," Draw Box "),x(),y(9,"button",4),fe("click",function(){return ce(o),le(r.setMode("select"))}),P(10," Select "),x(),y(11,"button",4),fe("click",function(){return ce(o),le(r.setMode("delete"))}),P(12," Delete "),x()(),y(13,"div",5)(14,"label"),P(15," Color "),Ee(16,E1e,1,1,"input",6)(17,T1e,1,1,"input",6)(18,I1e,1,1,"input",6),x()(),y(19,"div",3)(20,"button",4),fe("click",function(){return ce(o),le(r.setTransformMode("translate"))}),P(21," Move "),x(),y(22,"button",4),fe("click",function(){return ce(o),le(r.setTransformMode("rotate"))}),P(23," Rotate "),x(),y(24,"button",4),fe("click",function(){return ce(o),le(r.setTransformMode("scale"))}),P(25," Scale "),x()(),y(26,"div",3)(27,"button",7),fe("click",function(){return ce(o),le(r.clearLayout())}),P(28," Clear Layout "),x()(),y(29,"div",3)(30,"label",8),P(31," Preset "),y(32,"select",9),zi("ngModelChange",function(a){return ce(o),ji(r.selectedPresetId,a)||(r.selectedPresetId=a),le(a)}),y(33,"option",10),P(34,"Choose..."),x(),Ee(35,D1e,2,2,"option",11),x()(),y(36,"button",12),fe("click",function(){return ce(o),le(r.applyPreset())}),P(37," Import "),x()()(),y(38,"div",13),Ue(39,"canvas",14,0),y(41,"div",15)(42,"div"),P(43,"Wall: click-drag on floor"),x(),y(44,"div"),P(45,"Shelf: click-drag on a wall"),x(),y(46,"div"),P(47,"Box: click-drag on a shelf"),x()(),Ee(48,k1e,11,4,"div",16)(49,A1e,1,0,"div",17)(50,O1e,48,14,"div",18),y(51,"div",19),Ue(52,"div",20),y(53,"div",21),P(54,"N"),x(),y(55,"div",22),P(56,"E"),x(),y(57,"div",23),P(58,"S"),x(),y(59,"div",24),P(60,"W"),x()()()()}n&2&&(B(3),ae("color",r.mode==="drawWall"?"primary":""),B(2),ae("color",r.mode==="drawShelf"?"primary":""),B(2),ae("color",r.mode==="drawBox"?"primary":""),B(2),ae("color",r.mode==="select"?"primary":""),B(2),ae("color",r.mode==="delete"?"warn":""),B(5),ae("ngIf",r.mode==="drawWall"),B(),ae("ngIf",r.mode==="drawShelf"),B(),ae("ngIf",r.mode==="drawBox"),B(2),ae("color",r.transformMode==="translate"?"accent":""),B(2),ae("color",r.transformMode==="rotate"?"accent":""),B(2),ae("color",r.transformMode==="scale"?"accent":""),B(8),Ui("ngModel",r.selectedPresetId),B(3),ae("ngForOf",r.presets),B(),ae("disabled",!r.selectedPresetId),B(12),ae("ngIf",r.contextMenu.visible),B(),ae("ngIf",r.medicinePopup.visible),B(),ae("ngIf",r.medicinePopup.visible))},dependencies:[Wa,Ds,s5,c5,qa,jc,Oy,Yl,Pu,ku,uc],styles:[".visual-mapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px;padding:16px;background:#f3f4f6}.toolbar[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:12px;align-items:center;background:#fff;border-radius:12px;padding:12px;box-shadow:0 8px 24px #0f172a14}.tool-group[_ngcontent-%COMP%]{display:flex;gap:8px;align-items:center}.color-picker[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;font-size:13px;color:#1f2937}.color-picker[_ngcontent-%COMP%]   input[type=color][_ngcontent-%COMP%]{width:36px;height:32px;border:none;padding:0;background:transparent;cursor:pointer}.preset-label[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;font-size:13px;color:#1f2937}.preset-label[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{height:32px;border-radius:6px;border:1px solid #d1d5db;padding:0 8px;background:#fff}.viewport[_ngcontent-%COMP%]{position:relative;width:100%;height:70vh;border-radius:16px;overflow:hidden;background:radial-gradient(circle at top,#fff,#e5e7eb);box-shadow:0 16px 30px #0f172a1f}.scene-canvas[_ngcontent-%COMP%]{width:100%;height:100%;display:block}.hint[_ngcontent-%COMP%]{position:absolute;right:16px;bottom:16px;background:#0f172ad9;color:#f8fafc;padding:10px 12px;border-radius:10px;font-size:12px;line-height:1.4;text-transform:uppercase;letter-spacing:.04em}.direction-compass[_ngcontent-%COMP%]{position:absolute;right:16px;bottom:90px;width:64px;height:64px;border-radius:50%;background:#0f172ae6;color:#f8fafc;display:grid;place-items:center;font-weight:700;font-size:12px;text-transform:uppercase}.compass-ring[_ngcontent-%COMP%]{position:absolute;inset:6px;border:2px solid rgba(248,250,252,.5);border-radius:50%}.compass-label[_ngcontent-%COMP%]{position:absolute}.compass-label.north[_ngcontent-%COMP%]{top:6px}.compass-label.south[_ngcontent-%COMP%]{bottom:6px}.compass-label.east[_ngcontent-%COMP%]{right:6px}.compass-label.west[_ngcontent-%COMP%]{left:6px}.context-menu[_ngcontent-%COMP%]{position:absolute;min-width:160px;background:#0f172a;color:#f8fafc;border-radius:10px;padding:6px;box-shadow:0 12px 30px #0f172a4d;z-index:10}.context-menu[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;background:transparent;border:none;color:inherit;text-align:left;padding:8px 10px;border-radius:8px;cursor:pointer}.context-menu[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background:#f8fafc1f}.modal-backdrop[_ngcontent-%COMP%]{position:absolute;inset:0;background:#0f172a73;z-index:9}.medicine-modal[_ngcontent-%COMP%]{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);width:min(520px,92%);background:#0f172a;color:#f8fafc;border-radius:16px;padding:16px;box-shadow:0 18px 40px #0f172a66;z-index:10}.medicine-modal-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:12px}.medicine-modal-title[_ngcontent-%COMP%]{font-weight:700;font-size:16px}.capacity-tag[_ngcontent-%COMP%]{margin-left:8px;font-size:12px;font-weight:600;padding:2px 8px;border-radius:999px;background:#f8fafc26}.close-btn[_ngcontent-%COMP%]{background:transparent;border:1px solid rgba(248,250,252,.3);color:#f8fafc;padding:4px 10px;border-radius:8px;cursor:pointer}.medicine-modal-body[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px}.medicine-modal-actions[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:12px;margin-bottom:12px}.medicine-modal-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:1px solid rgba(248,250,252,.3);background:#f8fafc14;color:#f8fafc;padding:6px 10px;border-radius:8px;cursor:pointer}.medicine-modal-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background:#f8fafc2e}.medicine-modal-actions[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:grid;gap:4px;font-size:12px}.medicine-qty-group[_ngcontent-%COMP%]{grid-column:1/-1;display:grid;grid-template-columns:minmax(220px,1.4fr) minmax(260px,1fr);gap:12px;align-items:start}.medicine-field[_ngcontent-%COMP%], .qty-field[_ngcontent-%COMP%]{width:100%}.medicine-modal-actions[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border-radius:8px;border:1px solid rgba(248,250,252,.2);padding:6px 8px;background:#0f172a99;color:#f8fafc;width:100%;box-sizing:border-box}.qty-input[_ngcontent-%COMP%]{display:grid;grid-template-columns:auto 1fr auto;gap:6px;align-items:center}.qty-row[_ngcontent-%COMP%]{display:flex;gap:10px;align-items:flex-end;flex-wrap:wrap}.qty-input[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:28px;height:28px}.qty-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{text-align:center}.mode-toggle[_ngcontent-%COMP%]{display:flex;gap:8px;align-items:flex-end}.mode-toggle[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{min-width:86px}.mode-toggle[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{background:#f8fafc40}.action-row[_ngcontent-%COMP%]{display:flex;gap:10px;align-items:center;justify-content:flex-end;margin-top:10px}.action-row[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:1px solid rgba(248,250,252,.3);background:#f8fafc14;color:#f8fafc;padding:6px 12px;border-radius:8px;cursor:pointer}.action-row[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background:#f8fafc2e}.save-btn[_ngcontent-%COMP%]{background:#38bdf8;color:#0f172a;border-color:transparent}.medicine-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr auto auto;gap:8px;align-items:center;background:#f8fafc14;padding:8px 10px;border-radius:10px;font-size:13px;cursor:pointer;transition:background .2s ease}.medicine-qty[_ngcontent-%COMP%]{font-weight:700}.medicine-qty.negative[_ngcontent-%COMP%]{color:#f87171}.medicine-alert[_ngcontent-%COMP%]{font-size:12px;color:#f87171}.medicine-row.active[_ngcontent-%COMP%]{background:#38bdf833;outline:1px solid rgba(56,189,248,.4)}"]})}}return i})();var BS=(()=>{class i{constructor(){this.visualSpaces=new Pi([]),this.currentVisualSpace=new Pi(null),this.currentShelf=new Pi(null),this.loadFromLocalStorage()}createVisualSpace(e,n,r){let o={id:this.generateId(),name:e,location:n,imageUrl:r||"",shelves:[],createdDate:new Date,lastUpdated:new Date},s=this.visualSpaces.getValue();return s.push(o),this.visualSpaces.next(s),this.currentVisualSpace.next(o),this.saveToLocalStorage(),o}createVisualSpace3D(e,n,r,o,s,a,c){let l={id:this.generateId(),name:e,location:n,unit:r,roomWidth:o,roomDepth:s,roomHeight:a,locationPoint:c,deskPosition:{x:0,y:0,z:2,rotY:0},chairPosition:{x:0,y:0,z:1,rotY:Math.PI},buildaqBoxes:[],shelves:[],createdDate:new Date,lastUpdated:new Date},d=this.visualSpaces.getValue();return d.push(l),this.visualSpaces.next(d),this.currentVisualSpace.next(l),this.saveToLocalStorage(),l}createShelf(e,n,r,o){let s=this.visualSpaces.getValue(),a=s.find(l=>l.id===e);if(!a)throw new Error("Visual space not found");let c={id:this.generateId(),name:n,location:a.location,width:r,height:o,medicines:[]};return a.shelves.push(c),a.lastUpdated=new Date,this.visualSpaces.next(s),this.currentShelf.next(c),this.saveToLocalStorage(),c}createShelf3D(e,n,r,o,s,a,c){let l=this.visualSpaces.getValue(),d=l.find(h=>h.id===e);if(!d)throw new Error("Visual space not found");let u={id:this.generateId(),name:n,location:d.location,width:r,height:s,depth:o,position:a,rotation:c,medicines:[]};return d.shelves.push(u),d.lastUpdated=new Date,this.visualSpaces.next(l),this.currentShelf.next(u),this.saveToLocalStorage(),u}updateShelfGeometry(e,n){let r=this.visualSpaces.getValue();r.forEach(o=>{let s=o.shelves.find(a=>a.id===e);s&&(Object.assign(s,n),o.lastUpdated=new Date)}),this.visualSpaces.next(r),this.saveToLocalStorage()}updateVisualSpace3D(e,n){let r=this.visualSpaces.getValue(),o=r.find(s=>s.id===e);o&&(Object.assign(o,n),o.lastUpdated=new Date,this.visualSpaces.next(r),this.currentVisualSpace.next(o),this.saveToLocalStorage())}addMedicineToShelf(e,n){let r=this.visualSpaces.getValue(),o=!1;r.forEach(s=>{let a=s.shelves.find(c=>c.id===e);a&&(n.shelfId=e,a.medicines.push(n),s.lastUpdated=new Date,o=!0)}),o&&(this.visualSpaces.next(r),this.saveToLocalStorage())}updateMedicineOnShelf(e,n,r){let o=this.visualSpaces.getValue(),s=!1;o.forEach(a=>{let c=a.shelves.find(l=>l.id===e);if(c){let l=c.medicines.find(d=>d.id===n);l&&(Object.assign(l,r),a.lastUpdated=new Date,s=!0)}}),s&&(this.visualSpaces.next(o),this.saveToLocalStorage())}updateMedicineLocation(e,n,r,o){let s=this.visualSpaces.getValue();s.forEach(a=>{let c=a.shelves.find(l=>l.id===e);if(c){let l=c.medicines.find(d=>d.id===n);l&&(l.x=r,l.y=o,a.lastUpdated=new Date)}}),this.visualSpaces.next(s),this.saveToLocalStorage()}removeMedicineFromShelf(e,n){let r=this.visualSpaces.getValue();r.forEach(o=>{let s=o.shelves.find(a=>a.id===e);s&&(s.medicines=s.medicines.filter(a=>a.id!==n),o.lastUpdated=new Date)}),this.visualSpaces.next(r),this.saveToLocalStorage()}deleteShelf(e,n){let r=this.visualSpaces.getValue(),o=r.find(s=>s.id===e);o&&(o.shelves=o.shelves.filter(s=>s.id!==n),o.lastUpdated=new Date,this.visualSpaces.next(r),this.saveToLocalStorage())}deleteVisualSpace(e){let n=this.visualSpaces.getValue().filter(r=>r.id!==e);this.visualSpaces.next(n),this.saveToLocalStorage()}getVisualSpaces(){return this.visualSpaces.asObservable()}getCurrentVisualSpace(){return this.currentVisualSpace.asObservable()}getCurrentShelf(){return this.currentShelf.asObservable()}setCurrentVisualSpace(e){let r=this.visualSpaces.getValue().find(o=>o.id===e)||null;this.currentVisualSpace.next(r)}setCurrentShelf(e){let n=this.visualSpaces.getValue(),r=null;n.forEach(o=>{let s=o.shelves.find(a=>a.id===e);s&&(r=s)}),this.currentShelf.next(r)}getMedicinesByShelf(e){let n=this.visualSpaces.getValue(),r=[];return n.forEach(o=>{let s=o.shelves.find(a=>a.id===e);s&&(r=s.medicines)}),r}generateId(){return"_"+Math.random().toString(36).substr(2,9)}saveToLocalStorage(){let e=this.visualSpaces.getValue();localStorage.setItem("visual_spaces",JSON.stringify(e))}loadFromLocalStorage(){let e=localStorage.getItem("visual_spaces");if(e)try{let n=JSON.parse(e);n.forEach(r=>{r.deskPosition||(r.deskPosition={x:0,y:0,z:2,rotY:0}),r.chairPosition||(r.chairPosition={x:0,y:0,z:1,rotY:Math.PI}),r.buildaqBoxes||(r.buildaqBoxes=[]),r.shelves.forEach(o=>{o.depth||(o.depth=o.width),o.position||(o.position={x:0,y:0,z:0}),o.rotation||(o.rotation={x:0,y:0,z:0})})}),this.visualSpaces.next(n)}catch(n){console.error("Error loading visual spaces from storage:",n)}}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275prov=xe({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();function L1e(i,t){i&1&&Ue(0,"div",2)}var B1e=new ge("MAT_PROGRESS_BAR_DEFAULT_OPTIONS");var VS=(()=>{class i{constructor(e,n,r,o,s){this._elementRef=e,this._ngZone=n,this._changeDetectorRef=r,this._animationMode=o,this._isNoopAnimation=!1,this._defaultColor="primary",this._value=0,this._bufferValue=0,this.animationEnd=new Qe,this._mode="determinate",this._transitionendHandler=a=>{this.animationEnd.observers.length===0||!a.target||!a.target.classList.contains("mdc-linear-progress__primary-bar")||(this.mode==="determinate"||this.mode==="buffer")&&this._ngZone.run(()=>this.animationEnd.next({value:this.value}))},this._isNoopAnimation=o==="NoopAnimations",s&&(s.color&&(this.color=this._defaultColor=s.color),this.mode=s.mode||this.mode)}get color(){return this._color||this._defaultColor}set color(e){this._color=e}get value(){return this._value}set value(e){this._value=jZ(e||0),this._changeDetectorRef.markForCheck()}get bufferValue(){return this._bufferValue||0}set bufferValue(e){this._bufferValue=jZ(e||0),this._changeDetectorRef.markForCheck()}get mode(){return this._mode}set mode(e){this._mode=e,this._changeDetectorRef.markForCheck()}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{this._elementRef.nativeElement.addEventListener("transitionend",this._transitionendHandler)})}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._transitionendHandler)}_getPrimaryBarTransform(){return`scaleX(${this._isIndeterminate()?1:this.value/100})`}_getBufferBarFlexBasis(){return`${this.mode==="buffer"?this.bufferValue:100}%`}_isIndeterminate(){return this.mode==="indeterminate"||this.mode==="query"}static{this.\u0275fac=function(n){return new(n||i)(O(Oe),O(Ne),O(ci),O(Vi,8),O(B1e,8))}}static{this.\u0275cmp=rt({type:i,selectors:[["mat-progress-bar"]],hostAttrs:["role","progressbar","aria-valuemin","0","aria-valuemax","100","tabindex","-1",1,"mat-mdc-progress-bar","mdc-linear-progress"],hostVars:10,hostBindings:function(n,r){n&2&&(wt("aria-valuenow",r._isIndeterminate()?null:r.value)("mode",r.mode),Dr("mat-"+r.color),qe("_mat-animation-noopable",r._isNoopAnimation)("mdc-linear-progress--animation-ready",!r._isNoopAnimation)("mdc-linear-progress--indeterminate",r._isIndeterminate()))},inputs:{color:"color",value:[J.HasDecoratorInputTransform,"value","value",on],bufferValue:[J.HasDecoratorInputTransform,"bufferValue","bufferValue",on],mode:"mode"},outputs:{animationEnd:"animationEnd"},exportAs:["matProgressBar"],standalone:!0,features:[Bt,Tt],decls:7,vars:5,consts:[["aria-hidden","true",1,"mdc-linear-progress__buffer"],[1,"mdc-linear-progress__buffer-bar"],[1,"mdc-linear-progress__buffer-dots"],["aria-hidden","true",1,"mdc-linear-progress__bar","mdc-linear-progress__primary-bar"],[1,"mdc-linear-progress__bar-inner"],["aria-hidden","true",1,"mdc-linear-progress__bar","mdc-linear-progress__secondary-bar"]],template:function(n,r){n&1&&(y(0,"div",0),Ue(1,"div",1),Ee(2,L1e,1,0,"div",2),x(),y(3,"div",3),Ue(4,"span",4),x(),y(5,"div",5),Ue(6,"span",4),x()),n&2&&(B(),$n("flex-basis",r._getBufferBarFlexBasis()),B(),Yt(2,r.mode==="buffer"?2:-1),B(),$n("transform",r._getPrimaryBarTransform()))},styles:[`@keyframes mdc-linear-progress-primary-indeterminate-translate{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(var(--mdc-linear-progress-primary-half))}100%{transform:translateX(var(--mdc-linear-progress-primary-full))}}@keyframes mdc-linear-progress-primary-indeterminate-scale{0%{transform:scaleX(0.08)}36.65%{animation-timing-function:cubic-bezier(0.334731, 0.12482, 0.785844, 1);transform:scaleX(0.08)}69.15%{animation-timing-function:cubic-bezier(0.06, 0.11, 0.6, 1);transform:scaleX(0.661479)}100%{transform:scaleX(0.08)}}@keyframes mdc-linear-progress-secondary-indeterminate-translate{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:translateX(var(--mdc-linear-progress-secondary-quarter))}48.35%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:translateX(var(--mdc-linear-progress-secondary-half))}100%{transform:translateX(var(--mdc-linear-progress-secondary-full))}}@keyframes mdc-linear-progress-secondary-indeterminate-scale{0%{animation-timing-function:cubic-bezier(0.205028, 0.057051, 0.57661, 0.453971);transform:scaleX(0.08)}19.15%{animation-timing-function:cubic-bezier(0.152313, 0.196432, 0.648374, 1.004315);transform:scaleX(0.457104)}44.15%{animation-timing-function:cubic-bezier(0.257759, -0.003163, 0.211762, 1.38179);transform:scaleX(0.72796)}100%{transform:scaleX(0.08)}}@keyframes mdc-linear-progress-primary-indeterminate-translate-reverse{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(var(--mdc-linear-progress-primary-half-neg))}100%{transform:translateX(var(--mdc-linear-progress-primary-full-neg))}}@keyframes mdc-linear-progress-secondary-indeterminate-translate-reverse{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:translateX(var(--mdc-linear-progress-secondary-quarter-neg))}48.35%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:translateX(var(--mdc-linear-progress-secondary-half-neg))}100%{transform:translateX(var(--mdc-linear-progress-secondary-full-neg))}}@keyframes mdc-linear-progress-buffering-reverse{from{transform:translateX(-10px)}}.mdc-linear-progress{position:relative;width:100%;transform:translateZ(0);outline:1px solid rgba(0,0,0,0);overflow-x:hidden;transition:opacity 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}@media screen and (forced-colors: active){.mdc-linear-progress{outline-color:CanvasText}}.mdc-linear-progress__bar{position:absolute;top:0;bottom:0;margin:auto 0;width:100%;animation:none;transform-origin:top left;transition:transform 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-linear-progress__bar-inner{display:inline-block;position:absolute;width:100%;animation:none;border-top-style:solid}.mdc-linear-progress__buffer{display:flex;position:absolute;top:0;bottom:0;margin:auto 0;width:100%;overflow:hidden}.mdc-linear-progress__buffer-dots{background-repeat:repeat-x;flex:auto;transform:rotate(180deg);-webkit-mask-image:url("data:image/svg+xml,%3Csvg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' enable-background='new 0 0 5 2' xml:space='preserve' viewBox='0 0 5 2' preserveAspectRatio='xMinYMin slice'%3E%3Ccircle cx='1' cy='1' r='1'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml,%3Csvg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' enable-background='new 0 0 5 2' xml:space='preserve' viewBox='0 0 5 2' preserveAspectRatio='xMinYMin slice'%3E%3Ccircle cx='1' cy='1' r='1'/%3E%3C/svg%3E");animation:mdc-linear-progress-buffering 250ms infinite linear}.mdc-linear-progress__buffer-bar{flex:0 1 100%;transition:flex-basis 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-linear-progress__primary-bar{transform:scaleX(0)}.mdc-linear-progress__secondary-bar{display:none}.mdc-linear-progress--indeterminate .mdc-linear-progress__bar{transition:none}.mdc-linear-progress--indeterminate .mdc-linear-progress__primary-bar{left:-145.166611%}.mdc-linear-progress--indeterminate .mdc-linear-progress__secondary-bar{left:-54.888891%;display:block}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar{animation:mdc-linear-progress-primary-indeterminate-translate 2s infinite linear}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar>.mdc-linear-progress__bar-inner{animation:mdc-linear-progress-primary-indeterminate-scale 2s infinite linear}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar{animation:mdc-linear-progress-secondary-indeterminate-translate 2s infinite linear}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar>.mdc-linear-progress__bar-inner{animation:mdc-linear-progress-secondary-indeterminate-scale 2s infinite linear}[dir=rtl] .mdc-linear-progress:not([dir=ltr]) .mdc-linear-progress__bar,.mdc-linear-progress[dir=rtl]:not([dir=ltr]) .mdc-linear-progress__bar{right:0;-webkit-transform-origin:center right;transform-origin:center right}[dir=rtl] .mdc-linear-progress:not([dir=ltr]).mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar,.mdc-linear-progress[dir=rtl]:not([dir=ltr]).mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar{animation-name:mdc-linear-progress-primary-indeterminate-translate-reverse}[dir=rtl] .mdc-linear-progress:not([dir=ltr]).mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar,.mdc-linear-progress[dir=rtl]:not([dir=ltr]).mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar{animation-name:mdc-linear-progress-secondary-indeterminate-translate-reverse}[dir=rtl] .mdc-linear-progress:not([dir=ltr]) .mdc-linear-progress__buffer-dots,.mdc-linear-progress[dir=rtl]:not([dir=ltr]) .mdc-linear-progress__buffer-dots{animation:mdc-linear-progress-buffering-reverse 250ms infinite linear;transform:rotate(0)}[dir=rtl] .mdc-linear-progress:not([dir=ltr]).mdc-linear-progress--indeterminate .mdc-linear-progress__primary-bar,.mdc-linear-progress[dir=rtl]:not([dir=ltr]).mdc-linear-progress--indeterminate .mdc-linear-progress__primary-bar{right:-145.166611%;left:auto}[dir=rtl] .mdc-linear-progress:not([dir=ltr]).mdc-linear-progress--indeterminate .mdc-linear-progress__secondary-bar,.mdc-linear-progress[dir=rtl]:not([dir=ltr]).mdc-linear-progress--indeterminate .mdc-linear-progress__secondary-bar{right:-54.888891%;left:auto}.mdc-linear-progress--closed{opacity:0}.mdc-linear-progress--closed-animation-off .mdc-linear-progress__buffer-dots{animation:none}.mdc-linear-progress--closed-animation-off.mdc-linear-progress--indeterminate .mdc-linear-progress__bar,.mdc-linear-progress--closed-animation-off.mdc-linear-progress--indeterminate .mdc-linear-progress__bar .mdc-linear-progress__bar-inner{animation:none}@keyframes mdc-linear-progress-buffering{from{transform:rotate(180deg) translateX(calc(var(--mdc-linear-progress-track-height) * -2.5))}}.mdc-linear-progress__bar-inner{border-color:var(--mdc-linear-progress-active-indicator-color)}.mdc-linear-progress__buffer-dots{background-color:var(--mdc-linear-progress-track-color)}@media(forced-colors: active){.mdc-linear-progress__buffer-dots{background-color:ButtonBorder}}@media all and (-ms-high-contrast: none),(-ms-high-contrast: active){.mdc-linear-progress__buffer-dots{background-color:rgba(0,0,0,0);background-image:url("data:image/svg+xml,%3Csvg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' enable-background='new 0 0 5 2' xml:space='preserve' viewBox='0 0 5 2' preserveAspectRatio='none slice'%3E%3Ccircle cx='1' cy='1' r='1' fill='rgba(244, 67, 54, 0.25)'/%3E%3C/svg%3E")}}.mdc-linear-progress__buffer-bar{background-color:var(--mdc-linear-progress-track-color)}.mdc-linear-progress{height:max(var(--mdc-linear-progress-track-height), var(--mdc-linear-progress-active-indicator-height))}@media all and (-ms-high-contrast: none),(-ms-high-contrast: active){.mdc-linear-progress{height:4px}}.mdc-linear-progress__bar{height:var(--mdc-linear-progress-active-indicator-height)}.mdc-linear-progress__bar-inner{border-top-width:var(--mdc-linear-progress-active-indicator-height)}.mdc-linear-progress__buffer{height:var(--mdc-linear-progress-track-height)}@media all and (-ms-high-contrast: none),(-ms-high-contrast: active){.mdc-linear-progress__buffer-dots{background-size:10px var(--mdc-linear-progress-track-height)}}.mdc-linear-progress__buffer{border-radius:var(--mdc-linear-progress-track-shape)}.mat-mdc-progress-bar{display:block;text-align:start;--mdc-linear-progress-primary-half: 83.67142%;--mdc-linear-progress-primary-full: 200.611057%;--mdc-linear-progress-secondary-quarter: 37.651913%;--mdc-linear-progress-secondary-half: 84.386165%;--mdc-linear-progress-secondary-full: 160.277782%;--mdc-linear-progress-primary-half-neg: -83.67142%;--mdc-linear-progress-primary-full-neg: -200.611057%;--mdc-linear-progress-secondary-quarter-neg: -37.651913%;--mdc-linear-progress-secondary-half-neg: -84.386165%;--mdc-linear-progress-secondary-full-neg: -160.277782%}.mat-mdc-progress-bar[mode=query]{transform:scaleX(-1)}.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__buffer-dots,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__primary-bar,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__secondary-bar,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__bar-inner.mdc-linear-progress__bar-inner{animation:none}.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__primary-bar,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__buffer-bar{transition:transform 1ms}`],encapsulation:2,changeDetection:0})}}return i})();function jZ(i,t=0,e=100){return Math.max(t,Math.min(e,i))}var $Z=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275mod=$e({type:i})}static{this.\u0275inj=je({imports:[Ft]})}}return i})();var V1e=["*",[["mat-chip-avatar"],["","matChipAvatar",""]],[["mat-chip-trailing-icon"],["","matChipRemove",""],["","matChipTrailingIcon",""]]],U1e=["*","mat-chip-avatar, [matChipAvatar]","mat-chip-trailing-icon,[matChipRemove],[matChipTrailingIcon]"];function z1e(i,t){i&1&&(y(0,"span",3),ct(1,1),x())}function H1e(i,t){i&1&&(y(0,"span",6),ct(1,2),x())}var j1e=["*"];var $1e=new ge("mat-chips-default-options",{providedIn:"root",factory:()=>({separatorKeyCodes:[13]})}),WZ=new ge("MatChipAvatar"),qZ=new ge("MatChipTrailingIcon"),XZ=new ge("MatChipRemove"),ZZ=new ge("MatChip"),YZ=(()=>{class i{get disabled(){return this._disabled||this._parentChip.disabled}set disabled(e){this._disabled=e}_getDisabledAttribute(){return this.disabled&&!this._allowFocusWhenDisabled?"":null}_getTabindex(){return this.disabled&&!this._allowFocusWhenDisabled||!this.isInteractive?null:this.tabIndex.toString()}constructor(e,n){this._elementRef=e,this._parentChip=n,this.isInteractive=!0,this._isPrimary=!0,this._disabled=!1,this.tabIndex=-1,this._allowFocusWhenDisabled=!1,e.nativeElement.nodeName==="BUTTON"&&e.nativeElement.setAttribute("type","button")}focus(){this._elementRef.nativeElement.focus()}_handleClick(e){!this.disabled&&this.isInteractive&&this._isPrimary&&(e.preventDefault(),this._parentChip._handlePrimaryActionInteraction())}_handleKeydown(e){(e.keyCode===13||e.keyCode===32)&&!this.disabled&&this.isInteractive&&this._isPrimary&&!this._parentChip._isEditing&&(e.preventDefault(),this._parentChip._handlePrimaryActionInteraction())}static{this.\u0275fac=function(n){return new(n||i)(O(Oe),O(ZZ))}}static{this.\u0275dir=we({type:i,selectors:[["","matChipAction",""]],hostAttrs:[1,"mdc-evolution-chip__action","mat-mdc-chip-action"],hostVars:9,hostBindings:function(n,r){n&1&&fe("click",function(s){return r._handleClick(s)})("keydown",function(s){return r._handleKeydown(s)}),n&2&&(wt("tabindex",r._getTabindex())("disabled",r._getDisabledAttribute())("aria-disabled",r.disabled),qe("mdc-evolution-chip__action--primary",r._isPrimary)("mdc-evolution-chip__action--presentational",!r.isInteractive)("mdc-evolution-chip__action--trailing",!r._isPrimary))},inputs:{isInteractive:"isInteractive",disabled:[J.HasDecoratorInputTransform,"disabled","disabled",Je],tabIndex:[J.HasDecoratorInputTransform,"tabIndex","tabIndex",e=>e==null?-1:on(e)],_allowFocusWhenDisabled:"_allowFocusWhenDisabled"},standalone:!0,features:[Bt]})}}return i})();var G1e=0,x3=(()=>{class i{_hasFocus(){return this._hasFocusInternal}get value(){return this._value!==void 0?this._value:this._textElement.textContent.trim()}set value(e){this._value=e}get ripple(){return this._rippleLoader?.getRipple(this._elementRef.nativeElement)}set ripple(e){this._rippleLoader?.attachRipple(this._elementRef.nativeElement,e)}constructor(e,n,r,o,s,a,c,l){this._changeDetectorRef=e,this._elementRef=n,this._ngZone=r,this._focusMonitor=o,this._globalRippleOptions=c,this._onFocus=new Fe,this._onBlur=new Fe,this.role=null,this._hasFocusInternal=!1,this.id=`mat-mdc-chip-${G1e++}`,this.ariaLabel=null,this.ariaDescription=null,this._ariaDescriptionId=`${this.id}-aria-description`,this.removable=!0,this.highlighted=!1,this.disableRipple=!1,this.disabled=!1,this.tabIndex=-1,this.removed=new Qe,this.destroyed=new Qe,this.basicChipAttrName="mat-basic-chip",this._rippleLoader=be(wx),this._document=s,this._animationsDisabled=a==="NoopAnimations",l!=null&&(this.tabIndex=parseInt(l)??-1),this._monitorFocus(),this._rippleLoader?.configureRipple(this._elementRef.nativeElement,{className:"mat-mdc-chip-ripple",disabled:this._isRippleDisabled()})}ngOnInit(){let e=this._elementRef.nativeElement;this._isBasicChip=e.hasAttribute(this.basicChipAttrName)||e.tagName.toLowerCase()===this.basicChipAttrName}ngAfterViewInit(){this._textElement=this._elementRef.nativeElement.querySelector(".mat-mdc-chip-action-label"),this._pendingFocus&&(this._pendingFocus=!1,this.focus())}ngAfterContentInit(){this._actionChanges=rr(this._allLeadingIcons.changes,this._allTrailingIcons.changes,this._allRemoveIcons.changes).subscribe(()=>this._changeDetectorRef.markForCheck())}ngDoCheck(){this._rippleLoader.setDisabled(this._elementRef.nativeElement,this._isRippleDisabled())}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._rippleLoader?.destroyRipple(this._elementRef.nativeElement),this._actionChanges?.unsubscribe(),this.destroyed.emit({chip:this}),this.destroyed.complete()}remove(){this.removable&&this.removed.emit({chip:this})}_isRippleDisabled(){return this.disabled||this.disableRipple||this._animationsDisabled||this._isBasicChip||!!this._globalRippleOptions?.disabled}_hasTrailingIcon(){return!!(this.trailingIcon||this.removeIcon)}_handleKeydown(e){(e.keyCode===8&&!e.repeat||e.keyCode===46)&&(e.preventDefault(),this.remove())}focus(){this.disabled||(this.primaryAction?this.primaryAction.focus():this._pendingFocus=!0)}_getSourceAction(e){return this._getActions().find(n=>{let r=n._elementRef.nativeElement;return r===e||r.contains(e)})}_getActions(){let e=[];return this.primaryAction&&e.push(this.primaryAction),this.removeIcon&&e.push(this.removeIcon),this.trailingIcon&&e.push(this.trailingIcon),e}_handlePrimaryActionInteraction(){}_getTabIndex(){return this.role?this.disabled?-1:this.tabIndex:null}_monitorFocus(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(e=>{let n=e!==null;n!==this._hasFocusInternal&&(this._hasFocusInternal=n,n?this._onFocus.next({chip:this}):this._ngZone.onStable.pipe(nn(1)).subscribe(()=>this._ngZone.run(()=>this._onBlur.next({chip:this}))))})}static{this.\u0275fac=function(n){return new(n||i)(O(ci),O(Oe),O(Ne),O(Wc),O(It),O(Vi,8),O(rd,8),zr("tabindex"))}}static{this.\u0275cmp=rt({type:i,selectors:[["mat-basic-chip"],["","mat-basic-chip",""],["mat-chip"],["","mat-chip",""]],contentQueries:function(n,r,o){if(n&1&&(ni(o,WZ,5),ni(o,qZ,5),ni(o,XZ,5),ni(o,WZ,5),ni(o,qZ,5),ni(o,XZ,5)),n&2){let s;Le(s=Be())&&(r.leadingIcon=s.first),Le(s=Be())&&(r.trailingIcon=s.first),Le(s=Be())&&(r.removeIcon=s.first),Le(s=Be())&&(r._allLeadingIcons=s),Le(s=Be())&&(r._allTrailingIcons=s),Le(s=Be())&&(r._allRemoveIcons=s)}},viewQuery:function(n,r){if(n&1&&Nt(YZ,5),n&2){let o;Le(o=Be())&&(r.primaryAction=o.first)}},hostAttrs:[1,"mat-mdc-chip"],hostVars:32,hostBindings:function(n,r){n&1&&fe("keydown",function(s){return r._handleKeydown(s)}),n&2&&(Ts("id",r.id),wt("role",r.role)("tabindex",r._getTabIndex())("aria-label",r.ariaLabel),Dr("mat-"+(r.color||"primary")),qe("mdc-evolution-chip",!r._isBasicChip)("mdc-evolution-chip--disabled",r.disabled)("mdc-evolution-chip--with-trailing-action",r._hasTrailingIcon())("mdc-evolution-chip--with-primary-graphic",r.leadingIcon)("mdc-evolution-chip--with-primary-icon",r.leadingIcon)("mdc-evolution-chip--with-avatar",r.leadingIcon)("mat-mdc-chip-with-avatar",r.leadingIcon)("mat-mdc-chip-highlighted",r.highlighted)("mat-mdc-chip-disabled",r.disabled)("mat-mdc-basic-chip",r._isBasicChip)("mat-mdc-standard-chip",!r._isBasicChip)("mat-mdc-chip-with-trailing-icon",r._hasTrailingIcon())("_mat-animation-noopable",r._animationsDisabled))},inputs:{role:"role",id:"id",ariaLabel:[J.None,"aria-label","ariaLabel"],ariaDescription:[J.None,"aria-description","ariaDescription"],value:"value",color:"color",removable:[J.HasDecoratorInputTransform,"removable","removable",Je],highlighted:[J.HasDecoratorInputTransform,"highlighted","highlighted",Je],disableRipple:[J.HasDecoratorInputTransform,"disableRipple","disableRipple",Je],disabled:[J.HasDecoratorInputTransform,"disabled","disabled",Je],tabIndex:[J.HasDecoratorInputTransform,"tabIndex","tabIndex",e=>e==null?void 0:on(e)]},outputs:{removed:"removed",destroyed:"destroyed"},exportAs:["matChip"],standalone:!0,features:[Ot([{provide:ZZ,useExisting:i}]),Bt,Tt],ngContentSelectors:U1e,decls:8,vars:3,consts:[[1,"mat-mdc-chip-focus-overlay"],[1,"mdc-evolution-chip__cell","mdc-evolution-chip__cell--primary"],["matChipAction","",3,"isInteractive"],[1,"mdc-evolution-chip__graphic","mat-mdc-chip-graphic"],[1,"mdc-evolution-chip__text-label","mat-mdc-chip-action-label"],[1,"mat-mdc-chip-primary-focus-indicator","mat-mdc-focus-indicator"],[1,"mdc-evolution-chip__cell","mdc-evolution-chip__cell--trailing"]],template:function(n,r){n&1&&(Ti(V1e),Ue(0,"span",0),y(1,"span",1)(2,"span",2),Ee(3,z1e,2,0,"span",3),y(4,"span",4),ct(5),Ue(6,"span",5),x()()(),Ee(7,H1e,2,0,"span",6)),n&2&&(B(2),ae("isInteractive",!1),B(),Yt(3,r.leadingIcon?3:-1),B(4),Yt(7,r._hasTrailingIcon()?7:-1))},dependencies:[YZ],styles:['.mdc-evolution-chip,.mdc-evolution-chip__cell,.mdc-evolution-chip__action{display:inline-flex;align-items:center}.mdc-evolution-chip{position:relative;max-width:100%}.mdc-evolution-chip .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-evolution-chip__cell,.mdc-evolution-chip__action{height:100%}.mdc-evolution-chip__cell--primary{overflow-x:hidden}.mdc-evolution-chip__cell--trailing{flex:1 0 auto}.mdc-evolution-chip__action{align-items:center;background:none;border:none;box-sizing:content-box;cursor:pointer;display:inline-flex;justify-content:center;outline:none;padding:0;text-decoration:none;color:inherit}.mdc-evolution-chip__action--presentational{cursor:auto}.mdc-evolution-chip--disabled,.mdc-evolution-chip__action:disabled{pointer-events:none}.mdc-evolution-chip__action--primary{overflow-x:hidden}.mdc-evolution-chip__action--trailing{position:relative;overflow:visible}.mdc-evolution-chip__action--primary:before{box-sizing:border-box;content:"";height:100%;left:0;position:absolute;pointer-events:none;top:0;width:100%;z-index:1}.mdc-evolution-chip--touch{margin-top:8px;margin-bottom:8px}.mdc-evolution-chip__action-touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-evolution-chip__text-label{white-space:nowrap;user-select:none;text-overflow:ellipsis;overflow:hidden}.mdc-evolution-chip__graphic{align-items:center;display:inline-flex;justify-content:center;overflow:hidden;pointer-events:none;position:relative;flex:1 0 auto}.mdc-evolution-chip__checkmark{position:absolute;opacity:0;top:50%;left:50%}.mdc-evolution-chip--selectable:not(.mdc-evolution-chip--selected):not(.mdc-evolution-chip--with-primary-icon) .mdc-evolution-chip__graphic{width:0}.mdc-evolution-chip__checkmark-background{opacity:0}.mdc-evolution-chip__checkmark-svg{display:block}.mdc-evolution-chip__checkmark-path{stroke-width:2px;stroke-dasharray:29.7833385;stroke-dashoffset:29.7833385;stroke:currentColor}.mdc-evolution-chip--selecting .mdc-evolution-chip__graphic{transition:width 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--selecting .mdc-evolution-chip__checkmark{transition:transform 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1);transform:translate(-75%, -50%)}.mdc-evolution-chip--selecting .mdc-evolution-chip__checkmark-path{transition:stroke-dashoffset 150ms 45ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--deselecting .mdc-evolution-chip__graphic{transition:width 100ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--deselecting .mdc-evolution-chip__checkmark{transition:opacity 50ms 0ms linear,transform 100ms 0ms cubic-bezier(0.4, 0, 0.2, 1);transform:translate(-75%, -50%)}.mdc-evolution-chip--deselecting .mdc-evolution-chip__checkmark-path{stroke-dashoffset:0}.mdc-evolution-chip--selecting-with-primary-icon .mdc-evolution-chip__icon--primary{transition:opacity 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--selecting-with-primary-icon .mdc-evolution-chip__checkmark-path{transition:stroke-dashoffset 150ms 75ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--deselecting-with-primary-icon .mdc-evolution-chip__icon--primary{transition:opacity 150ms 75ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--deselecting-with-primary-icon .mdc-evolution-chip__checkmark{transition:opacity 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1);transform:translate(-50%, -50%)}.mdc-evolution-chip--deselecting-with-primary-icon .mdc-evolution-chip__checkmark-path{stroke-dashoffset:0}.mdc-evolution-chip--selected .mdc-evolution-chip__icon--primary{opacity:0}.mdc-evolution-chip--selected .mdc-evolution-chip__checkmark{transform:translate(-50%, -50%);opacity:1}.mdc-evolution-chip--selected .mdc-evolution-chip__checkmark-path{stroke-dashoffset:0}@keyframes mdc-evolution-chip-enter{from{transform:scale(0.8);opacity:.4}to{transform:scale(1);opacity:1}}.mdc-evolution-chip--enter{animation:mdc-evolution-chip-enter 100ms 0ms cubic-bezier(0, 0, 0.2, 1)}@keyframes mdc-evolution-chip-exit{from{opacity:1}to{opacity:0}}.mdc-evolution-chip--exit{animation:mdc-evolution-chip-exit 75ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-evolution-chip--hidden{opacity:0;pointer-events:none;transition:width 150ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mat-mdc-standard-chip{border-radius:var(--mdc-chip-container-shape-radius);height:var(--mdc-chip-container-height)}.mat-mdc-standard-chip .mdc-evolution-chip__ripple{border-radius:var(--mdc-chip-container-shape-radius)}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary:before{border-radius:var(--mdc-chip-container-shape-radius)}.mat-mdc-standard-chip .mdc-evolution-chip__icon--primary{border-radius:var(--mdc-chip-with-avatar-avatar-shape-radius)}.mat-mdc-standard-chip.mdc-evolution-chip--selectable:not(.mdc-evolution-chip--with-primary-icon){--mdc-chip-graphic-selected-width:var(--mdc-chip-with-avatar-avatar-size)}.mat-mdc-standard-chip .mdc-evolution-chip__graphic{height:var(--mdc-chip-with-avatar-avatar-size);width:var(--mdc-chip-with-avatar-avatar-size);font-size:var(--mdc-chip-with-avatar-avatar-size)}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__action--primary:before{border-color:var(--mdc-chip-outline-color)}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary:not(.mdc-evolution-chip__action--presentational).mdc-ripple-upgraded--background-focused:before,.mat-mdc-standard-chip .mdc-evolution-chip__action--primary:not(.mdc-evolution-chip__action--presentational):not(.mdc-ripple-upgraded):focus:before{border-color:var(--mdc-chip-focus-outline-color)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__action--primary:before{border-color:var(--mdc-chip-disabled-outline-color)}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary:before{border-width:var(--mdc-chip-outline-width)}.mat-mdc-standard-chip.mdc-evolution-chip--selected .mdc-evolution-chip__action--primary:before{border-width:var(--mdc-chip-flat-selected-outline-width)}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled){background-color:var(--mdc-chip-elevated-container-color)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled{background-color:var(--mdc-chip-elevated-disabled-container-color)}.mat-mdc-standard-chip.mdc-evolution-chip--selected:not(.mdc-evolution-chip--disabled){background-color:var(--mdc-chip-elevated-selected-container-color)}.mat-mdc-standard-chip.mdc-evolution-chip--selected.mdc-evolution-chip--disabled{background-color:var(--mdc-chip-elevated-disabled-container-color)}.mat-mdc-standard-chip.mdc-evolution-chip--selected.mdc-evolution-chip--disabled{background-color:var(--mdc-chip-flat-disabled-selected-container-color)}.mat-mdc-standard-chip .mdc-evolution-chip__text-label{font-family:var(--mdc-chip-label-text-font);line-height:var(--mdc-chip-label-text-line-height);font-size:var(--mdc-chip-label-text-size);font-weight:var(--mdc-chip-label-text-weight);letter-spacing:var(--mdc-chip-label-text-tracking)}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__text-label{color:var(--mdc-chip-label-text-color)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__text-label{color:var(--mdc-chip-disabled-label-text-color)}.mat-mdc-standard-chip.mdc-evolution-chip--selected:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__text-label{color:var(--mdc-chip-selected-label-text-color)}.mat-mdc-standard-chip.mdc-evolution-chip--selected.mdc-evolution-chip--disabled .mdc-evolution-chip__text-label{color:var(--mdc-chip-disabled-label-text-color)}.mat-mdc-standard-chip .mdc-evolution-chip__icon--primary{height:var(--mdc-chip-with-icon-icon-size);width:var(--mdc-chip-with-icon-icon-size);font-size:var(--mdc-chip-with-icon-icon-size)}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__icon--primary{color:var(--mdc-chip-with-icon-icon-color)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--primary{color:var(--mdc-chip-with-icon-disabled-icon-color)}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__checkmark{color:var(--mdc-chip-with-icon-selected-icon-color)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__checkmark{color:var(--mdc-chip-with-icon-disabled-icon-color)}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__icon--trailing{color:var(--mdc-chip-with-trailing-icon-trailing-icon-color)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing{color:var(--mdc-chip-with-trailing-icon-disabled-trailing-icon-color)}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary .mdc-evolution-chip__ripple::before,.mat-mdc-standard-chip .mdc-evolution-chip__action--primary .mdc-evolution-chip__ripple::after{background-color:var(--mdc-chip-hover-state-layer-color)}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary:hover .mdc-evolution-chip__ripple::before,.mat-mdc-standard-chip .mdc-evolution-chip__action--primary.mdc-ripple-surface--hover .mdc-evolution-chip__ripple::before{opacity:var(--mdc-chip-hover-state-layer-opacity)}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary.mdc-ripple-upgraded--background-focused .mdc-evolution-chip__ripple::before,.mat-mdc-standard-chip .mdc-evolution-chip__action--primary:not(.mdc-ripple-upgraded):focus .mdc-evolution-chip__ripple::before{transition-duration:75ms;opacity:var(--mdc-chip-focus-state-layer-opacity)}.mat-mdc-standard-chip.mdc-evolution-chip--selected .mdc-evolution-chip__action--primary .mdc-evolution-chip__ripple::before,.mat-mdc-standard-chip.mdc-evolution-chip--selected .mdc-evolution-chip__action--primary .mdc-evolution-chip__ripple::after{background-color:var(--mdc-chip-selected-hover-state-layer-color)}.mat-mdc-standard-chip.mdc-evolution-chip--selected .mdc-evolution-chip__action--primary:hover .mdc-evolution-chip__ripple::before,.mat-mdc-standard-chip.mdc-evolution-chip--selected .mdc-evolution-chip__action--primary.mdc-ripple-surface--hover .mdc-evolution-chip__ripple::before{opacity:var(--mdc-chip-selected-hover-state-layer-opacity)}.mat-mdc-standard-chip.mdc-evolution-chip--selected .mdc-evolution-chip__action--primary.mdc-ripple-upgraded--background-focused .mdc-evolution-chip__ripple::before,.mat-mdc-standard-chip.mdc-evolution-chip--selected .mdc-evolution-chip__action--primary:not(.mdc-ripple-upgraded):focus .mdc-evolution-chip__ripple::before{transition-duration:75ms;opacity:var(--mdc-chip-selected-focus-state-layer-opacity)}.mat-mdc-chip-highlighted{--mdc-chip-with-icon-icon-color:var(--mdc-chip-with-icon-selected-icon-color);--mdc-chip-elevated-container-color:var(--mdc-chip-elevated-selected-container-color);--mdc-chip-label-text-color:var(--mdc-chip-selected-label-text-color);--mdc-chip-outline-width:var(--mdc-chip-flat-selected-outline-width)}.mat-mdc-chip-focus-overlay{background:var(--mdc-chip-focus-state-layer-color)}.mat-mdc-chip-selected .mat-mdc-chip-focus-overlay,.mat-mdc-chip-highlighted .mat-mdc-chip-focus-overlay{background:var(--mdc-chip-selected-focus-state-layer-color)}.mat-mdc-chip:hover .mat-mdc-chip-focus-overlay{background:var(--mdc-chip-hover-state-layer-color);opacity:var(--mdc-chip-hover-state-layer-opacity)}.mat-mdc-chip-focus-overlay .mat-mdc-chip-selected:hover,.mat-mdc-chip-highlighted:hover .mat-mdc-chip-focus-overlay{background:var(--mdc-chip-selected-hover-state-layer-color);opacity:var(--mdc-chip-selected-hover-state-layer-opacity)}.mat-mdc-chip.cdk-focused .mat-mdc-chip-focus-overlay{background:var(--mdc-chip-focus-state-layer-color);opacity:var(--mdc-chip-focus-state-layer-opacity)}.mat-mdc-chip-selected.cdk-focused .mat-mdc-chip-focus-overlay,.mat-mdc-chip-highlighted.cdk-focused .mat-mdc-chip-focus-overlay{background:var(--mdc-chip-selected-focus-state-layer-color);opacity:var(--mdc-chip-selected-focus-state-layer-opacity)}.mdc-evolution-chip--disabled:not(.mdc-evolution-chip--selected) .mat-mdc-chip-avatar{opacity:var(--mdc-chip-with-avatar-disabled-avatar-opacity)}.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing{opacity:var(--mdc-chip-with-trailing-icon-disabled-trailing-icon-opacity)}.mdc-evolution-chip--disabled.mdc-evolution-chip--selected .mdc-evolution-chip__checkmark{opacity:var(--mdc-chip-with-icon-disabled-icon-opacity)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled{opacity:var(--mat-chip-disabled-container-opacity)}.mat-mdc-standard-chip.mdc-evolution-chip--selected .mdc-evolution-chip__icon--trailing,.mat-mdc-standard-chip.mat-mdc-chip-highlighted .mdc-evolution-chip__icon--trailing{color:var(--mat-chip-selected-trailing-icon-color)}.mat-mdc-standard-chip.mdc-evolution-chip--selected.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing,.mat-mdc-standard-chip.mat-mdc-chip-highlighted.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing{color:var(--mat-chip-selected-disabled-trailing-icon-color)}.mat-mdc-chip-remove{opacity:var(--mat-chip-trailing-action-opacity)}.mat-mdc-chip-remove:focus{opacity:var(--mat-chip-trailing-action-focus-opacity)}.mat-mdc-chip-remove::after{background:var(--mat-chip-trailing-action-state-layer-color)}.mat-mdc-chip-remove:hover::after{opacity:var(--mat-chip-trailing-action-hover-state-layer-opacity)}.mat-mdc-chip-remove:focus::after{opacity:var(--mat-chip-trailing-action-focus-state-layer-opacity)}.mat-mdc-chip-selected .mat-mdc-chip-remove::after,.mat-mdc-chip-highlighted .mat-mdc-chip-remove::after{background:var(--mat-chip-selected-trailing-action-state-layer-color)}.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing.mat-mdc-chip-remove{opacity:calc(var(--mat-chip-trailing-action-opacity)*var(--mdc-chip-with-trailing-icon-disabled-trailing-icon-opacity))}.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing.mat-mdc-chip-remove:focus{opacity:calc(var(--mat-chip-trailing-action-focus-opacity)*var(--mdc-chip-with-trailing-icon-disabled-trailing-icon-opacity))}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary:before{border-style:solid}.mat-mdc-standard-chip .mdc-evolution-chip__checkmark{height:20px;width:20px}.mat-mdc-standard-chip .mdc-evolution-chip__icon--trailing{height:18px;width:18px;font-size:18px}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:12px}[dir=rtl] .mat-mdc-standard-chip .mdc-evolution-chip__action--primary,.mat-mdc-standard-chip .mdc-evolution-chip__action--primary[dir=rtl]{padding-left:12px;padding-right:12px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic{padding-left:6px;padding-right:6px}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic,.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic[dir=rtl]{padding-left:6px;padding-right:6px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:0;padding-right:12px}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary,.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary[dir=rtl]{padding-left:12px;padding-right:0}.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing{padding-left:8px;padding-right:8px}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing,.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing[dir=rtl]{padding-left:8px;padding-right:8px}.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing{left:8px;right:initial}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing,.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing[dir=rtl]{left:initial;right:8px}.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:0}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary,.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary[dir=rtl]{padding-left:0;padding-right:12px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic{padding-left:6px;padding-right:6px}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic,.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic[dir=rtl]{padding-left:6px;padding-right:6px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing{padding-left:8px;padding-right:8px}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing,.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing[dir=rtl]{padding-left:8px;padding-right:8px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing{left:8px;right:initial}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing,.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing[dir=rtl]{left:initial;right:8px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary,.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary[dir=rtl]{padding-left:0;padding-right:0}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic{padding-left:4px;padding-right:8px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic,.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic[dir=rtl]{padding-left:8px;padding-right:4px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:0;padding-right:12px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary,.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary[dir=rtl]{padding-left:12px;padding-right:0}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic{padding-left:4px;padding-right:8px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic,.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic[dir=rtl]{padding-left:8px;padding-right:4px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing{padding-left:8px;padding-right:8px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing,.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing[dir=rtl]{padding-left:8px;padding-right:8px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing{left:8px;right:initial}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing,.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing[dir=rtl]{left:initial;right:8px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary,.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary[dir=rtl]{padding-left:0;padding-right:0}.mat-mdc-standard-chip{-webkit-tap-highlight-color:rgba(0,0,0,0)}.cdk-high-contrast-active .mat-mdc-standard-chip{outline:solid 1px}.cdk-high-contrast-active .mat-mdc-standard-chip .mdc-evolution-chip__checkmark-path{stroke:CanvasText !important}.mat-mdc-standard-chip .mdc-evolution-chip__cell--primary,.mat-mdc-standard-chip .mdc-evolution-chip__action--primary,.mat-mdc-standard-chip .mat-mdc-chip-action-label{overflow:visible}.mat-mdc-standard-chip .mdc-evolution-chip__cell--primary{flex-basis:100%}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary{font:inherit;letter-spacing:inherit;white-space:inherit}.mat-mdc-standard-chip .mat-mdc-chip-graphic,.mat-mdc-standard-chip .mat-mdc-chip-trailing-icon{box-sizing:content-box}.mat-mdc-standard-chip._mat-animation-noopable,.mat-mdc-standard-chip._mat-animation-noopable .mdc-evolution-chip__graphic,.mat-mdc-standard-chip._mat-animation-noopable .mdc-evolution-chip__checkmark,.mat-mdc-standard-chip._mat-animation-noopable .mdc-evolution-chip__checkmark-path{transition-duration:1ms;animation-duration:1ms}.mat-mdc-basic-chip .mdc-evolution-chip__action--primary{font:inherit}.mat-mdc-chip-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;opacity:0;border-radius:inherit;transition:opacity 150ms linear}._mat-animation-noopable .mat-mdc-chip-focus-overlay{transition:none}.mat-mdc-basic-chip .mat-mdc-chip-focus-overlay{display:none}.mat-mdc-chip .mat-ripple.mat-mdc-chip-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-chip-avatar{text-align:center;line-height:1;color:var(--mdc-chip-with-icon-icon-color, currentColor)}.mat-mdc-chip{position:relative;z-index:0}.mat-mdc-chip-action-label{text-align:left;z-index:1}[dir=rtl] .mat-mdc-chip-action-label{text-align:right}.mat-mdc-chip.mdc-evolution-chip--with-trailing-action .mat-mdc-chip-action-label{position:relative}.mat-mdc-chip-action-label .mat-mdc-chip-primary-focus-indicator{position:absolute;top:0;right:0;bottom:0;left:0;pointer-events:none}.mat-mdc-chip-action-label .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-chip-remove::before{margin:calc(var(--mat-mdc-focus-indicator-border-width, 3px)*-1);left:8px;right:8px}.mat-mdc-chip-remove::after{content:"";display:block;opacity:0;position:absolute;top:-2px;bottom:-2px;left:6px;right:6px;border-radius:50%}.mat-mdc-chip-remove .mat-icon{width:18px;height:18px;font-size:18px;box-sizing:content-box}.mat-chip-edit-input{cursor:text;display:inline-block;color:inherit;outline:0}.cdk-high-contrast-active .mat-mdc-chip-selected:not(.mat-mdc-chip-multiple){outline-width:3px}.mat-mdc-chip-action:focus .mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0})}}return i})();var KZ=(()=>{class i{get chipFocusChanges(){return this._getChipStream(e=>e._onFocus)}get chipDestroyedChanges(){return this._getChipStream(e=>e.destroyed)}get chipRemovedChanges(){return this._getChipStream(e=>e.removed)}get disabled(){return this._disabled}set disabled(e){this._disabled=e,this._syncChipsState()}get empty(){return!this._chips||this._chips.length===0}get role(){return this._explicitRole?this._explicitRole:this.empty?null:this._defaultRole}set role(e){this._explicitRole=e}get focused(){return this._hasFocusedChip()}constructor(e,n,r){this._elementRef=e,this._changeDetectorRef=n,this._dir=r,this._lastDestroyedFocusedChipIndex=null,this._destroyed=new Fe,this._defaultRole="presentation",this._disabled=!1,this.tabIndex=0,this._explicitRole=null,this._chipActions=new Ss}ngAfterViewInit(){this._setUpFocusManagement(),this._trackChipSetChanges(),this._trackDestroyedFocusedChip()}ngOnDestroy(){this._keyManager?.destroy(),this._chipActions.destroy(),this._destroyed.next(),this._destroyed.complete()}_hasFocusedChip(){return this._chips&&this._chips.some(e=>e._hasFocus())}_syncChipsState(){this._chips&&this._chips.forEach(e=>{e.disabled=this._disabled,e._changeDetectorRef.markForCheck()})}focus(){}_handleKeydown(e){this._originatesFromChip(e)&&this._keyManager.onKeydown(e)}_isValidIndex(e){return e>=0&&e<this._chips.length}_allowFocusEscape(){if(this.tabIndex!==-1){let e=this.tabIndex;this.tabIndex=-1,setTimeout(()=>this.tabIndex=e)}}_getChipStream(e){return this._chips.changes.pipe(or(null),Kn(()=>rr(...this._chips.map(e))))}_originatesFromChip(e){let n=e.target;for(;n&&n!==this._elementRef.nativeElement;){if(n.classList.contains("mat-mdc-chip"))return!0;n=n.parentElement}return!1}_setUpFocusManagement(){this._chips.changes.pipe(or(this._chips)).subscribe(e=>{let n=[];e.forEach(r=>r._getActions().forEach(o=>n.push(o))),this._chipActions.reset(n),this._chipActions.notifyOnChanges()}),this._keyManager=new td(this._chipActions).withVerticalOrientation().withHorizontalOrientation(this._dir?this._dir.value:"ltr").withHomeAndEnd().skipPredicate(e=>this._skipPredicate(e)),this.chipFocusChanges.pipe(Pt(this._destroyed)).subscribe(({chip:e})=>{let n=e._getSourceAction(document.activeElement);n&&this._keyManager.updateActiveItem(n)}),this._dir?.change.pipe(Pt(this._destroyed)).subscribe(e=>this._keyManager.withHorizontalOrientation(e))}_skipPredicate(e){return!e.isInteractive||e.disabled}_trackChipSetChanges(){this._chips.changes.pipe(or(null),Pt(this._destroyed)).subscribe(()=>{this.disabled&&Promise.resolve().then(()=>this._syncChipsState()),this._redirectDestroyedChipFocus()})}_trackDestroyedFocusedChip(){this.chipDestroyedChanges.pipe(Pt(this._destroyed)).subscribe(e=>{let r=this._chips.toArray().indexOf(e.chip);this._isValidIndex(r)&&e.chip._hasFocus()&&(this._lastDestroyedFocusedChipIndex=r)})}_redirectDestroyedChipFocus(){if(this._lastDestroyedFocusedChipIndex!=null){if(this._chips.length){let e=Math.min(this._lastDestroyedFocusedChipIndex,this._chips.length-1),n=this._chips.toArray()[e];n.disabled?this._chips.length===1?this.focus():this._keyManager.setPreviousItemActive():n.focus()}else this.focus();this._lastDestroyedFocusedChipIndex=null}}static{this.\u0275fac=function(n){return new(n||i)(O(Oe),O(ci),O(vr,8))}}static{this.\u0275cmp=rt({type:i,selectors:[["mat-chip-set"]],contentQueries:function(n,r,o){if(n&1&&ni(o,x3,5),n&2){let s;Le(s=Be())&&(r._chips=s)}},hostAttrs:[1,"mat-mdc-chip-set","mdc-evolution-chip-set"],hostVars:1,hostBindings:function(n,r){n&1&&fe("keydown",function(s){return r._handleKeydown(s)}),n&2&&wt("role",r.role)},inputs:{disabled:[J.HasDecoratorInputTransform,"disabled","disabled",Je],role:"role",tabIndex:[J.HasDecoratorInputTransform,"tabIndex","tabIndex",e=>e==null?0:on(e)]},standalone:!0,features:[Bt,Tt],ngContentSelectors:j1e,decls:2,vars:0,consts:[["role","presentation",1,"mdc-evolution-chip-set__chips"]],template:function(n,r){n&1&&(Ti(),y(0,"div",0),ct(1),x())},styles:[".mdc-evolution-chip-set{display:flex}.mdc-evolution-chip-set:focus{outline:none}.mdc-evolution-chip-set__chips{display:flex;flex-flow:wrap;min-width:0}.mdc-evolution-chip-set--overflow .mdc-evolution-chip-set__chips{flex-flow:nowrap}.mdc-evolution-chip-set .mdc-evolution-chip-set__chips{margin-left:-8px;margin-right:0}[dir=rtl] .mdc-evolution-chip-set .mdc-evolution-chip-set__chips,.mdc-evolution-chip-set .mdc-evolution-chip-set__chips[dir=rtl]{margin-left:0;margin-right:-8px}.mdc-evolution-chip-set .mdc-evolution-chip{margin-left:8px;margin-right:0}[dir=rtl] .mdc-evolution-chip-set .mdc-evolution-chip,.mdc-evolution-chip-set .mdc-evolution-chip[dir=rtl]{margin-left:0;margin-right:8px}.mdc-evolution-chip-set .mdc-evolution-chip{margin-top:4px;margin-bottom:4px}.mat-mdc-chip-set .mdc-evolution-chip-set__chips{min-width:100%}.mat-mdc-chip-set-stacked{flex-direction:column;align-items:flex-start}.mat-mdc-chip-set-stacked .mat-mdc-chip{width:100%}.mat-mdc-chip-set-stacked .mdc-evolution-chip__graphic{flex-grow:0}.mat-mdc-chip-set-stacked .mdc-evolution-chip__action--primary{flex-basis:100%;justify-content:start}input.mat-mdc-chip-input{flex:1 0 150px;margin-left:8px}[dir=rtl] input.mat-mdc-chip-input{margin-left:0;margin-right:8px}"],encapsulation:2,changeDetection:0})}}return i})();var QZ=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275mod=$e({type:i})}static{this.\u0275inj=je({providers:[Ym,{provide:$1e,useValue:{separatorKeyCodes:[13]}}],imports:[Ft,Vu,Ft]})}}return i})();var q1e=0,w3=new ge("CdkAccordion"),JZ=(()=>{class i{constructor(){this._stateChanges=new Fe,this._openCloseAllActions=new Fe,this.id=`cdk-accordion-${q1e++}`,this.multi=!1}openAll(){this.multi&&this._openCloseAllActions.next(!0)}closeAll(){this._openCloseAllActions.next(!1)}ngOnChanges(e){this._stateChanges.next(e)}ngOnDestroy(){this._stateChanges.complete(),this._openCloseAllActions.complete()}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275dir=we({type:i,selectors:[["cdk-accordion"],["","cdkAccordion",""]],inputs:{multi:[J.HasDecoratorInputTransform,"multi","multi",Je]},exportAs:["cdkAccordion"],standalone:!0,features:[Ot([{provide:w3,useExisting:i}]),Bt,Bi]})}}return i})(),X1e=0,eK=(()=>{class i{get expanded(){return this._expanded}set expanded(e){if(this._expanded!==e){if(this._expanded=e,this.expandedChange.emit(e),e){this.opened.emit();let n=this.accordion?this.accordion.id:this.id;this._expansionDispatcher.notify(this.id,n)}else this.closed.emit();this._changeDetectorRef.markForCheck()}}constructor(e,n,r){this.accordion=e,this._changeDetectorRef=n,this._expansionDispatcher=r,this._openCloseAllSubscription=qt.EMPTY,this.closed=new Qe,this.opened=new Qe,this.destroyed=new Qe,this.expandedChange=new Qe,this.id=`cdk-accordion-child-${X1e++}`,this._expanded=!1,this.disabled=!1,this._removeUniqueSelectionListener=()=>{},this._removeUniqueSelectionListener=r.listen((o,s)=>{this.accordion&&!this.accordion.multi&&this.accordion.id===s&&this.id!==o&&(this.expanded=!1)}),this.accordion&&(this._openCloseAllSubscription=this._subscribeToOpenCloseAllActions())}ngOnDestroy(){this.opened.complete(),this.closed.complete(),this.destroyed.emit(),this.destroyed.complete(),this._removeUniqueSelectionListener(),this._openCloseAllSubscription.unsubscribe()}toggle(){this.disabled||(this.expanded=!this.expanded)}close(){this.disabled||(this.expanded=!1)}open(){this.disabled||(this.expanded=!0)}_subscribeToOpenCloseAllActions(){return this.accordion._openCloseAllActions.subscribe(e=>{this.disabled||(this.expanded=e)})}static{this.\u0275fac=function(n){return new(n||i)(O(w3,12),O(ci),O(Px))}}static{this.\u0275dir=we({type:i,selectors:[["cdk-accordion-item"],["","cdkAccordionItem",""]],inputs:{expanded:[J.HasDecoratorInputTransform,"expanded","expanded",Je],disabled:[J.HasDecoratorInputTransform,"disabled","disabled",Je]},outputs:{closed:"closed",opened:"opened",destroyed:"destroyed",expandedChange:"expandedChange"},exportAs:["cdkAccordionItem"],standalone:!0,features:[Ot([{provide:w3,useValue:void 0}]),Bt]})}}return i})(),tK=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275mod=$e({type:i})}static{this.\u0275inj=je({})}}return i})();var Y1e=["body"],Z1e=[[["mat-expansion-panel-header"]],"*",[["mat-action-row"]]],K1e=["mat-expansion-panel-header","*","mat-action-row"];function Q1e(i,t){}var J1e=[[["mat-panel-title"]],[["mat-panel-description"]],"*"],eTe=["mat-panel-title","mat-panel-description","*"];function tTe(i,t){if(i&1&&(y(0,"span",1),Zr(),y(1,"svg",2),Ue(2,"path",3),x()()),i&2){let e=Q();ae("@indicatorRotate",e._getExpandedState())}}var M3=new ge("MAT_ACCORDION"),iK="225ms cubic-bezier(0.4,0.0,0.2,1)",rK={indicatorRotate:Os("indicatorRotate",[Jr("collapsed, void",Wn({transform:"rotate(0deg)"})),Jr("expanded",Wn({transform:"rotate(180deg)"})),eo("expanded <=> collapsed, void => collapsed",To(iK))]),bodyExpansion:Os("bodyExpansion",[Jr("collapsed, void",Wn({height:"0px",visibility:"hidden"})),Jr("expanded",Wn({height:"*",visibility:""})),eo("expanded <=> collapsed, void => collapsed",To(iK))])},oK=new ge("MAT_EXPANSION_PANEL"),iTe=(()=>{class i{constructor(e,n){this._template=e,this._expansionPanel=n}static{this.\u0275fac=function(n){return new(n||i)(O(Hi),O(oK,8))}}static{this.\u0275dir=we({type:i,selectors:[["ng-template","matExpansionPanelContent",""]],standalone:!0})}}return i})(),nTe=0,sK=new ge("MAT_EXPANSION_PANEL_DEFAULT_OPTIONS"),C3=(()=>{class i extends eK{get hideToggle(){return this._hideToggle||this.accordion&&this.accordion.hideToggle}set hideToggle(e){this._hideToggle=e}get togglePosition(){return this._togglePosition||this.accordion&&this.accordion.togglePosition}set togglePosition(e){this._togglePosition=e}constructor(e,n,r,o,s,a,c){super(e,n,r),this._viewContainerRef=o,this._animationMode=a,this._hideToggle=!1,this.afterExpand=new Qe,this.afterCollapse=new Qe,this._inputChanges=new Fe,this._headerId=`mat-expansion-panel-header-${nTe++}`,this.accordion=e,this._document=s,this._animationsDisabled=a==="NoopAnimations",c&&(this.hideToggle=c.hideToggle)}_hasSpacing(){return this.accordion?this.expanded&&this.accordion.displayMode==="default":!1}_getExpandedState(){return this.expanded?"expanded":"collapsed"}toggle(){this.expanded=!this.expanded}close(){this.expanded=!1}open(){this.expanded=!0}ngAfterContentInit(){this._lazyContent&&this._lazyContent._expansionPanel===this&&this.opened.pipe(or(null),ki(()=>this.expanded&&!this._portal),nn(1)).subscribe(()=>{this._portal=new Ns(this._lazyContent._template,this._viewContainerRef)})}ngOnChanges(e){this._inputChanges.next(e)}ngOnDestroy(){super.ngOnDestroy(),this._inputChanges.complete()}_containsFocus(){if(this._body){let e=this._document.activeElement,n=this._body.nativeElement;return e===n||n.contains(e)}return!1}_animationStarted(e){!nK(e)&&!this._animationsDisabled&&this._body&&this._body?.nativeElement.setAttribute("inert","")}_animationDone(e){nK(e)||(e.toState==="expanded"?this.afterExpand.emit():e.toState==="collapsed"&&this.afterCollapse.emit(),!this._animationsDisabled&&this._body&&this._body.nativeElement.removeAttribute("inert"))}static{this.\u0275fac=function(n){return new(n||i)(O(M3,12),O(ci),O(Px),O(rn),O(It),O(Vi,8),O(sK,8))}}static{this.\u0275cmp=rt({type:i,selectors:[["mat-expansion-panel"]],contentQueries:function(n,r,o){if(n&1&&ni(o,iTe,5),n&2){let s;Le(s=Be())&&(r._lazyContent=s.first)}},viewQuery:function(n,r){if(n&1&&Nt(Y1e,5),n&2){let o;Le(o=Be())&&(r._body=o.first)}},hostAttrs:[1,"mat-expansion-panel"],hostVars:6,hostBindings:function(n,r){n&2&&qe("mat-expanded",r.expanded)("_mat-animation-noopable",r._animationsDisabled)("mat-expansion-panel-spacing",r._hasSpacing())},inputs:{hideToggle:[J.HasDecoratorInputTransform,"hideToggle","hideToggle",Je],togglePosition:"togglePosition"},outputs:{afterExpand:"afterExpand",afterCollapse:"afterCollapse"},exportAs:["matExpansionPanel"],standalone:!0,features:[Ot([{provide:M3,useValue:void 0},{provide:oK,useExisting:i}]),Bt,Et,Bi,Tt],ngContentSelectors:K1e,decls:7,vars:4,consts:[["body",""],["role","region",1,"mat-expansion-panel-content",3,"id"],[1,"mat-expansion-panel-body"],[3,"cdkPortalOutlet"]],template:function(n,r){if(n&1){let o=ft();Ti(Z1e),ct(0),y(1,"div",1,0),fe("@bodyExpansion.start",function(a){return ce(o),le(r._animationStarted(a))})("@bodyExpansion.done",function(a){return ce(o),le(r._animationDone(a))}),y(3,"div",2),ct(4,1),Ee(5,Q1e,0,0,"ng-template",3),x(),ct(6,2),x()}n&2&&(B(),ae("@bodyExpansion",r._getExpandedState())("id",r.id),wt("aria-labelledby",r._headerId),B(4),ae("cdkPortalOutlet",r._portal))},dependencies:[Yc],styles:['.mat-expansion-panel{box-sizing:content-box;display:block;margin:0;overflow:hidden;transition:margin 225ms cubic-bezier(0.4, 0, 0.2, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);position:relative;background:var(--mat-expansion-container-background-color);color:var(--mat-expansion-container-text-color);border-radius:var(--mat-expansion-container-shape)}.mat-expansion-panel:not([class*=mat-elevation-z]){box-shadow:0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12)}.mat-accordion .mat-expansion-panel:not(.mat-expanded),.mat-accordion .mat-expansion-panel:not(.mat-expansion-panel-spacing){border-radius:0}.mat-accordion .mat-expansion-panel:first-of-type{border-top-right-radius:var(--mat-expansion-container-shape);border-top-left-radius:var(--mat-expansion-container-shape)}.mat-accordion .mat-expansion-panel:last-of-type{border-bottom-right-radius:var(--mat-expansion-container-shape);border-bottom-left-radius:var(--mat-expansion-container-shape)}.cdk-high-contrast-active .mat-expansion-panel{outline:solid 1px}.mat-expansion-panel.ng-animate-disabled,.ng-animate-disabled .mat-expansion-panel,.mat-expansion-panel._mat-animation-noopable{transition:none}.mat-expansion-panel-content{display:flex;flex-direction:column;overflow:visible;font-family:var(--mat-expansion-container-text-font);font-size:var(--mat-expansion-container-text-size);font-weight:var(--mat-expansion-container-text-weight);line-height:var(--mat-expansion-container-text-line-height);letter-spacing:var(--mat-expansion-container-text-tracking)}.mat-expansion-panel-content[style*="visibility: hidden"] *{visibility:hidden !important}.mat-expansion-panel-body{padding:0 24px 16px}.mat-expansion-panel-spacing{margin:16px 0}.mat-accordion>.mat-expansion-panel-spacing:first-child,.mat-accordion>*:first-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-top:0}.mat-accordion>.mat-expansion-panel-spacing:last-child,.mat-accordion>*:last-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-bottom:0}.mat-action-row{border-top-style:solid;border-top-width:1px;display:flex;flex-direction:row;justify-content:flex-end;padding:16px 8px 16px 24px;border-top-color:var(--mat-expansion-actions-divider-color)}.mat-action-row .mat-button-base,.mat-action-row .mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-action-row .mat-button-base,[dir=rtl] .mat-action-row .mat-mdc-button-base{margin-left:0;margin-right:8px}'],encapsulation:2,data:{animation:[rK.bodyExpansion]},changeDetection:0})}}return i})();function nK(i){return i.fromState==="void"}var S3=(()=>{class i{constructor(e,n,r,o,s,a,c){this.panel=e,this._element=n,this._focusMonitor=r,this._changeDetectorRef=o,this._animationMode=a,this._parentChangeSubscription=qt.EMPTY,this.tabIndex=0;let l=e.accordion?e.accordion._stateChanges.pipe(ki(d=>!!(d.hideToggle||d.togglePosition))):Zn;this.tabIndex=parseInt(c||"")||0,this._parentChangeSubscription=rr(e.opened,e.closed,l,e._inputChanges.pipe(ki(d=>!!(d.hideToggle||d.disabled||d.togglePosition)))).subscribe(()=>this._changeDetectorRef.markForCheck()),e.closed.pipe(ki(()=>e._containsFocus())).subscribe(()=>r.focusVia(n,"program")),s&&(this.expandedHeight=s.expandedHeight,this.collapsedHeight=s.collapsedHeight)}get disabled(){return this.panel.disabled}_toggle(){this.disabled||this.panel.toggle()}_isExpanded(){return this.panel.expanded}_getExpandedState(){return this.panel._getExpandedState()}_getPanelId(){return this.panel.id}_getTogglePosition(){return this.panel.togglePosition}_showToggle(){return!this.panel.hideToggle&&!this.panel.disabled}_getHeaderHeight(){let e=this._isExpanded();return e&&this.expandedHeight?this.expandedHeight:!e&&this.collapsedHeight?this.collapsedHeight:null}_keydown(e){switch(e.keyCode){case 32:case 13:Eo(e)||(e.preventDefault(),this._toggle());break;default:this.panel.accordion&&this.panel.accordion._handleHeaderKeydown(e);return}}focus(e,n){e?this._focusMonitor.focusVia(this._element,e,n):this._element.nativeElement.focus(n)}ngAfterViewInit(){this._focusMonitor.monitor(this._element).subscribe(e=>{e&&this.panel.accordion&&this.panel.accordion._handleHeaderFocus(this)})}ngOnDestroy(){this._parentChangeSubscription.unsubscribe(),this._focusMonitor.stopMonitoring(this._element)}static{this.\u0275fac=function(n){return new(n||i)(O(C3,1),O(Oe),O(Wc),O(ci),O(sK,8),O(Vi,8),zr("tabindex"))}}static{this.\u0275cmp=rt({type:i,selectors:[["mat-expansion-panel-header"]],hostAttrs:["role","button",1,"mat-expansion-panel-header","mat-focus-indicator"],hostVars:15,hostBindings:function(n,r){n&1&&fe("click",function(){return r._toggle()})("keydown",function(s){return r._keydown(s)}),n&2&&(wt("id",r.panel._headerId)("tabindex",r.disabled?-1:r.tabIndex)("aria-controls",r._getPanelId())("aria-expanded",r._isExpanded())("aria-disabled",r.panel.disabled),$n("height",r._getHeaderHeight()),qe("mat-expanded",r._isExpanded())("mat-expansion-toggle-indicator-after",r._getTogglePosition()==="after")("mat-expansion-toggle-indicator-before",r._getTogglePosition()==="before")("_mat-animation-noopable",r._animationMode==="NoopAnimations"))},inputs:{expandedHeight:"expandedHeight",collapsedHeight:"collapsedHeight",tabIndex:[J.HasDecoratorInputTransform,"tabIndex","tabIndex",e=>e==null?0:on(e)]},standalone:!0,features:[Bt,Tt],ngContentSelectors:eTe,decls:5,vars:3,consts:[[1,"mat-content"],[1,"mat-expansion-indicator"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 -960 960 960","aria-hidden","true","focusable","false"],["d","M480-345 240-585l56-56 184 184 184-184 56 56-240 240Z"]],template:function(n,r){n&1&&(Ti(J1e),y(0,"span",0),ct(1),ct(2,1),ct(3,2),x(),Ee(4,tTe,3,1,"span",1)),n&2&&(qe("mat-content-hide-toggle",!r._showToggle()),B(4),Yt(4,r._showToggle()?4:-1))},styles:['.mat-expansion-panel-header{display:flex;flex-direction:row;align-items:center;padding:0 24px;border-radius:inherit;transition:height 225ms cubic-bezier(0.4, 0, 0.2, 1);height:var(--mat-expansion-header-collapsed-state-height);font-family:var(--mat-expansion-header-text-font);font-size:var(--mat-expansion-header-text-size);font-weight:var(--mat-expansion-header-text-weight);line-height:var(--mat-expansion-header-text-line-height);letter-spacing:var(--mat-expansion-header-text-tracking)}.mat-expansion-panel-header.mat-expanded{height:var(--mat-expansion-header-expanded-state-height)}.mat-expansion-panel-header[aria-disabled=true]{color:var(--mat-expansion-header-disabled-state-text-color)}.mat-expansion-panel-header:not([aria-disabled=true]){cursor:pointer}.mat-expansion-panel:not(.mat-expanded) .mat-expansion-panel-header:not([aria-disabled=true]):hover{background:var(--mat-expansion-header-hover-state-layer-color)}@media(hover: none){.mat-expansion-panel:not(.mat-expanded) .mat-expansion-panel-header:not([aria-disabled=true]):hover{background:var(--mat-expansion-container-background-color)}}.mat-expansion-panel .mat-expansion-panel-header:not([aria-disabled=true]).cdk-keyboard-focused,.mat-expansion-panel .mat-expansion-panel-header:not([aria-disabled=true]).cdk-program-focused{background:var(--mat-expansion-header-focus-state-layer-color)}.mat-expansion-panel-header._mat-animation-noopable{transition:none}.mat-expansion-panel-header:focus,.mat-expansion-panel-header:hover{outline:none}.mat-expansion-panel-header.mat-expanded:focus,.mat-expansion-panel-header.mat-expanded:hover{background:inherit}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before{flex-direction:row-reverse}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 16px 0 0}[dir=rtl] .mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 0 0 16px}.mat-content{display:flex;flex:1;flex-direction:row;overflow:hidden}.mat-content.mat-content-hide-toggle{margin-right:8px}[dir=rtl] .mat-content.mat-content-hide-toggle{margin-right:0;margin-left:8px}.mat-expansion-toggle-indicator-before .mat-content.mat-content-hide-toggle{margin-left:24px;margin-right:0}[dir=rtl] .mat-expansion-toggle-indicator-before .mat-content.mat-content-hide-toggle{margin-right:24px;margin-left:0}.mat-expansion-panel-header-title{color:var(--mat-expansion-header-text-color)}.mat-expansion-panel-header-title,.mat-expansion-panel-header-description{display:flex;flex-grow:1;flex-basis:0;margin-right:16px;align-items:center}[dir=rtl] .mat-expansion-panel-header-title,[dir=rtl] .mat-expansion-panel-header-description{margin-right:0;margin-left:16px}.mat-expansion-panel-header[aria-disabled=true] .mat-expansion-panel-header-title,.mat-expansion-panel-header[aria-disabled=true] .mat-expansion-panel-header-description{color:inherit}.mat-expansion-panel-header-description{flex-grow:2;color:var(--mat-expansion-header-description-color)}.mat-expansion-indicator::after{border-style:solid;border-width:0 2px 2px 0;content:"";display:inline-block;padding:3px;transform:rotate(45deg);vertical-align:middle;color:var(--mat-expansion-header-indicator-color);display:inline-block;display:var(--mat-expansion-legacy-header-indicator-display, inline-block)}.mat-expansion-indicator svg{width:24px;height:24px;margin:0 -8px;vertical-align:middle;fill:var(--mat-expansion-header-indicator-color);display:none;display:var(--mat-expansion-header-indicator-display, none)}.cdk-high-contrast-active .mat-expansion-panel-content{border-top:1px solid;border-top-left-radius:0;border-top-right-radius:0}'],encapsulation:2,data:{animation:[rK.indicatorRotate]},changeDetection:0})}}return i})();var aK=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275dir=we({type:i,selectors:[["mat-panel-title"]],hostAttrs:[1,"mat-expansion-panel-header-title"],standalone:!0})}}return i})(),cK=(()=>{class i extends JZ{constructor(){super(...arguments),this._ownHeaders=new Ss,this.hideToggle=!1,this.displayMode="default",this.togglePosition="after"}ngAfterContentInit(){this._headers.changes.pipe(or(this._headers)).subscribe(e=>{this._ownHeaders.reset(e.filter(n=>n.panel.accordion===this)),this._ownHeaders.notifyOnChanges()}),this._keyManager=new td(this._ownHeaders).withWrap().withHomeAndEnd()}_handleHeaderKeydown(e){this._keyManager.onKeydown(e)}_handleHeaderFocus(e){this._keyManager.updateActiveItem(e)}ngOnDestroy(){super.ngOnDestroy(),this._keyManager?.destroy(),this._ownHeaders.destroy()}static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=Xi(i)))(r||i)}})()}static{this.\u0275dir=we({type:i,selectors:[["mat-accordion"]],contentQueries:function(n,r,o){if(n&1&&ni(o,S3,5),n&2){let s;Le(s=Be())&&(r._headers=s)}},hostAttrs:[1,"mat-accordion"],hostVars:2,hostBindings:function(n,r){n&2&&qe("mat-accordion-multi",r.multi)},inputs:{hideToggle:[J.HasDecoratorInputTransform,"hideToggle","hideToggle",Je],displayMode:"displayMode",togglePosition:"togglePosition"},exportAs:["matAccordion"],standalone:!0,features:[Ot([{provide:M3,useExisting:i}]),Bt,Et]})}}return i})(),lK=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275mod=$e({type:i})}static{this.\u0275inj=je({imports:[Ft,tK,tp]})}}return i})();var sTe=[[["caption"]],[["colgroup"],["col"]],"*"],aTe=["caption","colgroup, col","*"];function cTe(i,t){i&1&&ct(0,2)}function lTe(i,t){i&1&&(y(0,"thead",0),br(1,1),x(),y(2,"tbody",0),br(3,2)(4,3),x(),y(5,"tfoot",0),br(6,4),x())}function dTe(i,t){i&1&&br(0,1)(1,2)(2,3)(3,4)}var Aa=new ge("CDK_TABLE");var GS=(()=>{class i{constructor(e){this.template=e}static{this.\u0275fac=function(n){return new(n||i)(O(Hi))}}static{this.\u0275dir=we({type:i,selectors:[["","cdkCellDef",""]],standalone:!0})}}return i})(),WS=(()=>{class i{constructor(e){this.template=e}static{this.\u0275fac=function(n){return new(n||i)(O(Hi))}}static{this.\u0275dir=we({type:i,selectors:[["","cdkHeaderCellDef",""]],standalone:!0})}}return i})(),hK=(()=>{class i{constructor(e){this.template=e}static{this.\u0275fac=function(n){return new(n||i)(O(Hi))}}static{this.\u0275dir=we({type:i,selectors:[["","cdkFooterCellDef",""]],standalone:!0})}}return i})(),If=(()=>{class i{get name(){return this._name}set name(e){this._setNameInput(e)}get sticky(){return this._sticky}set sticky(e){e!==this._sticky&&(this._sticky=e,this._hasStickyChanged=!0)}get stickyEnd(){return this._stickyEnd}set stickyEnd(e){e!==this._stickyEnd&&(this._stickyEnd=e,this._hasStickyChanged=!0)}constructor(e){this._table=e,this._hasStickyChanged=!1,this._sticky=!1,this._stickyEnd=!1}hasStickyChanged(){let e=this._hasStickyChanged;return this.resetStickyChanged(),e}resetStickyChanged(){this._hasStickyChanged=!1}_updateColumnCssClassName(){this._columnCssClassName=[`cdk-column-${this.cssClassFriendlyName}`]}_setNameInput(e){e&&(this._name=e,this.cssClassFriendlyName=e.replace(/[^a-z0-9_-]/gi,"-"),this._updateColumnCssClassName())}static{this.\u0275fac=function(n){return new(n||i)(O(Aa,8))}}static{this.\u0275dir=we({type:i,selectors:[["","cdkColumnDef",""]],contentQueries:function(n,r,o){if(n&1&&(ni(o,GS,5),ni(o,WS,5),ni(o,hK,5)),n&2){let s;Le(s=Be())&&(r.cell=s.first),Le(s=Be())&&(r.headerCell=s.first),Le(s=Be())&&(r.footerCell=s.first)}},inputs:{name:[J.None,"cdkColumnDef","name"],sticky:[J.HasDecoratorInputTransform,"sticky","sticky",Je],stickyEnd:[J.HasDecoratorInputTransform,"stickyEnd","stickyEnd",Je]},standalone:!0,features:[Ot([{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:i}]),Bt]})}}return i})(),zS=class{constructor(t,e){e.nativeElement.classList.add(...t._columnCssClassName)}},mK=(()=>{class i extends zS{constructor(e,n){super(e,n)}static{this.\u0275fac=function(n){return new(n||i)(O(If),O(Oe))}}static{this.\u0275dir=we({type:i,selectors:[["cdk-header-cell"],["th","cdk-header-cell",""]],hostAttrs:["role","columnheader",1,"cdk-header-cell"],standalone:!0,features:[Et]})}}return i})();var pK=(()=>{class i extends zS{constructor(e,n){super(e,n);let r=e._table?._getCellRole();r&&n.nativeElement.setAttribute("role",r)}static{this.\u0275fac=function(n){return new(n||i)(O(If),O(Oe))}}static{this.\u0275dir=we({type:i,selectors:[["cdk-cell"],["td","cdk-cell",""]],hostAttrs:[1,"cdk-cell"],standalone:!0,features:[Et]})}}return i})(),HS=class{constructor(){this.tasks=[],this.endTasks=[]}},jS=new ge("_COALESCED_STYLE_SCHEDULER"),T3=(()=>{class i{constructor(e){this._ngZone=e,this._currentSchedule=null,this._destroyed=new Fe}schedule(e){this._createScheduleIfNeeded(),this._currentSchedule.tasks.push(e)}scheduleEnd(e){this._createScheduleIfNeeded(),this._currentSchedule.endTasks.push(e)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_createScheduleIfNeeded(){this._currentSchedule||(this._currentSchedule=new HS,this._getScheduleObservable().pipe(Pt(this._destroyed)).subscribe(()=>{for(;this._currentSchedule.tasks.length||this._currentSchedule.endTasks.length;){let e=this._currentSchedule;this._currentSchedule=new HS;for(let n of e.tasks)n();for(let n of e.endTasks)n()}this._currentSchedule=null}))}_getScheduleObservable(){return this._ngZone.isStable?cn(Promise.resolve(void 0)):this._ngZone.onStable.pipe(nn(1))}static{this.\u0275fac=function(n){return new(n||i)(me(Ne))}}static{this.\u0275prov=xe({token:i,factory:i.\u0275fac})}}return i})();var I3=(()=>{class i{constructor(e,n){this.template=e,this._differs=n}ngOnChanges(e){if(!this._columnsDiffer){let n=e.columns&&e.columns.currentValue||[];this._columnsDiffer=this._differs.find(n).create(),this._columnsDiffer.diff(n)}}getColumnsDiff(){return this._columnsDiffer.diff(this.columns)}extractCellTemplate(e){return this instanceof h0?e.headerCell.template:this instanceof D3?e.footerCell.template:e.cell.template}static{this.\u0275fac=function(n){return new(n||i)(O(Hi),O($a))}}static{this.\u0275dir=we({type:i,features:[Bi]})}}return i})(),h0=(()=>{class i extends I3{get sticky(){return this._sticky}set sticky(e){e!==this._sticky&&(this._sticky=e,this._hasStickyChanged=!0)}constructor(e,n,r){super(e,n),this._table=r,this._hasStickyChanged=!1,this._sticky=!1}ngOnChanges(e){super.ngOnChanges(e)}hasStickyChanged(){let e=this._hasStickyChanged;return this.resetStickyChanged(),e}resetStickyChanged(){this._hasStickyChanged=!1}static{this.\u0275fac=function(n){return new(n||i)(O(Hi),O($a),O(Aa,8))}}static{this.\u0275dir=we({type:i,selectors:[["","cdkHeaderRowDef",""]],inputs:{columns:[J.None,"cdkHeaderRowDef","columns"],sticky:[J.HasDecoratorInputTransform,"cdkHeaderRowDefSticky","sticky",Je]},standalone:!0,features:[Bt,Et,Bi]})}}return i})(),D3=(()=>{class i extends I3{get sticky(){return this._sticky}set sticky(e){e!==this._sticky&&(this._sticky=e,this._hasStickyChanged=!0)}constructor(e,n,r){super(e,n),this._table=r,this._hasStickyChanged=!1,this._sticky=!1}ngOnChanges(e){super.ngOnChanges(e)}hasStickyChanged(){let e=this._hasStickyChanged;return this.resetStickyChanged(),e}resetStickyChanged(){this._hasStickyChanged=!1}static{this.\u0275fac=function(n){return new(n||i)(O(Hi),O($a),O(Aa,8))}}static{this.\u0275dir=we({type:i,selectors:[["","cdkFooterRowDef",""]],inputs:{columns:[J.None,"cdkFooterRowDef","columns"],sticky:[J.HasDecoratorInputTransform,"cdkFooterRowDefSticky","sticky",Je]},standalone:!0,features:[Bt,Et,Bi]})}}return i})(),qS=(()=>{class i extends I3{constructor(e,n,r){super(e,n),this._table=r}static{this.\u0275fac=function(n){return new(n||i)(O(Hi),O($a),O(Aa,8))}}static{this.\u0275dir=we({type:i,selectors:[["","cdkRowDef",""]],inputs:{columns:[J.None,"cdkRowDefColumns","columns"],when:[J.None,"cdkRowDefWhen","when"]},standalone:!0,features:[Et]})}}return i})(),Wh=(()=>{class i{static{this.mostRecentCellOutlet=null}constructor(e){this._viewContainer=e,i.mostRecentCellOutlet=this}ngOnDestroy(){i.mostRecentCellOutlet===this&&(i.mostRecentCellOutlet=null)}static{this.\u0275fac=function(n){return new(n||i)(O(rn))}}static{this.\u0275dir=we({type:i,selectors:[["","cdkCellOutlet",""]],standalone:!0})}}return i})(),k3=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275cmp=rt({type:i,selectors:[["cdk-header-row"],["tr","cdk-header-row",""]],hostAttrs:["role","row",1,"cdk-header-row"],standalone:!0,features:[Tt],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(n,r){n&1&&br(0,0)},dependencies:[Wh],encapsulation:2})}}return i})();var A3=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275cmp=rt({type:i,selectors:[["cdk-row"],["tr","cdk-row",""]],hostAttrs:["role","row",1,"cdk-row"],standalone:!0,features:[Tt],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(n,r){n&1&&br(0,0)},dependencies:[Wh],encapsulation:2})}}return i})(),fK=(()=>{class i{constructor(e){this.templateRef=e,this._contentClassName="cdk-no-data-row"}static{this.\u0275fac=function(n){return new(n||i)(O(Hi))}}static{this.\u0275dir=we({type:i,selectors:[["ng-template","cdkNoDataRow",""]],standalone:!0})}}return i})(),dK=["top","bottom","left","right"],E3=class{constructor(t,e,n,r,o=!0,s=!0,a){this._isNativeHtmlTable=t,this._stickCellCss=e,this.direction=n,this._coalescedStyleScheduler=r,this._isBrowser=o,this._needsPositionStickyOnElement=s,this._positionListener=a,this._cachedCellWidths=[],this._borderCellCss={top:`${e}-border-elem-top`,bottom:`${e}-border-elem-bottom`,left:`${e}-border-elem-left`,right:`${e}-border-elem-right`}}clearStickyPositioning(t,e){let n=[];for(let r of t)if(r.nodeType===r.ELEMENT_NODE){n.push(r);for(let o=0;o<r.children.length;o++)n.push(r.children[o])}this._coalescedStyleScheduler.schedule(()=>{for(let r of n)this._removeStickyStyle(r,e)})}updateStickyColumns(t,e,n,r=!0){if(!t.length||!this._isBrowser||!(e.some(o=>o)||n.some(o=>o))){this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:[]}),this._positionListener.stickyEndColumnsUpdated({sizes:[]}));return}this._coalescedStyleScheduler.schedule(()=>{let o=t[0],s=o.children.length,a=this._getCellWidths(o,r),c=this._getStickyStartColumnPositions(a,e),l=this._getStickyEndColumnPositions(a,n),d=e.lastIndexOf(!0),u=n.indexOf(!0),h=this.direction==="rtl",m=h?"right":"left",p=h?"left":"right";for(let _ of t)for(let f=0;f<s;f++){let g=_.children[f];e[f]&&this._addStickyStyle(g,m,c[f],f===d),n[f]&&this._addStickyStyle(g,p,l[f],f===u)}this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:d===-1?[]:a.slice(0,d+1).map((_,f)=>e[f]?_:null)}),this._positionListener.stickyEndColumnsUpdated({sizes:u===-1?[]:a.slice(u).map((_,f)=>n[f+u]?_:null).reverse()}))})}stickRows(t,e,n){this._isBrowser&&this._coalescedStyleScheduler.schedule(()=>{let r=n==="bottom"?t.slice().reverse():t,o=n==="bottom"?e.slice().reverse():e,s=[],a=[],c=[];for(let d=0,u=0;d<r.length;d++){if(!o[d])continue;s[d]=u;let h=r[d];c[d]=this._isNativeHtmlTable?Array.from(h.children):[h];let m=h.getBoundingClientRect().height;u+=m,a[d]=m}let l=o.lastIndexOf(!0);for(let d=0;d<r.length;d++){if(!o[d])continue;let u=s[d],h=d===l;for(let m of c[d])this._addStickyStyle(m,n,u,h)}n==="top"?this._positionListener?.stickyHeaderRowsUpdated({sizes:a,offsets:s,elements:c}):this._positionListener?.stickyFooterRowsUpdated({sizes:a,offsets:s,elements:c})})}updateStickyFooterContainer(t,e){this._isNativeHtmlTable&&this._coalescedStyleScheduler.schedule(()=>{let n=t.querySelector("tfoot");n&&(e.some(r=>!r)?this._removeStickyStyle(n,["bottom"]):this._addStickyStyle(n,"bottom",0,!1))})}_removeStickyStyle(t,e){for(let r of e)t.style[r]="",t.classList.remove(this._borderCellCss[r]);dK.some(r=>e.indexOf(r)===-1&&t.style[r])?t.style.zIndex=this._getCalculatedZIndex(t):(t.style.zIndex="",this._needsPositionStickyOnElement&&(t.style.position=""),t.classList.remove(this._stickCellCss))}_addStickyStyle(t,e,n,r){t.classList.add(this._stickCellCss),r&&t.classList.add(this._borderCellCss[e]),t.style[e]=`${n}px`,t.style.zIndex=this._getCalculatedZIndex(t),this._needsPositionStickyOnElement&&(t.style.cssText+="position: -webkit-sticky; position: sticky; ")}_getCalculatedZIndex(t){let e={top:100,bottom:10,left:1,right:1},n=0;for(let r of dK)t.style[r]&&(n+=e[r]);return n?`${n}`:""}_getCellWidths(t,e=!0){if(!e&&this._cachedCellWidths.length)return this._cachedCellWidths;let n=[],r=t.children;for(let o=0;o<r.length;o++){let s=r[o];n.push(s.getBoundingClientRect().width)}return this._cachedCellWidths=n,n}_getStickyStartColumnPositions(t,e){let n=[],r=0;for(let o=0;o<t.length;o++)e[o]&&(n[o]=r,r+=t[o]);return n}_getStickyEndColumnPositions(t,e){let n=[],r=0;for(let o=t.length;o>0;o--)e[o]&&(n[o]=r,r+=t[o]);return n}};var $S=new ge("CDK_SPL");var P3=(()=>{class i{constructor(e,n){this.viewContainer=e,this.elementRef=n;let r=be(Aa);r._rowOutlet=this,r._outletAssigned()}static{this.\u0275fac=function(n){return new(n||i)(O(rn),O(Oe))}}static{this.\u0275dir=we({type:i,selectors:[["","rowOutlet",""]],standalone:!0})}}return i})(),R3=(()=>{class i{constructor(e,n){this.viewContainer=e,this.elementRef=n;let r=be(Aa);r._headerRowOutlet=this,r._outletAssigned()}static{this.\u0275fac=function(n){return new(n||i)(O(rn),O(Oe))}}static{this.\u0275dir=we({type:i,selectors:[["","headerRowOutlet",""]],standalone:!0})}}return i})(),N3=(()=>{class i{constructor(e,n){this.viewContainer=e,this.elementRef=n;let r=be(Aa);r._footerRowOutlet=this,r._outletAssigned()}static{this.\u0275fac=function(n){return new(n||i)(O(rn),O(Oe))}}static{this.\u0275dir=we({type:i,selectors:[["","footerRowOutlet",""]],standalone:!0})}}return i})(),O3=(()=>{class i{constructor(e,n){this.viewContainer=e,this.elementRef=n;let r=be(Aa);r._noDataRowOutlet=this,r._outletAssigned()}static{this.\u0275fac=function(n){return new(n||i)(O(rn),O(Oe))}}static{this.\u0275dir=we({type:i,selectors:[["","noDataRowOutlet",""]],standalone:!0})}}return i})();var F3=(()=>{class i{_getCellRole(){if(this._cellRoleInternal===void 0){let e=this._elementRef.nativeElement.getAttribute("role"),n=e==="grid"||e==="treegrid"?"gridcell":"cell";this._cellRoleInternal=this._isNativeHtmlTable&&n==="cell"?null:n}return this._cellRoleInternal}get trackBy(){return this._trackByFn}set trackBy(e){this._trackByFn=e}get dataSource(){return this._dataSource}set dataSource(e){this._dataSource!==e&&this._switchDataSource(e)}get multiTemplateDataRows(){return this._multiTemplateDataRows}set multiTemplateDataRows(e){this._multiTemplateDataRows=e,this._rowOutlet&&this._rowOutlet.viewContainer.length&&(this._forceRenderDataRows(),this.updateStickyColumnStyles())}get fixedLayout(){return this._fixedLayout}set fixedLayout(e){this._fixedLayout=e,this._forceRecalculateCellWidths=!0,this._stickyColumnStylesNeedReset=!0}constructor(e,n,r,o,s,a,c,l,d,u,h,m){this._differs=e,this._changeDetectorRef=n,this._elementRef=r,this._dir=s,this._platform=c,this._viewRepeater=l,this._coalescedStyleScheduler=d,this._viewportRuler=u,this._stickyPositioningListener=h,this._ngZone=m,this._onDestroy=new Fe,this._columnDefsByName=new Map,this._customColumnDefs=new Set,this._customRowDefs=new Set,this._customHeaderRowDefs=new Set,this._customFooterRowDefs=new Set,this._headerRowDefChanged=!0,this._footerRowDefChanged=!0,this._stickyColumnStylesNeedReset=!0,this._forceRecalculateCellWidths=!0,this._cachedRenderRowsMap=new Map,this.stickyCssClass="cdk-table-sticky",this.needsPositionStickyOnElement=!0,this._isShowingNoDataRow=!1,this._hasAllOutlets=!1,this._hasInitialized=!1,this._cellRoleInternal=void 0,this._multiTemplateDataRows=!1,this._fixedLayout=!1,this.contentChanged=new Qe,this.viewChange=new Pi({start:0,end:Number.MAX_VALUE}),o||r.nativeElement.setAttribute("role","table"),this._document=a,this._isServer=!c.isBrowser,this._isNativeHtmlTable=r.nativeElement.nodeName==="TABLE"}ngOnInit(){this._setupStickyStyler(),this._dataDiffer=this._differs.find([]).create((e,n)=>this.trackBy?this.trackBy(n.dataIndex,n.data):n),this._viewportRuler.change().pipe(Pt(this._onDestroy)).subscribe(()=>{this._forceRecalculateCellWidths=!0})}ngAfterContentInit(){this._hasInitialized=!0}ngAfterContentChecked(){this._canRender()&&this._render()}ngOnDestroy(){[this._rowOutlet?.viewContainer,this._headerRowOutlet?.viewContainer,this._footerRowOutlet?.viewContainer,this._cachedRenderRowsMap,this._customColumnDefs,this._customRowDefs,this._customHeaderRowDefs,this._customFooterRowDefs,this._columnDefsByName].forEach(e=>{e?.clear()}),this._headerRowDefs=[],this._footerRowDefs=[],this._defaultRowDef=null,this._onDestroy.next(),this._onDestroy.complete(),Ax(this.dataSource)&&this.dataSource.disconnect(this)}renderRows(){this._renderRows=this._getAllRenderRows();let e=this._dataDiffer.diff(this._renderRows);if(!e){this._updateNoDataRow(),this.contentChanged.next();return}let n=this._rowOutlet.viewContainer;this._viewRepeater.applyChanges(e,n,(r,o,s)=>this._getEmbeddedViewArgs(r.item,s),r=>r.item.data,r=>{r.operation===ip.INSERTED&&r.context&&this._renderCellTemplateForItem(r.record.item.rowDef,r.context)}),this._updateRowIndexContext(),e.forEachIdentityChange(r=>{let o=n.get(r.currentIndex);o.context.$implicit=r.item.data}),this._updateNoDataRow(),this._ngZone&&Ne.isInAngularZone()?this._ngZone.onStable.pipe(nn(1),Pt(this._onDestroy)).subscribe(()=>{this.updateStickyColumnStyles()}):this.updateStickyColumnStyles(),this.contentChanged.next()}addColumnDef(e){this._customColumnDefs.add(e)}removeColumnDef(e){this._customColumnDefs.delete(e)}addRowDef(e){this._customRowDefs.add(e)}removeRowDef(e){this._customRowDefs.delete(e)}addHeaderRowDef(e){this._customHeaderRowDefs.add(e),this._headerRowDefChanged=!0}removeHeaderRowDef(e){this._customHeaderRowDefs.delete(e),this._headerRowDefChanged=!0}addFooterRowDef(e){this._customFooterRowDefs.add(e),this._footerRowDefChanged=!0}removeFooterRowDef(e){this._customFooterRowDefs.delete(e),this._footerRowDefChanged=!0}setNoDataRow(e){this._customNoDataRow=e}updateStickyHeaderRowStyles(){let e=this._getRenderedRows(this._headerRowOutlet);if(this._isNativeHtmlTable){let r=uK(this._headerRowOutlet,"thead");r&&(r.style.display=e.length?"":"none")}let n=this._headerRowDefs.map(r=>r.sticky);this._stickyStyler.clearStickyPositioning(e,["top"]),this._stickyStyler.stickRows(e,n,"top"),this._headerRowDefs.forEach(r=>r.resetStickyChanged())}updateStickyFooterRowStyles(){let e=this._getRenderedRows(this._footerRowOutlet);if(this._isNativeHtmlTable){let r=uK(this._footerRowOutlet,"tfoot");r&&(r.style.display=e.length?"":"none")}let n=this._footerRowDefs.map(r=>r.sticky);this._stickyStyler.clearStickyPositioning(e,["bottom"]),this._stickyStyler.stickRows(e,n,"bottom"),this._stickyStyler.updateStickyFooterContainer(this._elementRef.nativeElement,n),this._footerRowDefs.forEach(r=>r.resetStickyChanged())}updateStickyColumnStyles(){let e=this._getRenderedRows(this._headerRowOutlet),n=this._getRenderedRows(this._rowOutlet),r=this._getRenderedRows(this._footerRowOutlet);(this._isNativeHtmlTable&&!this._fixedLayout||this._stickyColumnStylesNeedReset)&&(this._stickyStyler.clearStickyPositioning([...e,...n,...r],["left","right"]),this._stickyColumnStylesNeedReset=!1),e.forEach((o,s)=>{this._addStickyColumnStyles([o],this._headerRowDefs[s])}),this._rowDefs.forEach(o=>{let s=[];for(let a=0;a<n.length;a++)this._renderRows[a].rowDef===o&&s.push(n[a]);this._addStickyColumnStyles(s,o)}),r.forEach((o,s)=>{this._addStickyColumnStyles([o],this._footerRowDefs[s])}),Array.from(this._columnDefsByName.values()).forEach(o=>o.resetStickyChanged())}_outletAssigned(){!this._hasAllOutlets&&this._rowOutlet&&this._headerRowOutlet&&this._footerRowOutlet&&this._noDataRowOutlet&&(this._hasAllOutlets=!0,this._canRender()&&this._render())}_canRender(){return this._hasAllOutlets&&this._hasInitialized}_render(){this._cacheRowDefs(),this._cacheColumnDefs(),!this._headerRowDefs.length&&!this._footerRowDefs.length&&this._rowDefs.length;let n=this._renderUpdatedColumns()||this._headerRowDefChanged||this._footerRowDefChanged;this._stickyColumnStylesNeedReset=this._stickyColumnStylesNeedReset||n,this._forceRecalculateCellWidths=n,this._headerRowDefChanged&&(this._forceRenderHeaderRows(),this._headerRowDefChanged=!1),this._footerRowDefChanged&&(this._forceRenderFooterRows(),this._footerRowDefChanged=!1),this.dataSource&&this._rowDefs.length>0&&!this._renderChangeSubscription?this._observeRenderChanges():this._stickyColumnStylesNeedReset&&this.updateStickyColumnStyles(),this._checkStickyStates()}_getAllRenderRows(){let e=[],n=this._cachedRenderRowsMap;this._cachedRenderRowsMap=new Map;for(let r=0;r<this._data.length;r++){let o=this._data[r],s=this._getRenderRowsForData(o,r,n.get(o));this._cachedRenderRowsMap.has(o)||this._cachedRenderRowsMap.set(o,new WeakMap);for(let a=0;a<s.length;a++){let c=s[a],l=this._cachedRenderRowsMap.get(c.data);l.has(c.rowDef)?l.get(c.rowDef).push(c):l.set(c.rowDef,[c]),e.push(c)}}return e}_getRenderRowsForData(e,n,r){return this._getRowDefs(e,n).map(s=>{let a=r&&r.has(s)?r.get(s):[];if(a.length){let c=a.shift();return c.dataIndex=n,c}else return{data:e,rowDef:s,dataIndex:n}})}_cacheColumnDefs(){this._columnDefsByName.clear(),US(this._getOwnDefs(this._contentColumnDefs),this._customColumnDefs).forEach(n=>{this._columnDefsByName.has(n.name),this._columnDefsByName.set(n.name,n)})}_cacheRowDefs(){this._headerRowDefs=US(this._getOwnDefs(this._contentHeaderRowDefs),this._customHeaderRowDefs),this._footerRowDefs=US(this._getOwnDefs(this._contentFooterRowDefs),this._customFooterRowDefs),this._rowDefs=US(this._getOwnDefs(this._contentRowDefs),this._customRowDefs);let e=this._rowDefs.filter(n=>!n.when);!this.multiTemplateDataRows&&e.length>1,this._defaultRowDef=e[0]}_renderUpdatedColumns(){let e=(s,a)=>s||!!a.getColumnsDiff(),n=this._rowDefs.reduce(e,!1);n&&this._forceRenderDataRows();let r=this._headerRowDefs.reduce(e,!1);r&&this._forceRenderHeaderRows();let o=this._footerRowDefs.reduce(e,!1);return o&&this._forceRenderFooterRows(),n||r||o}_switchDataSource(e){this._data=[],Ax(this.dataSource)&&this.dataSource.disconnect(this),this._renderChangeSubscription&&(this._renderChangeSubscription.unsubscribe(),this._renderChangeSubscription=null),e||(this._dataDiffer&&this._dataDiffer.diff([]),this._rowOutlet&&this._rowOutlet.viewContainer.clear()),this._dataSource=e}_observeRenderChanges(){if(!this.dataSource)return;let e;Ax(this.dataSource)?e=this.dataSource.connect(this):lu(this.dataSource)?e=this.dataSource:Array.isArray(this.dataSource)&&(e=dt(this.dataSource)),this._renderChangeSubscription=e.pipe(Pt(this._onDestroy)).subscribe(n=>{this._data=n||[],this.renderRows()})}_forceRenderHeaderRows(){this._headerRowOutlet.viewContainer.length>0&&this._headerRowOutlet.viewContainer.clear(),this._headerRowDefs.forEach((e,n)=>this._renderRow(this._headerRowOutlet,e,n)),this.updateStickyHeaderRowStyles()}_forceRenderFooterRows(){this._footerRowOutlet.viewContainer.length>0&&this._footerRowOutlet.viewContainer.clear(),this._footerRowDefs.forEach((e,n)=>this._renderRow(this._footerRowOutlet,e,n)),this.updateStickyFooterRowStyles()}_addStickyColumnStyles(e,n){let r=Array.from(n.columns||[]).map(a=>{let c=this._columnDefsByName.get(a);return c}),o=r.map(a=>a.sticky),s=r.map(a=>a.stickyEnd);this._stickyStyler.updateStickyColumns(e,o,s,!this._fixedLayout||this._forceRecalculateCellWidths)}_getRenderedRows(e){let n=[];for(let r=0;r<e.viewContainer.length;r++){let o=e.viewContainer.get(r);n.push(o.rootNodes[0])}return n}_getRowDefs(e,n){if(this._rowDefs.length==1)return[this._rowDefs[0]];let r=[];if(this.multiTemplateDataRows)r=this._rowDefs.filter(o=>!o.when||o.when(n,e));else{let o=this._rowDefs.find(s=>s.when&&s.when(n,e))||this._defaultRowDef;o&&r.push(o)}return r.length,r}_getEmbeddedViewArgs(e,n){let r=e.rowDef,o={$implicit:e.data};return{templateRef:r.template,context:o,index:n}}_renderRow(e,n,r,o={}){let s=e.viewContainer.createEmbeddedView(n.template,o,r);return this._renderCellTemplateForItem(n,o),s}_renderCellTemplateForItem(e,n){for(let r of this._getCellTemplates(e))Wh.mostRecentCellOutlet&&Wh.mostRecentCellOutlet._viewContainer.createEmbeddedView(r,n);this._changeDetectorRef.markForCheck()}_updateRowIndexContext(){let e=this._rowOutlet.viewContainer;for(let n=0,r=e.length;n<r;n++){let s=e.get(n).context;s.count=r,s.first=n===0,s.last=n===r-1,s.even=n%2===0,s.odd=!s.even,this.multiTemplateDataRows?(s.dataIndex=this._renderRows[n].dataIndex,s.renderIndex=n):s.index=this._renderRows[n].dataIndex}}_getCellTemplates(e){return!e||!e.columns?[]:Array.from(e.columns,n=>{let r=this._columnDefsByName.get(n);return e.extractCellTemplate(r)})}_forceRenderDataRows(){this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear(),this.renderRows()}_checkStickyStates(){let e=(n,r)=>n||r.hasStickyChanged();this._headerRowDefs.reduce(e,!1)&&this.updateStickyHeaderRowStyles(),this._footerRowDefs.reduce(e,!1)&&this.updateStickyFooterRowStyles(),Array.from(this._columnDefsByName.values()).reduce(e,!1)&&(this._stickyColumnStylesNeedReset=!0,this.updateStickyColumnStyles())}_setupStickyStyler(){let e=this._dir?this._dir.value:"ltr";this._stickyStyler=new E3(this._isNativeHtmlTable,this.stickyCssClass,e,this._coalescedStyleScheduler,this._platform.isBrowser,this.needsPositionStickyOnElement,this._stickyPositioningListener),(this._dir?this._dir.change:dt()).pipe(Pt(this._onDestroy)).subscribe(n=>{this._stickyStyler.direction=n,this.updateStickyColumnStyles()})}_getOwnDefs(e){return e.filter(n=>!n._table||n._table===this)}_updateNoDataRow(){let e=this._customNoDataRow||this._noDataRow;if(!e)return;let n=this._rowOutlet.viewContainer.length===0;if(n===this._isShowingNoDataRow)return;let r=this._noDataRowOutlet.viewContainer;if(n){let o=r.createEmbeddedView(e.templateRef),s=o.rootNodes[0];o.rootNodes.length===1&&s?.nodeType===this._document.ELEMENT_NODE&&(s.setAttribute("role","row"),s.classList.add(e._contentClassName))}else r.clear();this._isShowingNoDataRow=n,this._changeDetectorRef.markForCheck()}static{this.\u0275fac=function(n){return new(n||i)(O($a),O(ci),O(Oe),zr("role"),O(vr,8),O(It),O(ri),O(e_),O(jS),O(oa),O($S,12),O(Ne,8))}}static{this.\u0275cmp=rt({type:i,selectors:[["cdk-table"],["table","cdk-table",""]],contentQueries:function(n,r,o){if(n&1&&(ni(o,fK,5),ni(o,If,5),ni(o,qS,5),ni(o,h0,5),ni(o,D3,5)),n&2){let s;Le(s=Be())&&(r._noDataRow=s.first),Le(s=Be())&&(r._contentColumnDefs=s),Le(s=Be())&&(r._contentRowDefs=s),Le(s=Be())&&(r._contentHeaderRowDefs=s),Le(s=Be())&&(r._contentFooterRowDefs=s)}},hostAttrs:[1,"cdk-table"],hostVars:2,hostBindings:function(n,r){n&2&&qe("cdk-table-fixed-layout",r.fixedLayout)},inputs:{trackBy:"trackBy",dataSource:"dataSource",multiTemplateDataRows:[J.HasDecoratorInputTransform,"multiTemplateDataRows","multiTemplateDataRows",Je],fixedLayout:[J.HasDecoratorInputTransform,"fixedLayout","fixedLayout",Je]},outputs:{contentChanged:"contentChanged"},exportAs:["cdkTable"],standalone:!0,features:[Ot([{provide:Aa,useExisting:i},{provide:e_,useClass:np},{provide:jS,useClass:T3},{provide:$S,useValue:null}]),Bt,Tt],ngContentSelectors:aTe,decls:5,vars:2,consts:[["role","rowgroup"],["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(n,r){n&1&&(Ti(sTe),ct(0),ct(1,1),Ee(2,cTe,1,0)(3,lTe,7,0)(4,dTe,4,0)),n&2&&(B(2),Yt(2,r._isServer?2:-1),B(),Yt(3,r._isNativeHtmlTable?3:4))},dependencies:[R3,P3,O3,N3],styles:[".cdk-table-fixed-layout{table-layout:fixed}"],encapsulation:2})}}return i})();function US(i,t){return i.concat(Array.from(t))}function uK(i,t){let e=t.toUpperCase(),n=i.viewContainer.element.nativeElement;for(;n;){let r=n.nodeType===1?n.nodeName:null;if(r===e)return n;if(r==="TABLE")break;n=n.parentNode}return null}var gK=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275mod=$e({type:i})}static{this.\u0275inj=je({imports:[t_]})}}return i})();var uTe=[[["caption"]],[["colgroup"],["col"]],"*"],hTe=["caption","colgroup, col","*"];function mTe(i,t){i&1&&ct(0,2)}function pTe(i,t){i&1&&(y(0,"thead",0),br(1,1),x(),y(2,"tbody",2),br(3,3)(4,4),x(),y(5,"tfoot",0),br(6,5),x())}function fTe(i,t){i&1&&br(0,1)(1,3)(2,4)(3,5)}var XS=(()=>{class i extends F3{constructor(){super(...arguments),this.stickyCssClass="mat-mdc-table-sticky",this.needsPositionStickyOnElement=!1}static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=Xi(i)))(r||i)}})()}static{this.\u0275cmp=rt({type:i,selectors:[["mat-table"],["table","mat-table",""]],hostAttrs:[1,"mat-mdc-table","mdc-data-table__table"],hostVars:2,hostBindings:function(n,r){n&2&&qe("mdc-table-fixed-layout",r.fixedLayout)},exportAs:["matTable"],standalone:!0,features:[Ot([{provide:F3,useExisting:i},{provide:Aa,useExisting:i},{provide:jS,useClass:T3},{provide:e_,useClass:np},{provide:$S,useValue:null}]),Et,Tt],ngContentSelectors:hTe,decls:5,vars:2,consts:[["role","rowgroup"],["headerRowOutlet",""],["role","rowgroup",1,"mdc-data-table__content"],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(n,r){n&1&&(Ti(uTe),ct(0),ct(1,1),Ee(2,mTe,1,0)(3,pTe,7,0)(4,fTe,4,0)),n&2&&(B(2),Yt(2,r._isServer?2:-1),B(),Yt(3,r._isNativeHtmlTable?3:4))},dependencies:[R3,P3,O3,N3],styles:[".mat-mdc-table-sticky{position:sticky !important}.mdc-data-table{-webkit-overflow-scrolling:touch;display:inline-flex;flex-direction:column;box-sizing:border-box;position:relative}.mdc-data-table__table-container{-webkit-overflow-scrolling:touch;overflow-x:auto;width:100%}.mdc-data-table__table{min-width:100%;border:0;white-space:nowrap;border-spacing:0;table-layout:fixed}.mdc-data-table__cell{box-sizing:border-box;overflow:hidden;text-align:left;text-overflow:ellipsis}[dir=rtl] .mdc-data-table__cell,.mdc-data-table__cell[dir=rtl]{text-align:right}.mdc-data-table__cell--numeric{text-align:right}[dir=rtl] .mdc-data-table__cell--numeric,.mdc-data-table__cell--numeric[dir=rtl]{text-align:left}.mdc-data-table__header-cell{box-sizing:border-box;text-overflow:ellipsis;overflow:hidden;outline:none;text-align:left}[dir=rtl] .mdc-data-table__header-cell,.mdc-data-table__header-cell[dir=rtl]{text-align:right}.mdc-data-table__header-cell--numeric{text-align:right}[dir=rtl] .mdc-data-table__header-cell--numeric,.mdc-data-table__header-cell--numeric[dir=rtl]{text-align:left}.mdc-data-table__header-cell-wrapper{align-items:center;display:inline-flex;vertical-align:middle}.mdc-data-table__cell,.mdc-data-table__header-cell{padding:0 16px 0 16px}.mdc-data-table__header-cell--checkbox,.mdc-data-table__cell--checkbox{padding-left:4px;padding-right:0}[dir=rtl] .mdc-data-table__header-cell--checkbox,[dir=rtl] .mdc-data-table__cell--checkbox,.mdc-data-table__header-cell--checkbox[dir=rtl],.mdc-data-table__cell--checkbox[dir=rtl]{padding-left:0;padding-right:4px}mat-table{display:block}mat-header-row{min-height:56px}mat-row,mat-footer-row{min-height:48px}mat-row,mat-header-row,mat-footer-row{display:flex;border-width:0;border-bottom-width:1px;border-style:solid;align-items:center;box-sizing:border-box}mat-cell:first-of-type,mat-header-cell:first-of-type,mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] mat-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}mat-cell:last-of-type,mat-header-cell:last-of-type,mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] mat-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}mat-cell,mat-header-cell,mat-footer-cell{flex:1;display:flex;align-items:center;overflow:hidden;word-wrap:break-word;min-height:inherit}.mat-mdc-table{table-layout:auto;white-space:normal;background-color:var(--mat-table-background-color)}.mat-mdc-header-row{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;height:var(--mat-table-header-container-height, 56px);color:var(--mat-table-header-headline-color, rgba(0, 0, 0, 0.87));font-family:var(--mat-table-header-headline-font, Roboto, sans-serif);line-height:var(--mat-table-header-headline-line-height);font-size:var(--mat-table-header-headline-size, 14px);font-weight:var(--mat-table-header-headline-weight, 500)}.mat-mdc-row{height:var(--mat-table-row-item-container-height, 52px);color:var(--mat-table-row-item-label-text-color, rgba(0, 0, 0, 0.87))}.mat-mdc-row,.mdc-data-table__content{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-table-row-item-label-text-font, Roboto, sans-serif);line-height:var(--mat-table-row-item-label-text-line-height);font-size:var(--mat-table-row-item-label-text-size, 14px);font-weight:var(--mat-table-row-item-label-text-weight)}.mat-mdc-footer-row{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;height:var(--mat-table-footer-container-height, 52px);color:var(--mat-table-row-item-label-text-color, rgba(0, 0, 0, 0.87));font-family:var(--mat-table-footer-supporting-text-font, Roboto, sans-serif);line-height:var(--mat-table-footer-supporting-text-line-height);font-size:var(--mat-table-footer-supporting-text-size, 14px);font-weight:var(--mat-table-footer-supporting-text-weight);letter-spacing:var(--mat-table-footer-supporting-text-tracking)}.mat-mdc-header-cell{border-bottom-color:var(--mat-table-row-item-outline-color, rgba(0, 0, 0, 0.12));border-bottom-width:var(--mat-table-row-item-outline-width, 1px);border-bottom-style:solid;letter-spacing:var(--mat-table-header-headline-tracking);font-weight:inherit;line-height:inherit}.mat-mdc-cell{border-bottom-color:var(--mat-table-row-item-outline-color, rgba(0, 0, 0, 0.12));border-bottom-width:var(--mat-table-row-item-outline-width, 1px);border-bottom-style:solid;letter-spacing:var(--mat-table-row-item-label-text-tracking);line-height:inherit}.mdc-data-table__row:last-child .mat-mdc-cell{border-bottom:none}.mat-mdc-footer-cell{letter-spacing:var(--mat-table-row-item-label-text-tracking)}mat-row.mat-mdc-row,mat-header-row.mat-mdc-header-row,mat-footer-row.mat-mdc-footer-row{border-bottom:none}.mat-mdc-table tbody,.mat-mdc-table tfoot,.mat-mdc-table thead,.mat-mdc-cell,.mat-mdc-footer-cell,.mat-mdc-header-row,.mat-mdc-row,.mat-mdc-footer-row,.mat-mdc-table .mat-mdc-header-cell{background:inherit}.mat-mdc-table mat-header-row.mat-mdc-header-row,.mat-mdc-table mat-row.mat-mdc-row,.mat-mdc-table mat-footer-row.mat-mdc-footer-cell{height:unset}mat-header-cell.mat-mdc-header-cell,mat-cell.mat-mdc-cell,mat-footer-cell.mat-mdc-footer-cell{align-self:stretch}"],encapsulation:2})}}return i})(),YS=(()=>{class i extends GS{static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=Xi(i)))(r||i)}})()}static{this.\u0275dir=we({type:i,selectors:[["","matCellDef",""]],standalone:!0,features:[Ot([{provide:GS,useExisting:i}]),Et]})}}return i})(),ZS=(()=>{class i extends WS{static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=Xi(i)))(r||i)}})()}static{this.\u0275dir=we({type:i,selectors:[["","matHeaderCellDef",""]],standalone:!0,features:[Ot([{provide:WS,useExisting:i}]),Et]})}}return i})();var KS=(()=>{class i extends If{get name(){return this._name}set name(e){this._setNameInput(e)}_updateColumnCssClassName(){super._updateColumnCssClassName(),this._columnCssClassName.push(`mat-column-${this.cssClassFriendlyName}`)}static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=Xi(i)))(r||i)}})()}static{this.\u0275dir=we({type:i,selectors:[["","matColumnDef",""]],inputs:{name:[J.None,"matColumnDef","name"]},standalone:!0,features:[Ot([{provide:If,useExisting:i},{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:i}]),Et]})}}return i})(),QS=(()=>{class i extends mK{static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=Xi(i)))(r||i)}})()}static{this.\u0275dir=we({type:i,selectors:[["mat-header-cell"],["th","mat-header-cell",""]],hostAttrs:["role","columnheader",1,"mat-mdc-header-cell","mdc-data-table__header-cell"],standalone:!0,features:[Et]})}}return i})();var JS=(()=>{class i extends pK{static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=Xi(i)))(r||i)}})()}static{this.\u0275dir=we({type:i,selectors:[["mat-cell"],["td","mat-cell",""]],hostAttrs:[1,"mat-mdc-cell","mdc-data-table__cell"],standalone:!0,features:[Et]})}}return i})();var eE=(()=>{class i extends h0{static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=Xi(i)))(r||i)}})()}static{this.\u0275dir=we({type:i,selectors:[["","matHeaderRowDef",""]],inputs:{columns:[J.None,"matHeaderRowDef","columns"],sticky:[J.HasDecoratorInputTransform,"matHeaderRowDefSticky","sticky",Je]},standalone:!0,features:[Ot([{provide:h0,useExisting:i}]),Bt,Et]})}}return i})();var tE=(()=>{class i extends qS{static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=Xi(i)))(r||i)}})()}static{this.\u0275dir=we({type:i,selectors:[["","matRowDef",""]],inputs:{columns:[J.None,"matRowDefColumns","columns"],when:[J.None,"matRowDefWhen","when"]},standalone:!0,features:[Ot([{provide:qS,useExisting:i}]),Et]})}}return i})(),iE=(()=>{class i extends k3{static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=Xi(i)))(r||i)}})()}static{this.\u0275cmp=rt({type:i,selectors:[["mat-header-row"],["tr","mat-header-row",""]],hostAttrs:["role","row",1,"mat-mdc-header-row","mdc-data-table__header-row"],exportAs:["matHeaderRow"],standalone:!0,features:[Ot([{provide:k3,useExisting:i}]),Et,Tt],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(n,r){n&1&&br(0,0)},dependencies:[Wh],encapsulation:2})}}return i})();var nE=(()=>{class i extends A3{static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=Xi(i)))(r||i)}})()}static{this.\u0275cmp=rt({type:i,selectors:[["mat-row"],["tr","mat-row",""]],hostAttrs:["role","row",1,"mat-mdc-row","mdc-data-table__row"],exportAs:["matRow"],standalone:!0,features:[Ot([{provide:A3,useExisting:i}]),Et,Tt],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(n,r){n&1&&br(0,0)},dependencies:[Wh],encapsulation:2})}}return i})();var rE=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275mod=$e({type:i})}static{this.\u0275inj=je({imports:[Ft,gK,Ft]})}}return i})();function gTe(i,t){i&1&&(y(0,"mat-error"),P(1," Image URL is required "),x())}function _Te(i,t){if(i&1&&(y(0,"div",19)(1,"mat-icon"),P(2,"info"),x(),y(3,"div")(4,"strong"),P(5,"Current Shelf:"),x(),P(6),x()()),i&2){let e=Q();B(6),ug(" ",e.selectedShelf.name," (",e.selectedShelf.width," x ",e.selectedShelf.height," cm) ")}}function bTe(i,t){i&1&&(y(0,"div",20)(1,"mat-icon"),P(2,"warning"),x(),y(3,"div")(4,"strong"),P(5,"No shelf selected."),x(),P(6," Please select a shelf from the Visual Space Mapper to add detected medicines. "),x()())}function vTe(i,t){i&1&&(y(0,"div",21)(1,"mat-icon"),P(2,"inventory_2"),x(),y(3,"p"),P(4,"No medicines detected yet. Upload an image to start detection."),x()())}function yTe(i,t){i&1&&(y(0,"mat-header-cell"),P(1,"Medicine Name"),x())}function xTe(i,t){if(i&1&&(y(0,"mat-cell")(1,"strong"),P(2),x()()),i&2){let e=t.$implicit;B(2),Xt(e.name)}}function wTe(i,t){i&1&&(y(0,"mat-header-cell"),P(1,"Class"),x())}function MTe(i,t){if(i&1&&(y(0,"mat-cell")(1,"mat-chip-set",32)(2,"mat-chip",33),P(3),x()()()),i&2){let e=t.$implicit;B(3),Xt(e.name)}}function CTe(i,t){i&1&&(y(0,"mat-header-cell"),P(1,"Confidence"),x())}function STe(i,t){if(i&1&&(y(0,"mat-cell"),Ue(1,"mat-progress-bar",34),P(2),x()),i&2){let e=t.$implicit;B(),ae("value",e.confidence*100),B(),Vt(" ",(e.confidence*100).toFixed(1),"% ")}}function ETe(i,t){i&1&&(y(0,"mat-header-cell"),P(1,"Position"),x())}function TTe(i,t){if(i&1&&(y(0,"mat-cell")(1,"div",35)(2,"span"),P(3),x(),y(4,"span"),P(5),x()()()),i&2){let e=t.$implicit;B(3),Vt("X: ",e.x,""),B(2),Vt("Y: ",e.y,"")}}function ITe(i,t){i&1&&(y(0,"mat-header-cell"),P(1,"Actions"),x())}function DTe(i,t){if(i&1){let e=ft();y(0,"mat-cell")(1,"button",36),fe("click",function(){let r=ce(e).$implicit,o=Q(2);return le(o.addMedicineToShelf(r))}),y(2,"mat-icon"),P(3,"add_location_alt"),x()(),y(4,"button",37),fe("click",function(){let r=ce(e).$implicit,o=Q(2);return le(o.removeMedicine(r.id))}),y(5,"mat-icon"),P(6,"delete"),x()()()}if(i&2){let e=Q(2);B(),ae("disabled",!e.selectedShelf)}}function kTe(i,t){i&1&&Ue(0,"mat-header-row")}function ATe(i,t){i&1&&Ue(0,"mat-row")}function PTe(i,t){if(i&1&&(y(0,"mat-table",22),wo(1,23),Ee(2,yTe,2,0,"mat-header-cell",24)(3,xTe,3,1,"mat-cell",25),Mo(),wo(4,26),Ee(5,wTe,2,0,"mat-header-cell",24)(6,MTe,4,1,"mat-cell",25),Mo(),wo(7,27),Ee(8,CTe,2,0,"mat-header-cell",24)(9,STe,3,2,"mat-cell",25),Mo(),wo(10,28),Ee(11,ETe,2,0,"mat-header-cell",24)(12,TTe,6,2,"mat-cell",25),Mo(),wo(13,29),Ee(14,ITe,2,0,"mat-header-cell",24)(15,DTe,7,1,"mat-cell",25),Mo(),Ee(16,kTe,1,0,"mat-header-row",30)(17,ATe,1,0,"mat-row",31),x()),i&2){let e=Q();ae("dataSource",e.detectedMedicines),B(16),ae("matHeaderRowDef",e.displayedColumns),B(),ae("matRowDefColumns",e.displayedColumns)}}function RTe(i,t){if(i&1&&(y(0,"div",38)(1,"h3"),P(2,"Detection Summary"),x(),y(3,"mat-card",39)(4,"mat-card-content")(5,"div",40)(6,"span"),P(7,"Total Objects Detected:"),x(),y(8,"strong"),P(9),x()(),y(10,"div",40)(11,"span"),P(12,"Image Dimensions:"),x(),y(13,"strong"),P(14),x()(),y(15,"div",40)(16,"span"),P(17,"Detection Time:"),x(),y(18,"strong"),P(19),Lc(20,"date"),x()()()()()),i&2){let e=Q();B(9),Xt(e.detectionResult.objects.length),B(5),Js("",e.detectionResult.imageWidth," x ",e.detectionResult.imageHeight," px"),B(5),Xt(Sm(20,4,e.detectionResult.timestamp,"short"))}}var oE=(()=>{class i{constructor(e,n,r,o,s){this.formBuilder=e,this.imageDetectionService=n,this.shelfMappingService=r,this.medicineService=o,this.snackBar=s,this.detectionResult=null,this.isLoading=!1,this.selectedShelf=null,this.medicines=[],this.detectedMedicines=[],this.displayedColumns=["name","class","confidence","position","actions"],this.createForm()}ngOnInit(){this.medicineService.getMedicinesObservable().subscribe(e=>{this.medicines=e}),this.imageDetectionService.getLoadingState().subscribe(e=>{this.isLoading=e}),this.imageDetectionService.getDetectionResults().subscribe(e=>{this.detectionResult=e,e&&this.processDetectionResults(e)}),this.shelfMappingService.getCurrentShelf().subscribe(e=>{this.selectedShelf=e,e&&(this.detectedMedicines=this.shelfMappingService.getMedicinesByShelf(e.id))})}createForm(){this.form=this.formBuilder.group({imageUrl:["",ta.required],minConfidence:[.5,[ta.required,ta.min(0),ta.max(1)]],filterClass:[""]})}detectFromUrl(){return te(this,null,function*(){let e=this.form.get("imageUrl")?.value;if(e){let n=yield this.imageDetectionService.detectMedicines(e);n&&this.snackBar.open(`Detected ${n.objects.length} objects`,"Close",{duration:3e3})}})}processDetectionResults(e){let n=this.form.get("minConfidence")?.value||.5,r=this.form.get("filterClass")?.value,o=e.objects.filter(s=>s.score>=n);r&&(o=o.filter(s=>s.class.toLowerCase().includes(r.toLowerCase()))),this.detectedMedicines=o.map((s,a)=>({id:`detected_${a}_${Date.now()}`,name:this.getMedicineNameByClass(s.class),barcode:"",x:Math.round(s.x),y:Math.round(s.y),width:Math.round(s.bbox[2]),height:Math.round(s.bbox[3]),confidence:s.score,shelfId:this.selectedShelf?.id||"",detectionTime:new Date}))}getMedicineNameByClass(e){return this.medicines.find(r=>r.name.toLowerCase().includes(e.toLowerCase())||r.category?.toLowerCase().includes(e.toLowerCase()))?.name||e}addMedicineToShelf(e){if(!this.selectedShelf){this.snackBar.open("Please select a shelf first","Close",{duration:3e3});return}this.shelfMappingService.addMedicineToShelf(this.selectedShelf.id,e),this.snackBar.open(`${e.name} added to shelf`,"Close",{duration:3e3})}removeMedicine(e){this.selectedShelf&&(this.shelfMappingService.removeMedicineFromShelf(this.selectedShelf.id,e),this.detectedMedicines=this.detectedMedicines.filter(n=>n.id!==e),this.snackBar.open("Medicine removed","Close",{duration:3e3}))}updatePosition(e,n,r){this.selectedShelf&&(this.shelfMappingService.updateMedicineLocation(this.selectedShelf.id,e,n,r),this.snackBar.open("Position updated","Close",{duration:2e3}))}filterDetections(){this.detectionResult&&this.processDetectionResults(this.detectionResult)}getPositionText(e){return`(${e.x}, ${e.y})`}static{this.\u0275fac=function(n){return new(n||i)(O(h5),O(wM),O(BS),O(MM),O(Gh))}}static{this.\u0275cmp=rt({type:i,selectors:[["app-medicine-detection"]],decls:50,vars:11,consts:[[1,"medicine-detection-container"],[1,"detection-card"],[1,"settings-accordion"],[1,"settings-form",3,"formGroup"],["appearance","fill",1,"full-width"],["matInput","","formControlName","imageUrl","placeholder","Enter image URL"],[4,"ngIf"],[1,"form-row"],["appearance","fill"],["matInput","","type","number","formControlName","minConfidence","min","0","max","1","step","0.1"],["matInput","","formControlName","filterClass","placeholder","e.g., bottle, box"],["mat-raised-button","","color","primary",3,"click","disabled"],["mat-button","",3,"click","disabled"],["class","shelf-info",4,"ngIf"],["class","warning-info",4,"ngIf"],[1,"detected-medicines-section"],["class","empty-state",4,"ngIf"],["class","medicines-table",3,"dataSource",4,"ngIf"],["class","detection-summary",4,"ngIf"],[1,"shelf-info"],[1,"warning-info"],[1,"empty-state"],[1,"medicines-table",3,"dataSource"],["matColumnDef","name"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","class"],["matColumnDef","confidence"],["matColumnDef","position"],["matColumnDef","actions"],[4,"matHeaderRowDef"],[4,"matRowDef","matRowDefColumns"],["aria-label","Class"],["selected",""],["mode","determinate",1,"confidence-bar",3,"value"],[1,"position-display"],["mat-icon-button","","matTooltip","Add to shelf","color","accent",3,"click","disabled"],["mat-icon-button","","matTooltip","Remove","color","warn",3,"click"],[1,"detection-summary"],[1,"summary-card"],[1,"summary-row"]],template:function(n,r){if(n&1&&(y(0,"div",0)(1,"mat-card",1)(2,"mat-card-header")(3,"mat-card-title")(4,"mat-icon"),P(5,"local_pharmacy"),x(),P(6," Medicine Detection & Placement "),x(),y(7,"mat-card-subtitle"),P(8,"Detect medicines from images and map them to shelf locations"),x()(),y(9,"mat-card-content")(10,"mat-accordion",2)(11,"mat-expansion-panel")(12,"mat-expansion-panel-header")(13,"mat-panel-title")(14,"mat-icon"),P(15,"settings"),x(),P(16," Detection Settings "),x()(),y(17,"form",3)(18,"mat-form-field",4)(19,"mat-label"),P(20,"Image URL"),x(),Ue(21,"input",5),Ee(22,gTe,2,0,"mat-error",6),x(),y(23,"div",7)(24,"mat-form-field",8)(25,"mat-label"),P(26,"Min Confidence"),x(),Ue(27,"input",9),y(28,"mat-hint"),P(29,"0.0 - 1.0"),x()(),y(30,"mat-form-field",8)(31,"mat-label"),P(32,"Filter by Class"),x(),Ue(33,"input",10),x()(),y(34,"button",11),fe("click",function(){return r.detectFromUrl()}),y(35,"mat-icon"),P(36,"search"),x(),P(37),x(),y(38,"button",12),fe("click",function(){return r.filterDetections()}),y(39,"mat-icon"),P(40,"filter_list"),x(),P(41," Apply Filters "),x()()()(),Ee(42,_Te,7,3,"div",13)(43,bTe,7,0,"div",14),y(44,"div",15)(45,"h3"),P(46),x(),Ee(47,vTe,5,0,"div",16)(48,PTe,18,3,"mat-table",17),x(),Ee(49,RTe,21,7,"div",18),x()()()),n&2){let o;B(17),ae("formGroup",r.form),B(5),ae("ngIf",(o=r.form.get("imageUrl"))==null?null:o.hasError("required")),B(12),ae("disabled",r.isLoading),B(3),Vt(" ",r.isLoading?"Detecting...":"Detect Medicines"," "),B(),ae("disabled",!r.detectionResult),B(4),ae("ngIf",r.selectedShelf),B(),ae("ngIf",!r.selectedShelf),B(3),Vt("Detected Medicines (",r.detectedMedicines.length,")"),B(),ae("ngIf",r.detectedMedicines.length===0),B(),ae("ngIf",r.detectedMedicines.length>0),B(),ae("ngIf",r.detectionResult)}},dependencies:[Ds,n5,qa,jc,Yl,Xz,Pu,wg,Au,CI,uc,Pd,Zm,Qm,Jm,Mx,Km,Od,Nd,EM,_X,Gp,sd,VS,x3,KZ,Xp,cK,C3,S3,aK,XS,ZS,eE,KS,YS,tE,QS,JS,iE,nE,wy],styles:[".medicine-detection-container[_ngcontent-%COMP%]{padding:20px;background:linear-gradient(135deg,#f5f7fa,#c3cfe2);min-height:100vh}.medicine-detection-container[_ngcontent-%COMP%]   .detection-card[_ngcontent-%COMP%]{box-shadow:0 8px 16px #0000001a}.medicine-detection-container[_ngcontent-%COMP%]   .detection-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;margin-bottom:20px}.medicine-detection-container[_ngcontent-%COMP%]   .detection-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:28px;width:28px;height:28px;color:#00c853}.medicine-detection-container[_ngcontent-%COMP%]   .detection-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px}.medicine-detection-container[_ngcontent-%COMP%]   .settings-accordion[_ngcontent-%COMP%]{margin-bottom:30px}.medicine-detection-container[_ngcontent-%COMP%]   .settings-accordion[_ngcontent-%COMP%]   mat-expansion-panel-header[_ngcontent-%COMP%]   mat-panel-title[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px}.medicine-detection-container[_ngcontent-%COMP%]   .settings-accordion[_ngcontent-%COMP%]   mat-expansion-panel-header[_ngcontent-%COMP%]   mat-panel-title[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#1976d2}.medicine-detection-container[_ngcontent-%COMP%]   .settings-accordion[_ngcontent-%COMP%]   .settings-form[_ngcontent-%COMP%]{padding:20px 0}.medicine-detection-container[_ngcontent-%COMP%]   .settings-accordion[_ngcontent-%COMP%]   .settings-form[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:100%}.medicine-detection-container[_ngcontent-%COMP%]   .settings-accordion[_ngcontent-%COMP%]   .settings-form[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:15px;margin-bottom:15px}.medicine-detection-container[_ngcontent-%COMP%]   .settings-accordion[_ngcontent-%COMP%]   .settings-form[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:100%}.medicine-detection-container[_ngcontent-%COMP%]   .settings-accordion[_ngcontent-%COMP%]   .settings-form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-right:10px;margin-top:10px}.medicine-detection-container[_ngcontent-%COMP%]   .shelf-info[_ngcontent-%COMP%], .medicine-detection-container[_ngcontent-%COMP%]   .warning-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:15px;padding:15px;margin-bottom:20px;border-radius:8px}.medicine-detection-container[_ngcontent-%COMP%]   .shelf-info[_ngcontent-%COMP%]{background:#e8f5e9;border-left:4px solid #4caf50}.medicine-detection-container[_ngcontent-%COMP%]   .shelf-info[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#4caf50}.medicine-detection-container[_ngcontent-%COMP%]   .warning-info[_ngcontent-%COMP%]{background:#fff3e0;border-left:4px solid #ff9800}.medicine-detection-container[_ngcontent-%COMP%]   .warning-info[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#ff9800}.medicine-detection-container[_ngcontent-%COMP%]   .detected-medicines-section[_ngcontent-%COMP%]{margin:30px 0;padding:20px;background:#fff;border-radius:8px}.medicine-detection-container[_ngcontent-%COMP%]   .detected-medicines-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-top:0;color:#333;border-bottom:2px solid #1976d2;padding-bottom:10px}.medicine-detection-container[_ngcontent-%COMP%]   .detected-medicines-section[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:60px 20px;color:#999}.medicine-detection-container[_ngcontent-%COMP%]   .detected-medicines-section[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:64px;width:64px;height:64px;opacity:.3;margin-bottom:20px}.medicine-detection-container[_ngcontent-%COMP%]   .detected-medicines-section[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px;margin:0}.medicine-detection-container[_ngcontent-%COMP%]   .detected-medicines-section[_ngcontent-%COMP%]   .medicines-table[_ngcontent-%COMP%]{width:100%;margin-top:20px}.medicine-detection-container[_ngcontent-%COMP%]   .detected-medicines-section[_ngcontent-%COMP%]   .medicines-table[_ngcontent-%COMP%]   mat-header-cell[_ngcontent-%COMP%]{font-weight:600;color:#1976d2;background:#f5f5f5}.medicine-detection-container[_ngcontent-%COMP%]   .detected-medicines-section[_ngcontent-%COMP%]   .medicines-table[_ngcontent-%COMP%]   mat-row[_ngcontent-%COMP%]{border-bottom:1px solid #e0e0e0}.medicine-detection-container[_ngcontent-%COMP%]   .detected-medicines-section[_ngcontent-%COMP%]   .medicines-table[_ngcontent-%COMP%]   mat-row[_ngcontent-%COMP%]:hover{background:#f9f9f9}.medicine-detection-container[_ngcontent-%COMP%]   .detected-medicines-section[_ngcontent-%COMP%]   .medicines-table[_ngcontent-%COMP%]   .confidence-bar[_ngcontent-%COMP%]{margin-bottom:5px}.medicine-detection-container[_ngcontent-%COMP%]   .detected-medicines-section[_ngcontent-%COMP%]   .medicines-table[_ngcontent-%COMP%]   .position-display[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:5px;font-size:12px;color:#666}.medicine-detection-container[_ngcontent-%COMP%]   .detected-medicines-section[_ngcontent-%COMP%]   .medicines-table[_ngcontent-%COMP%]   .position-display[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-family:monospace}.medicine-detection-container[_ngcontent-%COMP%]   .detected-medicines-section[_ngcontent-%COMP%]   .medicines-table[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:0 5px}.medicine-detection-container[_ngcontent-%COMP%]   .detection-summary[_ngcontent-%COMP%]{margin:30px 0;padding:20px;background:#fff;border-radius:8px}.medicine-detection-container[_ngcontent-%COMP%]   .detection-summary[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-top:0;color:#333;border-bottom:2px solid #1976d2;padding-bottom:10px}.medicine-detection-container[_ngcontent-%COMP%]   .detection-summary[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]{background:#f5f5f5;border-left:4px solid #1976d2}.medicine-detection-container[_ngcontent-%COMP%]   .detection-summary[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .summary-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:12px 0;border-bottom:1px solid #e0e0e0}.medicine-detection-container[_ngcontent-%COMP%]   .detection-summary[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .summary-row[_ngcontent-%COMP%]:last-child{border-bottom:none}.medicine-detection-container[_ngcontent-%COMP%]   .detection-summary[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .summary-row[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#666;font-weight:500}.medicine-detection-container[_ngcontent-%COMP%]   .detection-summary[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .summary-row[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#1976d2;font-family:monospace}.medicine-detection-container[_ngcontent-%COMP%]   .full-width[_ngcontent-%COMP%]{width:100%;margin-bottom:15px}.medicine-detection-container[_ngcontent-%COMP%]   button[mat-raised-button][_ngcontent-%COMP%], .medicine-detection-container[_ngcontent-%COMP%]   button[mat-button][_ngcontent-%COMP%]{border-radius:4px;text-transform:uppercase;font-weight:500;letter-spacing:.5px}.medicine-detection-container[_ngcontent-%COMP%]   button[mat-raised-button][_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%], .medicine-detection-container[_ngcontent-%COMP%]   button[mat-button][_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:8px}@media (max-width: 768px){.medicine-detection-container[_ngcontent-%COMP%]{padding:10px}.medicine-detection-container[_ngcontent-%COMP%]   .settings-form[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]{grid-template-columns:1fr}.medicine-detection-container[_ngcontent-%COMP%]   .medicines-table[_ngcontent-%COMP%]{font-size:12px!important}}"]})}}return i})();var bK=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275mod=$e({type:i})}static{this.\u0275inj=je({imports:[Ft,Ft]})}}return i})();var OTe=["*"],FTe='@media screen and (forced-colors: active),(-ms-high-contrast: active){.mdc-list-divider::after{content:"";display:block;border-bottom-width:1px;border-bottom-style:solid}}.mdc-list{margin:0;padding:8px 0;list-style-type:none}.mdc-list:focus{outline:none}.mdc-list-item__wrapper{display:block}.mdc-list-item{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;align-items:stretch;cursor:pointer}.mdc-list-item:focus{outline:none}.mdc-list-item.mdc-list-item--with-one-line{height:48px}.mdc-list-item.mdc-list-item--with-two-lines{height:64px}.mdc-list-item.mdc-list-item--with-three-lines{height:88px}.mdc-list-item.mdc-list-item--with-one-line .mdc-list-item__start{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--with-three-lines .mdc-list-item__start{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--with-one-line .mdc-list-item__end{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-two-lines .mdc-list-item__end{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--disabled,.mdc-list-item.mdc-list-item--non-interactive{cursor:auto}.mdc-list-item:not(.mdc-list-item--selected):focus::before,.mdc-list-item.mdc-ripple-upgraded--background-focused::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-list-item:not(.mdc-list-item--selected):focus::before,.mdc-list-item.mdc-ripple-upgraded--background-focused::before{border-color:CanvasText}}.mdc-list-item.mdc-list-item--selected::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:3px double rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-list-item.mdc-list-item--selected::before{border-color:CanvasText}}.mdc-list-item.mdc-list-item--selected:focus::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:3px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-list-item.mdc-list-item--selected:focus::before{border-color:CanvasText}}a.mdc-list-item{color:inherit;text-decoration:none}.mdc-list-item__start{fill:currentColor;flex-shrink:0;pointer-events:none}.mdc-list-item__end{flex-shrink:0;pointer-events:none}.mdc-list-item__content{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;align-self:center;flex:1;pointer-events:none}.mdc-list-item--with-two-lines .mdc-list-item__content,.mdc-list-item--with-three-lines .mdc-list-item__content{align-self:stretch}.mdc-list-item__content[for]{pointer-events:none}.mdc-list-item__primary-text{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.mdc-list-item--with-two-lines .mdc-list-item__primary-text,.mdc-list-item--with-three-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before,.mdc-list-item--with-three-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after,.mdc-list-item--with-three-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item__secondary-text{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;display:block;margin-top:0;line-height:normal}.mdc-list-item__secondary-text::before{display:inline-block;width:0;height:20px;content:"";vertical-align:0}.mdc-list-item--with-three-lines .mdc-list-item__secondary-text{white-space:normal;line-height:20px}.mdc-list-item--with-overline .mdc-list-item__secondary-text{white-space:nowrap;line-height:auto}.mdc-list-item__overline-text{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:24px;content:"";vertical-align:0}.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-three-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-three-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-three-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-avatar.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-avatar.mdc-list-item,.mdc-list-item--with-leading-avatar.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-avatar .mdc-list-item__start{margin-left:16px;margin-right:16px}[dir=rtl] .mdc-list-item--with-leading-avatar .mdc-list-item__start,.mdc-list-item--with-leading-avatar .mdc-list-item__start[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-avatar.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-avatar .mdc-list-item__start{border-radius:50%}.mdc-list-item--with-leading-icon.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-icon.mdc-list-item,.mdc-list-item--with-leading-icon.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-icon .mdc-list-item__start{margin-left:16px;margin-right:32px}[dir=rtl] .mdc-list-item--with-leading-icon .mdc-list-item__start,.mdc-list-item--with-leading-icon .mdc-list-item__start[dir=rtl]{margin-left:32px;margin-right:16px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-icon.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-thumbnail.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-thumbnail.mdc-list-item,.mdc-list-item--with-leading-thumbnail.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-thumbnail .mdc-list-item__start{margin-left:16px;margin-right:16px}[dir=rtl] .mdc-list-item--with-leading-thumbnail .mdc-list-item__start,.mdc-list-item--with-leading-thumbnail .mdc-list-item__start[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-image.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-image.mdc-list-item,.mdc-list-item--with-leading-image.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-image .mdc-list-item__start{margin-left:16px;margin-right:16px}[dir=rtl] .mdc-list-item--with-leading-image .mdc-list-item__start,.mdc-list-item--with-leading-image .mdc-list-item__start[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-image.mdc-list-item--with-one-line{height:72px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:8px}.mdc-list-item--with-leading-video.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-video.mdc-list-item,.mdc-list-item--with-leading-video.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-video .mdc-list-item__start{margin-left:0;margin-right:16px}[dir=rtl] .mdc-list-item--with-leading-video .mdc-list-item__start,.mdc-list-item--with-leading-video .mdc-list-item__start[dir=rtl]{margin-left:16px;margin-right:0}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-video.mdc-list-item--with-one-line{height:72px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-checkbox.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-checkbox.mdc-list-item,.mdc-list-item--with-leading-checkbox.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-checkbox .mdc-list-item__start{margin-left:8px;margin-right:24px}[dir=rtl] .mdc-list-item--with-leading-checkbox .mdc-list-item__start,.mdc-list-item--with-leading-checkbox .mdc-list-item__start[dir=rtl]{margin-left:24px;margin-right:8px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:8px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-radio.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-radio.mdc-list-item,.mdc-list-item--with-leading-radio.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-radio .mdc-list-item__start{margin-left:8px;margin-right:24px}[dir=rtl] .mdc-list-item--with-leading-radio .mdc-list-item__start,.mdc-list-item--with-leading-radio .mdc-list-item__start[dir=rtl]{margin-left:24px;margin-right:8px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:8px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-radio.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-switch.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-switch.mdc-list-item,.mdc-list-item--with-leading-switch.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-switch .mdc-list-item__start{margin-left:16px;margin-right:16px}[dir=rtl] .mdc-list-item--with-leading-switch .mdc-list-item__start,.mdc-list-item--with-leading-switch .mdc-list-item__start[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:16px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-switch.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-trailing-icon.mdc-list-item{padding-left:auto;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-icon.mdc-list-item,.mdc-list-item--with-trailing-icon.mdc-list-item[dir=rtl]{padding-left:0;padding-right:auto}.mdc-list-item--with-trailing-icon .mdc-list-item__end{margin-left:16px;margin-right:16px}[dir=rtl] .mdc-list-item--with-trailing-icon .mdc-list-item__end,.mdc-list-item--with-trailing-icon .mdc-list-item__end[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-list-item--with-trailing-meta.mdc-list-item--with-two-lines .mdc-list-item__end{align-self:flex-start;margin-top:0}.mdc-list-item--with-trailing-meta.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:0}.mdc-list-item--with-trailing-meta.mdc-list-item{padding-left:auto;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-meta.mdc-list-item,.mdc-list-item--with-trailing-meta.mdc-list-item[dir=rtl]{padding-left:0;padding-right:auto}.mdc-list-item--with-trailing-meta .mdc-list-item__end{margin-left:28px;margin-right:16px}[dir=rtl] .mdc-list-item--with-trailing-meta .mdc-list-item__end,.mdc-list-item--with-trailing-meta .mdc-list-item__end[dir=rtl]{margin-left:16px;margin-right:28px}.mdc-list-item--with-trailing-meta.mdc-list-item--with-two-lines .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-trailing-meta.mdc-list-item--with-two-lines .mdc-list-item__end::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-trailing-meta.mdc-list-item--with-three-lines .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-trailing-meta.mdc-list-item--with-three-lines .mdc-list-item__end::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-trailing-meta .mdc-list-item__end{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mdc-typography-caption-font-family);font-size:var(--mdc-typography-caption-font-size);line-height:var(--mdc-typography-caption-line-height);font-weight:var(--mdc-typography-caption-font-weight);letter-spacing:var(--mdc-typography-caption-letter-spacing);text-decoration:var(--mdc-typography-caption-text-decoration);text-transform:var(--mdc-typography-caption-text-transform)}.mdc-list-item--with-trailing-checkbox.mdc-list-item{padding-left:auto;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-checkbox.mdc-list-item,.mdc-list-item--with-trailing-checkbox.mdc-list-item[dir=rtl]{padding-left:0;padding-right:auto}.mdc-list-item--with-trailing-checkbox .mdc-list-item__end{margin-left:24px;margin-right:8px}[dir=rtl] .mdc-list-item--with-trailing-checkbox .mdc-list-item__end,.mdc-list-item--with-trailing-checkbox .mdc-list-item__end[dir=rtl]{margin-left:8px;margin-right:24px}.mdc-list-item--with-trailing-checkbox.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:8px}.mdc-list-item--with-trailing-radio.mdc-list-item{padding-left:auto;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-radio.mdc-list-item,.mdc-list-item--with-trailing-radio.mdc-list-item[dir=rtl]{padding-left:0;padding-right:auto}.mdc-list-item--with-trailing-radio .mdc-list-item__end{margin-left:24px;margin-right:8px}[dir=rtl] .mdc-list-item--with-trailing-radio .mdc-list-item__end,.mdc-list-item--with-trailing-radio .mdc-list-item__end[dir=rtl]{margin-left:8px;margin-right:24px}.mdc-list-item--with-trailing-radio.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:8px}.mdc-list-item--with-trailing-switch.mdc-list-item{padding-left:auto;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-switch.mdc-list-item,.mdc-list-item--with-trailing-switch.mdc-list-item[dir=rtl]{padding-left:0;padding-right:auto}.mdc-list-item--with-trailing-switch .mdc-list-item__end{margin-left:16px;margin-right:16px}[dir=rtl] .mdc-list-item--with-trailing-switch .mdc-list-item__end,.mdc-list-item--with-trailing-switch .mdc-list-item__end[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-list-item--with-trailing-switch.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:16px}.mdc-list-item--with-overline.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-overline.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:20px;content:"";vertical-align:0}.mdc-list-item--with-overline.mdc-list-item--with-three-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-overline.mdc-list-item--with-three-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:20px;content:"";vertical-align:0}.mdc-list-item{padding-left:16px;padding-right:16px}[dir=rtl] .mdc-list-item,.mdc-list-item[dir=rtl]{padding-left:16px;padding-right:16px}.mdc-list-group .mdc-deprecated-list{padding:0}.mdc-list-group__subheader{margin:calc((3rem - 1.5rem)/2) 16px}.mdc-list-divider{padding:0;background-clip:content-box}.mdc-list-divider.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-text.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-icon.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-image.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-avatar.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-switch.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-radio.mdc-list-divider--with-leading-inset{padding-left:16px;padding-right:auto}[dir=rtl] .mdc-list-divider.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-text.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-icon.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-image.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-avatar.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-switch.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-radio.mdc-list-divider--with-leading-inset,.mdc-list-divider.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-text.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-icon.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-image.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-avatar.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-switch.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-radio.mdc-list-divider--with-leading-inset[dir=rtl]{padding-left:auto;padding-right:16px}.mdc-list-divider.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-text.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-icon.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-image.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-avatar.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-switch.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-radio.mdc-list-divider--with-trailing-inset{padding-left:auto;padding-right:16px}[dir=rtl] .mdc-list-divider.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-text.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-icon.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-image.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-avatar.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-switch.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-radio.mdc-list-divider--with-trailing-inset,.mdc-list-divider.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-text.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-icon.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-image.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-avatar.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-switch.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-radio.mdc-list-divider--with-trailing-inset[dir=rtl]{padding-left:16px;padding-right:auto}.mdc-list-divider--with-leading-video.mdc-list-divider--with-leading-inset{padding-left:0px;padding-right:auto}[dir=rtl] .mdc-list-divider--with-leading-video.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-video.mdc-list-divider--with-leading-inset[dir=rtl]{padding-left:auto;padding-right:0px}[dir=rtl] .mdc-list-divider,.mdc-list-divider[dir=rtl]{padding:0}.mdc-list-item{background-color:var(--mdc-list-list-item-container-color)}.mdc-list-item.mdc-list-item--selected{background-color:var(--mdc-list-list-item-selected-container-color)}.mdc-list-item--with-one-line{border-radius:var(--mdc-list-list-item-container-shape)}.mdc-list-item--with-one-line.mdc-list-item--with-leading-avatar,.mdc-list-item--with-one-line.mdc-list-item--with-leading-icon,.mdc-list-item--with-one-line.mdc-list-item--with-leading-thumbnail,.mdc-list-item--with-one-line.mdc-list-item--with-leading-checkbox,.mdc-list-item--with-one-line.mdc-list-item--with-leading-radio,.mdc-list-item--with-one-line.mdc-list-item--with-leading-switch{border-radius:var(--mdc-list-list-item-container-shape)}.mdc-list-item--with-one-line.mdc-list-item--with-leading-image,.mdc-list-item--with-one-line.mdc-list-item--with-leading-video{border-radius:var(--mdc-list-list-item-container-shape)}.mdc-list-item--with-two-lines{border-radius:var(--mdc-list-list-item-container-shape)}.mdc-list-item--with-two-lines.mdc-list-item--with-leading-avatar,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-icon,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-thumbnail,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-checkbox,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-radio,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-switch,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-image,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-video{border-radius:var(--mdc-list-list-item-container-shape)}.mdc-list-item--with-three-lines{border-radius:var(--mdc-list-list-item-container-shape)}.mdc-list-item.mdc-list-item--with-one-line{height:var(--mdc-list-list-item-one-line-container-height)}.mdc-list-item.mdc-list-item--with-two-lines{height:var(--mdc-list-list-item-two-line-container-height)}.mdc-list-item.mdc-list-item--with-three-lines{height:var(--mdc-list-list-item-three-line-container-height)}.mdc-list-item__primary-text{color:var(--mdc-list-list-item-label-text-color)}.mdc-list-item__primary-text{font-family:var(--mdc-list-list-item-label-text-font);line-height:var(--mdc-list-list-item-label-text-line-height);font-size:var(--mdc-list-list-item-label-text-size);font-weight:var(--mdc-list-list-item-label-text-weight);letter-spacing:var(--mdc-list-list-item-label-text-tracking)}.mdc-list-item__secondary-text{color:var(--mdc-list-list-item-supporting-text-color)}.mdc-list-item__secondary-text{font-family:var(--mdc-list-list-item-supporting-text-font);line-height:var(--mdc-list-list-item-supporting-text-line-height);font-size:var(--mdc-list-list-item-supporting-text-size);font-weight:var(--mdc-list-list-item-supporting-text-weight);letter-spacing:var(--mdc-list-list-item-supporting-text-tracking)}.mdc-list-item--with-leading-icon .mdc-list-item__start{color:var(--mdc-list-list-item-leading-icon-color)}.mdc-list-item--with-leading-icon .mdc-list-item__start{width:var(--mdc-list-list-item-leading-icon-size);height:var(--mdc-list-list-item-leading-icon-size)}.mdc-list-item--with-leading-icon .mdc-list-item__start>i{font-size:var(--mdc-list-list-item-leading-icon-size)}.mdc-list-item--with-leading-icon .mdc-list-item__start .mdc-list-item__icon{font-size:var(--mdc-list-list-item-leading-icon-size);width:var(--mdc-list-list-item-leading-icon-size);height:var(--mdc-list-list-item-leading-icon-size)}.mdc-list-item--with-leading-icon .mdc-list-item__start .mdc-list-item__icon,.mdc-list-item--with-leading-icon .mdc-list-item__start .mdc-list-item__icon>.materialdesignWizIconSvgsSvgIcon{display:block}.mdc-list-item--with-leading-avatar .mdc-list-item__start{width:var(--mdc-list-list-item-leading-avatar-size);height:var(--mdc-list-list-item-leading-avatar-size)}.mdc-list-item.mdc-list-item--with-trailing-meta .mdc-list-item__end{color:var(--mdc-list-list-item-trailing-supporting-text-color)}.mdc-list-item--with-trailing-meta .mdc-list-item__end{font-family:var(--mdc-list-list-item-trailing-supporting-text-font);line-height:var(--mdc-list-list-item-trailing-supporting-text-line-height);font-size:var(--mdc-list-list-item-trailing-supporting-text-size);font-weight:var(--mdc-list-list-item-trailing-supporting-text-weight);letter-spacing:var(--mdc-list-list-item-trailing-supporting-text-tracking)}.mdc-list-item--with-trailing-icon .mdc-list-item__end{color:var(--mdc-list-list-item-trailing-icon-color)}.mdc-list-item--with-trailing-icon .mdc-list-item__end{width:var(--mdc-list-list-item-trailing-icon-size);height:var(--mdc-list-list-item-trailing-icon-size)}.mdc-list-item--with-trailing-icon .mdc-list-item__end>i{font-size:var(--mdc-list-list-item-trailing-icon-size)}.mdc-list-item--with-trailing-icon .mdc-list-item__end .mdc-list-item__icon{font-size:var(--mdc-list-list-item-trailing-icon-size);width:var(--mdc-list-list-item-trailing-icon-size);height:var(--mdc-list-list-item-trailing-icon-size)}.mdc-list-item--with-trailing-icon .mdc-list-item__end .mdc-list-item__icon,.mdc-list-item--with-trailing-icon .mdc-list-item__end .mdc-list-item__icon>.materialdesignWizIconSvgsSvgIcon{display:block}.mdc-list-item--selected.mdc-list-item--with-trailing-icon .mdc-list-item__end{color:var(--mdc-list-list-item-selected-trailing-icon-color)}.mdc-list-item--disabled .mdc-list-item__start,.mdc-list-item--disabled .mdc-list-item__content,.mdc-list-item--disabled .mdc-list-item__end{opacity:1}.mdc-list-item--disabled .mdc-list-item__primary-text,.mdc-list-item--disabled .mdc-list-item__secondary-text,.mdc-list-item--disabled .mdc-list-item__overline-text{opacity:var(--mdc-list-list-item-disabled-label-text-opacity)}.mdc-list-item--disabled.mdc-list-item--with-leading-icon .mdc-list-item__start{color:var(--mdc-list-list-item-disabled-leading-icon-color)}.mdc-list-item--disabled.mdc-list-item--with-leading-icon .mdc-list-item__start{opacity:var(--mdc-list-list-item-disabled-leading-icon-opacity)}.mdc-list-item--disabled.mdc-list-item--with-trailing-icon .mdc-list-item__end{color:var(--mdc-list-list-item-disabled-trailing-icon-color)}.mdc-list-item--disabled.mdc-list-item--with-trailing-icon .mdc-list-item__end{opacity:var(--mdc-list-list-item-disabled-trailing-icon-opacity)}.mdc-list-item:hover .mdc-list-item__primary-text{color:var(--mdc-list-list-item-hover-label-text-color)}.mdc-list-item--with-leading-icon:hover .mdc-list-item__start{color:var(--mdc-list-list-item-hover-leading-icon-color)}.mdc-list-item--with-trailing-icon:hover .mdc-list-item__end{color:var(--mdc-list-list-item-hover-trailing-icon-color)}.mdc-list-item:focus .mdc-list-item__primary-text{color:var(--mdc-list-list-item-focus-label-text-color)}.mdc-list-item.mdc-list-item--disabled .mdc-list-item__primary-text{color:var(--mdc-list-list-item-disabled-label-text-color)}.mdc-list-item:hover::before{background-color:var(--mdc-list-list-item-hover-state-layer-color);opacity:var(--mdc-list-list-item-hover-state-layer-opacity)}.mdc-list-item.mdc-list-item--disabled::before{background-color:var(--mdc-list-list-item-disabled-state-layer-color);opacity:var(--mdc-list-list-item-disabled-state-layer-opacity)}.mdc-list-item:focus::before{background-color:var(--mdc-list-list-item-focus-state-layer-color);opacity:var(--mdc-list-list-item-focus-state-layer-opacity)}.mdc-list-item--disabled .mdc-radio,.mdc-list-item--disabled .mdc-checkbox{opacity:var(--mdc-list-list-item-disabled-label-text-opacity)}.mdc-list-item--with-leading-avatar .mat-mdc-list-item-avatar{border-radius:var(--mdc-list-list-item-leading-avatar-shape);background-color:var(--mdc-list-list-item-leading-avatar-color)}.mat-mdc-list-item-icon{font-size:var(--mdc-list-list-item-leading-icon-size)}.cdk-high-contrast-active a.mdc-list-item--activated::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}.cdk-high-contrast-active a.mdc-list-item--activated [dir=rtl]::after{right:auto;left:16px}.mat-mdc-list-base{display:block}.mat-mdc-list-base .mdc-list-item__start,.mat-mdc-list-base .mdc-list-item__end,.mat-mdc-list-base .mdc-list-item__content{pointer-events:auto}.mat-mdc-list-item,.mat-mdc-list-option{width:100%;box-sizing:border-box;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-list-item:not(.mat-mdc-list-item-interactive),.mat-mdc-list-option:not(.mat-mdc-list-item-interactive){cursor:default}.mat-mdc-list-item .mat-divider-inset,.mat-mdc-list-option .mat-divider-inset{position:absolute;left:0;right:0;bottom:0}.mat-mdc-list-item .mat-mdc-list-item-avatar~.mat-divider-inset,.mat-mdc-list-option .mat-mdc-list-item-avatar~.mat-divider-inset{margin-left:72px}[dir=rtl] .mat-mdc-list-item .mat-mdc-list-item-avatar~.mat-divider-inset,[dir=rtl] .mat-mdc-list-option .mat-mdc-list-item-avatar~.mat-divider-inset{margin-right:72px}.mat-mdc-list-item-interactive::before{top:0;left:0;right:0;bottom:0;position:absolute;content:"";opacity:0;pointer-events:none}.mat-mdc-list-item>.mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-mdc-list-item:focus>.mat-mdc-focus-indicator::before{content:""}.mat-mdc-list-item.mdc-list-item--with-three-lines .mat-mdc-list-item-line.mdc-list-item__secondary-text{white-space:nowrap;line-height:normal}.mat-mdc-list-item.mdc-list-item--with-three-lines .mat-mdc-list-item-unscoped-content.mdc-list-item__secondary-text{display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2}mat-action-list button{background:none;color:inherit;border:none;font:inherit;outline:inherit;-webkit-tap-highlight-color:rgba(0,0,0,0);text-align:start}mat-action-list button::-moz-focus-inner{border:0}.mdc-list-item--with-leading-icon .mdc-list-item__start{margin-inline-start:var(--mat-list-list-item-leading-icon-start-space);margin-inline-end:var(--mat-list-list-item-leading-icon-end-space)}.mat-mdc-nav-list .mat-mdc-list-item{border-radius:var(--mat-list-active-indicator-shape);--mat-mdc-focus-indicator-border-radius:var(--mat-list-active-indicator-shape)}.mat-mdc-nav-list .mat-mdc-list-item.mdc-list-item--activated{background-color:var(--mat-list-active-indicator-color)}',LTe=["unscopedContent"],BTe=["text"],VTe=[[["","matListItemAvatar",""],["","matListItemIcon",""]],[["","matListItemTitle",""]],[["","matListItemLine",""]],"*",[["","matListItemMeta",""]],[["mat-divider"]]],UTe=["[matListItemAvatar],[matListItemIcon]","[matListItemTitle]","[matListItemLine]","*","[matListItemMeta]","mat-divider"];var zTe=new ge("ListOption"),L3=(()=>{class i{constructor(e){this._elementRef=e}static{this.\u0275fac=function(n){return new(n||i)(O(Oe))}}static{this.\u0275dir=we({type:i,selectors:[["","matListItemTitle",""]],hostAttrs:[1,"mat-mdc-list-item-title","mdc-list-item__primary-text"],standalone:!0})}}return i})(),B3=(()=>{class i{constructor(e){this._elementRef=e}static{this.\u0275fac=function(n){return new(n||i)(O(Oe))}}static{this.\u0275dir=we({type:i,selectors:[["","matListItemLine",""]],hostAttrs:[1,"mat-mdc-list-item-line","mdc-list-item__secondary-text"],standalone:!0})}}return i})(),V3=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275dir=we({type:i,selectors:[["","matListItemMeta",""]],hostAttrs:[1,"mat-mdc-list-item-meta","mdc-list-item__end"],standalone:!0})}}return i})(),vK=(()=>{class i{constructor(e){this._listOption=e}_isAlignedAtStart(){return!this._listOption||this._listOption?._getTogglePosition()==="after"}static{this.\u0275fac=function(n){return new(n||i)(O(zTe,8))}}static{this.\u0275dir=we({type:i,hostVars:4,hostBindings:function(n,r){n&2&&qe("mdc-list-item__start",r._isAlignedAtStart())("mdc-list-item__end",!r._isAlignedAtStart())},standalone:!0})}}return i})(),HTe=(()=>{class i extends vK{static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=Xi(i)))(r||i)}})()}static{this.\u0275dir=we({type:i,selectors:[["","matListItemAvatar",""]],hostAttrs:[1,"mat-mdc-list-item-avatar"],standalone:!0,features:[Et]})}}return i})(),U3=(()=>{class i extends vK{static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=Xi(i)))(r||i)}})()}static{this.\u0275dir=we({type:i,selectors:[["","matListItemIcon",""]],hostAttrs:[1,"mat-mdc-list-item-icon"],standalone:!0,features:[Et]})}}return i})(),jTe=new ge("MAT_LIST_CONFIG"),sE=(()=>{class i{constructor(){this._isNonInteractive=!0,this._disableRipple=!1,this._disabled=!1,this._defaultOptions=be(jTe,{optional:!0})}get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=Qr(e)}get disabled(){return this._disabled}set disabled(e){this._disabled=Qr(e)}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275dir=we({type:i,hostVars:1,hostBindings:function(n,r){n&2&&wt("aria-disabled",r.disabled)},inputs:{disableRipple:"disableRipple",disabled:"disabled"},standalone:!0})}}return i})(),$Te=(()=>{class i{set lines(e){this._explicitLines=Za(e,null),this._updateItemLines(!1)}get disableRipple(){return this.disabled||this._disableRipple||this._noopAnimations||!!this._listBase?.disableRipple}set disableRipple(e){this._disableRipple=Qr(e)}get disabled(){return this._disabled||!!this._listBase?.disabled}set disabled(e){this._disabled=Qr(e)}get rippleDisabled(){return this.disableRipple||!!this.rippleConfig.disabled}constructor(e,n,r,o,s,a){this._elementRef=e,this._ngZone=n,this._listBase=r,this._platform=o,this._explicitLines=null,this._disableRipple=!1,this._disabled=!1,this._subscriptions=new qt,this._rippleRenderer=null,this._hasUnscopedTextContent=!1,this.rippleConfig=s||{},this._hostElement=this._elementRef.nativeElement,this._isButtonElement=this._hostElement.nodeName.toLowerCase()==="button",this._noopAnimations=a==="NoopAnimations",r&&!r._isNonInteractive&&this._initInteractiveListItem(),this._isButtonElement&&!this._hostElement.hasAttribute("type")&&this._hostElement.setAttribute("type","button")}ngAfterViewInit(){this._monitorProjectedLinesAndTitle(),this._updateItemLines(!0)}ngOnDestroy(){this._subscriptions.unsubscribe(),this._rippleRenderer!==null&&this._rippleRenderer._removeTriggerEvents()}_hasIconOrAvatar(){return!!(this._avatars.length||this._icons.length)}_initInteractiveListItem(){this._hostElement.classList.add("mat-mdc-list-item-interactive"),this._rippleRenderer=new Kg(this,this._ngZone,this._hostElement,this._platform),this._rippleRenderer.setupTriggerEvents(this._hostElement)}_monitorProjectedLinesAndTitle(){this._ngZone.runOutsideAngular(()=>{this._subscriptions.add(rr(this._lines.changes,this._titles.changes).subscribe(()=>this._updateItemLines(!1)))})}_updateItemLines(e){if(!this._lines||!this._titles||!this._unscopedContent)return;e&&this._checkDomForUnscopedTextContent();let n=this._explicitLines??this._inferLinesFromContent(),r=this._unscopedContent.nativeElement;if(this._hostElement.classList.toggle("mat-mdc-list-item-single-line",n<=1),this._hostElement.classList.toggle("mdc-list-item--with-one-line",n<=1),this._hostElement.classList.toggle("mdc-list-item--with-two-lines",n===2),this._hostElement.classList.toggle("mdc-list-item--with-three-lines",n===3),this._hasUnscopedTextContent){let o=this._titles.length===0&&n===1;r.classList.toggle("mdc-list-item__primary-text",o),r.classList.toggle("mdc-list-item__secondary-text",!o)}else r.classList.remove("mdc-list-item__primary-text"),r.classList.remove("mdc-list-item__secondary-text")}_inferLinesFromContent(){let e=this._titles.length+this._lines.length;return this._hasUnscopedTextContent&&(e+=1),e}_checkDomForUnscopedTextContent(){this._hasUnscopedTextContent=Array.from(this._unscopedContent.nativeElement.childNodes).filter(e=>e.nodeType!==e.COMMENT_NODE).some(e=>!!(e.textContent&&e.textContent.trim()))}static{this.\u0275fac=function(n){return new(n||i)(O(Oe),O(Ne),O(sE,8),O(ri),O(rd,8),O(Vi,8))}}static{this.\u0275dir=we({type:i,contentQueries:function(n,r,o){if(n&1&&(ni(o,HTe,4),ni(o,U3,4)),n&2){let s;Le(s=Be())&&(r._avatars=s),Le(s=Be())&&(r._icons=s)}},hostVars:4,hostBindings:function(n,r){n&2&&(wt("aria-disabled",r.disabled)("disabled",r._isButtonElement&&r.disabled||null),qe("mdc-list-item--disabled",r.disabled))},inputs:{lines:"lines",disableRipple:"disableRipple",disabled:"disabled"},standalone:!0})}}return i})();var yK=(()=>{class i extends sE{static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=Xi(i)))(r||i)}})()}static{this.\u0275cmp=rt({type:i,selectors:[["mat-list"]],hostAttrs:[1,"mat-mdc-list","mat-mdc-list-base","mdc-list"],exportAs:["matList"],standalone:!0,features:[Ot([{provide:sE,useExisting:i}]),Et,Tt],ngContentSelectors:OTe,decls:1,vars:0,template:function(n,r){n&1&&(Ti(),ct(0))},styles:[FTe],encapsulation:2,changeDetection:0})}}return i})(),xK=(()=>{class i extends $Te{get activated(){return this._activated}set activated(e){this._activated=Qr(e)}constructor(e,n,r,o,s,a){super(e,n,r,o,s,a),this._activated=!1}_getAriaCurrent(){return this._hostElement.nodeName==="A"&&this._activated?"page":null}static{this.\u0275fac=function(n){return new(n||i)(O(Oe),O(Ne),O(sE,8),O(ri),O(rd,8),O(Vi,8))}}static{this.\u0275cmp=rt({type:i,selectors:[["mat-list-item"],["a","mat-list-item",""],["button","mat-list-item",""]],contentQueries:function(n,r,o){if(n&1&&(ni(o,B3,5),ni(o,L3,5),ni(o,V3,5)),n&2){let s;Le(s=Be())&&(r._lines=s),Le(s=Be())&&(r._titles=s),Le(s=Be())&&(r._meta=s)}},viewQuery:function(n,r){if(n&1&&(Nt(LTe,5),Nt(BTe,5)),n&2){let o;Le(o=Be())&&(r._unscopedContent=o.first),Le(o=Be())&&(r._itemText=o.first)}},hostAttrs:[1,"mat-mdc-list-item","mdc-list-item"],hostVars:11,hostBindings:function(n,r){n&2&&(wt("aria-current",r._getAriaCurrent()),qe("mdc-list-item--activated",r.activated)("mdc-list-item--with-leading-avatar",r._avatars.length!==0)("mdc-list-item--with-leading-icon",r._icons.length!==0)("mdc-list-item--with-trailing-meta",r._meta.length!==0)("_mat-animation-noopable",r._noopAnimations))},inputs:{activated:"activated"},exportAs:["matListItem"],standalone:!0,features:[Et,Tt],ngContentSelectors:UTe,decls:10,vars:0,consts:[["unscopedContent",""],[1,"mdc-list-item__content"],[1,"mat-mdc-list-item-unscoped-content",3,"cdkObserveContent"],[1,"mat-mdc-focus-indicator"]],template:function(n,r){if(n&1){let o=ft();Ti(VTe),ct(0),y(1,"span",1),ct(2,1),ct(3,2),y(4,"span",2,0),fe("cdkObserveContent",function(){return ce(o),le(r._updateItemLines(!0))}),ct(6,3),x()(),ct(7,4),ct(8,5),Ue(9,"div",3)}},dependencies:[cx],encapsulation:2,changeDetection:0})}}return i})();var wK=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275mod=$e({type:i})}static{this.\u0275inj=je({imports:[Wm,kr,Ft,Vu,jD,bK]})}}return i})();function WTe(i,t){if(i&1){let e=ft();y(0,"mat-list-item",7),fe("click",function(){let r=ce(e).$implicit,o=Q();return le(o.selectVisualSpace(r))}),y(1,"mat-icon",8),P(2,"location_on"),x(),y(3,"div",9),P(4),x(),y(5,"div",10),P(6),x(),y(7,"div",11),P(8),Lc(9,"date"),x()()}if(i&2){let e=t.$implicit,n=Q();qe("active",e.id===(n.selectedSpace==null?null:n.selectedSpace.id)),B(4),Xt(e.name),B(2),Js("",e.location," | ",e.shelves.length," shelves"),B(2),Vt(" Updated: ",Sm(9,6,e.lastUpdated,"short")," ")}}function qTe(i,t){i&1&&(y(0,"mat-card",12)(1,"mat-card-content")(2,"mat-icon"),P(3,"folder_open"),x(),y(4,"p"),P(5,"No pharmacy locations found"),x()()())}function XTe(i,t){if(i&1){let e=ft();y(0,"mat-list-item",15),fe("click",function(){let r=ce(e).$implicit,o=Q(2);return le(o.selectShelf(r))}),y(1,"mat-icon",8),P(2,"inventory_2"),x(),y(3,"div",9),P(4),x(),y(5,"div",10),P(6),x(),y(7,"button",16),fe("click",function(r){let o=ce(e).$implicit,s=Q(2);return s.deleteShelf(s.selectedSpace.id,o.id),le(r.stopPropagation())}),y(8,"mat-icon",17),P(9,"delete"),x()()()}if(i&2){let e=t.$implicit,n=Q(2);qe("active",e.id===(n.selectedShelf==null?null:n.selectedShelf.id)),B(4),Xt(e.name),B(2),ug(" Size: ",e.width," \xD7 ",e.height," cm | Medicines: ",e.medicines.length," ")}}function YTe(i,t){i&1&&(y(0,"mat-card",12)(1,"mat-card-content")(2,"mat-icon"),P(3,"inbox"),x(),y(4,"p"),P(5,"No shelves in this location"),x()()())}function ZTe(i,t){if(i&1&&(y(0,"div",1)(1,"mat-card",13)(2,"mat-card-header")(3,"mat-card-title")(4,"mat-icon"),P(5,"inventory"),x(),P(6),x()(),y(7,"mat-card-content")(8,"mat-list"),Ee(9,XTe,10,6,"mat-list-item",14),x(),Ee(10,YTe,6,0,"mat-card",4),x()()()),i&2){let e=Q();B(6),Vt(" Shelves in ",e.selectedSpace.name," "),B(3),ae("ngForOf",e.selectedSpace.shelves),B(),ae("ngIf",e.selectedSpace.shelves.length===0)}}function KTe(i,t){i&1&&(y(0,"mat-header-cell"),P(1,"Medicine Name"),x())}function QTe(i,t){if(i&1&&(y(0,"mat-cell")(1,"strong"),P(2),x()()),i&2){let e=t.$implicit;B(2),Xt(e.name)}}function JTe(i,t){i&1&&(y(0,"mat-header-cell"),P(1,"Position (X, Y)"),x())}function eIe(i,t){if(i&1&&(y(0,"mat-cell")(1,"code",47),P(2),x()()),i&2){let e=t.$implicit;B(2),Js("",e.x,", ",e.y,"")}}function tIe(i,t){i&1&&(y(0,"mat-header-cell"),P(1,"Confidence"),x())}function iIe(i,t){if(i&1&&(y(0,"mat-cell"),Ue(1,"mat-progress-bar",48),y(2,"span",49),P(3),x()()),i&2){let e=t.$implicit;B(),ae("value",e.confidence*100),B(2),Vt("",(e.confidence*100).toFixed(1),"%")}}function nIe(i,t){i&1&&(y(0,"mat-header-cell"),P(1,"Actions"),x())}function rIe(i,t){if(i&1){let e=ft();y(0,"mat-cell")(1,"button",50),fe("click",function(){let r=ce(e).$implicit,o=Q(3);return le(o.removeMedicine(r.id))}),y(2,"mat-icon"),P(3,"delete"),x()()()}}function oIe(i,t){i&1&&Ue(0,"mat-header-row")}function sIe(i,t){i&1&&Ue(0,"mat-row")}function aIe(i,t){if(i&1&&(y(0,"mat-table",38),wo(1,39),Ee(2,KTe,2,0,"mat-header-cell",40)(3,QTe,3,1,"mat-cell",41),Mo(),wo(4,42),Ee(5,JTe,2,0,"mat-header-cell",40)(6,eIe,3,2,"mat-cell",41),Mo(),wo(7,43),Ee(8,tIe,2,0,"mat-header-cell",40)(9,iIe,4,2,"mat-cell",41),Mo(),wo(10,44),Ee(11,nIe,2,0,"mat-header-cell",40)(12,rIe,4,0,"mat-cell",41),Mo(),Ee(13,oIe,1,0,"mat-header-row",45)(14,sIe,1,0,"mat-row",46),x()),i&2){let e=Q(2);ae("dataSource",e.medicines),B(13),ae("matHeaderRowDef",e.displayedMedicineColumns),B(),ae("matRowDefColumns",e.displayedMedicineColumns)}}function cIe(i,t){i&1&&(y(0,"div",51)(1,"mat-icon"),P(2,"shopping_cart"),x(),y(3,"p"),P(4,"No medicines on this shelf"),x()())}function lIe(i,t){if(i&1){let e=ft();y(0,"div",1)(1,"mat-card",18)(2,"mat-card-header")(3,"mat-card-title")(4,"mat-icon"),P(5,"local_pharmacy"),x(),P(6),x(),y(7,"mat-card-subtitle"),P(8),x()(),y(9,"mat-card-content")(10,"mat-card",19)(11,"mat-card-content")(12,"h4"),P(13,"Add Medicine Manually"),x(),y(14,"div",20)(15,"mat-form-field",21)(16,"mat-label"),P(17,"Medicine Name"),x(),y(18,"input",22),zi("ngModelChange",function(r){ce(e);let o=Q();return ji(o.manualMedicine.name,r)||(o.manualMedicine.name=r),le(r)}),x()()(),y(19,"div",20)(20,"mat-form-field",21)(21,"mat-label"),P(22,"Barcode (optional)"),x(),y(23,"input",23),zi("ngModelChange",function(r){ce(e);let o=Q();return ji(o.manualMedicine.barcode,r)||(o.manualMedicine.barcode=r),le(r)}),x()()(),y(24,"div",20)(25,"mat-form-field",24)(26,"mat-label"),P(27,"X"),x(),y(28,"input",25),zi("ngModelChange",function(r){ce(e);let o=Q();return ji(o.manualMedicine.x,r)||(o.manualMedicine.x=r),le(r)}),x()(),y(29,"mat-form-field",24)(30,"mat-label"),P(31,"Y"),x(),y(32,"input",25),zi("ngModelChange",function(r){ce(e);let o=Q();return ji(o.manualMedicine.y,r)||(o.manualMedicine.y=r),le(r)}),x()(),y(33,"mat-form-field",24)(34,"mat-label"),P(35,"Width"),x(),y(36,"input",25),zi("ngModelChange",function(r){ce(e);let o=Q();return ji(o.manualMedicine.width,r)||(o.manualMedicine.width=r),le(r)}),x()(),y(37,"mat-form-field",24)(38,"mat-label"),P(39,"Height"),x(),y(40,"input",25),zi("ngModelChange",function(r){ce(e);let o=Q();return ji(o.manualMedicine.height,r)||(o.manualMedicine.height=r),le(r)}),x()()(),y(41,"div",20)(42,"mat-form-field",24)(43,"mat-label"),P(44,"Confidence"),x(),y(45,"input",26),zi("ngModelChange",function(r){ce(e);let o=Q();return ji(o.manualMedicine.confidence,r)||(o.manualMedicine.confidence=r),le(r)}),x()()(),y(46,"button",27),fe("click",function(){ce(e);let r=Q();return le(r.addManualMedicine())}),y(47,"mat-icon"),P(48,"add"),x(),P(49," Add Medicine to Shelf "),x()()(),y(50,"div",28)(51,"mat-card",29)(52,"div",30)(53,"mat-icon"),P(54,"inventory_2"),x()(),y(55,"div",31)(56,"h3"),P(57,"Total Medicines"),x(),y(58,"p"),P(59),x()()(),y(60,"mat-card",29)(61,"div",30)(62,"mat-icon"),P(63,"check_circle"),x()(),y(64,"div",31)(65,"h3"),P(66,"Avg Confidence"),x(),y(67,"p"),P(68),x()()(),y(69,"mat-card",29)(70,"div",30)(71,"mat-icon"),P(72,"aspect_ratio"),x()(),y(73,"div",31)(74,"h3"),P(75,"Shelf Size"),x(),y(76,"p"),P(77),x()()()(),y(78,"div",32),Ee(79,aIe,15,3,"mat-table",33)(80,cIe,5,0,"div",34),x(),y(81,"div",35)(82,"button",36),fe("click",function(){ce(e);let r=Q();return le(r.exportShelfData())}),y(83,"mat-icon"),P(84,"download"),x(),P(85," Export Data "),x(),y(86,"button",37),fe("click",function(){ce(e);let r=Q();return le(r.printShelfData())}),y(87,"mat-icon"),P(88,"print"),x(),P(89," Print "),x()()()()()}if(i&2){let e=Q();B(6),Vt(" Medicines on Shelf: ",e.selectedShelf.name," "),B(2),Js(" Total: ",e.medicines.length," | Avg Confidence: ",(e.getAverageConfidence()*100).toFixed(1),"% "),B(10),Ui("ngModel",e.manualMedicine.name),B(5),Ui("ngModel",e.manualMedicine.barcode),B(5),Ui("ngModel",e.manualMedicine.x),B(4),Ui("ngModel",e.manualMedicine.y),B(4),Ui("ngModel",e.manualMedicine.width),B(4),Ui("ngModel",e.manualMedicine.height),B(5),Ui("ngModel",e.manualMedicine.confidence),B(14),Xt(e.medicines.length),B(9),Vt("",(e.getAverageConfidence()*100).toFixed(1),"%"),B(9),Js("",e.selectedShelf.width," \xD7 ",e.selectedShelf.height," cm"),B(2),ae("ngIf",e.medicines.length>0),B(),ae("ngIf",e.medicines.length===0),B(2),ae("disabled",!e.selectedShelf),B(4),ae("disabled",!e.selectedShelf)}}function dIe(i,t){i&1&&(y(0,"mat-card",52)(1,"mat-card-content")(2,"mat-icon"),P(3,"touch_app"),x(),y(4,"p"),P(5,"Select a location and shelf to view and manage medicines"),x()()())}var aE=(()=>{class i{constructor(e,n){this.shelfMappingService=e,this.snackBar=n,this.visualSpaces=[],this.selectedSpace=null,this.selectedShelf=null,this.medicines=[],this.manualMedicine={name:"",barcode:"",x:0,y:0,width:50,height:50,confidence:.9},this.displayedMedicineColumns=["name","position","confidence","actions"]}ngOnInit(){this.shelfMappingService.getVisualSpaces().subscribe(e=>{this.visualSpaces=e}),this.shelfMappingService.getCurrentShelf().subscribe(e=>{this.selectedShelf=e,e&&(this.medicines=this.shelfMappingService.getMedicinesByShelf(e.id))})}selectVisualSpace(e){this.selectedSpace=e,this.shelfMappingService.setCurrentVisualSpace(e.id),this.selectedShelf=null,this.medicines=[]}selectShelf(e){this.selectedShelf=e,this.shelfMappingService.setCurrentShelf(e.id),this.medicines=this.shelfMappingService.getMedicinesByShelf(e.id)}deleteShelf(e,n){confirm("Are you sure you want to delete this shelf?")&&(this.shelfMappingService.deleteShelf(e,n),this.selectedShelf?.id===n&&(this.selectedShelf=null,this.medicines=[]),this.snackBar.open("Shelf deleted","Close",{duration:3e3}))}removeMedicine(e){this.selectedShelf&&(this.shelfMappingService.removeMedicineFromShelf(this.selectedShelf.id,e),this.medicines=this.medicines.filter(n=>n.id!==e),this.snackBar.open("Medicine removed from shelf","Close",{duration:3e3}))}addManualMedicine(){if(!this.selectedShelf){this.snackBar.open("Please select a shelf first","Close",{duration:3e3});return}let e=this.manualMedicine.name.trim();if(!e){this.snackBar.open("Medicine name is required","Close",{duration:3e3});return}let n={id:this.generateId(),name:e,barcode:this.manualMedicine.barcode.trim()||void 0,x:Number(this.manualMedicine.x)||0,y:Number(this.manualMedicine.y)||0,width:Number(this.manualMedicine.width)||50,height:Number(this.manualMedicine.height)||50,confidence:Number(this.manualMedicine.confidence)||.9,shelfId:this.selectedShelf.id,detectionTime:new Date};this.shelfMappingService.addMedicineToShelf(this.selectedShelf.id,n),this.medicines=this.shelfMappingService.getMedicinesByShelf(this.selectedShelf.id),this.manualMedicine={name:"",barcode:"",x:0,y:0,width:50,height:50,confidence:.9},this.snackBar.open("Medicine added to shelf","Close",{duration:3e3})}exportShelfData(){if(!this.selectedShelf){this.snackBar.open("Please select a shelf","Close",{duration:3e3});return}let e={shelf:this.selectedShelf,medicines:this.medicines,exportDate:new Date,totalMedicines:this.medicines.length},n=JSON.stringify(e,null,2),r=new Blob([n],{type:"application/json"}),o=URL.createObjectURL(r),s=document.createElement("a");s.href=o,s.download=`${this.selectedShelf.name}_data_${Date.now()}.json`,s.click(),this.snackBar.open("Data exported successfully","Close",{duration:3e3})}printShelfData(){if(!this.selectedShelf){this.snackBar.open("Please select a shelf","Close",{duration:3e3});return}window.print()}getAverageConfidence(){return this.medicines.length===0?0:this.medicines.reduce((n,r)=>n+r.confidence,0)/this.medicines.length}generateId(){return"_"+Math.random().toString(36).substr(2,9)}static{this.\u0275fac=function(n){return new(n||i)(O(BS),O(Gh))}}static{this.\u0275cmp=rt({type:i,selectors:[["app-shelf-management"]],decls:15,vars:5,consts:[[1,"shelf-management-container"],[1,"management-section"],[1,"spaces-card"],["class","space-item",3,"active","click",4,"ngFor","ngForOf"],["class","empty-card",4,"ngIf"],["class","management-section",4,"ngIf"],["class","selection-prompt",4,"ngIf"],[1,"space-item",3,"click"],["matListItemIcon",""],["matListItemTitle",""],["matListItemLine",""],["matListItemLine","",1,"timestamp"],[1,"empty-card"],[1,"shelves-card"],["class","shelf-item",3,"active","click",4,"ngFor","ngForOf"],[1,"shelf-item",3,"click"],["mat-icon-button","","matTooltip","Delete shelf","matListItemMeta","",3,"click"],["color","warn"],[1,"medicines-card"],[1,"info-card","manual-add-card"],[1,"form-row"],["appearance","fill",1,"full-width"],["matInput","","placeholder","e.g., Paracetamol 500mg",3,"ngModelChange","ngModel"],["matInput","","placeholder","e.g., 8901234567890",3,"ngModelChange","ngModel"],["appearance","fill"],["matInput","","type","number",3,"ngModelChange","ngModel"],["matInput","","type","number","step","0.01","min","0","max","1",3,"ngModelChange","ngModel"],["mat-raised-button","","color","primary",3,"click"],[1,"statistics"],[1,"stat-card"],[1,"stat-icon"],[1,"stat-content"],[1,"medicines-table-wrapper"],[3,"dataSource",4,"ngIf"],["class","empty-table",4,"ngIf"],[1,"action-buttons"],["mat-raised-button","","color","primary",3,"click","disabled"],["mat-button","",3,"click","disabled"],[3,"dataSource"],["matColumnDef","name"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","position"],["matColumnDef","confidence"],["matColumnDef","actions"],[4,"matHeaderRowDef"],[4,"matRowDef","matRowDefColumns"],[1,"position-code"],["mode","determinate",1,"confidence-bar",3,"value"],[1,"confidence-text"],["mat-icon-button","","matTooltip","Remove medicine","color","warn",3,"click"],[1,"empty-table"],[1,"selection-prompt"]],template:function(n,r){n&1&&(y(0,"div",0)(1,"div",1)(2,"mat-card",2)(3,"mat-card-header")(4,"mat-card-title")(5,"mat-icon"),P(6,"store"),x(),P(7," Pharmacy Locations "),x()(),y(8,"mat-card-content")(9,"mat-list"),Ee(10,WTe,10,9,"mat-list-item",3),x(),Ee(11,qTe,6,0,"mat-card",4),x()()(),Ee(12,ZTe,11,3,"div",5)(13,lIe,90,18,"div",5)(14,dIe,6,0,"mat-card",6),x()),n&2&&(B(10),ae("ngForOf",r.visualSpaces),B(),ae("ngIf",r.visualSpaces.length===0),B(),ae("ngIf",r.selectedSpace),B(),ae("ngIf",r.selectedShelf),B(),ae("ngIf",!r.selectedShelf&&r.visualSpaces.length>0))},dependencies:[Wa,Ds,qa,jc,Yl,Pu,wg,ku,uc,Pd,Zm,Qm,Jm,Mx,Km,Od,Nd,Gp,sd,yK,xK,U3,B3,L3,V3,VS,Xp,XS,ZS,eE,KS,YS,tE,QS,JS,iE,nE,wy],styles:[".shelf-management-container[_ngcontent-%COMP%]{padding:20px;background:linear-gradient(135deg,#f5f7fa,#c3cfe2);min-height:100vh;display:grid;grid-template-columns:1fr 1fr;gap:20px}.shelf-management-container[_ngcontent-%COMP%]   .management-section[_ngcontent-%COMP%]{display:flex;flex-direction:column}.shelf-management-container[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]{box-shadow:0 8px 16px #0000001a;transition:transform .2s,box-shadow .2s}.shelf-management-container[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 12px 24px #00000026}.shelf-management-container[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;margin-bottom:20px}.shelf-management-container[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:24px;width:24px;height:24px}.shelf-management-container[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;margin:0}.shelf-management-container[_ngcontent-%COMP%]   .spaces-card[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#d32f2f}.shelf-management-container[_ngcontent-%COMP%]   .shelves-card[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#ff9800}.shelf-management-container[_ngcontent-%COMP%]   .medicines-card[_ngcontent-%COMP%]{grid-column:1/-1}.shelf-management-container[_ngcontent-%COMP%]   .medicines-card[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#00c853}.shelf-management-container[_ngcontent-%COMP%]   .space-item[_ngcontent-%COMP%], .shelf-management-container[_ngcontent-%COMP%]   .shelf-item[_ngcontent-%COMP%]{cursor:pointer;border-left:4px solid transparent;transition:all .2s}.shelf-management-container[_ngcontent-%COMP%]   .space-item[_ngcontent-%COMP%]:hover, .shelf-management-container[_ngcontent-%COMP%]   .shelf-item[_ngcontent-%COMP%]:hover{background:#f5f5f5;border-left-color:#1976d2}.shelf-management-container[_ngcontent-%COMP%]   .space-item[selected=true][_ngcontent-%COMP%], .shelf-management-container[_ngcontent-%COMP%]   .shelf-item[selected=true][_ngcontent-%COMP%]{background:#e3f2fd;border-left-color:#1976d2}.shelf-management-container[_ngcontent-%COMP%]   .space-item[_ngcontent-%COMP%]   .timestamp[_ngcontent-%COMP%], .shelf-management-container[_ngcontent-%COMP%]   .shelf-item[_ngcontent-%COMP%]   .timestamp[_ngcontent-%COMP%]{font-size:12px;color:#999}.shelf-management-container[_ngcontent-%COMP%]   .empty-card[_ngcontent-%COMP%]{background:#f5f5f5;border-left:4px solid #999;text-align:center}.shelf-management-container[_ngcontent-%COMP%]   .empty-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:10px;padding:40px 20px}.shelf-management-container[_ngcontent-%COMP%]   .empty-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:48px;width:48px;height:48px;opacity:.3}.shelf-management-container[_ngcontent-%COMP%]   .empty-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:#999}.shelf-management-container[_ngcontent-%COMP%]   .statistics[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(150px,1fr));gap:15px;margin-bottom:30px}.shelf-management-container[_ngcontent-%COMP%]   .statistics[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]{display:flex;align-items:center;gap:15px;padding:15px;border-radius:8px}.shelf-management-container[_ngcontent-%COMP%]   .statistics[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:50px;height:50px;border-radius:50%;background:#f5f5f5}.shelf-management-container[_ngcontent-%COMP%]   .statistics[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#1976d2}.shelf-management-container[_ngcontent-%COMP%]   .statistics[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .stat-content[_ngcontent-%COMP%]{flex:1}.shelf-management-container[_ngcontent-%COMP%]   .statistics[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .stat-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:12px;color:#999;text-transform:uppercase;letter-spacing:.5px}.shelf-management-container[_ngcontent-%COMP%]   .statistics[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .stat-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:5px 0 0;font-size:24px;font-weight:600;color:#1976d2}.shelf-management-container[_ngcontent-%COMP%]   .medicines-table-wrapper[_ngcontent-%COMP%]{margin-bottom:20px}.shelf-management-container[_ngcontent-%COMP%]   .medicines-table-wrapper[_ngcontent-%COMP%]   mat-table[_ngcontent-%COMP%]{width:100%;background:#fff;border-radius:8px;overflow:hidden}.shelf-management-container[_ngcontent-%COMP%]   .medicines-table-wrapper[_ngcontent-%COMP%]   mat-table[_ngcontent-%COMP%]   mat-header-cell[_ngcontent-%COMP%]{font-weight:600;color:#1976d2;background:#f5f5f5;border-bottom:2px solid #e0e0e0}.shelf-management-container[_ngcontent-%COMP%]   .medicines-table-wrapper[_ngcontent-%COMP%]   mat-table[_ngcontent-%COMP%]   mat-row[_ngcontent-%COMP%]{border-bottom:1px solid #e0e0e0}.shelf-management-container[_ngcontent-%COMP%]   .medicines-table-wrapper[_ngcontent-%COMP%]   mat-table[_ngcontent-%COMP%]   mat-row[_ngcontent-%COMP%]:hover{background:#f9f9f9}.shelf-management-container[_ngcontent-%COMP%]   .medicines-table-wrapper[_ngcontent-%COMP%]   mat-table[_ngcontent-%COMP%]   .position-code[_ngcontent-%COMP%]{font-family:monospace;font-size:12px;background:#f5f5f5;padding:4px 8px;border-radius:4px;color:#333}.shelf-management-container[_ngcontent-%COMP%]   .medicines-table-wrapper[_ngcontent-%COMP%]   mat-table[_ngcontent-%COMP%]   .confidence-bar[_ngcontent-%COMP%]{margin-bottom:8px;height:6px}.shelf-management-container[_ngcontent-%COMP%]   .medicines-table-wrapper[_ngcontent-%COMP%]   mat-table[_ngcontent-%COMP%]   .confidence-text[_ngcontent-%COMP%]{font-size:12px;font-weight:500;color:#1976d2}.shelf-management-container[_ngcontent-%COMP%]   .medicines-table-wrapper[_ngcontent-%COMP%]   .empty-table[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:60px 20px;color:#999;background:#fff;border-radius:8px}.shelf-management-container[_ngcontent-%COMP%]   .medicines-table-wrapper[_ngcontent-%COMP%]   .empty-table[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:64px;width:64px;height:64px;opacity:.3;margin-bottom:20px}.shelf-management-container[_ngcontent-%COMP%]   .medicines-table-wrapper[_ngcontent-%COMP%]   .empty-table[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px;margin:0}.shelf-management-container[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]{display:flex;gap:10px;padding-top:20px;border-top:1px solid #e0e0e0}.shelf-management-container[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:8px}.shelf-management-container[_ngcontent-%COMP%]   .selection-prompt[_ngcontent-%COMP%]{grid-column:1/-1;text-align:center;background:#e3f2fd;border-left:4px solid #1976d2}.shelf-management-container[_ngcontent-%COMP%]   .selection-prompt[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:15px;padding:60px 20px}.shelf-management-container[_ngcontent-%COMP%]   .selection-prompt[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:64px;width:64px;height:64px;color:#1976d2}.shelf-management-container[_ngcontent-%COMP%]   .selection-prompt[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:#1976d2;font-size:18px}@media (max-width: 1200px){.shelf-management-container[_ngcontent-%COMP%]{grid-template-columns:1fr}.shelf-management-container[_ngcontent-%COMP%]   .medicines-card[_ngcontent-%COMP%]{grid-column:1}}@media (max-width: 768px){.shelf-management-container[_ngcontent-%COMP%]{padding:10px}.shelf-management-container[_ngcontent-%COMP%]   .statistics[_ngcontent-%COMP%]{grid-template-columns:1fr}.shelf-management-container[_ngcontent-%COMP%]   mat-table[_ngcontent-%COMP%]{font-size:12px!important}.shelf-management-container[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]{flex-direction:column}.shelf-management-container[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%}}"]})}}return i})();function hIe(i,t){i&1&&(y(0,"mat-icon",6),P(1,"landscape"),x(),y(2,"span"),P(3,"Visual Mapper"),x())}function mIe(i,t){i&1&&(y(0,"mat-icon",6),P(1,"local_pharmacy"),x(),y(2,"span"),P(3,"Medicine Detection"),x())}function pIe(i,t){i&1&&(y(0,"mat-icon",6),P(1,"inventory"),x(),y(2,"span"),P(3,"Shelf Management"),x())}function fIe(i,t){i&1&&(y(0,"mat-icon",6),P(1,"shopping_cart"),x(),y(2,"span"),P(3,"Products"),x())}function gIe(i,t){i&1&&(y(0,"mat-icon",6),P(1,"receipt"),x(),y(2,"span"),P(3,"Orders"),x())}function _Ie(i,t){if(i&1){let e=ft();y(0,"mat-card",10),fe("click",function(){let r=ce(e).$implicit,o=Q(2);return le(o.navigateTo(r.route))}),y(1,"mat-card-header")(2,"mat-icon",11),P(3),x(),y(4,"mat-card-title"),P(5),x()(),y(6,"mat-card-content")(7,"p"),P(8),x()()()}if(i&2){let e=t.$implicit;B(3),Xt(e.icon),B(2),Xt(e.label),B(3),Xt(e.description)}}function bIe(i,t){if(i&1&&(y(0,"div",7)(1,"h2"),P(2,"Quick Start"),x(),y(3,"div",8),Ee(4,_Ie,9,3,"mat-card",9),x()()),i&2){let e=Q();B(4),ae("ngForOf",e.navItems)}}var MK=(()=>{class i{constructor(e){this.router=e,this.title="Pharmacy Shelf Mapping System",this.navItems=[{label:"Visual Space Mapper",route:"/visual-mapper",icon:"landscape",description:"Create and manage pharmacy shelf layouts"},{label:"Medicine Detection",route:"/medicine-detection",icon:"local_pharmacy",description:"Detect medicines from images automatically"},{label:"Shelf Management",route:"/shelf-management",icon:"inventory",description:"Manage and organize shelf medicines"},{label:"Products",route:"/products",icon:"shopping_cart",description:"View and manage product catalog"},{label:"Orders",route:"/orders",icon:"receipt",description:"Manage pharmacy orders"}]}navigateTo(e){this.router.navigate([e])}static{this.\u0275fac=function(n){return new(n||i)(O(Gc))}}static{this.\u0275cmp=rt({type:i,selectors:[["app-pharmacy-dashboard"]],decls:26,vars:2,consts:[[1,"pharmacy-dashboard"],[1,"dashboard-header"],[1,"header-content"],["animationDuration","300",1,"dashboard-tabs"],["mat-tab-label",""],["class","quick-start-section",4,"ngIf"],[1,"tab-icon"],[1,"quick-start-section"],[1,"cards-grid"],["class","nav-card",3,"click",4,"ngFor","ngForOf"],[1,"nav-card",3,"click"],[1,"card-icon"]],template:function(n,r){n&1&&(y(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1")(4,"mat-icon"),P(5,"medication"),x(),P(6),x(),y(7,"p"),P(8,"Identify medicines and manage their placement in pharmacy shelves using AI-powered visual detection"),x()()(),y(9,"mat-tab-group",3)(10,"mat-tab"),Ee(11,hIe,4,0,"ng-template",4),Ue(12,"app-visual-space-mapper"),x(),y(13,"mat-tab"),Ee(14,mIe,4,0,"ng-template",4),Ue(15,"app-medicine-detection"),x(),y(16,"mat-tab"),Ee(17,pIe,4,0,"ng-template",4),Ue(18,"app-shelf-management"),x(),y(19,"mat-tab"),Ee(20,fIe,4,0,"ng-template",4),Ue(21,"app-product-list"),x(),y(22,"mat-tab"),Ee(23,gIe,4,0,"ng-template",4),Ue(24,"app-order-management"),x()(),Ee(25,bIe,5,1,"div",5),x()),n&2&&(B(6),Vt(" ",r.title," "),B(19),ae("ngIf",!1))},dependencies:[Wa,Ds,Zm,Qm,Jm,Km,sd,ek,tk,sj,PM,RM,LS,oE,aE],styles:[".pharmacy-dashboard[_ngcontent-%COMP%]{min-height:100vh;background:linear-gradient(135deg,#f5f7fa,#c3cfe2)}.pharmacy-dashboard[_ngcontent-%COMP%]   .dashboard-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;padding:40px 20px;border-radius:12px;margin-bottom:30px;box-shadow:0 8px 32px #0000001a}.pharmacy-dashboard[_ngcontent-%COMP%]   .dashboard-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto}.pharmacy-dashboard[_ngcontent-%COMP%]   .dashboard-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{display:flex;align-items:center;gap:15px;margin:0 0 15px;font-size:32px;font-weight:600}.pharmacy-dashboard[_ngcontent-%COMP%]   .dashboard-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:40px;width:40px;height:40px}.pharmacy-dashboard[_ngcontent-%COMP%]   .dashboard-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:16px;opacity:.9;line-height:1.6}.pharmacy-dashboard[_ngcontent-%COMP%]   .dashboard-tabs[_ngcontent-%COMP%]{background:#fff;border-radius:8px;box-shadow:0 8px 16px #0000001a;margin-bottom:30px}.pharmacy-dashboard[_ngcontent-%COMP%]   .dashboard-tabs[_ngcontent-%COMP%]   .tab-icon[_ngcontent-%COMP%]{margin-right:8px;color:#667eea}.pharmacy-dashboard[_ngcontent-%COMP%]   .dashboard-tabs[_ngcontent-%COMP%]     .mat-tab-labels{background:#f5f5f5;border-radius:8px 8px 0 0}.pharmacy-dashboard[_ngcontent-%COMP%]   .dashboard-tabs[_ngcontent-%COMP%]     .mat-tab-label{min-width:160px;display:flex;align-items:center;justify-content:center;font-weight:500}.pharmacy-dashboard[_ngcontent-%COMP%]   .dashboard-tabs[_ngcontent-%COMP%]     .mat-tab-label.mat-tab-label-active{background:#667eea;color:#fff}.pharmacy-dashboard[_ngcontent-%COMP%]   .dashboard-tabs[_ngcontent-%COMP%]     .mat-tab-label.mat-tab-label-active .tab-icon{color:#fff}.pharmacy-dashboard[_ngcontent-%COMP%]   .dashboard-tabs[_ngcontent-%COMP%]     .mat-tab-body{min-height:600px}.pharmacy-dashboard[_ngcontent-%COMP%]   .quick-start-section[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto}.pharmacy-dashboard[_ngcontent-%COMP%]   .quick-start-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#333;margin-bottom:20px;font-size:24px;font-weight:600}.pharmacy-dashboard[_ngcontent-%COMP%]   .quick-start-section[_ngcontent-%COMP%]   .cards-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:20px}.pharmacy-dashboard[_ngcontent-%COMP%]   .quick-start-section[_ngcontent-%COMP%]   .cards-grid[_ngcontent-%COMP%]   .nav-card[_ngcontent-%COMP%]{cursor:pointer;transition:transform .3s,box-shadow .3s;background:#fff}.pharmacy-dashboard[_ngcontent-%COMP%]   .quick-start-section[_ngcontent-%COMP%]   .cards-grid[_ngcontent-%COMP%]   .nav-card[_ngcontent-%COMP%]:hover{transform:translateY(-8px);box-shadow:0 12px 32px #00000026}.pharmacy-dashboard[_ngcontent-%COMP%]   .quick-start-section[_ngcontent-%COMP%]   .cards-grid[_ngcontent-%COMP%]   .nav-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:15px;margin-bottom:15px}.pharmacy-dashboard[_ngcontent-%COMP%]   .quick-start-section[_ngcontent-%COMP%]   .cards-grid[_ngcontent-%COMP%]   .nav-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   .card-icon[_ngcontent-%COMP%]{font-size:32px;width:32px;height:32px;color:#667eea}.pharmacy-dashboard[_ngcontent-%COMP%]   .quick-start-section[_ngcontent-%COMP%]   .cards-grid[_ngcontent-%COMP%]   .nav-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]{margin:0;color:#333;font-size:18px}.pharmacy-dashboard[_ngcontent-%COMP%]   .quick-start-section[_ngcontent-%COMP%]   .cards-grid[_ngcontent-%COMP%]   .nav-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:#666;font-size:14px;line-height:1.5}@media (max-width: 768px){.pharmacy-dashboard[_ngcontent-%COMP%]   .dashboard-header[_ngcontent-%COMP%]{padding:20px}.pharmacy-dashboard[_ngcontent-%COMP%]   .dashboard-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:24px}.pharmacy-dashboard[_ngcontent-%COMP%]   .dashboard-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:28px;width:28px;height:28px}.pharmacy-dashboard[_ngcontent-%COMP%]   .dashboard-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px}.pharmacy-dashboard[_ngcontent-%COMP%]   .dashboard-tabs[_ngcontent-%COMP%]     .mat-tab-label{min-width:120px;padding:8px!important}.pharmacy-dashboard[_ngcontent-%COMP%]   .dashboard-tabs[_ngcontent-%COMP%]     .mat-tab-label span{display:none}.pharmacy-dashboard[_ngcontent-%COMP%]   .quick-start-section[_ngcontent-%COMP%]   .cards-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}"]})}}return i})();var CK=(()=>{class i{constructor(e){this.sanitizer=e,this.editorUrl=this.sanitizer.bypassSecurityTrustResourceUrl("assets/three-editor/editor/index.html")}static{this.\u0275fac=function(n){return new(n||i)(O(Tg))}}static{this.\u0275cmp=rt({type:i,selectors:[["app-three-editor"]],decls:9,vars:1,consts:[[1,"editor-page"],[1,"editor-header"],[1,"title"],["aria-hidden","true",1,"material-icons"],[1,"hint"],[1,"editor-frame",3,"src"]],template:function(n,r){n&1&&(y(0,"div",0)(1,"div",1)(2,"div",2)(3,"span",3),P(4,"view_in_ar"),x(),P(5," 3D Shelf Editor "),x(),y(6,"div",4),P(7," Use File > Save to sync shelves back into Visual Mapper. "),x()(),Ue(8,"iframe",5),x()),n&2&&(B(8),ae("src",r.editorUrl,j4))},styles:[".editor-page[_ngcontent-%COMP%]{height:100vh;display:flex;flex-direction:column}.editor-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:10px 16px;background:#0f172a;color:#f8fafc;font-size:14px}.title[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;font-weight:600}.hint[_ngcontent-%COMP%]{opacity:.8}.editor-frame[_ngcontent-%COMP%]{flex:1;width:100%;border:none}"]})}}return i})();var vIe=[{path:"",component:MK,children:[{path:"products",component:PM},{path:"orders",component:RM},{path:"visual-mapper",component:LS},{path:"visual-editor",component:CK},{path:"medicine-detection",component:oE},{path:"shelf-management",component:aE},{path:"",redirectTo:"visual-mapper",pathMatch:"full"}]}],SK=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275mod=$e({type:i})}static{this.\u0275inj=je({imports:[CD.forChild(vIe),CD]})}}return i})();var EK=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275mod=$e({type:i})}static{this.\u0275inj=je({imports:[kr,Ly,Fy,Rd,Cx,wh,wX,Tx,wK,aj,$Z,SX,IX,QZ,kM,zZ,lK,rE,qX,DM]})}}return i})();var sTt=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275mod=$e({type:i})}static{this.\u0275inj=je({imports:[kr,Fy,Ly,SK,EK,rE,Tx,Cx,Rd]})}}return i})();export{ye as a,zK as b,mt as c,xe as d,je as e,me as f,be as g,rt as h,$e as i,Vi as j,B as k,_v as l,Zf as m,Ne as n,y as o,x as p,Ue as q,P as r,Xt as s,It as t,y5 as u,z2e as v,H2e as w,Zc as x,_3e as y,b3e as z,Wn as A,ZH as B,KH as C,v3e as D,Use as E,CD as F,Tx as G,sTt as H};
